import"./chunk-IIBBHDCN.js";import{a as et}from"./chunk-UUWJWUOY.js";import{a as R}from"./chunk-RWOTM7UI.js";import{c as Q}from"./chunk-T2F6X5K7.js";import{i as G,ja as F,ya as H}from"./chunk-KLLSVAFY.js";import{f as U}from"./chunk-AKE54ZCC.js";import{a as K}from"./chunk-A57OTXBP.js";import"./chunk-YJQGXXOQ.js";import"./chunk-HTLOGWI7.js";import"./chunk-6SEP5B7P.js";import"./chunk-FHKOH5E6.js";import"./chunk-NTQ2YVDA.js";import"./chunk-KKG4PJ6O.js";import"./chunk-7HFBMBFB.js";import"./chunk-TJCPJQIM.js";import"./chunk-ZTAZ2272.js";import{h as J}from"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import{b as V}from"./chunk-MRB2XFLQ.js";import"./chunk-65AJJVJY.js";import"./chunk-PDC447BO.js";import"./chunk-JCM7SRK2.js";import{a as tt}from"./chunk-PTD7UCOR.js";import"./chunk-ETJEH7T4.js";import"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-Y2TPPS4H.js";import"./chunk-ITY22AD4.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{C as z,a as $,ub as Z}from"./chunk-YALUYHLV.js";import"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import"./chunk-5QMHGZLF.js";import{ec as wt}from"./chunk-HPWCPLRR.js";import"./chunk-O6ZBO5JF.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import{a as X}from"./chunk-ON6S2DB7.js";import"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import"./chunk-3DZ7WRLL.js";import"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-XV444F26.js";import"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import"./chunk-43VURGIT.js";import{Jc as j,Sc as ft}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{H as M,o as q}from"./chunk-PUSMMCUD.js";import{R as P,z as e}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-5U7FO2PW.js";import"./chunk-PDUOSATP.js";import"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{$ as Y,W as I,c as O,ea as a}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as L}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import{a as gt}from"./chunk-7U3DN5ZD.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f as m,o as s,q as _}from"./chunk-6KXF36WM.js";s();_();var t=m(L()),rt=m(X()),T=m(O()),st=m(gt());P();ft();s();_();var l=m(L()),it=m(wt()),lt=m(X());P();s();_();var f=m(L()),ot=m(O());P();s();_();var u={content:"_content_vcvw7_1",title:"_title_vcvw7_4",desc:"_desc_vcvw7_10",btn:"_btn_vcvw7_17",applyOkxBtn:"_applyOkxBtn_vcvw7_31"};function vt({visible:c,onSwitch:g,onRevoke:w,onCancel:p}){return f.default.createElement(q,{whiteboard:!0,visible:c},f.default.createElement("div",{className:u.content},f.default.createElement("div",{className:u.title},e("wallet_extension_function_dialog_title_upgrade_3rd_7702")),f.default.createElement("div",{className:u.desc},e("wallet_extension_function_dialog_desc_upgrade_3rd_7702"))),f.default.createElement("div",{className:(0,ot.default)(u.btn,u.applyOkxBtn),onClick:g},e("wallet_extension_function_dialog_btn_apply_okx7702")),f.default.createElement("div",{className:u.btn,onClick:w},e("wallet_extension_function_dialog_btn_revoke_existing")),f.default.createElement("div",{className:u.btn,onClick:p},e("wallet_extension_general_dialog_btn_maybe_later")))}var nt=vt;s();_();var h={root:"_root_1j4vn_1",emptyClassName:"_emptyClassName_1j4vn_5",notSupportTitle:"_notSupportTitle_1j4vn_8",notSupportDesc:"_notSupportDesc_1j4vn_15",notSupportButton:"_notSupportButton_1j4vn_23"};function C(c,g){F({button7702:c,network_filter:g,terminal:"extension"})}function bt({onSwitch:c}){return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:h.notSupportTitle},e("wallet_extension_function_emptystate_title_no_wallets_available")),l.default.createElement("div",{className:h.notSupportDesc},e("wallet_extension_function_emptystate_desc_switch_evm7702")),l.default.createElement("div",{className:h.notSupportButton},l.default.createElement(a,{category:a.CATEGORY.outline,type:a.TYPE.primary,size:a.SIZE.md,onClick:c},e("wallet_extension_general_btn_switch_wallet"))))}function ht(c){let g=(0,it.useDispatch)(),w=(0,lt.useHistory)(),[p,v]=l.default.useState(),y=o=>{let n="upgrade7702";g(Q({type:n,data:[o]})),w.push({pathname:Z,search:`?type=${n}`})},N=o=>{let{baseCoinId:n,revokeContractAddress:d,revokeContractData:k}=o;y({walletId:c.walletId,baseCoinId:n,upgradeAddress:d,inputData:k,isUpgrade:!1})},S=o=>{let{baseCoinId:n,contractAddress:d,contractData:k}=o;y({walletId:c.walletId,baseCoinId:n,upgradeAddress:d,inputData:k,isUpgrade:!0})};return l.default.createElement(l.default.Fragment,null,l.default.createElement(U,{emptyClassName:h.emptyClassName,emptyText:l.default.createElement(bt,{onSwitch:c.onSwitch}),dataSource:c.supportedNetworks,renderItem:o=>{let n;return o.status===5?n={loadingText:e("wallet_extension_function_btn_revoking"),type:a.TYPE.gray,loading:!0}:o.status===2?n={loadingText:e("wallet_extension_function_btn_upgrading"),type:a.TYPE.highlight,loading:!0}:o.status===3?n={children:e("wallet_extension_function_btn_revoke"),type:a.TYPE.gray,onClick:()=>{N(o),C("revokeokx7702",o.chainIndex)}}:o.status===4?n={children:e("wallet_extension_function_btn_apply_okx"),type:a.TYPE.gray,onClick:()=>{v(o)}}:n={children:e("wallet_extension_function_btn_upgrade"),type:a.TYPE.highlight,onClick:()=>{S(o),C("upgrade",o.chainIndex)}},l.default.createElement(U.Coin,{className:h.root,disabledCursor:!0,symbol:o.chainName,icon:o.imageUrl},l.default.createElement(a,{category:a.CATEGORY.fill,size:a.SIZE.xs,...n}))}}),l.default.createElement(nt,{visible:!!p,onSwitch:()=>{p&&(S(p),v(void 0),C("applyokx7702",p.chainIndex))},onRevoke:()=>{p&&(N(p),v(void 0),C("revokeothers",p.chainIndex))},onCancel:()=>{v(void 0)}}))}var at=ht;s();_();var i={content:"_content_2tnvg_1",title:"_title_2tnvg_4",subTitle:"_subTitle_2tnvg_10",walletWrapper:"_walletWrapper_2tnvg_17",wallet:"_wallet_2tnvg_17",walletIcon:"_walletIcon_2tnvg_34",questionIcon:"_questionIcon_2tnvg_37",benefits:"_benefits_2tnvg_42",benefitItem:"_benefitItem_2tnvg_53",benefitIcon:"_benefitIcon_2tnvg_56",benefitTitle:"_benefitTitle_2tnvg_61",benefitDesc:"_benefitDesc_2tnvg_67",supportNetworks:"_supportNetworks_2tnvg_74",loading:"_loading_2tnvg_82"};function kt(){let g=[{icon:"okx-wallet-plugin-swap-for-gas-new",title:"wallet_extension_function_regularcell_title_gas_options",desc:"wallet_extension_function_regularcell_desc_gas_options"},{icon:"okx-wallet-plugin-web3-all-transaction",title:"wallet_extension_function_regularcell_title_bundle_txs",desc:"wallet_extension_function_regularcell_desc_bundle_txs"},{icon:"okx-wallet-plugin-trading-bot",title:"wallet_extension_function_regularcell_title_wallet_auto",desc:"wallet_extension_function_regularcell_desc_wallet_auto"}],w=(0,rt.useHistory)(),p=et(),[v,y]=(0,t.useState)(!0),[N,S]=(0,t.useState)([]),o=K(),n=p.get("walletId")||o,d=J(n),k=(0,t.useMemo)(()=>{let r="";return(0,st.isEmpty)(d)||d.keyringName&&(r+=d.keyringName,d.walletName&&(r+="-",r+=d.walletName)),r},[d]),A=()=>{w.push(`${z}?walletId=${n}`),G({terminal:"extension"})},W=async()=>{try{let D=((await R(n))?.chainList||[]).map(({contractAddress:_t,contractData:ct,revokeContractAddress:pt,revokeContractData:dt,chainIndex:B,address:mt,status:ut})=>{let E=j({chainId:B});return{chainName:E.chainName,baseCoinId:E.coinId,imageUrl:E.imageUrl,contractAddress:_t,contractData:ct,revokeContractAddress:pt,revokeContractData:dt,chainIndex:B,address:mt,status:ut}});S(D)}catch(r){let b=r;M.error({title:b?.msg||e("wallet_home_toast_network_error")})}finally{y(!1)}};return(0,t.useEffect)(()=>{W()},[n]),V("wallet-inform",{onSuccess:async r=>{if(!r?.data)return;r.data.type===1&&await W()}}),t.default.createElement(t.default.Fragment,null,t.default.createElement(tt,{onBack:()=>{w.push($)},className:i.nav,bordered:!1,closeable:!1}),t.default.createElement("div",{className:i.content},t.default.createElement("div",{className:i.title},e("wallet_extension_function_header_upgrade_evm_wallets")),t.default.createElement("div",{className:i.subTitle},e("wallet_extension_function_header_7702_gives")),t.default.createElement("div",{className:i.walletWrapper},t.default.createElement("div",{className:i.wallet,onClick:A},t.default.createElement(I,{className:(0,T.default)("okx-wallet-plugin-wallet",i.walletIcon)}),k),t.default.createElement(I,{className:(0,T.default)("okx-wallet-plugin-question-mark",i.questionIcon),onClick:()=>{globalThis.platform.openTab({url:e("wallet_extension_dialog_hyperlink_eip7702")}),H({terminal:"extension"})}})),t.default.createElement("div",{className:i.benefits},g.map(({icon:r,title:b,desc:D})=>t.default.createElement("div",{className:i.benefitItem,key:b},t.default.createElement(I,{className:(0,T.default)(r,i.benefitIcon)}),t.default.createElement("div",null,t.default.createElement("div",{className:i.benefitTitle},e(b)),t.default.createElement("div",{className:i.benefitDesc},e(D)))))),t.default.createElement("div",{className:i.supportNetworks},e("wallet_extension_function_select_title_supported_wallets")),v?t.default.createElement("div",{className:i.loading},t.default.createElement(Y.Circle,null)):t.default.createElement(at,{walletId:n,supportedNetworks:N,onSwitch:A})))}var he=kt;export{he as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Upgrade7702Entry-QTKOBXEV.js.map

import{d as vo,g as Qo,k as Yt,m as oi,n as ri,o as Xe,q as ii,r as si,t as ai}from"./chunk-AXJECT36.js";import{e as Rr,h as ei,k as Zo}from"./chunk-5BIOTNBS.js";import{a as z}from"./chunk-R5SMHBLJ.js";import{a as ie,b as Jo,c as ni}from"./chunk-IY4RYRL6.js";import{a as Xt}from"./chunk-4OAEJJK5.js";import{e as ye,f as ko}from"./chunk-34VLVCKN.js";import{c as ti}from"./chunk-7NMUCCUG.js";import{e as He,i as Ie}from"./chunk-YF3DWJDS.js";import{L as pt,N as Jr,v as Qr}from"./chunk-ECQND2NK.js";import{a as Zr}from"./chunk-W3L3YTJO.js";import{a as Le,d as no,e as qr,f as Vr,g as bo,h as Kr,i as zr,j as $r}from"./chunk-VM2NMLPX.js";import{b as Yr,e as Xr}from"./chunk-FNXLAYUB.js";import{a as zt,c as io,e as Ot,g as Q,h as ke,j as $t,n as So,q as yo,t as he,u as Se,w as Wr,y as Xo,z as Hr}from"./chunk-PQK3LXXN.js";import{$c as re,Ab as zo,Ac as Ur,Bb as et,C as Go,Db as Dr,Eb as Pr,Fb as $o,Gb as Fr,Hb as Br,N as Nr,Na as Vo,Oa as Nt,Ra as Or,Zc as s,_c as wo,ab as go,bb as Lr,bc as Yo,da as fo,ka as ho,sb as ct,tb as To,vb as B,wc as jr,xa as Wo,ya as Ho,yb as K,za as qo,zb as Ko,zc as Mr}from"./chunk-FTRHGHDS.js";import{a as Gr,c as W}from"./chunk-XT3EOPTE.js";import{j as Kt,l as uo,m as oe}from"./chunk-A6Z53EN6.js";import{A as mt,G as Vt,H as Re,b as dt,h as Ht,o as _o}from"./chunk-PUSMMCUD.js";import{C as Et,G as we,M as Ar,R as ro,a as Ir,d as xr,f as Er,k as It,l as xt}from"./chunk-UWJLNJLY.js";import{H as Ct,R as Mo,Z as Uo,c as jo,da as Cr,j as We,ra as oo}from"./chunk-XDY6V34Y.js";import{$ as qt,K as po,W as At,ea as R}from"./chunk-JT3LNHPY.js";import{b as q}from"./chunk-JWYCKY2V.js";import{f as x,h as p,o as m,q as c}from"./chunk-6KXF36WM.js";m();c();var ce=x(q()),co=x(re());oo();m();c();var li=i=>{let{accountStore:e}=Gr();Qr({wallet_address:e.address,page_name:i})};m();c();oo();ro();m();c();var so={Failed:"-1",Waiting:"1",Pending:"2",Succeed:"3"},Lt={ESTIMATE:1,EXCEED_ESTIMATE:2,UNTIMED:3,TIMEOUT:4},di={FromIsBtcChain:1,FromIsNotBtcChain:2,FromIsEthChainFacetCoin:3},ne={SINGLE_TIPS:1,GAS:2,BRIDGE:3,BLOCK_FROM:4,BLOCK_BRIDGE:5,BLOCK_TO:6},qe={SINGLE:1,CROSS_FROM_SWAP:2,CROSS_BRIDGE_SWAP:3,CROSS_TO_SWAP:4};m();c();var Io={SUCCESS:"success",FAIL:"fail",REJECT:"reject",TXHASH:"txhash",APPROVE:"approve",CONNECT:"connect",APP_STATUS:"appStatus",CLOSE:"close"},kn=Object.values(Io),er=class{constructor(){p(this,"toast",!0);p(this,"setToast",e=>{this.toast=e});p(this,"chainList",[]);p(this,"setChainList",e=>{this.chainList=e});p(this,"quote",{});p(this,"updateQuote",e=>{this.quote={...this.quote,...e}});p(this,"portal","");p(this,"setPortal",e=>{this.portal=e||""});p(this,"swapParams",{});p(this,"setSwapParams",({fromAmount:e,...t})=>{this.swapParams={...t,fromAmount:$t(e)?e:"1"}});p(this,"status","");p(this,"reset",()=>{this.to={},this.from={},this.events={},this.swapParams={}});p(this,"on",(e,t)=>{if(!kn.includes(e))return new Error("Not support event!!");if(typeof t!="function")return{};this.events[e]||(this.events[e]=[]);let o=`${e}${this.events[e].length}`;return this.events[e].push({cb:t,eventId:o}),{eventId:o,remove:()=>{this.remove(e,o)}}});p(this,"emit",(e,...t)=>{let o=this.events[e];o&&o.length&&o.forEach(r=>{let{cb:n}=r;n&&n.apply(this,t)})});p(this,"remove",(e,t="")=>{let o=this.events[e];o&&t&&o.forEach((r,n)=>{r.eventId===t&&o.splice(n,1)})});p(this,"removeAll",()=>{this.events={}});this.events={}}static init(e){return this.instance||(this.instance=new er(e)),this.instance}},Co=er;p(Co,"instance",null);var Cn=new Co,Ro=Cn;m();c();ro();var _t=({fromAmount:i,fromSymbol:e,equal:t="=",toAmount:o,toSymbol:r})=>It.formatRange({leftNumber:It.formatCurrency(i,{code:e,isSymbol:!1}),sign:` ${t} `,rightNumber:It.formatCurrency(o,{code:r,isSymbol:!1})}),ut=({fromAmount:i,fromSymbol:e,equal:t="=",toAmount:o,toSymbol:r})=>It.formatRange({leftNumber:It.formatCurrency(i,{code:ie(e),isSymbol:!1}),sign:` ${t} `,rightNumber:It.formatCurrency(o,{code:ie(r),isSymbol:!1})}),Zt=({amount:i,symbol:e,extra:t})=>`${i} ${e} ${t}`,Ze=(i,e)=>Er.isRTL?`${e}${i}`:`${i}${e}`;m();c();m();c();var tt=x(q());function Qt({type:i,title:e,exploreUrl:t,onURLClick:o,showClose:r,desc:n}){let a=t?tt.default.createElement(ye,{className:"color-959dad",href:t,onClick:o},tt.default.createElement("div",{className:"inline-flex align-items-center"},tt.default.createElement("div",{className:"font-12 color-0569ff font-bold"},s("swaptrade_toast_anchor_view_in_explorer")),tt.default.createElement(z,{className:"okx-defi-dex-link color-0569ff",size:20}))):void 0,l=5;i==="success"?Vt.success({title:e,desc:n||a,duration:l}):i==="failed"?Vt.error({title:e,desc:n||a,duration:l}):i==="info"?Vt.info({title:e,desc:n||a,duration:l,showClose:r}):i==="expired"?Vt.info({title:e,desc:n||a,duration:l,icon:"okds-clock"}):i==="warn"&&Vt.warn({title:e,desc:n||a,duration:l,showClose:r})}function ot({title:i,exploreUrl:e="",onURLClick:t=()=>{},desc:o=null}){Qt({type:"success",title:i,exploreUrl:e,onURLClick:t,desc:o})}function Jt({title:i,exploreUrl:e="",onURLClick:t=()=>{},desc:o=null}){Qt({type:"failed",title:i,exploreUrl:e,onURLClick:t,desc:o})}function tr({title:i,exploreUrl:e="",onURLClick:t=()=>{},showClose:o=!0,desc:r=null}){Qt({type:"info",title:i,exploreUrl:e,onURLClick:t,showClose:o,desc:r})}function mi({title:i,exploreUrl:e="",onURLClick:t=()=>{},desc:o=null}){Qt({type:"expired",title:i,exploreUrl:e,onURLClick:t,desc:o})}function ci({title:i,exploreUrl:e="",onURLClick:t=()=>{},showClose:o=!0,desc:r=null}){Qt({type:"warn",title:i,exploreUrl:e,onURLClick:t,showClose:o,desc:r})}function pi(i,e){let t=()=>{ti(),e.onClaim(i)},o=s("swaptrade_bridge_alert_title_ready_to_claim"),r=tt.default.createElement(tt.default.Fragment,null,tt.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},s("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:i.toChainName,token:i.toTokenSymbol})),tt.default.createElement(dt,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},size:R.SIZE.xs,onClick:t},s("commonall_modal_btn_claim")));Qt({type:"success",title:o,desc:r})}function ui(i){let e=[];if(i){let{status:o,orderId:r,fromChildOrderDetailVO:n,failureReason:a}=i,{fromAmount:l,fromTokenSymbol:d,toAmount:f,toTokenSymbol:T,failureReason:h,exploreUrl:w}=n||{},b=`${r}_${o}`;if(e.includes(b))return;let v=()=>{e.unshift(b),e=e.slice(0,20)};o===K.OPEN?(v(),tr({title:s("swaptrade_orders_notif_limitorder_submitted",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:ie(d),receiveValue:he(f),receiveToken:ie(T)})})):o===K.SUCCEED?(v(),ot({title:s("swaptrade_orders_notif_limitorder_success",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:d,receiveValue:he(f),receiveToken:T}),exploreUrl:w})):o===K.FAILED&&a?(v(),Jt({title:s("swaptrade_orders_notif_limitorder_failed",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:ie(d),receiveValue:he(f),receiveToken:ie(T)})})):o===K.FAILED&&h?(v(),Jt({title:s("swaptrade_orders_notif_limitorder_failed",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:ie(d),receiveValue:he(f),receiveToken:ie(T)}),exploreUrl:w})):o===K.CANCELLED?(tr({title:s("swaptrade_orders_notif_limitorder_canceled",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:ie(d),receiveValue:he(f),receiveToken:ie(T)})}),v()):o===K.EXPIRED&&(mi({title:s("swaptrade_orders_notif_limitorder_expired",{sellValue:ke(l,{needBillionMillionUnit:!0}),sellToken:ie(d),receiveValue:he(f),receiveToken:ie(T)}),exploreUrl:w}),v())}}m();c();var Rt=class{constructor(e){p(this,"orderId","--");p(this,"chainId","--");p(this,"defiPlatformInfo","--");p(this,"fromAmount","--");p(this,"fromTokenSymbol","--");p(this,"price","--");p(this,"status","--");p(this,"time","--");p(this,"toAmount","--");p(this,"toTokenSymbol","--");p(this,"userWalletAddress","--");p(this,"exploreUrl","--");p(this,"isExchanged",!1);p(this,"swapType","--");p(this,"toChainId","--");uo(this),Object.assign(this,e)}get computedFromAmount(){return`${ke(this.fromAmount,{needPlaceholder:!0,needBillionMillionUnit:!0})}`}get computedToAmount(){return Q(this.toAmount)}get computedToNetWorkPath(){let{fromChainName:e,toChainName:t}=this;return e===t?t:`${e} ${s("swaptrade_order_info_label_network_to")} ${t}`}updateFromJson(e){Object.assign(this,e)}toJSON(){return Kt(this)}};var{BigNumber:or}=zt,In=20,xo=[],_={Pending:"0",Quick:"5",Failed:"-1",Succeed:"1",Waiting:"100",SpeedingUp:"-4",Canceling:"-3",Canceled:"-2",PendingWithdrawn:"10",PendingCanRedeem:"11",PendingRedeeming:"12",ReadyToClaim:"200",Claiming:"201",ClaimFailed:"202"},{Pending:xn,SpeedingUp:En,Canceling:An,PendingWithdrawn:Nn,PendingCanRedeem:On,PendingRedeeming:Ln,ReadyToClaim:Dn,Claiming:Pn,ClaimFailed:Fn}=_,Bn=[xn,En,An,Nn,On,Ln,Dn,Pn,Fn],S={SingleChain:"1",CrossBridge:"2",CrossChain:"3",FromBridge:"3-1",BridgeTo:"3-2",FromBridgeTo:"3-3",GasStation:"4",GasStationCross:"5",LimitOrder:"6",MemeMode:"7"};var xe={from:1,bridge:2,fromSwapTimeout:3},jn={FAIL:"-1",NO_SELECTED:"0",WAITING_FOR_FINAL:"1",WAITING_FOR_TRANSFER:"2",TRANSFER_SUCCEED:"3"},{NO_SELECTED:Mn,TRANSFER_SUCCEED:fi}=jn,Dt=10,hi={curPageNum:1,pageSize:Dt,total:0,lastCreateTime:null},Un={[S.SingleChain]:"swaptrade_order_swap_trade_type_swap",[S.CrossBridge]:"swaptrade_order_swap_trade_type_bridge",[S.CrossChain]:"swaptrade_order_swap_trade_type_cross_chain",[S.GasStation]:"swaptrade_dialog_tab_gasstation",[S.GasStationCross]:"swaptrade_dialog_tab_gasstation",[S.LimitOrder]:"swaptrade_dialog_tab_gasstation",[S.MemeMode]:"swaptrade_history_modal_label_meme_mode"};function ft({childOrderId:i,status:e,exploreUrl:t,orderFailReason:o,toastGuideUrl:r,fromTokenIcon:n,fromChainLogoUrl:a,fromAmountIn:l,fromTokenSymbol:d,fromChainName:f,toTokenIcon:T,toChainLogoUrl:h,toAmountOut:w,toTokenSymbol:b,toChainName:v,originalTokenSymbol:k,refundAmount:E,refundSymbol:A,refundChain:N,errorCode:I,guideUrl:D},H,M={}){let U=H==="from",G=U?l:w,F=E?Q(E,{needPlaceholder:!0}):"",X=U?ke(l):Q(w,{needBillionMillionUnit:!1});M?.useCurrencyInputFormat&&(X=ke(G));let Z=M?.isMemeModeOrder&&M?.assetDelay&&e===_.Succeed?"999999":I;return{key:`${i}${H}`,status:e,exploreUrl:t,orderFailReason:o,toastGuideUrl:r,originalTokenSymbol:k,fromChainName:f,fromTokenSymbol:d,toChainName:v,chainName:U?f:v,chainLogo:U?a:h,symbol:U?d:b,symbolLogo:U?n:T,amount:G==="-1"?"":X,errorCode:Z,guideUrl:D,refund:{amount:F,symbol:A,chain:N},...M}}var rr=class{constructor(e){p(this,"detail",{data:null,loading:!1,error:!1});p(this,"history",{list:[],loading:!1,loadMore:!1,hasMore:!1,error:null,pageInfo:{...hi},chainId:-1});p(this,"limitHistory",{...this.history});p(this,"limitDetail",{...this.detail});p(this,"pendingOrders",[]);p(this,"modal",{orderId:"",visible:!1});p(this,"expireTime",0);p(this,"fromStepCountDownTimeGroup",{estimatedTime:0,estimatedTimeTotal:0});p(this,"bridgeStepCountDownTimeGroup",{estimatedTime:0,originEstimatedTime:0});p(this,"timeoutTimestamp",0);p(this,"timer",null);p(this,"timeOutTimer",null);p(this,"detailShowSource","");p(this,"showModal",(e,{tab:t=""}={})=>{let o=typeof e=="string"?e:"";if(this.modal={visible:!0,orderId:o,defaultOrderId:o},t){this.setHistoryTab(t);return}this.setHistoryTab(this.commonStore?.currentTab)});p(this,"updateModal",e=>{this.modal.orderId=typeof e=="string"?e:""});p(this,"closeModal",()=>{this.modal.visible=!1,this.setDetailShowSource()});p(this,"setDetailShowSource",(e="")=>{this.detailShowSource=e});p(this,"setDetail",e=>{this.detail={...this.detail,...e}});p(this,"setLimitDetail",e=>{this.limitDetail={...this.limitDetail,...e}});p(this,"getStepCountDownTimeGroup",({estimatedTime:e,originEstimatedTime:t,expireTime:o,extraEstimatedTime:r,extraOriginEstimatedTime:n})=>{let a=Math.min(e,o),l=t||e;return this.computedMainOrderType===S.BridgeTo&&(a=e+Math.min(r,o),l+=n),{estimatedTime:a,estimatedTimeTotal:l}});p(this,"setSwapExpireTime",e=>{let t=!this.computedCurrentHistoryTabIsLimit&&Number(e.estimatedTime),o=Number(e.fromEstimatedTime)||0,r=Number(e.bridgeEstimatedTime)||0,n=Number(e.originFromEstimatedTime)||0,a=Number(e.originBridgeEstimatedTime)||0;this.fromStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:o,originEstimatedTime:n}),this.bridgeStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:r,originEstimatedTime:a,extraEstimatedTime:o,extraOriginEstimatedTime:n}),this.expireTime=t,this.expireTime>0&&(this.timer=setInterval(()=>{let l=this.computedStepStatus.bridgeStatus,d=this.computedStepStatus.fromSwapStatus,f=this.detail?.data?.status===_.Canceling,T=h=>h===_.SpeedingUp||h===_.Pending;this.expireTime<1?(clearInterval(this.timer),this.bridgeStepCountDownTimeGroup.estimatedTime=0,this.fromStepCountDownTimeGroup.estimatedTime=0):(this.expireTime-=1,this.fromStepCountDownTimeGroup.estimatedTime>0&&T(d)&&!f&&(this.fromStepCountDownTimeGroup.estimatedTime-=1),this.bridgeStepCountDownTimeGroup.estimatedTime>0&&T(l)&&!f&&(this.bridgeStepCountDownTimeGroup.estimatedTime-=1))},1e3))});p(this,"setSwapTimeout",e=>{this.timeOutTimer&&clearInterval(this.timeOutTimer),this.timeoutTimestamp=Date.now()>e?0:e||0,this.timeoutTimestamp>0&&(this.timeOutTimer=setInterval(()=>{Date.now()>this.timeoutTimestamp&&(this.timeoutTimestamp=0,clearInterval(this.timeOutTimer))},1e3))});p(this,"removePendingOrder",e=>{let t=this.pendingOrders,o=t.findIndex(({orderId:n})=>n===e);o>-1&&t.splice(o,1),this.setPendingOrders([...t])});p(this,"updateDetailByData",e=>{let t=this.detail.data,o=r=>r&&{...r,fromAmountIn:r?.fromAmount,toAmountOut:r?.toAmount};if(t&&e&&e.orderId===t.orderId){let{fromChildOrder:r,bridgeChildOrder:n,toChildOrder:a}=e;this.setDetail({data:Mo(t,{...e,fromChildOrderDetailVo:o(r),bridgeChildOrderDetailVo:o(n),toChildOrderDetailVo:o(a)})})}});p(this,"fetchSwapHistoryList",async(e={})=>{let o=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[r,n]=await we(Rr({...e,status:0,pageSize:Dt,accountId:this.accountStore.computedAccountId,...o}));if(r)return Promise.reject(r);let{data:a=[]}=n||{};return{dataList:a,pageSize:Dt,lastCreateTime:a.length?a[a.length-1].time:null,hasMore:a.length===Dt}});p(this,"fetchBridgeHistoryList",async(e={})=>{let o=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[r,n]=await we(Ie.get(Br,{params:{...e,status:99,pageSize:Dt,accountId:this.accountStore.computedAccountId,...o}}));if(r)return Promise.reject(r);let{dataList:a=[]}=n?.data||{};return{dataList:a,pageSize:Dt,lastCreateTime:a.length?a[a.length-1].time:null,hasMore:a.length===Dt}});p(this,"fetchLimitHistoryList",async(e={})=>{let t={...e,pageSize:this.limitHistory.pageInfo.pageSize,accountId:this.accountStore.computedAccountId,statusType:Ko.ALL};e.pageNum||(t.pageNum=1);let[o,r]=await we(Ie.get($o,{params:t}));return o?Promise.reject(o):r?.data||{}});p(this,"fetchHistoryFn",{[B.SWAP]:this.fetchSwapHistoryList,[B.BRIDGE]:this.fetchBridgeHistoryList,[B.LIMIT_ORDER]:this.fetchLimitHistoryList});p(this,"fetchHistory",async(e={},t=!1)=>{let o=this.accountStore.computedAccountWalletAddressesArray;if(this.computedIsLimitOrSwapLabel.loading||this.computedIsLimitOrSwapLabel.loadMore||Ct(o))return;this.computedIsLimitOrSwapLabel.chainId!==-1&&Object.assign(e,{chainId:this.computedIsLimitOrSwapLabel.chainId}),this.setSwapOrLimitHistory(t?{loadMore:!0}:{loading:!0});let r=this.fetchHistoryFn[this.historyTab],[n,a]=await we(r(e));if(this.setSwapOrLimitHistory(t?{loadMore:!1}:{loading:!1}),n){this.setSwapOrLimitHistory({error:n});return}this.setSucResult(a,t)});p(this,"setSucResult",(e,t)=>{let{dataList:o,pageSize:r,totalCount:n,curPageNum:a,maxPageNum:l,lastCreateTime:d,hasMore:f}=e,T=t?this.computedIsLimitOrSwapLabel.list.concat(o):o;this.setSwapOrLimitHistory({list:T,pageInfo:{...this.computedIsLimitOrSwapLabel.pageInfo,total:n,pageSize:r,curPageNum:a,lastCreateTime:d},hasMore:f??l>a})});p(this,"updateSwapAndLimitDataList",e=>{this.computedIsLimitOrSwapLabel.list.forEach((t,o)=>{String(t?.orderId)===String(e?.orderId)&&(this.computedIsLimitOrSwapLabel.list[o]={...t,...e})})});p(this,"setChainId",async e=>{this.resetHistoryList(),this.setSwapOrLimitHistory({chainId:e}),await this.fetchHistory()});p(this,"resetHistoryList",()=>{this.setSwapOrLimitHistory({pageInfo:{...hi},list:[],error:null,loading:!1,loadMore:!1,hasMore:!1,chainId:-1})});p(this,"getLocalPriceFee",(e,t,o=!0)=>{let{symbol:r,usdToThisRate:n}=this.commonStore.nowCurrencyUnit||{};if(e&&t&&n){let a=zt.mul(zt.mul(e,t),n);return o?`(${Ot(a,r)})`:Ot(a,r)}return""});p(this,"getServiceFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{serviceFee:o,serviceFeeUsd:r,serviceFeeTokenSymbol:n,isDisplayServiceFee:a}=Uo(e,"serviceFee","serviceFeeUsd","serviceFeeTokenSymbol","isDisplayServiceFee"),l=Zo({serviceFee:o,serviceFeeUsd:r,tokenSymbol:n,formatServiceFeeUsd:t}),d=String(a)==="1";return{formattedServiceFee:l,shouldDisplayServiceFee:d}});p(this,"getBridgeFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{toSwapServiceFee:o,toSwapServiceFeeUsd:r,toSwapServiceFeeTokenSymbol:n}=Uo(e,"toSwapServiceFee","toSwapServiceFeeUsd","toSwapServiceFeeTokenSymbol"),a=Zo({serviceFee:o,serviceFeeUsd:r,tokenSymbol:n,formatServiceFeeUsd:t}),l=ei(e);return{formattedServiceFee:a,shouldDisplayServiceFee:l}});p(this,"getDexGasStationFeeDetailTip",(e,t)=>{if(!this.computedIsGasStation||t!==_.Succeed||!e)return"";let{approveTokenAmount:o,gasTokenPriceUSD:r,gasTokenSymbol:n,swapGasFeeAmount:a,transferApproveTokenGasFeeAmount:l}=e||{};return s("swaptrade_swapforgas_tooltips_desc_gasswap_netfee",{value1:this.getLocalPriceFee(o,r,!1),approveFee:Q(o),token1:n,value2:this.getLocalPriceFee(l,r,!1),transferFee:Q(l),token2:n,value3:this.getLocalPriceFee(a,r,!1),swapFee:Q(a),token3:n})});p(this,"checkSwapAgainBtn",({isOrderFinalized:e,isNotGasStationTrade:t,isMemeModeOrder:o})=>{if(He()||Qo())return!1;let r=t&&e;return o?r&&Nt():r});p(this,"emitOrder",e=>{if(e){let{status:t,orderId:o}=e;t===_.Succeed||t===K.SUCCEED?Ro.emit(Io.SUCCESS,{status:0,data:Kt(e),message:Et("transaction success")}):(t===_.Failed||t===K.FAILED)&&Ro.emit(Io.FAIL,{data:{orderId:o},status:-1,message:Et("transaction fail")})}});p(this,"onSocket",(e,t=!0)=>{(e?.type==="1"||e?.type==="3")&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&(this.updateSwapAndLimitDataList(e.dexData),this.updateSwapAndLimitDetail(e.dexData),this.updateLimitOuterOrderList(e.dexData),this.updatePendingOrdersByData(e.dexData),this.emitOrder(e.dexData),this.toastSwapAndLimitOrder(t,e.dexData)),e?.type==="5"&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&t&&this.quickToastSwapOrder(e.dexData)});p(this,"updateSwapAndLimitDetail",e=>{e.swapTradeType!==S.LimitOrder?this.updateDetailByData(e):this.updateLimitDetailByData(e)});p(this,"updateLimitOuterOrderList",e=>{this.commonStore?.computedCurrentTabIsLimit&&this.rootStore.limitOrderListStore.updateLimitOuterListData(e)});p(this,"toastSwapAndLimitOrder",(e,t)=>{e&&!this.commonStore?.computedCurrentTabIsLimit?this.toastOrder(t):e&&this.commonStore?.computedCurrentTabIsLimit&&ui(t)});p(this,"quickToastSwapOrder",({status:e,receiveTokenStatus:t})=>{let o=t!==fi;e===_.Succeed&&o&&ot({title:s("swaptrade_meme_broadcast_toast_trade_successful")})});p(this,"onSocketError",async()=>{let{computedAccountId:e}=this.accountStore,{visible:t,orderId:o}=this.modal;if(!t){let[r]=await we(this.updatePendingOrders(e));r&&xr.error("history detail onSocketError",{error:r})}t&&o&&await we(this.updateDetail(o,!0))});p(this,"historyTab","");p(this,"setHistoryTab",e=>{this.historyTab=e});p(this,"dialogVisible",!1);p(this,"setDialogVisible",e=>{this.dialogVisible=e});p(this,"dialogOrderId","");p(this,"setDialogOrderId",e=>{this.dialogOrderId=e});p(this,"openDialog",e=>{e&&(this.setDialogVisible(!0),this.setDialogOrderId(e))});p(this,"closeDialog",()=>{this.setDialogVisible(!1),this.setDialogOrderId("")});uo(this,{},{autoBind:!0}),this.rootStore=e,this.commonStore=e.commonStore,this.accountStore=e.accountStore,this.fromToStore=e.fromToStore,this.tokenModalStore=e.tokenModalStore}get computedHistoryList(){return this.history.list.map(e=>new Rt(Kt(e)))}get computedLimitHistoryList(){return this.limitHistory.list.map(e=>new Rt(Kt(e)))}get computedTimeGroup(){let e=this.computedCurrentHistoryTabIsLimit?this.computedLimitHistoryList:this.computedHistoryList,t=this.computedCurrentHistoryTabIsLimit?"createTime":"time";return e.reduce((o,r)=>{let n=o.find(a=>a.time===xt(r?.[t],{format:"yyyyMMdd"}));return n?n.list.push(r):o.push({time:xt(r?.[t],{format:"yyyyMMdd"}),list:[r]}),o},[])}get noData(){return this.computedCurrentHistoryTabIsLimit?!this.computedLimitHistoryList.length:!this.computedHistoryList.length}setHistory(e){this.history={...this.history,...e}}setLimitHistory(e){this.limitHistory={...this.limitHistory,...e}}setPendingOrders(e){this.pendingOrders=e}fetchDetail(e){return this.computedCurrentHistoryTabIsLimit?Ie.get(Fr,{params:{orderId:e}}).then(({data:t})=>t):Ie.get(Dr,{params:{orderId:e}}).then(({data:t})=>t)}fetchPendingOrders(e){let o=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{};return Ie.post(Pr,{accountId:e,...o}).then(({data:r})=>r)}async updatePendingOrders(e){if(Ir())return;let t;if(this.commonStore?.computedCurrentTabIsLimit){let[,o]=await we(Ie.get($o,{params:{accountId:this.accountStore.computedAccountId,chainId:"",pageNum:1,pageSize:10,statusType:Ko.PENDING}}));t=o?.data?.dataList}else{let[,o]=await we(this.fetchPendingOrders(e));t=o}Array.isArray(t)?this.setPendingOrders(t):this.setPendingOrders([])}updatePendingOrdersByData(e){if(!e)return;let t=this.pendingOrders,o=t.findIndex(({orderId:a})=>a===e.orderId),r=o>-1,n=e.swapTradeType===S.LimitOrder?e.status===K.PENDING:Bn.includes(e.status);n?(r&&t.splice(o,1),t.push(e)):!n&&r&&t.splice(o,1),this.setPendingOrders([...t])}async updateDetail(e,t){t||this.setLimitOrSwapDetail({data:null,loading:!0,error:!1});let[o,r]=await we(this.fetchDetail(e));clearInterval(this.timer),o||!r?this.setLimitOrSwapDetail({data:null,error:!0}):(this.setLimitOrSwapDetail({data:r,error:!1}),this.setSwapExpireTime(r),this.setSwapTimeout(Number(r.timeoutTimestamp))),this.setLimitOrSwapDetail({loading:!1})}setLimitOrSwapDetail(e){this.computedCurrentHistoryTabIsLimit?this.setLimitDetail(e):this.setDetail(e)}updateLimitDetailByData(e){let t=this.limitDetail.data,o={data:Mo({},t,{...e})};this.setLimitDetail(o)}get computedIsLimitOrSwapLabel(){return this.computedCurrentHistoryTabIsLimit?this.limitHistory:this.history}setSwapOrLimitHistory(e){this.computedCurrentHistoryTabIsLimit?this.setLimitHistory(e):this.setHistory(e)}get computedIsSingleChain(){return[S.SingleChain,S.GasStation,S.MemeMode].includes(We(this,"detail.data.swapTradeType",""))}get computedIsGasStation(){return[S.GasStation,S.GasStationCross].includes(We(this,"detail.data.swapTradeType",""))}get computedMainOrderType(){let e=this.detail.data,t="";if(!e)return t;let{swapTradeType:o,hiddenFromOrder:r,toChildOrderDetailVo:n}=e;return o!==S.CrossChain?t=o:r==="1"?t=S.BridgeTo:n?t=S.FromBridgeTo:t=S.FromBridge,t}get computedStepStatus(){let e=this.detail.data,t=r=>r?[_.Waiting,_.Pending].includes(r)?_.Pending:r:"",o=this.computedMainOrderType===S.BridgeTo?t(e?.bridgeChildOrderDetailVo?.status||""):e?.bridgeChildOrderDetailVo?.status||"";return[S.BridgeTo,S.CrossBridge].includes(this.computedMainOrderType)&&[_.Failed,_.Canceled].includes(e?.status)&&(o=e?.status),{fromSwapStatus:t(e?.fromChildOrderDetailVo?.status||""),bridgeStatus:o,toSwapStatus:e?.toChildOrderDetailVo?.status||""}}get computedRatio(){let e=this.detail?.data;if(!e)return{fromRatio:0,bridgeRatio:0};let{status:t}=e,o=this.computedStepStatus.bridgeStatus,r=this.computedStepStatus.fromSwapStatus;if(t===_.Succeed||t===_.Canceled||t===_.Failed&&this.computedMainOrderType===S.BridgeTo)return{fromRatio:1,bridgeRatio:1};let a=(this.fromStepCountDownTimeGroup.estimatedTimeTotal-this.fromStepCountDownTimeGroup.estimatedTime)/this.fromStepCountDownTimeGroup.estimatedTimeTotal;a=a>.8||this.fromStepCountDownTimeGroup.estimatedTimeTotal===0?.8:a;let l=(this.bridgeStepCountDownTimeGroup.estimatedTimeTotal-this.bridgeStepCountDownTimeGroup.estimatedTime)/this.bridgeStepCountDownTimeGroup.estimatedTimeTotal;return l=l>.8||this.bridgeStepCountDownTimeGroup.estimatedTimeTotal===0?.8:l,r!==_.Pending&&r!==_.SpeedingUp&&r!==_.Canceling&&(a=1),this.computedMainOrderType===S.FromBridgeTo&&o!==_.Pending&&o!==_.SpeedingUp&&o!==_.Canceling&&(l=0),o===_.Succeed&&(l=1),{fromRatio:a,bridgeRatio:l}}get computedFoldTipToast(){let e=this.detail?.data;if(!e)return{foldTipType:""};let{bridgeChildOrderDetailVo:t}=e,o=[],r=[],n=!1,a=!1,l=0,d=this.fromStepCountDownTimeGroup.estimatedTime,f=this.bridgeStepCountDownTimeGroup.estimatedTime,T=this.computedMainOrderType===S.FromBridge;this.computedSubOrders.forEach((k,E)=>{(k.tipType===xe.from||k.tipType===xe.bridge)&&o.push(k),k.errorCode!=="0"&&E<this.computedSubOrders.length-1&&r.push(k)});let h=-1,w=-1;o.length>0&&(h=o[0]?.tipType,w=o[0]?.blockProcess),h===xe.bridge&&(l=f),h===xe.from&&(l=d),T&&h===xe.bridge&&(l=0),h===xe.from?a=d===0:h===xe.bridge&&(a=f===0);let b={...t,refund:{amount:t?.refundAmount?Q(t.refundAmount):"",symbol:t?.refundSymbol,chain:t?.refundChain}},v=h===xe.bridge?b:o?.[0];return r.length>0&&(v=r[r.length-1],n=!0),{foldTipType:h,foldBlockProcess:w,currentProcessIsTimeOut:a,tipCountDownTime:l,filterProcessItem:v,needShowErrorTip:n}}get computedSubOrders(){let e=this.detail.data;if(!e)return[];let{fromChildOrderDetailVo:t,bridgeChildOrderDetailVo:o}=e,{toChildOrderDetailVo:r,status:n,assetDelay:a}=e,l=this.computedStepStatus.bridgeStatus,d=this.computedStepStatus.fromSwapStatus,f=this.computedMainOrderType===S.BridgeTo,T=[t?.errorCode,o?.errorCode,r?.errorCode].filter(Boolean).some(I=>I!=="0"),h=n===_.ReadyToClaim,w=this.computedMainOrderType===S.FromBridgeTo,b=this.computedMainOrderType===S.FromBridge,v=l===_.Pending||l===_.SpeedingUp||this.computedMainOrderType===S.CrossBridge&&n!==_.Failed&&n!==_.Canceled&&n!==_.Succeed||f&&l===_.Waiting?xe.bridge:0,k=d===_.Pending||d===_.SpeedingUp?xe.from:0,E={bridgeInfo:o?.bridgeOrderInfoVo,dexBridgeShadowTokenPair:o?.dexBridgeShadowTokenPairInfoVo,dexBridgeShadowTokenPairChainId:o?.toChainId,tipInfo:{toTokenSymbol:t?.toTokenSymbol},bridgeTipInfo:{bridgeName:o?.bridgeOrderInfoVo?.bridgeName||"",toChainName:o?.toChainName||""}};t={...t,status:this.computedStepStatus.fromSwapStatus};let A=o?.status;o={...o,status:this.computedStepStatus.bridgeStatus};let N=this.computedFromChainRefundInfo.isFromChainRefund?"":o?.exploreUrl;if(this.computedIsSingleChain||this.computedMainOrderType===S.GasStationCross){let I=!1;this.timeoutTimestamp?I=!this.expireTime&&t.status===_.Pending:I=t.status===_.Pending;let D=this.computedMainOrderType===S.MemeMode;return[ft(t,"from",{isFromStart:!0,hasTimeoutTips:I,timeoutType:ne.SINGLE_TIPS,hasErrorCode:T}),ft(t,"to",{...E,hiddenExploreUrl:!0,subOrderType:qe.SINGLE,isMemeModeOrder:D,assetDelay:a,hasErrorCode:T})]}else if(this.computedMainOrderType===S.CrossBridge){let I=this.expireTime<1&&(o.status===_.Waiting||o.status===_.Pending);return[ft(t,"to",{...E,tipType:v&&!h,useCurrencyInputFormat:!0,hasTimeoutTips:I&&!h,timeoutType:ne[o.status===_.Pending?"BRIDGE":"GAS"],blockProcess:o.status===_.Pending?ne.BLOCK_BRIDGE:-1,hasErrorCode:T,subOrderDesc:"CrossBridge_1"}),ft(o,"to",{...E,exploreUrl:N,officialBridgeTime:o?.officialBridgeTime,hasErrorCode:T,subOrderType:qe.CROSS_BRIDGE_SWAP,subOrderDesc:"CrossBridge_2"})]}else if([S.BridgeTo,S.FromBridge,S.FromBridgeTo].includes(this.computedMainOrderType)){let I=this.expireTime<1&&r?.status===_.Pending,D=!this.fromStepCountDownTimeGroup.estimatedTime&&(t.status===_.Pending||A===_.Waiting),H=!1,M;f&&!this.bridgeStepCountDownTimeGroup.estimatedTime?A===_.Waiting?(H=!0,M=ne.GAS):A===_.Pending&&(H=!0,M=ne.BRIDGE):w&&t?.status===_.Succeed&&!this.bridgeStepCountDownTimeGroup.estimatedTime&&(o.status===_.Waiting?(H=!0,M=ne.GAS):o.status===_.Pending&&(H=!0,M=ne.BRIDGE));let U=[ft(t,"from",{isFromStart:!0,ratio:this.computedRatio.fromRatio,showProgressBar:!0,tipType:k,hasTimeoutTips:D&&!h,timeoutType:ne.SINGLE_TIPS,blockProcess:D?ne.BLOCK_FROM:"",...E,hasErrorCode:T,subOrderDesc:"Bridge_from_1"}),ft(t,"to",{ratio:this.computedRatio.bridgeRatio,tipType:b&&D&&h?0:v&&!h,showProgressBar:w||f,countDownTime:!f&&this.fromStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:H&&!h,timeoutType:b?ne.SINGLE_TIPS:M,blockProcess:ne.BLOCK_BRIDGE,...E,subOrderType:qe.CROSS_FROM_SWAP,hasErrorCode:T,subOrderDesc:"Bridge_to_2"}),ft(o,"to",{...E,exploreUrl:N,countDownTime:this.bridgeStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:b?!1:I&&!h,blockProcess:!b&&I?ne.BLOCK_TO:"",timeoutType:ne.SINGLE_TIPS,subOrderType:qe.CROSS_BRIDGE_SWAP,hasErrorCode:T,subOrderDesc:"Bridge_to_3"})];return f&&U.shift(),(f||w)&&U.push(ft(r,"to",{subOrderType:qe.CROSS_TO_SWAP,hasErrorCode:T,subOrderDesc:"Bridge_to_4"})),U}return[]}get computedFirstTimeoutSubOrderBlockProcess(){let e=this.computedSubOrders,t=this.computedFoldTipToast||{},o=e.find(r=>r.hasTimeoutTips);return We(o,"blockProcess")||We(t,"foldBlockProcess")||-1}get computedDataDetail(){return this.computedCurrentHistoryTabIsLimit?this.limitDetail:this.detail}get computedLimitOrderInfo(){if(!this.limitDetail?.data)return null;let{swapTradeType:e,createTime:t,fromChildOrderDetailVO:o,price:r,transactionPrice:n,surplus:a,surplusUsdValue:l,totalGasFee:d,totalGasFeeUsdValue:f,transactionTime:T,exploreUrl:h,expireTime:w,userWalletAddress:b,failureReason:v,status:k,dealWarnTag:E,remainTime:A,timeoutToast:N,triggerPrice:I,triggerMarketCapacity:D,priorityFee:H,latestTransactionHash:M,feeToken:U}=this.limitDetail?.data,{fromTokenSymbol:G,toTokenSymbol:F,fromAmount:X,toAmount:Z,fromChainLogoUrl:V,toChainLogoUrl:J,fromTokenIcon:$,toTokenIcon:ue,fromChainName:be,failureReason:fe,fromChainId:Ke}=o,ze=[K.CANCELLED,K.EXPIRED,K.SUCCEED,K.FAILED].includes(k)&&!Qo(),ve=v||fe,Me=ke(X,{noNeedThousandth:!0}),Ne=he(Z,{needBillionMillionUnit:!1}),nt={fromAmount:1,fromSymbol:G,toAmount:he(n,{needBillionMillionUnit:!1}),toSymbol:F},$e={fromAmount:1,fromSymbol:F,toAmount:he(or(1).div(n).toString(),{needBillionMillionUnit:!1}),toSymbol:G},Oe={fromAmount:1,fromSymbol:G,toAmount:he(r,{needBillionMillionUnit:!1}),toSymbol:F},Te={fromAmount:1,fromSymbol:F,toAmount:he(or(1).div(r).toString(),{needBillionMillionUnit:!1}),toSymbol:G},vt=this.getServiceFeeInfo(this.limitDetail?.data),Ue=String(Ke)===String(Lr.SOLANA_MAINNET);return{type:e,typeKey:"swaptrade_orders_text_limit_order",status:k,isSuccess:k===K.SUCCEED,isFailed:k===K.FAILED,isSupplyFailed:k===K.FAILED&&ve===et.NO_SUPPLY,isOtherFailed:k===K.FAILED&&ve!==et.NO_SUPPLY&&!!ve,fromTokenGroupLabel:`${Ze("-",Me)} ${G}`,formattedFromAmount:Me,fromTokenGroupLabelEquation:`${Ze("-",Me)} ${ie(G)}`,toTokenGroupLabel:`${Ze("+",Ne)} ${F}`,toTokenGroupLabelEquation:`${Ze("+",Ne)} ${ie(F)}`,fromChainLogoUrl:V,fromTokenIcon:$,toChainLogoUrl:J,toTokenIcon:ue,createTime:t?xt(t,{format:"yyyyMMddHHmmss"}):"",expireTime:w?xt(w,{format:"yyyyMMddHHmmss"}):"",txTime:T?xt(T,{format:"yyyyMMddHHmmss"}):"",networksName:be,networksLogo:V,price:_t(Oe),reversePrice:_t(Te),priceEquation:ut(Oe),reversePriceEquation:ut(Te),execPrice:n?_t(nt):ct,reverseExecPrice:_t($e),execPriceEquation:n?ut(nt):ct,reverseExecPriceEquation:ut($e),fee:d?Zt({amount:he(d),symbol:U,extra:this.getLocalPriceFee(1,f,!0)}):ct,surplus:a?Zt({amount:he(a),symbol:F,extra:this.getLocalPriceFee(1,l,!0)}):"",originAddress:b,formatAddress:Yt(b),exploreUrl:h,fromTokenSymbol:G,failureReason:ve,dealWarnTag:E,remainTime:A,timeoutToast:N,showSwapAgainBtn:ze,triggerPrice:I,triggerMarketCapacity:D,maxTransactionFee:`${he(H)} ${U}`,isSolanaLimitOrder:Ue,limitServiceFeeInfo:vt,formattedLastedHash:Yt(M),latestTransactionHash:M}}get computedLimitFromToInfo(){let e=this.limitDetail?.data;if(!e)return null;let{fromChildOrderDetailVO:t,userWalletAddress:o,swapTradeType:r}=e,{fromChainId:n,fromTokenContractAddress:a,toChainId:l,toTokenContractAddress:d}=t;return{apiRequestParams:{fromChainId:n,toChainId:l,userWalletAddress:o,swapTradeType:r},locationParams:{from:{chainId:n,tokenContractAddress:a},to:{chainId:l,tokenContractAddress:d}}}}get computedSwapFromToInfo(){let e=this.detail?.data;if(!e)return null;let{fromChainId:t,fromTokenAddress:o,toChainId:r,toTokenAddress:n,swapTradeType:a,from:l}=e;return{apiRequestParams:{fromChainId:t,toChainId:r,userWalletAddress:l,swapTradeType:a},locationParams:{from:{chainId:t,tokenContractAddress:o},to:{chainId:r,tokenContractAddress:n},inputAmount:this.computedIfSwapFailedAmount||Nr}}}get computedFromToInfo(){return this.computedCurrentHistoryTabIsLimit?this.computedLimitFromToInfo:this.computedSwapFromToInfo}getForRefuelFromPrice(e){return e&&!io(e)?Q(e):"--"}getReceiveTokenPrice(e){return e&&!io(e)?Q(e):"--"}getExplorerUrl(e){return this.computedIsSingleChain?e?.exploreUrl:""}getOrderFinnishedTime(e,t,o){return[_.Succeed].includes(o)?Wr(t-e):"--"}getFormattedNetworkFee(e){return e?Q(e):""}getFormattedOtherFees(e){return e?Q(e):""}getOtherFees(e,t){return e&&t?.fromTokenSymbol?`${e} ${t.fromTokenSymbol}`:""}getBridgeFee(e,t){return e?`${e} ${t?.toTokenSymbol}`:""}getBridgeFeeUsd(e,t,o){return Hr(e(t).toString(),o)}getEstimateBridgeFeeAmount(e,t){return e?`${Q(e)} ${t}`:""}getEstimateBridgeFeeAmountUsd(e,t,o){return e?Ot(o(e).toString(),t):""}getToSwapFee(e,t,o,r){return e?Zt({amount:e,symbol:t,extra:this.getLocalPriceFee(o,r)}):""}getFromToPrice(e){return e&&!io(e)&&e!=="-1"?Q(or("1").div(e).toString(10),{needBillionMillionUnit:!1}):"--"}getToFromPrice(e){return e&&!io(e)&&e!=="-1"?Q(e,{needBillionMillionUnit:!1}):"--"}getGasToken(e,t,o,r,n){return!e||e===Mn?null:{amount:t,symbol:o,status:e,exploreUrl:r,logoUrl:n}}get computedOrderInfo(){if(!this.detail.data)return null;let{swapTradeType:e,time:t,fromChainName:o,fromChainLogoUrl:r,fromChildOrderDetailVo:n,toChainName:a,toChainLogoUrl:l,networkFee:d,nativeTokenSymbol:f,otherFees:T,from:h,forRefuelFromAmount:w,fromAmount:b,fromChainId:v,fromTokenSymbol:k,fromTokenAddress:E,toTokenSymbol:A,toChainId:N,toTokenAddress:I,bridgeChildOrderDetailVo:D,receiveTokenStatus:H,receiveTokenExploreUrl:M,receiveTokenAmount:U,receiveTokenSymbol:G,abnormalStatus:F,hiddenFromOrder:X,bridgeFee:Z,bridgeFeeUsd:V,estimateBridgeFeeAmount:J,estimateBridgeFeeAmountUsd:$,toSwapFee:ue,toChainNativeTokenSymbol:be,hiddenOtherFee:fe,toChildOrderDetailVo:Ke,price:ze,receiveWalletAddress:ve,gasStationActivityReward:Me,fromGasTokenPriceUsd:Ne,toGasTokenPriceUsd:nt,receiveTokenLogoUrl:$e,errorCode:Oe,status:Te,orderCompletionTime:vt,orderId:Ue,specialOrderType:me,mevInfo:Je,fromSwapMevInfo:st,toSwapMevInfo:at,assetDelay:Ye,assetDelayTime:kt,isMemeTimeOut:Mt,totalSlippage:Ut,dexGasStationFeeDetailVO:Ge,freeGas:lt,estimatedTime:Gt,transactionHash:_e,willNeedManualClaim:Wt}=this.detail.data,mn=String(lt)===vo.FREE,cn=this.detail.data?.defiPlatformInfo,{currencyConversion:Tr,computedNowCurrencySymbol:wr}=this.commonStore,pn=this.getServiceFeeInfo(this.detail.data),_n=this.getBridgeFeeInfo(this.detail.data),Sr=[{chainName:o,chainLogo:r}];this.computedIsSingleChain||Sr.push({chainName:a,chainLogo:l});let yr=this.getFormattedNetworkFee(d),un=this.getFormattedOtherFees(T),fn=Xo(Z),hn=Xo(ue),br=e===S.MemeMode,gn=[_.Succeed,_.Failed,_.Canceled].includes(Te),Tn=![S.GasStation,S.GasStationCross].includes(e),wn=this.checkSwapAgainBtn({isOrderFinalized:gn,isNotGasStationTrade:Tn,isMemeModeOrder:br}),Sn=()=>{if(this.computedIsGasStation&&Ge){let{gasTokenSymbol:bn,gasTokenPriceUSD:vn,totalGasFeeAmount:vr}=Ge||{},kr=Q(vr);return kr?Zt({amount:kr,symbol:bn,extra:this.getLocalPriceFee(vr,vn)}):"--"}return yr?Zt({amount:yr,symbol:f,extra:this.getLocalPriceFee(d,this.computedIsGasStation?"":Ne)}):"--"},yn=D?.bridgeOrderInfoVo?.bridgeId;return{isSingleChain:this.computedIsSingleChain,type:e,typeKey:Un[e],time:xt(t,{format:"yyyyMMddHHmmss"}),networks:Sr,assetDelay:Ye,assetDelayTime:kt,isMemeTimeOut:Mt,isMemeModeOrder:br,networkFee:Sn(),otherFees:this.getOtherFees(un,D),bridgeFee:this.getBridgeFee(fn,D),bridgeId:yn,bridgeName:D?.bridgeOrderInfoVo?.bridgeName,bridgeLogo:D?.bridgeOrderInfoVo?.bridgeLogo,bridgeFeeUsd:this.getBridgeFeeUsd(Tr,V,wr),estimateBridgeFeeAmount:this.getEstimateBridgeFeeAmount(J,f),estimateBridgeFeeAmountUsd:this.getEstimateBridgeFeeAmountUsd($,wr,Tr),toSwapFee:this.getToSwapFee(hn,be,ue,nt),fromToPrice:this.getFromToPrice(ze),toFromPrice:this.getToFromPrice(ze),from:h,chainId:v,receiveWalletAddress:ve,fromAmount:b,fromTokenAddress:E,fromSymbol:k,toSymbol:A,toChainId:N,toTokenAddress:I,omittedFrom:Yt(h),omittedTo:Yt(ve),gasToken:this.getGasToken(H,U,G,M,$e),abnormalStatus:F,hiddenFromOrder:X,hiddenOtherFee:fe,hasToChildOrderDetailVo:!!Ke,forRefuelFromPrice:this.getForRefuelFromPrice(w),receiveTokenPrice:this.getReceiveTokenPrice(U),receiveTokenStatus:H,gasStationActivityReward:Me,exploreUrl:this.getExplorerUrl(n),errorCode:Oe,orderFinishedTime:this.getOrderFinnishedTime(t,vt,Te),status:Te,showSwapAgainBtn:wn,orderId:Ue,fromChainName:o,specialOrderType:me,mevInfo:Je,fromSwapMevInfo:st,toSwapMevInfo:at,totalSlippage:Ut,defiPlatformInfo:cn,isIntentOrder:mn,dexGasStationFeeDetailTips:this.getDexGasStationFeeDetailTip(Ge,Te),freeGas:lt,estimatedTime:Gt,singleChainServiceFeeInfo:pn,crossChainServiceFeeInfo:_n,transactionHash:_e,omittedHash:Yt(_e),willNeedManualClaim:Wt}}get computedFromChainRefundInfo(){let e=this.detail.data;if(!e)return{};let t=We(e,"bridgeChildOrderDetailVo.errorCode");if(String(t)!=="5001")return{};let o=We(e,"bridgeChildOrderDetailVo")||{},{exploreUrl:r,fromTokenIcon:n,refundAmount:a,refundSymbol:l,refundChain:d}=o;return{isFromChainRefund:!0,exploreUrl:r,fromTokenIcon:n,refundAmount:a,formatRefundAmount:Q(a,{needPlaceholder:!0,needBillionMillionUnit:!1}),refundSymbol:l,refundChain:d}}get computedPendingOrdersCount(){return this.pendingOrders.filter(t=>t.status!==_.PendingCanRedeem).length}get computedOrdersHasFacetSwap(){let e=this.pendingOrders.find(t=>t.status==_.PendingCanRedeem);return{showTip:!!e,data:e||{}}}get computedPendingTimingStatus(){return this.timeoutTimestamp?this.expireTime!==0&&this.timeoutTimestamp?Lt.ESTIMATE:!this.expireTime&&this.timeoutTimestamp?Lt.EXCEED_ESTIMATE:!this.expireTime&&!this.timeoutTimestamp?Lt.TIMEOUT:1:Lt.TIMEOUT}toastOrder(e){if(e){let{status:t,orderId:o,fromAmount:r,fromTokenSymbol:n,toAmount:a,toTokenSymbol:l,fromChildOrder:d,receiveTokenStatus:f,type:T,swapTradeType:h,isMemeTimeOut:w,exploreUrl:b,assetDelay:v,sentSimpleVersion:k,willNeedManualClaim:E}=e,A=`${o}_${t}`;if(Nt()||xo.includes(A))return;let N=h===S.MemeMode,I=()=>{xo.unshift(A),xo=xo.slice(0,In)},D=f!==fi;if(t===_.Pending&&d?.status===_.Pending){if(I(),N&&w){ci({title:s("swaptrade_history_modal_error_likely_fail",{num:r,token1:n,token2:l})});return}ot({title:s("wallet_swap_toast_swap_submitted")})}else if(t===_.ReadyToClaim)I(),pi(e,this.rootStore.swapStore);else if(t===_.ClaimFailed)I(),Jt({title:s("swaptrade_bridge_alert_failed_to_claim_please")});else if(t===_.Succeed&&D){let H=this.computedSubOrders;if(I(),E===fo){ot({title:s("swaptrade_bridge_alert_youve_successfully_claimed_amt",{amt:Q(a),token:l})});return}if(N&&v){ot({title:s("swaptrade_history_modal_tips_swap_update",{num1:r,token1:n,num2:a,token2:l}),exploreUrl:b});return}k||ot({title:s("swaptrade_toast_swap_success",{fromCount:ke(r,{needBillionMillionUnit:!0}),fromToken:ie(n),toCount:Q(a),toToken:ie(l)}),exploreUrl:H[H.length-1]?.exploreUrl})}else if(t===_.Failed&&D){let M=this.computedSubOrders.filter(U=>U.status===_.Failed);I(),Jt({title:T==="gasStation"?s("swaptrade_gasstation_toast_refill_failed",{nativeToken:ie(l)}):s("wallet_swap_toast_swap_failed"),exploreUrl:M[M.length-1]?.exploreUrl})}else t===_.Canceled&&D&&(ot({title:s("swaptrade_placeorder_toast_transaction_canceled")}),I())}}get computedCurrentHistoryTabIsLimit(){return this.historyTab===B.LIMIT_ORDER}get computedOrigin(){return this.historyTab===B.LIMIT_ORDER?B.LIMIT_ORDER:[S.SingleChain,S.GasStation].includes(this.computedMainOrderType)?B.SWAP:B.BRIDGE}get computedIfSwapFailedAmount(){let e=this.detail?.data;return e?.status===_.Failed&&!this.computedCurrentHistoryTabIsLimit&&$t(e?.fromAmount)?e.fromAmount:""}},xa=rr;m();c();var gi=x(q());var Gn=({onButtonClick:i})=>gi.default.createElement(ri,{title:s("swaptrade_pricechart_no_connection_title"),description:s("swaptrade_pricechart_no_connection_desc"),buttonText:s("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:i}),Ti=Gn;m();c();var ao=x(q()),vi=x(re());m();c();var C=x(q()),ir=x(Jo()),eo=x(re());m();c();var Ce=x(q()),Pt=x(re());m();c();var j={item:"_item_prji9_1",placeholder:"_placeholder_prji9_8","chain-logo":"_chain-logo_prji9_13",chainLogo:"_chain-logo_prji9_13","chain-logos":"_chain-logos_prji9_19",chainLogos:"_chain-logos_prji9_19","chain-name":"_chain-name_prji9_30",chainName:"_chain-name_prji9_30","icon-btn":"_icon-btn_prji9_33",iconBtn:"_icon-btn_prji9_33",content:"_content_prji9_43","label-tooltip":"_label-tooltip_prji9_47",labelTooltip:"_label-tooltip_prji9_47","icon-arrow":"_icon-arrow_prji9_50",iconArrow:"_icon-arrow_prji9_50","tooltip-icon":"_tooltip-icon_prji9_55",tooltipIcon:"_tooltip-icon_prji9_55",line:"_line_prji9_58",link:"_link_prji9_62","bridge-fee":"_bridge-fee_prji9_69",bridgeFee:"_bridge-fee_prji9_69","intent-order-network-fee":"_intent-order-network-fee_prji9_73",intentOrderNetworkFee:"_intent-order-network-fee_prji9_73","mev-box":"_mev-box_prji9_76",mevBox:"_mev-box_prji9_76","gas-station-fee-label":"_gas-station-fee-label_prji9_79",gasStationFeeLabel:"_gas-station-fee-label_prji9_79","info-icon":"_info-icon_prji9_83",infoIcon:"_info-icon_prji9_83"};function Wn({label:i,value:e,hasToolTips:t,toolTipsText:o="",className:r="",valueClassName:n="",labelOnClick:a,labelClassName:l=""}){let d=(0,Ce.useRef)(),[f,T]=(0,Ce.useState)(!1);(0,Ce.useEffect)(()=>{let b=d.current;b&&T(Yr(b))},[]);let w=Ce.default.createElement("div",{ref:d,...a?{onClick:a}:{},className:(0,Pt.default)("content-contrast truncate",j.label,l)},i);return Ce.default.createElement("div",{className:(0,Pt.default)("overflow-hidden font-14 ",j.item,r)},Ce.default.createElement("div",{className:(0,Pt.default)("flex align-items-center overflow-hidden font-12")},f?Ce.default.createElement(mt,{maxWidth:200,prefixClassName:"cursor-pointer",title:i,className:"overflow-hidden"},w):w,t&&Ce.default.createElement(mt,{title:o,prefixClassName:"cursor-pointer",placement:mt.DIRECTION.bottom,className:(0,Pt.default)("flex items-center",j.tooltipIcon),popupProps:{popupStyle:{maxWidth:"200px"}}},Ce.default.createElement(z,{className:(0,Pt.default)("content-contrast",j.infoIcon),type:"okx-defi-dex-information"}))),Ce.default.createElement("div",{className:(0,Pt.default)("whitespace-nowrap content-primary mt-4 font-14",n)},e))}var L=Wn;function Hn({orderInfo:i}){let{typeKey:e,networksLogo:t,networksName:o,price:r,reversePrice:n,priceEquation:a,reversePriceEquation:l,fee:d,surplus:f,createTime:T,txTime:h,expireTime:w,originAddress:b,formatAddress:v,execPrice:k,reverseExecPrice:E,execPriceEquation:A,reverseExecPriceEquation:N,isSuccess:I,exploreUrl:D,triggerPrice:H,triggerMarketCapacity:M,maxTransactionFee:U,isSolanaLimitOrder:G,latestTransactionHash:F,formattedLastedHash:X}=i,[Z,V]=(0,C.useState)(!1),[J,$]=(0,C.useState)(!1),ue=()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))},{commonStore:{currencyConversion:be,computedNowCurrencySymbol:fe}}=W(),Ke=i?.limitServiceFeeInfo||{};return C.default.createElement(C.default.Fragment,null,C.default.createElement(L,{label:s("swaptrade_order_info_label_type"),value:s(e)}),C.default.createElement(L,{label:s("swaptrade_order_info_label_network"),value:C.default.createElement("div",{className:"flex align-items-center"},C.default.createElement("div",{className:j.chainLogos},C.default.createElement("img",{src:t,alt:o})),C.default.createElement("div",{className:j.chainName},o))}),G&&C.default.createElement(L,{label:s("swaptrade_orders_label_trigger_price_mcap"),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},Ot(be(H).toString(),fe),"\xA0/\xA0",Ot(be(M).toString(),fe,{needBillionMillionUnit:!0}))}),C.default.createElement(L,{label:s("swaptrade_mid_label_price"),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},C.default.createElement("div",null,Z?C.default.createElement(Xe,{text:n,equation:l}):C.default.createElement(Xe,{text:r,equation:a})),C.default.createElement(z,{onClick:()=>{V(!Z)},className:(0,eo.default)("okx-defi-dex-rate",j.iconBtn),size:16}))}),C.default.createElement(L,{label:s("swaptrade_orders_label_execution_price"),hasToolTips:!0,toolTipsText:G?s("swaptrade_limit_dialog_desc_executed_price_solana"):s("swaptrade_orders_tooltips_executed_price"),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},C.default.createElement("div",null,J?C.default.createElement(Xe,{text:E,equation:N}):C.default.createElement(Xe,{text:k,equation:A})),k!==ct&&C.default.createElement(z,{onClick:()=>{$(!J)},className:(0,eo.default)("okx-defi-dex-rate",j.iconBtn),size:16}))}),G&&C.default.createElement(L,{label:s("swaptrade_limit_title_max_transaction_fee"),hasToolTips:!0,toolTipsText:C.default.createElement(C.default.Fragment,null,C.default.createElement("div",null,s("swaptrade_limit_bttmsheet_desc_max_txn_fee1")),C.default.createElement("div",null,s("swaptrade_limit_bttmsheet_desc_max_txn_fee2"))),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},U)}),C.default.createElement(L,{label:s("swaptrade_orders_label_fee"),hasToolTips:!0,toolTipsText:s("swaptrade_orders_tooltips_how_paygas"),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},d)}),Ke?.shouldDisplayServiceFee&&C.default.createElement(L,{label:s("swaptrade_trade_label_service_fee"),value:C.default.createElement("div",{className:"flex align-items-center"},C.default.createElement("span",null,Ke?.formattedServiceFee))}),f&&I&&C.default.createElement(L,{label:s("swaptrade_orders_label_surplus"),hasToolTips:!0,toolTipsText:s("swaptrade_orders_tooltips_surplus_explained"),value:C.default.createElement("div",{className:"flex align-items-center content-primary"},f)}),C.default.createElement(L,{label:s("swaptrade_orders_label_order_time"),value:T}),h&&I&&C.default.createElement(L,{label:s("swaptrade_orders_label_order_time1"),value:h}),w&&!I&&C.default.createElement(L,{label:s("swaptrade_orders_label_expired_time"),value:w}),C.default.createElement(L,{label:s("swaptrade_order_info_label_from"),value:C.default.createElement("div",{className:"flex align-items-center"},C.default.createElement("div",null,v),C.default.createElement(ir.CopyToClipboard,{text:b,onCopy:ue},C.default.createElement("div",{className:(0,eo.default)("flex align-items-center",j.iconBtn)},C.default.createElement(z,{className:"okx-defi-dex-copy1",size:16}))))}),D&&F&&C.default.createElement(L,{label:s("commonall_colheader_text_txn_hash"),value:C.default.createElement("div",{className:"flex align-items-center"},C.default.createElement(ye,{href:D,className:(0,eo.default)("font-14",j.link),handleStyle:!1},X),C.default.createElement(ir.CopyToClipboard,{text:F,onCopy:()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))}},C.default.createElement("div",{className:(0,eo.default)("flex align-items-center",j.iconBtn)},C.default.createElement(z,{className:"okx-defi-dex-copy1",size:16}))))}))}var wi=Hn;m();c();var u=x(q()),Eo=x(Jo()),Qe=x(re());ro();m();c();var De=x(q()),Si=x(re());var qn=()=>{let{recentTransactionStore:i}=W(),e=i?.computedOrderInfo,t=(0,De.useMemo)(()=>(parseInt(e?.estimatedTime||0,10)/60).toFixed(0),[e?.estimatedTime]),o=(0,De.useMemo)(()=>String(e?.freeGas)===vo.FREE,[e?.freeGas]),r=(0,De.useMemo)(()=>De.default.createElement(L,{label:s("swaptrade_history_card_text_from_chain_fee",{chainName:e?.networks[0]?.chainName}),value:s("swaptrade_card_tag_free"),valueClassName:(0,Si.default)(j.intentOrderNetworkFee),hasToolTips:!1,labelOnClick:()=>{}}),[e?.networks]),n=(0,De.useMemo)(()=>{let l=e?.totalSlippage,d=l?So(l*100,{sigFigs:2,needZero:!1,rounded:To.TRUNCATE}):"--";return De.default.createElement(L,{label:s("swaptrade_extension_label_slippage_tolerance"),value:d,hasToolTips:!1,labelOnClick:()=>{}})},[e?.totalSlippage]),a=(0,De.useMemo)(()=>De.default.createElement(De.default.Fragment,null,t==="0"?null:De.default.createElement(L,{label:s("swaptrade_history_text_conversion_time"),value:s("swaptrade_xrouting_tag_mins",{value:t}),hasToolTips:!1,labelOnClick:()=>{}})),[t]);return{isBridgeDetailFreeNetwork:o,bridgeNetworkFee:r,bridgeSlippage:n,bridgeSwapDuration:a}},yi=qn;var nr=i=>i==="Smart Mode"?s("swaptrade_history_mev_subtitle_smart_mode"):i;function Vn({orderInfo:i,gasToken:e}){let{facetStore:{computedIsFacetTradeType:t}}=W(),o=He(),{type:r,typeKey:n,time:a,networks:l,networkFee:d,otherFees:f,from:T,omittedFrom:h,omittedTo:w,receiveWalletAddress:b,fromSymbol:v,toSymbol:k,fromToPrice:E,toFromPrice:A,bridgeFee:N,bridgeName:I,bridgeFeeUsd:D,hiddenOtherFee:H,forRefuelFromPrice:M,receiveTokenPrice:U,receiveTokenStatus:G,exploreUrl:F,estimateBridgeFeeAmount:X,estimateBridgeFeeAmountUsd:Z,orderFinishedTime:V,mevInfo:J,fromSwapMevInfo:$,toSwapMevInfo:ue,isIntentOrder:be,totalSlippage:fe,status:Ke,defiPlatformInfo:ze,dexGasStationFeeDetailTips:ve,bridgeLogo:Me,crossChainServiceFeeInfo:Ne,transactionHash:nt,omittedHash:$e}=i,{recentTransactionStore:Oe}=W(),[Te,vt]=(0,u.useState)("fromTo"),{isBridgeDetailFreeNetwork:Ue,bridgeNetworkFee:me}=yi(),Je=(0,u.useMemo)(()=>{if(E==="--"||A==="--")return{text:"--",equation:"--"};if(Te==="fromTo"){let Wt={fromAmount:1,fromSymbol:v,toAmount:E,toSymbol:k};return{text:_t(Wt),equation:ut(Wt)}}let _e={fromAmount:1,fromSymbol:k,toAmount:A,toSymbol:v};return{text:_t(_e),equation:ut(_e)}},[v,k,Te,E,A]),st=(0,u.useMemo)(()=>G!==Go.RECEIVE_TOKEN_TRANSFER_SUCCEEDED?"--":u.default.createElement(u.default.Fragment,null,u.default.createElement("span",null,M," ",v),u.default.createElement(z,{className:(0,Qe.default)("okds-arrow-pointer-right-sm",j.iconArrow)}),u.default.createElement("span",null,U," ",e?.symbol)),[v,M,U,G,e]),at=b&&r!==S.GasStationCross,Ye=(0,u.useCallback)(()=>{let _e=_o.show({title:s("swaptrade_swap_history_subtitle_network_fee"),children:ve,hideCloseBtn:!0,confirmText:s("swaptrade_dialog_modal_gotit"),onConfirm:()=>{_e.destroy()}})},[ve]),kt=(0,u.useMemo)(()=>{let _e=ve?{labelOnClick:Ye,labelClassName:j.gasStationFeeLabel}:{};return u.default.createElement(L,{..._e,label:s("swaptrade_swap_history_subtitle_network_fee"),value:be?s("swaptrade_card_tag_free"):d,valueClassName:(0,Qe.default)({[j.intentOrderNetworkFee]:be})})},[d,be,Ye,ve]),Mt=(0,u.useMemo)(()=>r===S.CrossChain&&($||ue)?u.default.createElement(L,{label:s("swaptrade_history_label_mev_protect"),value:u.default.createElement("div",{className:(0,Qe.default)("flex items-center",j.mevBox)},!!$&&u.default.createElement("div",{className:"flex items-center"},u.default.createElement(ko,{alt:l[0]?.chainName,size:20,src:l[0]?.chainLogo}),u.default.createElement("span",{className:"ml-4"},nr($))),!!ue&&u.default.createElement("div",{className:"flex items-center"},u.default.createElement(ko,{alt:l[1]?.chainName,size:20,src:l[1]?.chainLogo}),u.default.createElement("span",{className:"ml-4"},nr(ue))))}):J?u.default.createElement(L,{label:s("swaptrade_history_label_mev_protect"),value:u.default.createElement("div",{className:"flex items-center"},u.default.createElement(ko,{alt:l[0]?.chainName,size:20,src:l[0]?.chainLogo}),u.default.createElement("span",{className:"ml-4"},nr(J)))}):null,[$,J,l,ue,r]),Ut=(0,u.useMemo)(()=>{let _e=Oe.computedIsSingleChain||r===S.GasStationCross||r===S.GasStation;return _e?kt:Ue?me:H?u.default.createElement(u.default.Fragment,null,u.default.createElement(L,{label:s("swaptrade_history_card_text_from_chain_fee",{chainName:l[0].chainName}),value:d}),N&&u.default.createElement(L,{label:s("swaptrade_history_label_bridge_network_fee",{bridge:I}),className:j.bridgeFee,value:u.default.createElement("div",{className:"flex flex-column"},D?u.default.createElement("span",null,Et(s("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:N,fee:D}))):u.default.createElement("span",null,N))}),!o&&!_e&&Ne?.shouldDisplayServiceFee?u.default.createElement(L,{label:s("swaptrade_trade_label_service_fee"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("span",null,Ne?.formattedServiceFee))}):null,X&&u.default.createElement(L,{label:s("swaptrade_history_label_bridge_fee",{bridge:I}),className:j.bridgeFee,value:u.default.createElement("div",{className:"flex flex-column"},Z?u.default.createElement("span",null,Et(s("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:X,fee:Z}))):u.default.createElement("span",null,X))})):u.default.createElement(u.default.Fragment,null,kt,u.default.createElement(L,{label:u.default.createElement(u.default.Fragment,null,s("swaptrade_order_info_label_other_fees")),value:f}))},[Oe.computedIsSingleChain,r,Ue,H,kt,f,me,l,d,N,I,D,X,Z,Ne?.shouldDisplayServiceFee,o,Ne?.formattedServiceFee]),Ge=()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))},lt=![S.CrossBridge,S.GasStation,S.GasStationCross].includes(r)&&Je.text!=="--",Gt=i?.singleChainServiceFeeInfo||{};return u.default.createElement(u.default.Fragment,null,u.default.createElement(L,{label:s("swaptrade_order_info_label_type"),value:s(n)}),u.default.createElement(L,{label:s("swaptrade_order_info_label_time"),value:a}),u.default.createElement(L,{label:s("swaptrade_history_text_conversion_time"),value:V}),u.default.createElement(L,{label:s("swaptrade_order_info_label_network"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("div",{className:j.chainLogos},l.map(({chainName:_e,chainLogo:Wt})=>u.default.createElement("img",{src:Wt,alt:`${_e}Logo`,key:_e}))),u.default.createElement("div",{className:j.chainName},l.map(({chainName:_e})=>_e).join(` ${s("swaptrade_order_info_label_network_to")} `)))}),Ut,Gt?.shouldDisplayServiceFee&&u.default.createElement(L,{label:s("swaptrade_trade_label_service_fee"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("span",null,Gt?.formattedServiceFee))}),I&&u.default.createElement(L,{label:s("swaptrade_bot_hyperlink_label_bridge_route"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("img",{src:Me,alt:I,className:j.chainLogo}),u.default.createElement("span",null,I))}),ze&&u.default.createElement(L,{label:s("swaptrade_mid_dialog_title_provider"),value:u.default.createElement("div",{className:"flex flex-column"},u.default.createElement(ii,{size:20,logo:ze?.logo,name:ze?.name,className:(0,Qe.default)("ml-4 content-primary","font-14")}))}),Mt,Ke===_.Succeed&&fe&&u.default.createElement(L,{label:s("swaptrade_extension_label_slippage_tolerance"),value:So(fe*100,{sigFigs:2,needZero:!1,rounded:To.TRUNCATE})}),G!==Go.SINGLE_SWAP_OR_CROSS_CHAIN_NO_CHOOSE_RECEIVE_TOKEN&&u.default.createElement(L,{label:s("swaptrade_history_text_forrefuel"),value:u.default.createElement("div",{className:"flex align-items-center"},st)}),u.default.createElement(L,{label:s("swaptrade_order_info_label_price"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("span",null,u.default.createElement(Xe,{text:Je.text,equation:Je.equation},Et(Je.equation))),lt&&u.default.createElement(z,{onClick:()=>{vt(Te==="fromTo"?"toFrom":"fromTo")},className:(0,Qe.default)("content-primary okx-defi-dex-rate",j.iconBtn),size:16}))}),u.default.createElement(L,{label:s("swaptrade_order_info_label_from"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("span",null,h),u.default.createElement(Eo.CopyToClipboard,{text:T,onCopy:Ge},u.default.createElement("div",{className:(0,Qe.default)("flex align-items-center",j.iconBtn)},u.default.createElement(z,{className:"okx-defi-dex-copy1",size:16}))))}),at&&u.default.createElement(L,{label:s("swaptrade_details_text_receive_address"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement("span",null,w),u.default.createElement(Eo.CopyToClipboard,{text:b,onCopy:()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))}},u.default.createElement("div",{className:(0,Qe.default)("flex align-items-center",j.iconBtn)},u.default.createElement(z,{className:"okx-defi-dex-copy1",size:16}))))}),F&&!t&&u.default.createElement(L,{label:s("commonall_colheader_text_txn_hash"),value:u.default.createElement("div",{className:"flex align-items-center"},u.default.createElement(ye,{href:F,className:(0,Qe.default)("font-14",j.link),handleStyle:!1},$e),u.default.createElement(Eo.CopyToClipboard,{text:nt,onCopy:()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))}},u.default.createElement("div",{className:(0,Qe.default)("flex align-items-center",j.iconBtn)},u.default.createElement(z,{className:"okx-defi-dex-copy1",size:16}))))}))}var bi=oe(Vn);function Kn({orderInfo:i,className:e,gasToken:t,isWalletEnv:o,isLimit:r}){return ao.default.createElement("div",{className:(0,vi.default)(e,{[j.wallet]:o})},ao.default.createElement("div",{className:j.content},!r&&ao.default.createElement(bi,{orderInfo:i,gasToken:t}),r&&ao.default.createElement(wi,{orderInfo:i})))}var ki=Kn;m();c();var P=x(q()),ee=x(re());m();c();var Ao=x(q()),ar=x(re());m();c();var sr={wrapper:"_wrapper_shykr_1",btn:"_btn_shykr_7"};var zn=({visible:i,content:e,onClick:t})=>Ao.default.createElement(_o,{visible:i,hideCloseBtn:!0,scrollDisable:!0,footer:null,renderContent:()=>Ao.default.createElement("div",{className:(0,ar.default)("flex flex-col",sr.wrapper)},e,Ao.default.createElement(R,{className:(0,ar.default)(sr.btn),category:R.CATEGORY.fill,type:R.TYPE.highlight,size:R.SIZE.md,onClick:t},s("swaptrade_orders_btn_ok")))}),Ci=zn;m();c();var pe={wrapper:"_wrapper_12cj5_1","token-group":"_token-group_12cj5_15",tokenGroup:"_token-group_12cj5_15","detail-text":"_detail-text_12cj5_25",detailText:"_detail-text_12cj5_25",fail:"_fail_12cj5_31",blue:"_blue_12cj5_39",item:"_item_12cj5_44",green:"_green_12cj5_47",img:"_img_12cj5_53","dialog-info":"_dialog-info_12cj5_57",dialogInfo:"_dialog-info_12cj5_57"};var $n=({orderInfo:i})=>{let{isSuccess:e,fromTokenGroupLabel:t,fromTokenGroupLabelEquation:o,toTokenGroupLabel:r,toTokenGroupLabelEquation:n,fromTokenIcon:a,toTokenIcon:l,isSupplyFailed:d,isFailed:f,isOtherFailed:T,fromTokenSymbol:h,failureReason:w}=i,[b,v]=(0,P.useState)(!1);return P.default.createElement("div",{className:(0,ee.default)(pe.wrapper)},P.default.createElement("div",{className:(0,ee.default)("flex flex-col")},P.default.createElement("span",{className:(0,ee.default)("font-14 mb-8")},s("swaptrade_orders_label_sell1")),P.default.createElement("div",{className:(0,ee.default)("flex items-center",pe.tokenGroup)},P.default.createElement("img",{src:a??"",alt:"",className:(0,ee.default)("mr-12",pe.img)}),P.default.createElement(Xe,{text:t,equation:o},P.default.createElement("span",{className:(0,ee.default)("ellipsis",pe.detailText)},o?.split(" ")?.[0]," ",P.default.createElement("span",{className:"content-contrast"},o?.split(" ")?.[1]))))),d&&P.default.createElement("div",{className:(0,ee.default)("flex font-12",pe.fail)},s("swaptrade_orders_errortip_balance_error",{sellToken:h})),P.default.createElement("div",{className:(0,ee.default)("flex flex-col",pe.item)},P.default.createElement("span",{className:(0,ee.default)("font-14 mb-12")},s("swaptrade_orders_label_receive")),P.default.createElement("div",{className:(0,ee.default)("flex items-center",pe.tokenGroup)},P.default.createElement("img",{src:l??"",alt:"",className:(0,ee.default)("mr-12",pe.img)}),P.default.createElement(Xe,{text:r,equation:n},P.default.createElement("span",{className:(0,ee.default)("ellipsis",{[pe.green]:e,[pe.detailText]:!e})},f?ct:P.default.createElement(P.default.Fragment,null,n?.split(" ")?.[0]," ",P.default.createElement("span",{className:"content-contrast"},n?.split(" ")?.[1])))))),T&&P.default.createElement("div",{className:(0,ee.default)("flex font-12 flex-col",pe.fail)},P.default.createElement("span",null,s("swaptrade_orders_errortip_funding_error")),P.default.createElement(dt,{className:(0,ee.default)("flex",pe.blue),onClick:()=>{v(!0)}},s("swaptrade_orders_link_fail_details"),P.default.createElement(z,{type:"okds-arrow-chevron-right-centered-sm",className:(0,ee.default)("font-12")}))),P.default.createElement(Ci,{visible:b,content:P.default.createElement(P.default.Fragment,null,w===et.BROAD_FAIL&&P.default.createElement("div",{className:(0,ee.default)(pe.dialogInfo)},s("swaptrade_orders_pop_broadcast_failed")),w===et.CHAIN_CALL_FAIL&&P.default.createElement("div",{className:(0,ee.default)("flex flex-col",pe.dialogInfo)},P.default.createElement("span",null,s("swaptrade_orders_pop_balance_or_approved")),P.default.createElement("span",null,s("swaptrade_orders_pop_balance_or_approved1")),P.default.createElement("span",null,s("swaptrade_orders_pop_balance_or_approved2"))),w===et.TIME_OUT&&P.default.createElement("div",{className:(0,ee.default)(pe.dialogInfo)},s("swaptrade_orders_pop_timed_out")),w===et.UNKNOWN_FAIL&&P.default.createElement("div",{className:(0,ee.default)(pe.dialogInfo)},s("swaptrade_orders_pop_unknown_error")),w===et.SLIPPER_FAIL&&P.default.createElement("div",{className:(0,ee.default)(pe.dialogInfo)},s("swaptrade_orders_pop_failed_dueto"))),onClick:()=>{v(!1)}}))},Ii=$n;m();c();var Ee=x(q()),to=x(re());m();c();var No=x(q());var xi=(i,e)=>{let t=e?parseInt(e/1e3,10):"default",[o,r]=(0,No.useState)(t);(0,No.useEffect)(()=>{let l=null,d=parseInt(e/1e3,10);return r(()=>d),i&&d>0&&(l=setInterval(()=>{r(()=>(d<=-1&&clearInterval(l),d--))},1e3)),()=>clearInterval(l)},[e,i]);let n=Math.ceil(o/60)<=1?"1":Math.ceil(o/60),a=o<0||!$t(e)?"":s("swaptrade_top_text_history_1mins",{value:n});return{renderCountDown:o,remainTimeText:a,value:n}};m();c();var Oo=x(q()),dr=x(re());m();c();var lr={alert:"_alert_u4b1f_1",close:"_close_u4b1f_4","customer-text":"_customer-text_u4b1f_11",customerText:"_customer-text_u4b1f_11"};var Yn=({visible:i})=>{let e=()=>{window.okGlobal?.showCS()};return i?Oo.default.createElement("div",{className:(0,dr.default)("flex",lr.alert)},Oo.default.createElement("p",{className:(0,dr.default)("font-12 line-20 content-tertiary")},s("swaptrade_mid_reminder_avoid_waiting"),"\xA0",Oo.default.createElement(Ht,{size:Ht.SIZE.sm,onClick:e,linkClassName:lr.customerText},s("swaptrade_mid_textbtn_customer_service")))):null},Ei=oe(Yn);m();c();var se={status:"_status_gqih9_1",loader:"_loader_gqih9_1","loader-wrap":"_loader-wrap_gqih9_5",loaderWrap:"_loader-wrap_gqih9_5","cancel-btn":"_cancel-btn_gqih9_8",cancelBtn:"_cancel-btn_gqih9_8","fail-btn":"_fail-btn_gqih9_11",failBtn:"_fail-btn_gqih9_11","fail-icon":"_fail-icon_gqih9_14",failIcon:"_fail-icon_gqih9_14","fail-desc":"_fail-desc_gqih9_17",failDesc:"_fail-desc_gqih9_17","is-not-empty":"_is-not-empty_gqih9_20",isNotEmpty:"_is-not-empty_gqih9_20","fixed-btn":"_fixed-btn_gqih9_34",fixedBtn:"_fixed-btn_gqih9_34","inner-btn":"_inner-btn_gqih9_43",innerBtn:"_inner-btn_gqih9_43","header-status-wrap":"_header-status-wrap_gqih9_46",headerStatusWrap:"_header-status-wrap_gqih9_46",desc:"_desc_gqih9_58","expire-time":"_expire-time_gqih9_61",expireTime:"_expire-time_gqih9_61","expire-time-content":"_expire-time-content_gqih9_68",expireTimeContent:"_expire-time-content_gqih9_68","absolute-expire-time":"_absolute-expire-time_gqih9_72",absoluteExpireTime:"_absolute-expire-time_gqih9_72","back-icon":"_back-icon_gqih9_85",backIcon:"_back-icon_gqih9_85","close-icon":"_close-icon_gqih9_93",closeIcon:"_close-icon_gqih9_93","top-wrapper":"_top-wrapper_gqih9_96",topWrapper:"_top-wrapper_gqih9_96","header-status-icon":"_header-status-icon_gqih9_103",headerStatusIcon:"_header-status-icon_gqih9_103"};function Xn({order:i,isWalletEnv:e,onClick:t,onClickSwapAgain:o,orderContinueStatus:r,isDialog:n}){let{status:a,dealWarnTag:l,remainTime:d,timeoutToast:f,showSwapAgainBtn:T}=i,h=!1,w=[K.OPEN].includes(a),{renderCountDown:b,value:v}=xi(a===K.PENDING,d),k=(0,Ee.useMemo)(()=>{let A=null;return a===K.PENDING&&(d&&b>0?A=Ee.default.createElement("div",{className:(0,to.default)("font-400 font-12 line-20 content-tertiary",se.statusExplain)},wo("swaptrade_bridge_text_estimated_to_complete",{value:Ee.default.createElement("span",{className:(0,to.default)("font-400 font-12 line-20 color-0569ff",se.expireTime)},v)})):(!d||d&&b<=0)&&(A=Ee.default.createElement(Ei,{visible:f}))),A},[a,b,d,v,f]),E=(0,Ee.useMemo)(()=>r===ho.LOADING,[r]);return Ee.default.createElement("div",{className:(0,to.default)("text-center content-contrast",se.status,{[se.showAlert]:h,[se.wallet]:e,[se.isNotEmpty]:k||w&&l})},T&&!n&&Ee.default.createElement("div",{className:se.fixedBtn},Ee.default.createElement(R,{loading:E,className:se.innerBtn,onClick:o,loadingText:s("swaptrade_history_btn_onemore_conversion"),category:R.CATEGORY.fill,type:R.TYPE.primary,size:R.SIZE.md},s("swaptrade_history_btn_onemore_conversion"))),w&&l&&Ee.default.createElement("div",{className:(0,to.default)("font-12 line-20",se.dealWarn)},s("swaptrade_orders_text_lowliquid_highslip")),w&&Ee.default.createElement("div",{className:(0,to.default)(se.fixedBtn)},Ee.default.createElement(R,{onClick:t,className:se.innerBtn,category:R.CATEGORY.fill,type:R.TYPE.primary,size:R.SIZE.md,disabled:a===K.PENDING},s("swaptrade_orders_text_details_cancel"))),k)}var Ai=Xn;m();c();var Be=x(q()),ur=x(re());m();c();m();c();var Ve=x(q()),Oi=x(Jo()),Li=x(re());m();c();var Zn=i=>String(i)==="3",Qn=i=>String(i)==="8",mr=i=>String(i)==="22",Jn=i=>Zn(i)||Qn(i)||mr(i),Lo=({blockProcess:i,bridgeId:e})=>i===ne.BLOCK_BRIDGE&&Jn(e);m();c();var te=x(q()),Pe=x(re());ro();m();c();var ae={box:"_box_oxkj0_1","mt-12":"_mt-12_oxkj0_9",mt12:"_mt-12_oxkj0_9",content:"_content_oxkj0_12","show-less-content":"_show-less-content_oxkj0_17",showLessContent:"_show-less-content_oxkj0_17","show-more-content":"_show-more-content_oxkj0_20",showMoreContent:"_show-more-content_oxkj0_20",overview:"_overview_oxkj0_23","overview-ellipsis":"_overview-ellipsis_oxkj0_27",overviewEllipsis:"_overview-ellipsis_oxkj0_27",list:"_list_oxkj0_35","list-item":"_list-item_oxkj0_39",listItem:"_list-item_oxkj0_39","switch-btn":"_switch-btn_oxkj0_43",switchBtn:"_switch-btn_oxkj0_43","switch-btn-icon":"_switch-btn-icon_oxkj0_47",switchBtnIcon:"_switch-btn-icon_oxkj0_47","switch-btn-icon-hide":"_switch-btn-icon-hide_oxkj0_55",switchBtnIconHide:"_switch-btn-icon-hide_oxkj0_55","action-content":"_action-content_oxkj0_58",actionContent:"_action-content_oxkj0_58","action-content-icon":"_action-content-icon_oxkj0_63",actionContentIcon:"_action-content-icon_oxkj0_63","guid-url-content":"_guid-url-content_oxkj0_68",guidUrlContent:"_guid-url-content_oxkj0_68","guid-url":"_guid-url_oxkj0_68",guidUrl:"_guid-url_oxkj0_68","no-box-wrapper":"_no-box-wrapper_oxkj0_75",noBoxWrapper:"_no-box-wrapper_oxkj0_75"};m();c();var Rn=i=>{switch(i){case qe.SINGLE:return"customer_support_singlechainswap";case qe.CROSS_FROM_SWAP:return"customer_support_fromswap";case qe.CROSS_BRIDGE_SWAP:return"customer_support_bridge";case qe.CROSS_TO_SWAP:return"customer_support_toswap";default:return""}},Ni=Rn;var es=({overview:i,detailList:e=[],onClickSubOrderTip:t=null,subOrderTipText:o="",hasCustomerService:r=!1,orderId:n="",subOrderType:a="",className:l="",guideUrl:d=""})=>{let[f,T]=(0,te.useState)(!1),[h,w]=(0,te.useState)(!0),b=(0,te.useRef)(null),{recentTransactionStore:v,accountStore:k}=W(),E=()=>{w(!h)},A=()=>{if(pt({wallet_address:k.computedAccountWalletAddresses,order_id:n,button_name:Ni(a)}),Nt()){let I=s("swaptrade_function_textbtn_contact_customer_support_link");Ar(I,"_blank")}else v.closeModal(),window.okGlobal?.showCS?.()};return(0,te.useEffect)(()=>{if(e&&e.length>0){T(!0);return}if(b?.current){let N=b.current.getBoundingClientRect().height;T(N>48)}},[i,e,b]),te.default.createElement("div",{className:(0,Pe.default)("flex flex-column",ae.box,ae[l])},te.default.createElement("div",{className:(0,Pe.default)("font-12",ae.content,h?ae.showLessContent:ae.showMoreContent)},te.default.createElement("p",{className:(0,Pe.default)(ae.overview,{[ae.overviewEllipsis]:h&&f}),ref:b},i),e.length>0&&!h?te.default.createElement("ul",{className:ae.list},e.map((N,I)=>te.default.createElement("li",{key:I,className:ae.listItem},N))):null),f?te.default.createElement(dt,{className:(0,Pe.default)("flex align-items-center font-bold",ae.switchBtn),onClick:E},h?s("swaptrade_function_dropdown_show_more"):s("swaptrade_function_dropdown_show_less"),te.default.createElement(At,{className:(0,Pe.default)("okx-defi-dex-arrow-down-chevrons",ae.switchBtnIcon,{[ae.switchBtnIconHide]:h}),style:{fontSize:12}})):null,t?te.default.createElement(dt,{className:(0,Pe.default)("flex align-items-center font-700",ae.actionContent),onClick:t},o,te.default.createElement(At,{className:(0,Pe.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})):null,r?te.default.createElement(dt,{className:(0,Pe.default)("flex align-items-center font-700",ae.actionContent),onClick:A},s("swaptrade_function_textbtn_contact_customer_support"),te.default.createElement(At,{className:(0,Pe.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})):null,!!d&&te.default.createElement(ye,{handleStyle:!1,href:d,className:(0,Pe.default)("flex align-items-center font-700",ae.guidUrlContent,ae.guidUrl)},s("swaptrade_general_btn_check_guide"),te.default.createElement(At,{className:(0,Pe.default)("okx-defi-dex-arrow-to",ae.actionContentIcon),style:{fontSize:12}})))},rt=oe(es);m();c();var ht={link:"_link_105qk_1","a-tag":"_a-tag_105qk_1",aTag:"_a-tag_105qk_1","tip-copy":"_tip-copy_105qk_8",tipCopy:"_tip-copy_105qk_8"};var cr=({bridgeName:i="",bridgeId:e})=>{let t=s("swaptrade_bridge_reminder_desc_swft_reason",{bridge:i}),o=[];if(mr(e)){let r=s("swaptrade_bridge_reminder_desc_meson_org_address"),n=s("swaptrade_bridge_reminder_desc_meson_org_discord");o=[Ve.default.createElement("span",{className:ht.link},Ve.default.createElement(po,{href:r,alt:i,className:ht.aTag},r)),Ve.default.createElement("span",{className:ht.link},Ve.default.createElement(po,{href:n,alt:i,className:ht.aTag},n))]}else{let r=s("swaptrade_bridge_reminder_desc_swft_org_address"),n=s("swaptrade_bridge_reminder_desc_swft_org_email");o=[Ve.default.createElement("span",{className:ht.link},Ve.default.createElement(po,{href:r,alt:r,className:ht.aTag},r)),Ve.default.createElement("div",null,n,Ve.default.createElement(Oi.CopyToClipboard,{text:n,onCopy:()=>{Re.success(s("swaptrade_order_info_label_from_copy_success"))}},Ve.default.createElement(At,{className:(0,Li.default)("okx-defi-dex-copy2",ht.tipCopy)})))]}return Ve.default.createElement(rt,{overview:t,detailList:o,className:"noBoxWrapper"})};m();c();var zm="",pr="hide_detail_alert";m();c();var Fe=x(q()),Di=x(re());m();c();var _r={alert:"_alert_1eudu_1",close:"_close_1eudu_8","customer-text":"_customer-text_1eudu_15",customerText:"_customer-text_1eudu_15"};var ts=({visible:i,computedPendingTimingStatus:e,isWalletEnv:t,order:o})=>{let{orderId:r,specialOrderType:n,fromChainName:a,willNeedManualClaim:l,toSymbol:d}=o,{recentTransactionStore:f,accountStore:T}=W(),h=(0,Fe.useCallback)(()=>{pt({wallet_address:T.computedAccountWalletAddresses,order_id:r,button_name:"customer_support_top"})},[T.computedAccountWalletAddresses,r]),w=(0,Fe.useCallback)(()=>{h(),window.okGlobal?.showCS()},[h]),b=(0,Fe.useMemo)(()=>t?{target:"_blank",href:s("swaptrade_history_link_help_center"),onClick:h}:{onClick:w},[t,h,w]),v=(0,Fe.useMemo)(()=>n===di.FromIsBtcChain?s("swaptrade_history_text_mechanism_unique",{chain:a}):e===Lt.TIMEOUT?Fe.default.createElement(Fe.default.Fragment,null,s(t?"swaptrade_history_reminder_customer_service":"swaptrade_mid_reminder_avoid_waiting"),"\xA0",Fe.default.createElement(Ht,{type:Ht.TYPE.secondary,underline:!0,linkClassName:_r.customerText,...b},s(t?"swaptrade_history_textbtn_helper":"swaptrade_mid_textbtn_customer_service"))):l===fo?s("swaptrade_bridge_reminder_you_may_close_this",{token:d}):f.computedIsGasStation?s("swaptrade_history_toast_after_swap"):s("swaptrade_history_toast_confirming_check"),[e,f.computedIsGasStation,t,b,n,a,l,d]);return i?Fe.default.createElement("div",{className:(0,Di.default)(_r.alert)},Fe.default.createElement("p",null,v)):null},Pi=oe(ts);function os({order:i,className:e="",isWalletEnv:t=!1,computedPendingTimingStatus:o,onClickSwapAgain:r,computedIfSwapFailedAmount:n,orderContinueStatus:a,isDialog:l,firstBlockProcess:d}){let{status:f,abnormalStatus:T,showSwapAgainBtn:h}=i,w=[_.Waiting,_.SpeedingUp].includes(f)?_.Pending:f,[b,v]=(0,Be.useState)(!!Le.get(pr)),k=Lo({blockProcess:d,bridgeId:i?.bridgeId}),E=(0,Be.useMemo)(()=>k?!1:!([_.Succeed,_.PendingWithdrawn,_.PendingCanRedeem,_.PendingRedeeming,_.Failed,_.Canceled,_.ReadyToClaim,_.Claiming].includes(w)||b),[b,w,k]),A=()=>{Le.set(pr,"1"),v(!0)},N=(0,Be.useMemo)(()=>{let D=null;return w===_.Pending&&T!=="-1"&&(D=Be.default.createElement("div",{className:(0,ur.default)("font-400 font-12 line-20 content-contrast",se.statusExplain)},T==="1"&&s("swaptrade_popup_pending_desc_for_assets_safety"),T==="2"&&s("swaptrade_popup_pending_desc_transaction_volume_toolarge"))),D},[w,T]),I=(0,Be.useMemo)(()=>a===ho.LOADING,[a]);return Be.default.createElement("div",{className:(0,ur.default)("text-center",se.status,{[se.showAlert]:E,[se.wallet]:t,[se.isNotEmpty]:N||E},e)},h&&!l&&Be.default.createElement("div",{className:se.fixedBtn},Be.default.createElement(R,{loading:I,className:se.innerBtn,onClick:r,loadingText:n?s("swaptrade_history_btn_resubmit_transaction"):s("swaptrade_history_btn_onemore_conversion"),category:R.CATEGORY.fill,type:R.TYPE.primary,size:R.SIZE.md},n?s("swaptrade_history_btn_resubmit_transaction"):s("swaptrade_history_btn_onemore_conversion"))),N,Be.default.createElement(Pi,{isWalletEnv:t,computedPendingTimingStatus:o,visible:E,onClose:A,order:i}))}var Fi=os;m();c();var Tt=x(q()),Ji=x(re());m();c();var Bi=x(q());var rs=i=>(0,Bi.useMemo)(()=>[_.Waiting,_.SpeedingUp].includes(i)?_.Pending:i,[i]),ji=rs;m();c();var ge=x(q()),it=x(re());m();c();var g={wrapper:"_wrapper_nj2i6_1",item:"_item_nj2i6_15",label:"_label_nj2i6_15",last:"_last_nj2i6_19",waiting:"_waiting_nj2i6_23",token:"_token_nj2i6_26",amount:"_amount_nj2i6_34","last-succeed":"_last-succeed_nj2i6_39",lastSucceed:"_last-succeed_nj2i6_39","token-amount-content":"_token-amount-content_nj2i6_42",tokenAmountContent:"_token-amount-content_nj2i6_42",activity:"_activity_nj2i6_45","waiting-symbol":"_waiting-symbol_nj2i6_48",waitingSymbol:"_waiting-symbol_nj2i6_48","amount-info":"_amount-info_nj2i6_51",amountInfo:"_amount-info_nj2i6_51","amount-text":"_amount-text_nj2i6_54",amountText:"_amount-text_nj2i6_54","status-box":"_status-box_nj2i6_59",statusBox:"_status-box_nj2i6_59","status-overflow":"_status-overflow_nj2i6_62",statusOverflow:"_status-overflow_nj2i6_62","next-arrow":"_next-arrow_nj2i6_68",nextArrow:"_next-arrow_nj2i6_68",tip:"_tip_nj2i6_74","arrow-icon":"_arrow-icon_nj2i6_84",arrowIcon:"_arrow-icon_nj2i6_84","flex-grow-0":"_flex-grow-0_nj2i6_93",flexGrow0:"_flex-grow-0_nj2i6_93","extra-gain":"_extra-gain_nj2i6_100",extraGain:"_extra-gain_nj2i6_100","process-tip-wrapper":"_process-tip-wrapper_nj2i6_118",processTipWrapper:"_process-tip-wrapper_nj2i6_118","border-tip-wrapper":"_border-tip-wrapper_nj2i6_128",borderTipWrapper:"_border-tip-wrapper_nj2i6_128","shadow-token-box":"_shadow-token-box_nj2i6_134",shadowTokenBox:"_shadow-token-box_nj2i6_134","go-to-swap":"_go-to-swap_nj2i6_137",goToSwap:"_go-to-swap_nj2i6_137","tip-fold":"_tip-fold_nj2i6_140",tipFold:"_tip-fold_nj2i6_140",loader:"_loader_nj2i6_143","waiting-logo":"_waiting-logo_nj2i6_150",waitingLogo:"_waiting-logo_nj2i6_150","sub-status-box":"_sub-status-box_nj2i6_153",subStatusBox:"_sub-status-box_nj2i6_153","sub-status-icon":"_sub-status-icon_nj2i6_157",subStatusIcon:"_sub-status-icon_nj2i6_157","icon-rotate":"_icon-rotate_nj2i6_161",iconRotate:"_icon-rotate_nj2i6_161",rotate:"_rotate_nj2i6_1","sub-status-icon-gas-token":"_sub-status-icon-gas-token_nj2i6_169",subStatusIconGasToken:"_sub-status-icon-gas-token_nj2i6_169",s0:"_s0_nj2i6_178","token-border":"_token-border_nj2i6_186",tokenBorder:"_token-border_nj2i6_186","share-link":"_share-link_nj2i6_189",shareLink:"_share-link_nj2i6_189","chain-name":"_chain-name_nj2i6_194",chainName:"_chain-name_nj2i6_194","gas-token-wrapper":"_gas-token-wrapper_nj2i6_212",gasTokenWrapper:"_gas-token-wrapper_nj2i6_212","gas-token":"_gas-token_nj2i6_212",gasToken:"_gas-token_nj2i6_212","waiting-chain-name":"_waiting-chain-name_nj2i6_219",waitingChainName:"_waiting-chain-name_nj2i6_219",loading:"_loading_nj2i6_222","loading-text":"_loading-text_nj2i6_231",loadingText:"_loading-text_nj2i6_231",failed:"_failed_nj2i6_234","waiting-icon":"_waiting-icon_nj2i6_237",waitingIcon:"_waiting-icon_nj2i6_237","gas-token-amount":"_gas-token-amount_nj2i6_240",gasTokenAmount:"_gas-token-amount_nj2i6_240","waiting-gas-token":"_waiting-gas-token_nj2i6_244",waitingGasToken:"_waiting-gas-token_nj2i6_244","gas-token-logo":"_gas-token-logo_nj2i6_244",gasTokenLogo:"_gas-token-logo_nj2i6_244","gas-token-info":"_gas-token-info_nj2i6_247",gasTokenInfo:"_gas-token-info_nj2i6_247","gas-token-chain-name":"_gas-token-chain-name_nj2i6_250",gasTokenChainName:"_gas-token-chain-name_nj2i6_250","pending-gas-token":"_pending-gas-token_nj2i6_253",pendingGasToken:"_pending-gas-token_nj2i6_253","succeed-gas-token":"_succeed-gas-token_nj2i6_256",succeedGasToken:"_succeed-gas-token_nj2i6_256","gas-token-symbol":"_gas-token-symbol_nj2i6_260",gasTokenSymbol:"_gas-token-symbol_nj2i6_260","text-overflow":"_text-overflow_nj2i6_263",textOverflow:"_text-overflow_nj2i6_263","amount-overflow":"_amount-overflow_nj2i6_268",amountOverflow:"_amount-overflow_nj2i6_268","pending-right-state":"_pending-right-state_nj2i6_275",pendingRightState:"_pending-right-state_nj2i6_275","pending-left-content":"_pending-left-content_nj2i6_278",pendingLeftContent:"_pending-left-content_nj2i6_278",link:"_link_nj2i6_282","pending-bottom-32":"_pending-bottom-32_nj2i6_286",pendingBottom32:"_pending-bottom-32_nj2i6_286","count-down-pill":"_count-down-pill_nj2i6_289",countDownPill:"_count-down-pill_nj2i6_289","position-relative":"_position-relative_nj2i6_292",positionRelative:"_position-relative_nj2i6_292","speeding-up-content":"_speeding-up-content_nj2i6_295",speedingUpContent:"_speeding-up-content_nj2i6_295","speed-up":"_speed-up_nj2i6_299",speedUp:"_speed-up_nj2i6_299","filter-order-pill":"_filter-order-pill_nj2i6_302",filterOrderPill:"_filter-order-pill_nj2i6_302","item-wrapper":"_item-wrapper_nj2i6_306",itemWrapper:"_item-wrapper_nj2i6_306","item-wrapper-left":"_item-wrapper-left_nj2i6_309",itemWrapperLeft:"_item-wrapper-left_nj2i6_309","item-wrapper-right":"_item-wrapper-right_nj2i6_318",itemWrapperRight:"_item-wrapper-right_nj2i6_318","box-pd":"_box-pd_nj2i6_321",boxPd:"_box-pd_nj2i6_321","progress-bar":"_progress-bar_nj2i6_324",progressBar:"_progress-bar_nj2i6_324","progress-delay":"_progress-delay_nj2i6_329",progressDelay:"_progress-delay_nj2i6_329","progress-val":"_progress-val_nj2i6_332",progressVal:"_progress-val_nj2i6_332","symbol-color":"_symbol-color_nj2i6_339",symbolColor:"_symbol-color_nj2i6_339","fold-arrow":"_fold-arrow_nj2i6_342",foldArrow:"_fold-arrow_nj2i6_342","pending-left6":"_pending-left6_nj2i6_347",pendingLeft6:"_pending-left6_nj2i6_347","icon-font-centers":"_icon-font-centers_nj2i6_350",iconFontCenters:"_icon-font-centers_nj2i6_350","token-amount-big":"_token-amount-big_nj2i6_353",tokenAmountBig:"_token-amount-big_nj2i6_353","token-amount-small":"_token-amount-small_nj2i6_360",tokenAmountSmall:"_token-amount-small_nj2i6_360","token-amount-wrapper":"_token-amount-wrapper_nj2i6_367",tokenAmountWrapper:"_token-amount-wrapper_nj2i6_367"};m();c();var Ft={box:"_box_hp1z1_1","token-logo":"_token-logo_hp1z1_4",tokenLogo:"_token-logo_hp1z1_4","token-info":"_token-info_hp1z1_10",tokenInfo:"_token-info_hp1z1_10","token-amount":"_token-amount_hp1z1_13",tokenAmount:"_token-amount_hp1z1_13","share-link":"_share-link_hp1z1_23",shareLink:"_share-link_hp1z1_23","error-info":"_error-info_hp1z1_26",errorInfo:"_error-info_hp1z1_26"};var is=({isFromChainRefund:i,exploreUrl:e,fromTokenIcon:t,formatRefundAmount:o,refundSymbol:r,refundChain:n})=>{if(!i)return null;let a=`${o} ${r}`,l=s("swaptrade_history_notif_thirdparty_bridge_refund",{amount:o,symbol:r,chain:n});return ge.default.createElement("div",{className:(0,it.default)(Ft.box)},ge.default.createElement("div",{className:(0,it.default)("flex align-items-center justify-between")},ge.default.createElement("div",{className:(0,it.default)("flex align-items-center")},ge.default.createElement("div",{className:(0,it.default)(Ft.tokenLogo)},ge.default.createElement(Xt,{src:t,size:22,className:(0,it.default)("shrink-0",g.tokenBorder)})),ge.default.createElement("div",{className:(0,it.default)(Ft.tokenInfo)},ge.default.createElement(mt,{title:a,textOverflow:{text:a},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300},ge.default.createElement("div",{className:(0,it.default)(Ft.tokenAmount,g.amountOverflow)},Ze("+",o)," ",ge.default.createElement("span",{className:g.symbolColor},r))),ge.default.createElement("p",{className:g.chainName},n))),e&&ge.default.createElement("div",null,ge.default.createElement(ye,{href:e,className:(0,it.default)("content-contrast",Ft.shareLink),handleStyle:!1},ge.default.createElement(z,{className:"okx-defi-web3-open-link",size:16})))),ge.default.createElement("div",{className:Ft.errorInfo},ge.default.createElement(rt,{overview:l,hasCustomerService:!0})))},Mi=is;m();c();var Y=x(q()),gt=x(re());var ns=({gasToken:i,networks:e,isWalletEnv:t})=>{let o=(0,Y.useRef)(null),r=(0,Y.useRef)(null),n=(0,Y.useRef)(null),a=(0,Y.useRef)(null),[l,d]=(0,Y.useState)({}),[f,T]=(0,Y.useState)({}),h=(0,Y.useMemo)(()=>({fontSize:14,lineHeight:"16px"}),[]),w="14px",b=(0,Y.useCallback)(({expectWidth:k,rightTextWidth:E,refRightTextComputedStyle:A,refLeftTextComputedStyle:N})=>{k<E&&(A.fontSize!==w?d(h):N.fontSize!==w?(d(h),T(h)):(d({width:k,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...h}),T(h)))},[h]),v=(0,Y.useCallback)(()=>{let k=o?.current?.clientWidth,E=r?.current?.scrollWidth,A=a?.current?.scrollWidth;if(k&&E&&A){let N=k-E-73,I=window.getComputedStyle(a?.current),D=window.getComputedStyle(n?.current);b({expectWidth:N,rightTextWidth:A,refRightTextComputedStyle:I,refLeftTextComputedStyle:D})}},[b]);return(0,Y.useEffect)(()=>{v()},[l.fontSize,f.fontSize,v]),i?Y.default.createElement("div",{className:(0,gt.default)("flex align-items-center justify-content-between overflow-hidden",g.gasTokenWrapper)},Y.default.createElement("div",{ref:o,className:(0,gt.default)("flex align-items-center",g.gasToken,{[g.pendingGasToken]:i.status===so.Pending,[g.waitingGasToken]:i.status===so.Waiting,[g.succeedGasToken]:i.status===so.Succeed})},Y.default.createElement(Xt,{src:i.logoUrl||Or(),size:32,className:(0,gt.default)("shrink-0",g.gasTokenLogo)}),Y.default.createElement("div",{ref:r,className:(0,gt.default)("flex flex-column ml-12",{truncate:t},g.gasTokenInfo,g.pendingLeftContent)},Y.default.createElement("span",{ref:n,className:(0,gt.default)(g.gasTokenAmount,{truncate:t}),style:f},wo("swaptrade_confirm_transaction_text_numbersforrefuel",{value:Q(i.amount),symbol:Y.default.createElement("span",{className:g.gasTokenSymbol},i.symbol)})),Y.default.createElement("span",{className:(0,gt.default)("font-12 content-contrast",g.label,g.gasTokenChainName)},e[1].chainName))),i.status===so.Succeed&&Y.default.createElement(ye,{href:i.exploreUrl,className:(0,gt.default)(g.subStatusIconGasToken,g.shareLink)},Y.default.createElement(z,{className:"okx-defi-web3-open-link content-contrast",size:16}))):null},Ui=ns;m();c();var O=x(q()),de=x(re());m();c();var lo=x(q()),Gi=x(re());var ss=({isFromStart:i,exploreUrl:e,hiddenExploreUrl:t,index:o})=>{let{facetStore:{getFacetExploreUrl:r}}=W(),n={className:(0,Gi.default)("content-contrast",g.shareLink),handleStyle:!1};return r(o)?lo.default.createElement(ye,{href:r(o),...n},lo.default.createElement(z,{className:"okx-defi-web3-open-link",size:16})):!i&&e&&!t?lo.default.createElement(ye,{href:e,...n},lo.default.createElement(z,{className:"okx-defi-web3-open-link",size:16})):null},Wi=oe(ss);m();c();var Bt=x(q());var Hi=({countDownTime:i,isLast:e})=>i&&!e?Bt.default.createElement("span",{className:g.countDownPill},yo(i)):Bt.default.createElement(qt.Circle,{size:qt.SIZE.md,className:g.loader,loaderStyle:{borderWidth:1}}),as=({subOrder:i,isLast:e})=>{let{countDownTime:t,status:o}=i,r={countDownTime:t,isLast:e};return o===_.Pending?Bt.default.createElement(Hi,{...r}):o===_.SpeedingUp?Bt.default.createElement("div",{className:g.speedingUpContent},Bt.default.createElement("span",{className:g.speedUp},s("swaptrade_list_colored_speeding_up")),Bt.default.createElement(Hi,{...r})):null},qi=as;m();c();var je=x(q());m();c();var mo=x(q());m();c();var fr=x(q());oo();m();c();var le=i=>({amount:i?.refund?.amount,symbol:i?.refund?.symbol,chain:i?.refund?.chain}),jt=i=>({bridgeName:i?.bridgeInfo?.bridgeName}),ls=i=>({bridge:i?.bridgeInfo?.bridgeName,token1:i?.dexBridgeShadowTokenPair?.realTokenSymbol,token2:i?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),ds=()=>{let i=He(),e=i?"swaptrade_history_notif_returned_failed_reasons":"swaptrade_servicefee_fee_notif_deduct_network_fee";return{1:{overviewKey:"swaptrade_history_notif_broadcast_failed"},2:{overviewKey:"swaptrade_history_notif_low_network_fee"},3:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},4:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},5:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},6:{overviewKey:"swaptrade_history_notif_accelerated_or_canceled"},7:{overviewKey:"swaptrade_history_notif_increase_gas"},8:{overviewKey:"swaptrade_history_errortip_official_bridge_asset_delay",renderOverview:t=>({chain:t?.chainName,value:t?.officialBridgeTime})},9:{overviewKey:"swaptrade_sub_order_tip_refund",hasCustomerService:!0},10:{overviewKey:"swaptrade_sub_order_tip_less_than_minimum"},11:{overviewKey:"swaptrade_trade_toast_multichain",renderOverview:t=>({wrapped:t.originalTokenSymbol,native:t.symbol})},12:{overviewKey:"swaptrade_bridge_toast_order_status_lag_behind_assets"},13:{overviewKey:"swaptrade_history_modal_top_error_jito_fail"},2003:{overviewKey:"swaptrade_history_notif_3rd_bridge_changes"},2501:{overviewKey:"swaptrade_history_notif_failed_returned_exchange",renderOverview:le},2502:{overviewKey:"swaptrade_history_notif_failed_exchange"},2503:{overviewKey:"swaptrade_history_notif_returned_blacklist",renderOverview:le},2504:{overviewKey:"swaptrade_history_notif_blacklist"},2506:{overviewKey:"swaptrade_history_notif_failed_increasing"},2507:{overviewKey:"swaptrade_history_notif_failed_returned_increasing",renderOverview:le},2508:{overviewKey:"swaptrade_history_notif_failed_increasing"},2513:{overviewKey:"swaptrade_history_notif_returned_insufficient_liquidity",renderOverview:le},2514:{overviewKey:"swaptrade_history_notif_3rdbridge_insufficient_liquidity"},2515:{overviewKey:"swaptrade_history_notif_returned_delisted_token",renderOverview:le},2516:{overviewKey:"swaptrade_history_notif_delisted_token",renderOverview:le},2517:{overviewKey:"swaptrade_history_notif_returned_limit",renderOverview:le},2518:{overviewKey:"swaptrade_history_notif_limit"},2519:{overviewKey:"swaptrade_history_notif_bridge_slippage_later",renderOverview:le},2520:{overviewKey:"swaptrade_history_notif_bridge_slippage_noref"},2598:{overviewKey:"swaptrade_history_notif_thirdparty_bridge_refund",renderOverview:le,hasCustomerService:!0},2599:{overviewKey:"swaptrade_history_notif_thirdparty_bridge",hasCustomerService:!0},3502:{overviewKey:e,renderOverview:le,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3504:{overviewKey:i?"swaptrade_history_notif_returned_contract":"swaptrade_servicefee_notif_returned_contract",renderOverview:le},3505:{overviewKey:i?"swaptrade_history_notif_returned_broadcast_failed":"swaptrade_servicefee_notif_returned_broadcast_failed",renderOverview:le},3506:{overviewKey:i?"swaptrade_history_notif_returned_low_fee":"swaptrade_servicefee_notif_returned_low_fee",renderOverview:le},3507:{overviewKey:e,renderOverview:le,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3508:{overviewKey:e,renderOverview:le,detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},3509:{overviewKey:e,renderOverview:le,detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},3510:{overviewKey:"swaptrade_history_notif_returned_accelerated_canceled",renderOverview:le},3511:{overviewKey:i?"swaptrade_history_notif_returned_insufficient":"swaptrade_servicefee_notif_returned_insufficient",renderOverview:le},3512:{overviewKey:"swaptrade_history_notif_returned_low_gas",renderOverview:le},3599:{overviewKey:i?"swaptrade_history_notif_returned_error":"swaptrade_servicefee_notif_returned_error",renderOverview:le,hasCustomerService:!0},9999:{overviewKey:"swaptrade_history_notif_error_contact_support",hasCustomerService:!0},4001:{overviewKey:"swaptrade_pop_dialog_desc_intent_error_retry"},4002:{overviewKey:"swaptrade_bridge_alert_desc_bridge_process_error",renderOverview:t=>({bridge:t?.bridgeInfo?.bridgeName})},4003:{overviewKey:"swaptrade_history_notif_desc_synapse_website_swap",renderOverview:ls,hasGuideUrl:!0},999999:{overviewKey:"swaptrade_history_modal_tips_update_balance"},2600:{overviewKey:"swaptrade_reminder_desc_debridge_refund",renderOverview:jt,hasGuideUrl:!0},2601:{overviewKey:"swaptrade_reminder_desc_wormhole_refund",renderOverview:jt,hasGuideUrl:!0},2602:{overviewKey:"swaptrade_reminder_desc_arbitrum_refund",renderOverview:t=>({...jt(t),min:t?.officialBridgeTime}),hasGuideUrl:!0},2603:{overviewKey:"swaptrade_reminder_desc_wanchain_blocklist",renderOverview:jt},2604:{overviewKey:"swaptrade_reminder_desc_wormhole_daily_limit",renderOverview:jt},2605:{overviewKey:"swaptrade_reminder_desc_wormhole_maximum_limit",renderOverview:jt},2606:{overviewKey:"swaptrade_reminder_desc_meson_liquidity",renderOverview:jt}}},Vi=ds;var ms=({errorCode:i,subOrder:e,onClickShadowToken:t=()=>{},orderId:o=""})=>{let r=We(Vi(),i);if(r){let n=s(r.overviewKey,r.renderOverview?r.renderOverview(e):void 0),{subOrderType:a}=e||{},l=r.hasGuideUrl?e?.guideUrl:"",d=Array.isArray(r.detailKeyList)?r.detailKeyList.map(f=>s(f)):[];return fr.default.createElement(rt,{overview:n,detailList:d,hasCustomerService:!!r.hasCustomerService,orderId:o,subOrderType:a,guideUrl:l})}else if(i==="3501"){let n=e?.dexBridgeShadowTokenPair;if(n&&e?.dexBridgeShadowTokenPairChainId){let a=()=>{t({from:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.shadowTokenAddress??""},to:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.realTokenAddress??""},inputAmount:n.needSwapAmount??""})};return fr.default.createElement(rt,{overview:s("swaptrade_reminder_text_trade_convert",{bridge:e?.bridgeInfo?.bridgeName,tokensymbol:e?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),subOrderTipText:s("swaptrade_function_notif_go_swap"),onClickSubOrderTip:a})}}return null},zi=oe(ms);m();c();var $i=x(q()),Yi=x(re());var cs=({isFold:i,className:e,children:t})=>$i.default.createElement("div",{className:(0,Yi.default)("font-12 flex-item",g.tip,e,{[g.tipFold]:i})},t),Do=cs;var ps=({isFold:i,subOrder:e={},insteadTip:t=null,onClickShadowToken:o=()=>{},orderId:r=""})=>{let n=String(e?.errorCode),a=(0,mo.useMemo)(()=>n&&n!=="0"?mo.default.createElement(zi,{errorCode:n,subOrder:e,onClickShadowToken:o,orderId:r}):null,[n,e,o,r]);return a&&!e?.isFromStart?mo.default.createElement(Do,{isFold:i},a):t},Po=ps;m();c();var Xi=x(q());var _s=()=>{let{facetStore:{launchFacetSwap:i,computedFacetTipParams:e}}=W(),t=()=>{i()};return Xi.default.createElement(rt,{overview:s("swaptrade_history_reminder_desc_pending_withdrawal",e),onClickSubOrderTip:t,subOrderTipText:s("swaptrade_confirmation_reminder_btn_finalize_withdrawals"),className:"mt-12"})},Zi=oe(_s);m();c();var Ae=x(q());var us=({tipType:i,isFold:e=!1,subOrder:t={},isTimeOut:o=!1,fromStatus:r="",bridgeStatus:n="",tipCountDownTime:a=0,needShowErrorTip:l=!1,isOriginBridge:d,hasTimeoutTips:f,timeoutType:T,isMemeModeOrder:h=!1,isMemeTimeOut:w=!1,bridgeId:b="",bridgeName:v="",blockProcess:k=-1})=>{let{content:E,hasBorderStyle:A}=(0,Ae.useMemo)(()=>{if(t.hasErrorCode)return{content:null};if(h&&w)return{content:s("swaptrade_history_modal_error_too_long")};let I=Lo({blockProcess:k,bridgeId:b});if(f){if(I)return{hasBorderStyle:!0,content:Ae.default.createElement(cr,{bridgeName:v,bridgeId:b})};if(T===ne.SINGLE_TIPS||T===ne.GAS)return{content:s("swaptrade_history_reminder_wait_patiently")};if(T===ne.BRIDGE)return{content:s("swaptrade_history_reminder_crossing_assets_thx",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName})}}return i===1?{content:Ae.default.createElement(Ae.default.Fragment,null,s(o?"swaptrade_history_reminder_exchanging_tokens_thx":"swaptrade_history_reminder_exchanging_tokens",{chain:t?.chainName,tokenSymbol1:t?.fromTokenSymbol,tokenSymbol2:t?.tipInfo?.toTokenSymbol}))}:i===2?I&&o?{hasBorderStyle:!0,content:Ae.default.createElement(cr,{bridgeName:v,bridgeId:b})}:{content:Ae.default.createElement(Ae.default.Fragment,null,s(o?"swaptrade_history_reminder_crossing_assets_thx":"swaptrade_history_reminder_crossing_assets",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName}))}:{content:null}},[i,t,o,f,T,h,w,k,b,v]),N=r===_.SpeedingUp||n===_.SpeedingUp?`[${s("swaptrade_list_colored_speeding_up")}] `:"";return E?Ae.default.createElement(Do,{isFold:e,className:A&&!e?g.borderTipWrapper:g.processTipWrapper},e&&!l&&Ae.default.createElement("span",{className:g.filterOrderPill},N,a!==0&&Ae.default.createElement("span",null,yo(a)," ")),d&&N&&Ae.default.createElement("span",{className:g.filterOrderPill},N),E):null},Fo=us;var fs=({isOriginBridge:i=!1,expireTime:e=0,isFold:t=!1,isLast:o=!1,fromStatus:r="",bridgeStatus:n="",foldTipToastData:a={foldTipType:"",currentProcessIsTimeOut:!0,tipCountDownTime:0,filterProcessItem:{},needShowErrorTip:!1},subOrder:l={},isWalletEnv:d=!1,onClickShadowToken:f=()=>{},isShow:T=!1,hasTimeoutTips:h,timeoutType:w,orderId:b="",isMemeModeOrder:v=!1,isMemeTimeOut:k=!1,bridgeId:E="",bridgeName:A="",blockProcess:N})=>{let{facetStore:{computedShowFacetTip:I}}=W();if(!T)return null;let{foldTipType:D,currentProcessIsTimeOut:H,tipCountDownTime:M,filterProcessItem:U,needShowErrorTip:G,foldBlockProcess:F}=a,X=t?U:l,Z={isFold:t,isWalletEnv:d,subOrder:o?l:X,onClickShadowToken:f,orderId:b},V=l?.tipType===xe.bridge?xe.bridge:"",J={tipType:t?D:V,isFold:t,subOrder:o?l:X,isTimeOut:i?e<1:H,fromStatus:r,bridgeStatus:n,tipCountDownTime:M,needShowErrorTip:G,isOriginBridge:i,hasTimeoutTips:h,timeoutType:w,isMemeModeOrder:v,isMemeTimeOut:k,bridgeId:E,bridgeName:A,blockProcess:t?F:N};if(o&&I)return je.default.createElement(Zi,null);let $=je.default.createElement(je.default.Fragment,null);return t?G?$=je.default.createElement(Po,{...Z}):$=o?je.default.createElement(Po,{...Z}):je.default.createElement(Fo,{...J}):h?$=je.default.createElement(Fo,{...J}):$=je.default.createElement(je.default.Fragment,null,je.default.createElement(Po,{...Z,insteadTip:o?null:je.default.createElement(Fo,{...J})})),$},hr=oe(fs);function hs({bridgeStatus:i,fromStatus:e,expireTime:t,stepCount:o,subOrdersList:r,foldTipToastData:n,subOrder:a,index:l,isParticipateActivity:d,swapTradeType:f,gasStationActivityReward:T,isFold:h,setIsFold:w,isWalletEnv:b,onClickShadowToken:v,timeoutSubOrder:k,orderId:E,mainOrderStatus:A,isMemeModeOrder:N,isMemeTimeOut:I,bridgeId:D,bridgeName:H,fromChainRefundInfo:M,getScrollContainer:U=()=>{}}){let{key:G,status:F,exploreUrl:X,chainName:Z,symbol:V,symbolLogo:J,amount:$,isFromStart:ue,hiddenExploreUrl:be,showProgressBar:fe,hasTimeoutTips:Ke,timeoutType:ze,blockProcess:ve}=a,Me=(0,O.useRef)(null),[Ne,nt]=(0,O.useState)(0),$e=o===2,Oe=F===_.Waiting,Te=[_.Succeed,_.ReadyToClaim,_.Claiming,_.ClaimFailed].includes(F),vt=i===_.SpeedingUp,Ue=l===0,me=l===r.length-1,Je=l===r.length-2,st=Ue||me,at="";$&&V&&(me&&Te?at="+":Ue&&(at="-"));let Ye=$e&&vt,kt=F!==_.Pending&&F!==_.SpeedingUp||Ye,Mt=[_.Pending,_.Waiting].includes(A),Ut=`${Ze(at,$)} ${V}`,Ge={isFold:h,isLast:me,isOriginBridge:$e,expireTime:t,fromStatus:e,bridgeStatus:i,foldTipToastData:n,subOrder:a,isWalletEnv:b,onClickShadowToken:v,hasTimeoutTips:Ke&&Mt,timeoutType:ze,orderId:E,isMemeModeOrder:N,isMemeTimeOut:I,bridgeId:D,bridgeName:H,blockProcess:ve};return k&&h&&Mt&&(Ge.timeoutType=k.timeoutType,Ge.hasTimeoutTips=k.hasTimeoutTips,Ge.blockProcess=k.blockProcess),(0,O.useEffect)(()=>{let lt=Me?.current?.getBoundingClientRect()?.width||0,Gt=Me?.current?.parentElement?.getBoundingClientRect()?.width||0;nt(Gt-lt-12)},[]),O.default.createElement("div",{className:(0,de.default)(g.item),key:G},Ue&&O.default.createElement("div",{className:(0,de.default)("font-14",g.label)},s("swaptrade_card_swap_label1_pay")),me&&O.default.createElement("div",{className:(0,de.default)("font-14",g.label,me&&g.last,(Oe||Ye)&&g.waiting)},s("swaptrade_card_swap_label2_receive")),O.default.createElement("div",{className:(0,de.default)("flex flex-row align-top",g.itemWrapper)},O.default.createElement("div",{className:g.itemWrapperLeft},O.default.createElement(Xt,{src:J,size:st?32:22,className:(0,de.default)("shrink-0",g.tokenBorder,{[g.waitingLogo]:Oe||Ye&&me})}),fe&&!h&&O.default.createElement(O.default.Fragment,null,O.default.createElement("div",{className:g["progress-bar"]},O.default.createElement("div",{className:(0,de.default)(g["progress-val"],{[g["progress-delay"]]:l===1})}))),me&&M.isFromChainRefund&&O.default.createElement("div",{className:g["progress-bar"]},O.default.createElement("div",{className:(0,de.default)(g["progress-val"],{[g["progress-delay"]]:l===1}),style:{height:"calc(100% + 44px)"}}))),O.default.createElement("div",{className:(0,de.default)(g.itemWrapperRight,{[g.boxPd]:!me&&!Je,[g.iconFontCenters]:!st})},O.default.createElement("div",{className:(0,de.default)("flex align-items-center",{[g["position-relative"]]:!me&&!Je})},O.default.createElement("div",{className:g.token},O.default.createElement("div",{className:(0,de.default)("flex justify-between align-items-center")},O.default.createElement("div",{className:(0,de.default)(g.amount,{[g.flexGrow0]:!($&&V),[g.lastSucceed]:me&&Te,[g.activity]:d,[g.tokenAmountBig]:st,[g.tokenAmountSmall]:!st})},$&&V?O.default.createElement("div",{className:(0,de.default)("flex flex-item"),style:{maxWidth:`${Ne}px`}},O.default.createElement(mt,{title:Ut,textOverflow:{text:Ut},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300,getScrollContainer:U},O.default.createElement("div",{className:(0,de.default)(g.tokenAmountWrapper,{[g.textOverflow]:!d,[g.amountOverflow]:d},d?"flex align-items-center flex-1 shrink-0":""),style:{maxWidth:`${Ne}px`}},O.default.createElement("span",{className:g.tokenAmountContent},Ze(at,$)," "),O.default.createElement("span",{className:g.symbolColor},V))),S.GasStation===f&&me&&d&&Te&&O.default.createElement("div",{className:(0,de.default)("inline-flex align-items-center",g.extraGain)},O.default.createElement("div",{className:(0,de.default)("font-12")},s("swaptrade_order_tag_won_value",{percentage:Number(T.discount)*100})))):O.default.createElement(O.default.Fragment,null,!Ye&&O.default.createElement(qi,{subOrder:a,isLast:me}),kt&&O.default.createElement("span",{className:(0,de.default)({[g.waitingSymbol]:Oe||Ye})},"--",O.default.createElement(ni,{tokenSymbol:V,className:g.symbolColor}))),f!==S.SingleChain&&f!==S.GasStation?O.default.createElement("div",{className:(0,de.default)(g.chainName,Oe&&g.waiting)},Z):null),O.default.createElement("div",{ref:Me,className:(0,de.default)("flex justify-content-end",g.statusBox,g.textOverflow,g.flexGrow0)},Ue&&!$e&&O.default.createElement(z,{className:(0,de.default)(g.foldArrow,{"okx-defi-dex-arrow-down":h,"okx-defi-dex-arrow-up":!h}),onClick:()=>{w(lt=>!lt)},size:24}),O.default.createElement(Wi,{isFromStart:ue,exploreUrl:X,hiddenExploreUrl:be,index:l}))))),O.default.createElement(hr,{...Ge,isShow:!h||me}))),O.default.createElement(hr,{...Ge,isShow:h&&!me}))}var Qi=oe(hs);function gs({subOrders:i,mainOrderStatus:e,swapTradeType:t,className:o="",gasToken:r,networks:n,orderInfo:a,isWalletEnv:l=!1,expireTime:d,foldTipToast:f,bridgeStatus:T,fromStatus:h,onClickShadowToken:w,fromChainRefundInfo:b,getScrollContainer:v}){let{gasStationActivityReward:k,orderId:E,status:A,isMemeModeOrder:N,isMemeTimeOut:I,bridgeId:D,bridgeName:H}=a,M=Number(k?.isParticipateActivity)===1,U=ji(e),[G,F]=(0,Tt.useState)(U!==_.Pending),X=G?[i[0],i[i.length-1]]:i,Z=i.find(V=>V.hasTimeoutTips);return Tt.default.createElement("div",null,Tt.default.createElement("div",{className:(0,Ji.default)(g.wrapper,{[g.wallet]:l},o)},X.map((V,J)=>Tt.default.createElement(Qi,{bridgeStatus:T,fromStatus:h,key:`${V.key}_${J}`,expireTime:d,stepCount:i.length,subOrdersList:X,foldTipToastData:f,subOrder:V,index:J,isParticipateActivity:M,swapTradeType:t,gasStationActivityReward:k,isFold:G,setIsFold:F,isWalletEnv:l,onClickShadowToken:w,timeoutSubOrder:Z,orderId:E,mainOrderStatus:A,isMemeModeOrder:N,isMemeTimeOut:I,bridgeId:D,bridgeName:H,fromChainRefundInfo:b,getScrollContainer:v})),Tt.default.createElement(Mi,{...b}),Tt.default.createElement(Ui,{gasToken:r,networks:n,mainOrderStatus:e,isWalletEnv:l})))}var Ri=gs;m();c();m();c();m();c();var wt=()=>{let{replace:i}=si(!0),{recentTransactionStore:e}=W(),{computedDataDetail:t,computedFromToInfo:o}=e,{data:r}=t,n=He()?{[S.LimitOrder]:bo,[S.SingleChain]:bo,[S.GasStation]:bo}:{[S.LimitOrder]:Vr,[S.SingleChain]:no,[S.GasStation]:no,[S.MemeMode]:r?.isNativeToken4FromToken==="1"?no+$r:no+zr},a=He()?Kr:qr;return l=>{let d=n[r.swapTradeType]||a;i({pathname:d,params:l||o.locationParams})}};var en=()=>{let i=wt();return e=>{i(e)}};m();c();var tn=()=>{let{commonStore:i}=W(),{computedIsWalletEnv:e,forceUpdateFromTo:t}=i,o=wt();return r=>{o(r),e&&t?.()}};m();c();var on=()=>{let{recentTransactionStore:i,fromToStore:e,commonStore:t}=W(),{computedIsWalletEnv:o,forceUpdateFromTo:r}=t,{beforeCheckUrl:n}=e,{computedFromToInfo:a}=i,l=wt();return async()=>{!await n(a.apiRequestParams)||(l(),o&&r?.())}};m();c();m();c();oo();ro();m();c();function rn(i){return![...Object.values(i?.from||{}),...Object.values(i?.to||{})].some(e=>e)}m();c();oo();var ku=(i,e)=>!!i.find(o=>Number(e)===Number(o.chainId)),nn=i=>{if(!i)return!1;let{fromChainId:e,toChainId:t,fromTokenAddress:o,toTokenAddress:r}=i,n=[Se(e)&&o,Se(t)&&r];return!!Cr(n,Boolean)};var Ts=()=>({from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}}),Mu={BRIDGE:"bridge",SWAP:"swap"},yt=class{constructor(e,t={},o={}){p(this,"setTab",e=>{this.tab=e});p(this,"hasFromToToken",e=>this.tab===B.LIMIT_ORDER?!Ct(e?.data?.fromToken)&&!Ct(e?.data?.toToken):!Ct(e?.data?.fromTokenInfo)&&!Ct(e?.data?.toTokenInfo));p(this,"getWidgetVersionParams",()=>!this.config.widgetVersion||this.tab===B.LIMIT_ORDER?{}:this.tab===B.BRIDGE?{widgetVersion:this.config.widgetVersion}:{widgetVersion:this.config.widgetVersion,widgetChainIds:this.config.widgetChainIds});p(this,"fetchSingleChainTokens",async({fromTokenAddress:e,toTokenAddress:t,chainId:o})=>{let[r,n]=await we(Ie.get(jr,{params:{fromTokenAddress:e,toTokenAddress:t,chainId:o,...this.getWidgetVersionParams()}}));return[r,n]});p(this,"generateSingleChainTokenPair",async({walletChainId:e,...t})=>{let r={chainId:Se(t.fromChainId)?t.fromChainId:t.toChainId,fromTokenAddress:t.fromTokenAddress,toTokenAddress:t.toTokenAddress};if(Se(r.chainId)){let[l,d]=await this.fetchSingleChainTokens(r);if(!l&&this.hasFromToToken(d))return[l,d]}if(Se(e)){let[l,d]=await this.fetchSingleChainTokens({chainId:e});if(!l&&this.hasFromToToken(d))return[l,d]}let[n,a]=await this.fetchSingleChainTokens({chainId:go});return[n,a]});p(this,"fetchCrossChainTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:o,toTokenAddress:r})=>{let[n,a]=await we(Ie.get(Yo,{params:{chainId:e,toChainId:t,fromTokenAddress:o,toTokenAddress:r,...this.getWidgetVersionParams()}}));return[n,a]});p(this,"generateCrossChainTokenPair",async({walletChainId:e,...t})=>{if(Se(t.fromChainId)||Se(t.toChainId)){let n={...t},{hasFrom:a,hasTo:l}=yt.checkTokenParams({chainId:t.fromChainId,tokenContractAddress:t.fromTokenAddress},{chainId:t.toChainId,tokenContractAddress:t.toTokenAddress});Xr(t.fromChainId,t.toChainId)&&(a?n={fromChainId:t.fromChainId,fromTokenAddress:t.fromTokenAddress}:l&&(n={toChainId:t.toChainId,toTokenAddress:t.toTokenAddress}));let[d,f]=await this.fetchCrossChainTokens(n);if(!d&&this.hasFromToToken(f))return[d,f]}if(Se(e)){let[n,a]=await this.fetchCrossChainTokens({fromChainId:e});if(!n&&this.hasFromToToken(a))return[n,a]}let[o,r]=await this.fetchCrossChainTokens({fromChainId:go});return[o,r]});p(this,"fetchLimitOrderRecommendTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:o,toTokenAddress:r})=>{let[n,a]=await we(Ie.get(Mr,{params:{fromChainId:e,toChainId:t,fromTokenAddress:o,toTokenAddress:r}}));return[n,a]});p(this,"generateLimitOrderTokenPair",async({walletChainId:e,...t})=>{let o=Se(t.fromChainId),n=Se(t.toChainId)?t.fromChainId===t.toChainId:!0;if(o&&n){let[d,f]=await this.fetchLimitOrderRecommendTokens(t);if(!d&&this.hasFromToToken(f))return[d,f]}if(Se(e)){let[d,f]=await this.fetchLimitOrderRecommendTokens({fromChainId:e});if(!d&&this.hasFromToToken(f))return[d,f]}let[a,l]=await this.fetchLimitOrderRecommendTokens({fromChainId:go,fromTokenAddress:""});return[a,l]});p(this,"getTokenPairByResponseData",e=>this.tab===B.LIMIT_ORDER?{from:e?.fromToken,to:e?.toToken}:{from:e?.fromTokenInfo,to:e?.toTokenInfo});p(this,"generateTokenAndTabConfig",({error:e,data:t})=>{if(e)return{error:e,from:null,to:null,tab:this.tab};let{from:o,to:r}=this.getTokenPairByResponseData(t);return{error:null,from:o,to:r,tab:this.tab}});p(this,"checkInputAmount",e=>{let t=zt.BigNumber(e);return!t.isNaN()&&t.isFinite()&&t.gt(0)?t.toString():""});p(this,"generateInitConfigByParams",async({from:e,to:t,inputAmount:o,walletChainId:r})=>{let n=this.checkInputAmount(o),a={fromChainId:e.chainId,toChainId:t.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:t.tokenContractAddress,walletChainId:r};if(this.tab===B.BRIDGE){let[l,d]=await this.generateCrossChainTokenPair(a);return{...this.generateTokenAndTabConfig({error:l,data:d.data}),inputAmount:n}}if(this.tab===B.SWAP){let[l,d]=await this.generateSingleChainTokenPair(a);return{...this.generateTokenAndTabConfig({error:l,data:d.data}),inputAmount:n}}if(this.tab===B.LIMIT_ORDER){let[l,d]=await this.generateLimitOrderTokenPair(a);return{...this.generateTokenAndTabConfig({error:l,data:d.data}),inputAmount:n}}return{error:new Error("tab is not valid"),from:null,to:null,tab:this.tab,inputAmount:n}});this.setTab(e),this.dexParams=t,this.config=o}makeDexParams(){let{dexParams:e}=this;return rn(e)?this.readInfoFromLocalStorage():e}async initTokenPair(e){let t=this.makeDexParams(),{from:o,to:r,tab:n,inputAmount:a,error:l}=await this.generateInitConfigByParams({...t,walletChainId:e});return{from:o,to:r,tab:n,inputAmount:a,error:l}}async switchTabAndInitToken(e){let t=this.makeDexParams(),{from:o,to:r,tab:n,inputAmount:a,error:l}=await this.generateInitConfigByParams({...t,tab:e});return{from:o,to:r,tab:n,inputAmount:a,error:l}}readInfoFromLocalStorage(){let e=Ts(),t;switch(this.tab){case B.SWAP:t=Le.get(Wo);break;case B.BRIDGE:t=Le.get(Ho);break;case B.LIMIT_ORDER:t=Le.get(qo)||Le.get(zo)?.LIMIT_ORDER;break;default:break}let o={from:{...e.from,...t?.from},to:{...e.to,...t?.to}};return t?.from?.tokenContractAddress?o:e}writeTabInfoToLocalStorage(e){yt.writeTabInfoToLocalStorage(this.tab,e)}static writeTabInfoToLocalStorage(e,t){switch(e){case B.SWAP:Le.set(Wo,t);break;case B.BRIDGE:Le.set(Ho,t);break;case B.LIMIT_ORDER:Le.set(qo,t);break;default:break}}},St=yt;p(St,"checkTokenParams",(e,t)=>{let o=nn({fromChainId:e?.chainId,toChainId:t?.chainId,fromTokenAddress:e?.tokenContractAddress,toTokenAddress:t?.tokenContractAddress}),r=Se(e?.chainId)&&!!e?.tokenContractAddress,n=Se(t?.chainId)&&!!t?.tokenContractAddress;return{isValid:o,hasFrom:r,hasTo:n}}),p(St,"judgeTabTypeByChainId",async e=>{let[t,o]=await we(Ie.get(Ur));if(t)return B.SWAP;let{swap:r=[],bridge:n=[]}=o.data;return r.includes(jo(e))?B.SWAP:n.includes(jo(e))?B.BRIDGE:B.SWAP}),p(St,"judgeTabTypeByParams",async(e,t)=>{let{isValid:o,hasFrom:r,hasTo:n}=yt.checkTokenParams(e,t);if(!o)return B.SWAP;let a=e?.chainId,l=t?.chainId;if(r&&n)return a===l?B.SWAP:B.BRIDGE;let d;return r&&!n&&(d=a),!r&&n&&(d=l),await yt.judgeTabTypeByChainId(d)}),p(St,"formatDialogParams",e=>({from:{chainId:e?.fromChainId,tokenContractAddress:e?.fromTokenAddress},to:{chainId:e?.toChainId,tokenContractAddress:e?.toTokenAddress}})),p(St,"getDialogInitTab",async e=>{let{from:t,to:o}=yt.formatDialogParams(e);return await yt.judgeTabTypeByParams(t,o)});var sn=St;m();c();var Bo=i=>i.swapTradeType===S.LimitOrder?B.LIMIT_ORDER:[S.SingleChain,S.GasStation].includes(i.swapTradeType)?B.SWAP:B.BRIDGE;var an=()=>{let{recentTransactionStore:i,commonStore:e}=W(),{setCurrentTab:t,forceUpdateFromTo:o}=e,{computedDataDetail:r,computedFromToInfo:n}=i,{data:a}=r,l=ai();return d=>{let f=Bo(a),T=l(d?.from||n.locationParams.from,d?.to||n.locationParams.to);T&&f&&(new sn(f).writeTabInfoToLocalStorage(T),i.closeModal(),t(f),o?.())}};m();c();var ln=()=>{let{recentTransactionStore:i,commonStore:e}=W(),{forceUpdateFromTo:t}=e,o=wt();return r=>{let{computedDataDetail:n}=i,{data:a}=n;if(a){let l=Bo(a);e.setCurrentTab(l)}i.closeModal(),o(r),t?.()}};var dn=()=>{let i=ln(),e=an(),t=on(),o=tn(),r=en(),{commonStore:n}=W(),{computedIsUrlFillSwap:a}=n;return async(l,d)=>{let{portal:f}=n;if(a||Zr()){l?o(d):await t();return}if(f===Vo.MARKET){r(d);return}if(f===Vo.DEX){i(d);return}e(d)}};m();c();var bt={wrapper:"_wrapper_o0822_1",abnormal:"_abnormal_o0822_10",info:"_info_o0822_18","footer-has-btn":"_footer-has-btn_o0822_21",footerHasBtn:"_footer-has-btn_o0822_21"};function gr({children:i,className:e}){let t=He();return ce.default.createElement("div",{className:(0,co.default)(bt.wrapper,{[bt.widgetWrapper]:t},e)},ce.default.createElement("div",{className:(0,co.default)(bt.abnormal,"flex align-items-center justify-content-center")},i))}function ws({orderId:i,className:e,isDialog:t,onClose:o,getScrollContainer:r}){let{recentTransactionStore:n,sendTransactionStore:a,fromToStore:l,accountStore:d}=W(),{computedSubOrders:f,computedOrderInfo:T,expireTime:h,computedCurrentHistoryTabIsLimit:w,computedDataDetail:b,computedLimitOrderInfo:v,computedPendingTimingStatus:k,setDetail:E,setLimitDetail:A,computedFoldTipToast:N,computedStepStatus:{bridgeStatus:I,fromSwapStatus:D},computedIfSwapFailedAmount:H,computedFirstTimeoutSubOrderBlockProcess:M,computedFromChainRefundInfo:U}=n,{orderContinueStatus:G}=l,{data:F,error:X,loading:Z}=b,V=Nt();(0,ce.useEffect)(()=>{(F?.status===_.ReadyToClaim||F?.status===_.Claiming)&&li("bridge_claim")},[F?.status]),(0,ce.useEffect)(()=>(i&&n.updateDetail(i),()=>{E({data:null,loading:!1,error:!1}),A({data:null,loading:!1,error:!1})}),[i,n,E,A]),(0,ce.useEffect)(()=>{i&&Jr({wallet_address:d.computedAccountWalletAddresses,order_id:i})},[i,d.computedAccountWalletAddresses]);let J=async()=>{pt({wallet_address:d.computedAccountWalletAddresses,order_id:i,button_name:"cancel_limit_order"});let fe=We(F,"fromChildOrderDetailVO.fromChainId");await a.cancelLimitOrder(F,{chainId:fe,walletId:d.computedAccountId,userWalletAddress:d.getAddressByChainId(fe)})},$=dn(),ue=async()=>{o?.(),n.closeDialog(),pt({wallet_address:d.computedAccountWalletAddresses,order_id:i,button_name:"trade_again"}),$(!1)},be=fe=>{pt({wallet_address:d.computedAccountWalletAddresses,order_id:i,button_name:"bridge_token_exchange"}),$(!0,fe)};return X?ce.default.createElement(gr,null,ce.default.createElement(Ti,{onButtonClick:()=>{n.updateDetail(i)}})):Z?ce.default.createElement(gr,null,ce.default.createElement(qt.Circle,{type:qt.TYPE.neutral})):F?ce.default.createElement("div",{className:(0,co.default)(bt.wrapper,e)},w&&ce.default.createElement(Ai,{order:v,isWalletEnv:V,onClick:J,onClickSwapAgain:ue,orderContinueStatus:G,isDialog:t}),!w&&ce.default.createElement(Fi,{order:T,expireTime:h,computedPendingTimingStatus:k,isWalletEnv:V,onClickSwapAgain:ue,computedIfSwapFailedAmount:H,orderContinueStatus:G,isDialog:t,firstBlockProcess:M}),!w&&ce.default.createElement(Ri,{expireTime:h,mainOrderStatus:F.status,bridgeStatus:I,fromStatus:D,foldTipToast:N,subOrders:f,className:bt.content,swapTradeType:F.swapTradeType,gasToken:T.gasToken,orderInfo:T,networks:T.networks,isWalletEnv:V,onClickShadowToken:be,fromChainRefundInfo:U,getScrollContainer:r}),w&&ce.default.createElement(Ii,{isWalletEnv:V,orderInfo:v}),ce.default.createElement(ki,{className:(0,co.default)(bt.info,{[bt.footerHasBtn]:T?.showSwapAgainBtn&&!t||v?.showSwapAgainBtn&&!t||[K.OPEN].includes(v?.status)}),isLimit:w,orderInfo:w?v:T,gasToken:w?{}:T.gasToken,isWalletEnv:V})):ce.default.createElement(gr,null,ce.default.createElement(oi,{description:s("swaptrade_recent_transaction_dialog_no_data_desc")}))}var Kf=oe(ws);export{zm as a,ku as b,nn as c,Io as d,Ro as e,Lt as f,di as g,ot as h,Jt as i,_ as j,xa as k,se as l,Mu as m,sn as n,Kf as o};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-YWECPG37.js.map

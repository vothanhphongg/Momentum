import{a as H}from"./chunk-FB3YF34C.js";import{a as G,c as M,d as f}from"./chunk-IIAVVYHZ.js";import{a as F}from"./chunk-TJCPJQIM.js";import{d as P,p as R}from"./chunk-IRMYAC6R.js";import{e as O}from"./chunk-JCM7SRK2.js";import{gb as b}from"./chunk-YALUYHLV.js";import{g as B}from"./chunk-CZ2ZBAZV.js";import{ec as j}from"./chunk-HPWCPLRR.js";import{a as q}from"./chunk-ON6S2DB7.js";import{c}from"./chunk-43VURGIT.js";import{ad as W,rd as Z}from"./chunk-TM67VPZU.js";import{A as C,G as S,d as E}from"./chunk-PUSMMCUD.js";import{R as k,z as i}from"./chunk-UWJLNJLY.js";import{j as L,ra as z}from"./chunk-XDY6V34Y.js";import{$ as I,W as y,c as D}from"./chunk-JT3LNHPY.js";import{b as x}from"./chunk-JWYCKY2V.js";import{f as m,o as l,q as a}from"./chunk-6KXF36WM.js";l();a();var g=m(x()),v=(r,t=r.showMe)=>(0,g.memo)(n=>t(n)?g.default.createElement(r,{...n}):null),U=v;l();a();var o=m(x()),V=m(j()),N=m(D());z();k();Z();l();a();var u={root:"_root_16sie_1",main:"_main_16sie_4",notAllowed:"_notAllowed_16sie_9",iconWrap:"_iconWrap_16sie_20",loader:"_loader_16sie_26",icon:"_icon_16sie_20",btnText:"_btnText_16sie_36"};var K=({keyringIdentity:r,createdCb:t})=>{let n=R(),e=(0,V.useSelector)(B),[s,_]=(0,o.useState)(!1),h=(0,o.useCallback)(async()=>{e||s||(_(!0),n(r?.keyringId).then(p=>{_(!1),p&&t(p)}).catch(p=>{p.message===P&&S.error({title:i("wallet_extension_error_reminder_system_busy")}),_(!1)}))},[s,t,n,r,e]),T=(0,o.useMemo)(()=>{if(e)return i("wallet_extension_addaccount_text_feature_unavailable")},[e]);return o.default.createElement(C,{title:T,className:u.root,placement:C.DIRECTION.top,maxWidth:328},o.default.createElement(c.FlexBox,{align:c.ALIGN.center,onClick:()=>{H({confirmText:i("wallet_extension_onboard_checkbox_i_understand"),callback:h})},className:(0,N.default)(u.main,{[u.notAllowed]:e})},o.default.createElement(c.FlexBox,{align:c.ALIGN.center,justify:c.ALIGN.center,className:u.iconWrap},s?o.default.createElement(I.Circle,{className:u.loader,size:I.SIZE.md}):o.default.createElement(y,{className:(0,N.default)("okx-wallet-plugin-plus",u.icon)})),o.default.createElement(c.Box,{className:u.btnText},i("wallet_manage_wallet_btn_add_acoount"))))},Y=r=>{let{keyringIdentity:t,keyword:n,isRpcMode:e}=r;return n?!1:t?.keyringIdentityType===W.MNEMONIC&&L(t,"walletIdentities.0.needBackup",0)!==1?!0:O(t?.initialType)?!e:(F(t?.keyringIdentityType),!1)},Tt=U(K,Y),Et=K;l();a();var d=m(x()),$=m(q());k();var bt=({keyringIdentity:r,className:t})=>{let n=(0,$.useHistory)(),{accountStatus:e,mpcStatus:s}=r?.status||{},_=(0,d.useMemo)(()=>{switch(!0){case s===f.RECOVER:return i("wallet_extension_mpc_alert_scanqr_sync");case s===f.ESCAPE:return i("wallet_extension_mpc_alert_keyless_escaped");case e===M.FROZEN:return i("wallet_extension_mpc_alert_account_frozen");case e===M.DELETE:return i("wallet_extension_mpc_alert_account_closed");default:return""}},[e,s]),h=()=>{switch(!0){case s===f.RECOVER:return d.default.createElement(y,{className:"okx-wallet-plugin-right"});default:return null}},T=()=>{switch(!0){case s===f.RECOVER:{let p=r?.walletIdentities?.[0]?.walletId;n.push(`${b}?action=${G.RECOVER}&walletId=${p}`);break}default:break}};return _?d.default.createElement(c.Box,{className:t},d.default.createElement(E,{title:_,type:E.TYPE.warn,closable:!1,rightActionText:h(),onRightAction:T})):null};l();a();var A=m(x()),J=3e3,Q=()=>{let[r,t]=(0,A.useState)(),n=(0,A.useCallback)(e=>{t(e),setTimeout(()=>{t("")},J)},[]);return[r,n]},Rt=Q;export{U as a,Tt as b,Et as c,bt as d,Rt as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-PISIEKSB.js.map

import{b as K}from"./chunk-XPBGCEDJ.js";import{a as q}from"./chunk-2MXPW7CS.js";import{a as Q}from"./chunk-3USV7RH4.js";import{b as v}from"./chunk-W4FUIZTR.js";import{a as d,l as W,m as w,n as G}from"./chunk-ZE7UTNU6.js";import{b as E,c as h}from"./chunk-H6SNSZIS.js";import{j as B}from"./chunk-ECQND2NK.js";import{Oa as b,ka as y}from"./chunk-FTRHGHDS.js";import{c as t,d as o,e as F,j as k,k as P}from"./chunk-A6Z53EN6.js";import{E as g,R as ee}from"./chunk-UWJLNJLY.js";import{j as n,ra as D}from"./chunk-XDY6V34Y.js";import{o as p,q as u}from"./chunk-6KXF36WM.js";p();u();p();u();p();u();D();ee();p();u();var N=class{constructor(){P(this,{updateByKey:F.bound,update:F.bound})}updateByKey(i,e){this[i]=e}update(i){Object.keys(i).forEach(e=>{this[e]=i[e]})}},X=N;p();u();var me={[E.DYNAMIC]:1,[E.FIXED]:2};var ce={[d.MARKET]:1,[d.FAST]:2,[d.TURBO]:3,[d.CUSTOM]:4},de=[{name:"swaptrade_preset_segmentedctl_buy_settings",type:"buy"},{name:"swaptrade_preset_segmentedctl_sell_settings",type:"sell"}];p();u();D();function C(m,i){let e=n(m,"feeConfig",{}),s=i===1?e.limitOrderMin:e.min,a=i===1?e.limitOrderMax:e.max,r=i===1?e.limitOrderFeeOptions:e.feeOptions,c=r?.find(_=>_.selected===!0),l=c?.feeValue,S=W[c?.feeLevel-1],f={[d.MARKET]:{amount:r?.[0]?.feeValue,price:""},[d.FAST]:{amount:r?.[1]?.feeValue,price:""},[d.TURBO]:{amount:r?.[2]?.feeValue,price:""}};return{value:l,type:S,max:a,min:s,recommendMaxValue:a,recommendMinValue:s,config:f}}p();u();D();function Y({presetWithDirection:m,dynamicSupportMax:i}){let e=n(m,"slippageConfig",{}),{slippageType:s,slippageRange:a,fixedMin:r,fixedMax:c,fixedRecommendMax:l,fixedRecommendMin:S,dynamicMin:f,dynamicMax:_,dynamicRecommendMinValue:I,dynamicRecommendMaxValue:M,dynamicMaxSlippageValue:x}=e,A=a?.find(L=>L.selected===!0),U=A?.slippageValue,O=w[A?.slippageLevel-1],R={[h.LOW]:a?.[0]?.slippageValue,[h.MEDIUM]:a?.[1]?.slippageValue,[h.HIGH]:a?.[2]?.slippageValue};return{mode:s===1?E.DYNAMIC:E.FIXED,supportCustomMax:i,dynamicMax:_,dynamicMin:f,recommendMax:M,recommendMin:I,customMax:x,value:U,type:O,config:R,min:r,max:c,fixedRecommendMax:l,fixedRecommendMin:S}}var V=class extends X{constructor(){super();this.userWalletAddress="";this.accountId="";this.chainId="";this.tradeScene=0;this.firstFetchPresetStatus=!1;this.fetchConfigStatus=y.DEFAULT;this.fetchSaveStatus=y.DEFAULT;this.fetchResetStatus=y.DEFAULT;this.nativeTokenInfo={};this.mevPriceThreshold="";this.dynamicSupportMax=!0;this.presetsList=[];this.presetSelectType=2;this.selectTradeMode="buy";this.editPresetsList=[];this.presetEditType=2;this.editTradeMode="buy";this.quickBuyAmount="";this.quickBuyPresetGuide=0;P(this,{userWalletAddress:t,accountId:t,chainId:t,firstFetchPresetStatus:t,fetchConfigStatus:t,fetchSaveStatus:t,fetchResetStatus:t,presetsList:t,presetSelectType:t,tradeScene:t,selectTradeMode:t,nativeTokenInfo:t,computedSelectPreset:o,quickBuyAmount:t,quickBuyPresetGuide:t,computedSelectPresetWithDirection:o,computedSelectRouterModeType:o,computedSelectPriorityMode:o,computedSelectManualType:o,computedSelectSlippageState:o,computedSelectNoQuotePriorityFeeState:o,editPresetsList:t,presetEditType:t,editTradeMode:t,computedEditPreset:o,computedEditPresetWithDirection:o,computedChainName:o,computedChainSymbol:o,computedEditRouterModeType:o,computedEditPriorityMode:o,computedEditManualType:o,computedEditSlippageState:o,computedEditNoQuotePriorityFeeState:o,mevPriceThreshold:t,dynamicSupportMax:t})}get computedSelectPreset(){let e=this.presetsList.find(s=>s.presetType===this.presetSelectType);return e||{}}get computedSelectPresetWithDirection(){return this.selectTradeMode==="buy"?n(this.computedSelectPreset,"buyPreset",{}):n(this.computedSelectPreset,"sellPreset",{})}get computedEditPreset(){let e=this.editPresetsList.find(s=>s.presetType===this.presetEditType);return e?k(e):{}}get computedEditPresetWithDirection(){return this.editTradeMode==="buy"?n(this.computedEditPreset,"buyPreset",{}):n(this.computedEditPreset,"sellPreset",{})}get computedQuickBuyMevStatus(){let e=n(this.computedSelectPresetWithDirection,"routeConfig.routerModeType"),s={[1]:1,[3]:7,[2]:4};return G(s[e])}get computedQuickBuySlippage(){let{slippageType:e,slippageRange:s}=this.computedSelectPresetWithDirection.slippageConfig||{},a=s?.find(c=>c.selected);return e===1?g("swaptrade_slippage_cell_label_dynamic"):a?.slippageValue||""}get computedQuickBuyFee(){let e="",a=n(this.computedSelectPresetWithDirection,"feeConfig.feeOptions",[]).find(l=>l.selected),r=a?.feeLevel,c=a?.feeValue||"";switch(r){case 1:e=g("swaptrade_modal_dialog_option_market");break;case 2:e=g("swaptrade_modal_dialog_option_fast5x");break;case 3:e=g("swaptrade_modal_dialog_option_turbo10x");break;default:e=c;break}return e}get computedChainName(){return n(this.nativeTokenInfo,"chainName","")}get computedChainSymbol(){return n(this.nativeTokenInfo,"tokenSymbol","")}get computedSelectRouterModeType(){return n(this.computedSelectPresetWithDirection.routeConfig,"routerModeType",1)}get computedSelectPriorityMode(){return this.computedSelectRouterModeType===1?"auto":"manual"}get computedSelectManualType(){return this.computedSelectRouterModeType===3?1:0}get computedSelectSlippageState(){return Y({presetWithDirection:this.computedSelectPresetWithDirection,dynamicSupportMax:this.dynamicSupportMax})}get computedSelectNoQuotePriorityFeeState(){return C(this.computedSelectPresetWithDirection,this.tradeScene)}get computedEditRouterModeType(){return n(this.computedEditPresetWithDirection.routeConfig,"routerModeType",1)}get computedEditPriorityMode(){return this.computedEditRouterModeType===1?"auto":"manual"}get computedEditManualType(){return this.computedEditRouterModeType===3?1:0}get computedEditSlippageState(){return Y({presetWithDirection:this.computedEditPresetWithDirection,dynamicSupportMax:this.dynamicSupportMax})}get computedEditNoQuotePriorityFeeState(){return C(this.computedEditPresetWithDirection,this.tradeScene)}},j=new V;var J=()=>{let{currentPreset:m}=Q();if(b()){let{slippage:i}=m;return i}return j.computedSelectSlippageState};var lt=(m=B)=>{let{useMemeStore:i}=v().hooks,{accountStore:e,buyStore:s,sellStore:a,quoteStore:r,configStore:c}=i(),{currentMode:l}=c,{queryParams:S}=K(),f=l==="buy"||S?.get("tab")==="buy",_=J(),{chainId:I,chainName:M}=q(),x=e?.getAddressByChainId(I);return({button_name:A,custom_or_auto:U,popup_type:O,tab_name:R,type:L,receive_value:Z,paid_value:z,value_diff:$})=>{m&&m({button_name:A,custom_or_auto:U,popup_type:O,type:L,tab_name:R,wallet_address:x,from_token_address:r?.computedGetQuoteFrom?.tokenContractAddress,from_token_amount:r?.computedGetQuoteFromAmount,from_amount_usdt:r?.computedFromTokenValue,to_token_address:r?.computedGetQuoteTo?.tokenContractAddress,to_token_amount:r?.computedGetQuoteToAmount,to_amount_usdt:r?.computedToTokenValue,swap_type:"swap",balance_bracket:f?s?.fromToken?.amountNum:a?.toToken?.amountNum,slippage:{type:_?.type,amount:_?.value},trade_dialog:"no",from_chain:M,to_chain:M,chain:M,receive_value:Z,paid_value:z,value_diff:$})}};export{lt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-E6D4MUZI.js.map

import{a as Pn}from"./chunk-GCQ4H2BA.js";import{a as yr,b as Ve,o as Ne,s as _r}from"./chunk-UVFOW4HH.js";import{g as ne}from"./chunk-LNOPECCQ.js";import{c as N}from"./chunk-43VURGIT.js";import{H as wr,e as te,o as Ir}from"./chunk-PUSMMCUD.js";import{E as D,R as $n}from"./chunk-UWJLNJLY.js";import{r as xr,ra as Cn}from"./chunk-XDY6V34Y.js";import{ea as O}from"./chunk-JT3LNHPY.js";import{b as bn}from"./chunk-JWYCKY2V.js";import{b as Rn}from"./chunk-ONKZ57T6.js";import{c as x,f as He,h as ue,n as process,o as u,p as h,q as f}from"./chunk-6KXF36WM.js";var fe=x((Ui,Tr)=>{u();f();var zn="2.0.0",Wn=Number.MAX_SAFE_INTEGER||9007199254740991,Kn=16;Tr.exports={SEMVER_SPEC_VERSION:zn,MAX_LENGTH:256,MAX_SAFE_INTEGER:Wn,MAX_SAFE_COMPONENT_LENGTH:Kn}});var de=x((Mi,Nr)=>{u();f();var Yn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Nr.exports=Yn});var K=x((V,Ar)=>{u();f();var{MAX_SAFE_COMPONENT_LENGTH:We}=fe(),Zn=de();V=Ar.exports={};var Jn=V.re=[],m=V.src=[],E=V.t={},Qn=0,w=(t,e,r)=>{let n=Qn++;Zn(n,e),E[t]=n,m[n]=e,Jn[n]=new RegExp(e,r?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*");w("NUMERICIDENTIFIERLOOSE","[0-9]+");w("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");w("MAINVERSION",`(${m[E.NUMERICIDENTIFIER]})\\.(${m[E.NUMERICIDENTIFIER]})\\.(${m[E.NUMERICIDENTIFIER]})`);w("MAINVERSIONLOOSE",`(${m[E.NUMERICIDENTIFIERLOOSE]})\\.(${m[E.NUMERICIDENTIFIERLOOSE]})\\.(${m[E.NUMERICIDENTIFIERLOOSE]})`);w("PRERELEASEIDENTIFIER",`(?:${m[E.NUMERICIDENTIFIER]}|${m[E.NONNUMERICIDENTIFIER]})`);w("PRERELEASEIDENTIFIERLOOSE",`(?:${m[E.NUMERICIDENTIFIERLOOSE]}|${m[E.NONNUMERICIDENTIFIER]})`);w("PRERELEASE",`(?:-(${m[E.PRERELEASEIDENTIFIER]}(?:\\.${m[E.PRERELEASEIDENTIFIER]})*))`);w("PRERELEASELOOSE",`(?:-?(${m[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[E.PRERELEASEIDENTIFIERLOOSE]})*))`);w("BUILDIDENTIFIER","[0-9A-Za-z-]+");w("BUILD",`(?:\\+(${m[E.BUILDIDENTIFIER]}(?:\\.${m[E.BUILDIDENTIFIER]})*))`);w("FULLPLAIN",`v?${m[E.MAINVERSION]}${m[E.PRERELEASE]}?${m[E.BUILD]}?`);w("FULL",`^${m[E.FULLPLAIN]}$`);w("LOOSEPLAIN",`[v=\\s]*${m[E.MAINVERSIONLOOSE]}${m[E.PRERELEASELOOSE]}?${m[E.BUILD]}?`);w("LOOSE",`^${m[E.LOOSEPLAIN]}$`);w("GTLT","((?:<|>)?=?)");w("XRANGEIDENTIFIERLOOSE",`${m[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);w("XRANGEIDENTIFIER",`${m[E.NUMERICIDENTIFIER]}|x|X|\\*`);w("XRANGEPLAIN",`[v=\\s]*(${m[E.XRANGEIDENTIFIER]})(?:\\.(${m[E.XRANGEIDENTIFIER]})(?:\\.(${m[E.XRANGEIDENTIFIER]})(?:${m[E.PRERELEASE]})?${m[E.BUILD]}?)?)?`);w("XRANGEPLAINLOOSE",`[v=\\s]*(${m[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[E.XRANGEIDENTIFIERLOOSE]})(?:${m[E.PRERELEASELOOSE]})?${m[E.BUILD]}?)?)?`);w("XRANGE",`^${m[E.GTLT]}\\s*${m[E.XRANGEPLAIN]}$`);w("XRANGELOOSE",`^${m[E.GTLT]}\\s*${m[E.XRANGEPLAINLOOSE]}$`);w("COERCE",`(^|[^\\d])(\\d{1,${We}})(?:\\.(\\d{1,${We}}))?(?:\\.(\\d{1,${We}}))?(?:$|[^\\d])`);w("COERCERTL",m[E.COERCE],!0);w("LONETILDE","(?:~>?)");w("TILDETRIM",`(\\s*)${m[E.LONETILDE]}\\s+`,!0);V.tildeTrimReplace="$1~";w("TILDE",`^${m[E.LONETILDE]}${m[E.XRANGEPLAIN]}$`);w("TILDELOOSE",`^${m[E.LONETILDE]}${m[E.XRANGEPLAINLOOSE]}$`);w("LONECARET","(?:\\^)");w("CARETTRIM",`(\\s*)${m[E.LONECARET]}\\s+`,!0);V.caretTrimReplace="$1^";w("CARET",`^${m[E.LONECARET]}${m[E.XRANGEPLAIN]}$`);w("CARETLOOSE",`^${m[E.LONECARET]}${m[E.XRANGEPLAINLOOSE]}$`);w("COMPARATORLOOSE",`^${m[E.GTLT]}\\s*(${m[E.LOOSEPLAIN]})$|^$`);w("COMPARATOR",`^${m[E.GTLT]}\\s*(${m[E.FULLPLAIN]})$|^$`);w("COMPARATORTRIM",`(\\s*)${m[E.GTLT]}\\s*(${m[E.LOOSEPLAIN]}|${m[E.XRANGEPLAIN]})`,!0);V.comparatorTrimReplace="$1$2$3";w("HYPHENRANGE",`^\\s*(${m[E.XRANGEPLAIN]})\\s+-\\s+(${m[E.XRANGEPLAIN]})\\s*$`);w("HYPHENRANGELOOSE",`^\\s*(${m[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[E.XRANGEPLAINLOOSE]})\\s*$`);w("STAR","(<|>)?=?\\s*\\*");w("GTE0","^\\s*>=\\s*0.0.0\\s*$");w("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var pe=x((Vi,Sr)=>{u();f();var eo=["includePrerelease","loose","rtl"],ro=t=>t?typeof t!="object"?{loose:!0}:eo.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Sr.exports=ro});var Ae=x((Ki,Lr)=>{u();f();var Dr=/^[0-9]+$/,Or=(t,e)=>{let r=Dr.test(t),n=Dr.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},to=(t,e)=>Or(e,t);Lr.exports={compareIdentifiers:Or,rcompareIdentifiers:to}});var C=x((Ji,$r)=>{u();f();var Se=de(),{MAX_LENGTH:Rr,MAX_SAFE_INTEGER:De}=fe(),{re:Cr,t:br}=K(),no=pe(),{compareIdentifiers:he}=Ae(),P=class{constructor(e,r){if(r=no(r),e instanceof P){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Rr)throw new TypeError(`version is longer than ${Rr} characters`);Se("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Cr[br.LOOSE]:Cr[br.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>De||this.major<0)throw new TypeError("Invalid major version");if(this.minor>De||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>De||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<De)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Se("SemVer.compare",this.version,this.options,e),!(e instanceof P)){if(typeof e=="string"&&e===this.version)return 0;e=new P(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof P||(e=new P(e,this.options)),he(this.major,e.major)||he(this.minor,e.minor)||he(this.patch,e.patch)}comparePre(e){if(e instanceof P||(e=new P(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(Se("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return he(n,o)}while(++r)}compareBuild(e){e instanceof P||(e=new P(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(Se("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return he(n,o)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};$r.exports=P});var Y=x((ra,Ur)=>{u();f();var{MAX_LENGTH:oo}=fe(),{re:Pr,t:Br}=K(),qr=C(),so=pe(),io=(t,e)=>{if(e=so(e),t instanceof qr)return t;if(typeof t!="string"||t.length>oo||!(e.loose?Pr[Br.LOOSE]:Pr[Br.FULL]).test(t))return null;try{return new qr(t,e)}catch{return null}};Ur.exports=io});var kr=x((oa,Fr)=>{u();f();var ao=Y(),co=(t,e)=>{let r=ao(t,e);return r?r.version:null};Fr.exports=co});var Gr=x((aa,Mr)=>{u();f();var lo=Y(),uo=(t,e)=>{let r=lo(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Mr.exports=uo});var Xr=x((ua,jr)=>{u();f();var fo=C(),po=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new fo(t,r).inc(e,n).version}catch{return null}};jr.exports=po});var B=x((pa,Vr)=>{u();f();var Hr=C(),ho=(t,e,r)=>new Hr(t,r).compare(new Hr(e,r));Vr.exports=ho});var Oe=x((Ea,zr)=>{u();f();var mo=B(),Eo=(t,e,r)=>mo(t,e,r)===0;zr.exports=Eo});var Yr=x((xa,Kr)=>{u();f();var Wr=Y(),vo=Oe(),go=(t,e)=>{if(vo(t,e))return null;{let r=Wr(t),n=Wr(e),o=r.prerelease.length||n.prerelease.length,s=o?"pre":"",i=o?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return i}};Kr.exports=go});var Jr=x((ya,Zr)=>{u();f();var xo=C(),Io=(t,e)=>new xo(t,e).major;Zr.exports=Io});var et=x((Na,Qr)=>{u();f();var wo=C(),yo=(t,e)=>new wo(t,e).minor;Qr.exports=yo});var tt=x((Da,rt)=>{u();f();var _o=C(),To=(t,e)=>new _o(t,e).patch;rt.exports=To});var ot=x((Ra,nt)=>{u();f();var No=Y(),Ao=(t,e)=>{let r=No(t,e);return r&&r.prerelease.length?r.prerelease:null};nt.exports=Ao});var it=x(($a,st)=>{u();f();var So=B(),Do=(t,e,r)=>So(e,t,r);st.exports=Do});var ct=x((qa,at)=>{u();f();var Oo=B(),Lo=(t,e)=>Oo(t,e,!0);at.exports=Lo});var Le=x((ka,ut)=>{u();f();var lt=C(),Ro=(t,e,r)=>{let n=new lt(t,r),o=new lt(e,r);return n.compare(o)||n.compareBuild(o)};ut.exports=Ro});var dt=x((ja,ft)=>{u();f();var Co=Le(),bo=(t,e)=>t.sort((r,n)=>Co(r,n,e));ft.exports=bo});var ht=x((Va,pt)=>{u();f();var $o=Le(),Po=(t,e)=>t.sort((r,n)=>$o(n,r,e));pt.exports=Po});var me=x((Ka,mt)=>{u();f();var Bo=B(),qo=(t,e,r)=>Bo(t,e,r)>0;mt.exports=qo});var Re=x((Ja,Et)=>{u();f();var Uo=B(),Fo=(t,e,r)=>Uo(t,e,r)<0;Et.exports=Fo});var Ke=x((rc,vt)=>{u();f();var ko=B(),Mo=(t,e,r)=>ko(t,e,r)!==0;vt.exports=Mo});var Ce=x((oc,gt)=>{u();f();var Go=B(),jo=(t,e,r)=>Go(t,e,r)>=0;gt.exports=jo});var be=x((ac,xt)=>{u();f();var Xo=B(),Ho=(t,e,r)=>Xo(t,e,r)<=0;xt.exports=Ho});var Ye=x((uc,It)=>{u();f();var Vo=Oe(),zo=Ke(),Wo=me(),Ko=Ce(),Yo=Re(),Zo=be(),Jo=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Vo(t,r,n);case"!=":return zo(t,r,n);case">":return Wo(t,r,n);case">=":return Ko(t,r,n);case"<":return Yo(t,r,n);case"<=":return Zo(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};It.exports=Jo});var yt=x((pc,wt)=>{u();f();var Qo=C(),es=Y(),{re:$e,t:Pe}=K(),rs=(t,e)=>{if(t instanceof Qo)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match($e[Pe.COERCE]);else{let n;for(;(n=$e[Pe.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),$e[Pe.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;$e[Pe.COERCERTL].lastIndex=-1}return r===null?null:es(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};wt.exports=rs});var St=x((Ec,At)=>{"use strict";u();f();var ts=Pn(),Z=Symbol("max"),G=Symbol("length"),se=Symbol("lengthCalculator"),ve=Symbol("allowStale"),J=Symbol("maxAge"),M=Symbol("dispose"),_t=Symbol("noDisposeOnSet"),S=Symbol("lruList"),k=Symbol("cache"),Nt=Symbol("updateAgeOnGet"),Ze=()=>1,Qe=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Z]=e.max||1/0,n=e.length||Ze;if(this[se]=typeof n!="function"?Ze:n,this[ve]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[J]=e.maxAge||0,this[M]=e.dispose,this[_t]=e.noDisposeOnSet||!1,this[Nt]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Z]=e||1/0,Ee(this)}get max(){return this[Z]}set allowStale(e){this[ve]=!!e}get allowStale(){return this[ve]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[J]=e,Ee(this)}get maxAge(){return this[J]}set lengthCalculator(e){typeof e!="function"&&(e=Ze),e!==this[se]&&(this[se]=e,this[G]=0,this[S].forEach(r=>{r.length=this[se](r.value,r.key),this[G]+=r.length})),Ee(this)}get lengthCalculator(){return this[se]}get length(){return this[G]}get itemCount(){return this[S].length}rforEach(e,r){r=r||this;for(let n=this[S].tail;n!==null;){let o=n.prev;Tt(this,e,n,r),n=o}}forEach(e,r){r=r||this;for(let n=this[S].head;n!==null;){let o=n.next;Tt(this,e,n,r),n=o}}keys(){return this[S].toArray().map(e=>e.key)}values(){return this[S].toArray().map(e=>e.value)}reset(){this[M]&&this[S]&&this[S].length&&this[S].forEach(e=>this[M](e.key,e.value)),this[k]=new Map,this[S]=new ts,this[G]=0}dump(){return this[S].map(e=>Be(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[S]}set(e,r,n){if(n=n||this[J],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let o=n?Date.now():0,s=this[se](r,e);if(this[k].has(e)){if(s>this[Z])return ie(this,this[k].get(e)),!1;let l=this[k].get(e).value;return this[M]&&(this[_t]||this[M](e,l.value)),l.now=o,l.maxAge=n,l.value=r,this[G]+=s-l.length,l.length=s,this.get(e),Ee(this),!0}let i=new er(e,r,s,o,n);return i.length>this[Z]?(this[M]&&this[M](e,r),!1):(this[G]+=i.length,this[S].unshift(i),this[k].set(e,this[S].head),Ee(this),!0)}has(e){if(!this[k].has(e))return!1;let r=this[k].get(e).value;return!Be(this,r)}get(e){return Je(this,e,!0)}peek(e){return Je(this,e,!1)}pop(){let e=this[S].tail;return e?(ie(this,e),e.value):null}del(e){ie(this,this[k].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let o=e[n],s=o.e||0;if(s===0)this.set(o.k,o.v);else{let i=s-r;i>0&&this.set(o.k,o.v,i)}}}prune(){this[k].forEach((e,r)=>Je(this,r,!1))}},Je=(t,e,r)=>{let n=t[k].get(e);if(n){let o=n.value;if(Be(t,o)){if(ie(t,n),!t[ve])return}else r&&(t[Nt]&&(n.value.now=Date.now()),t[S].unshiftNode(n));return o.value}},Be=(t,e)=>{if(!e||!e.maxAge&&!t[J])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[J]&&r>t[J]},Ee=t=>{if(t[G]>t[Z])for(let e=t[S].tail;t[G]>t[Z]&&e!==null;){let r=e.prev;ie(t,e),e=r}},ie=(t,e)=>{if(e){let r=e.value;t[M]&&t[M](r.key,r.value),t[G]-=r.length,t[k].delete(r.key),t[S].removeNode(e)}},er=class{constructor(e,r,n,o,s){this.key=e,this.value=r,this.length=n,this.now=o,this.maxAge=s||0}},Tt=(t,e,r,n)=>{let o=r.value;Be(t,o)&&(ie(t,r),t[ve]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};At.exports=Qe});var q=x((xc,Rt)=>{u();f();var Q=class{constructor(e,r){if(r=os(r),e instanceof Q)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Q(e.raw,r);if(e instanceof rr)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Ot(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&ls(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,o=Dt.get(n);if(o)return o;let s=this.options.loose,i=s?b[L.HYPHENRANGELOOSE]:b[L.HYPHENRANGE];e=e.replace(i,xs(this.options.includePrerelease)),A("hyphen replace",e),e=e.replace(b[L.COMPARATORTRIM],is),A("comparator trim",e,b[L.COMPARATORTRIM]),e=e.replace(b[L.TILDETRIM],as),e=e.replace(b[L.CARETTRIM],cs),e=e.split(/\s+/).join(" ");let a=s?b[L.COMPARATORLOOSE]:b[L.COMPARATOR],l=e.split(" ").map(I=>us(I,this.options)).join(" ").split(/\s+/).map(I=>gs(I,this.options)).filter(this.options.loose?I=>!!I.match(a):()=>!0).map(I=>new rr(I,this.options)),c=l.length,p=new Map;for(let I of l){if(Ot(I))return[I];p.set(I.value,I)}p.size>1&&p.has("")&&p.delete("");let g=[...p.values()];return Dt.set(n,g),g}intersects(e,r){if(!(e instanceof Q))throw new TypeError("a Range is required");return this.set.some(n=>Lt(n,r)&&e.set.some(o=>Lt(o,r)&&n.every(s=>o.every(i=>s.intersects(i,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ss(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Is(this.set[r],e,this.options))return!0;return!1}};Rt.exports=Q;var ns=St(),Dt=new ns({max:1e3}),os=pe(),rr=ge(),A=de(),ss=C(),{re:b,t:L,comparatorTrimReplace:is,tildeTrimReplace:as,caretTrimReplace:cs}=K(),Ot=t=>t.value==="<0.0.0-0",ls=t=>t.value==="",Lt=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(s=>o.intersects(s,e)),o=n.pop();return r},us=(t,e)=>(A("comp",t,e),t=ps(t,e),A("caret",t),t=fs(t,e),A("tildes",t),t=ms(t,e),A("xrange",t),t=vs(t,e),A("stars",t),t),$=t=>!t||t.toLowerCase()==="x"||t==="*",fs=(t,e)=>t.trim().split(/\s+/).map(r=>ds(r,e)).join(" "),ds=(t,e)=>{let r=e.loose?b[L.TILDELOOSE]:b[L.TILDE];return t.replace(r,(n,o,s,i,a)=>{A("tilde",t,n,o,s,i,a);let l;return $(o)?l="":$(s)?l=`>=${o}.0.0 <${+o+1}.0.0-0`:$(i)?l=`>=${o}.${s}.0 <${o}.${+s+1}.0-0`:a?(A("replaceTilde pr",a),l=`>=${o}.${s}.${i}-${a} <${o}.${+s+1}.0-0`):l=`>=${o}.${s}.${i} <${o}.${+s+1}.0-0`,A("tilde return",l),l})},ps=(t,e)=>t.trim().split(/\s+/).map(r=>hs(r,e)).join(" "),hs=(t,e)=>{A("caret",t,e);let r=e.loose?b[L.CARETLOOSE]:b[L.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,s,i,a,l)=>{A("caret",t,o,s,i,a,l);let c;return $(s)?c="":$(i)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:$(a)?s==="0"?c=`>=${s}.${i}.0${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.0${n} <${+s+1}.0.0-0`:l?(A("replaceCaret pr",l),s==="0"?i==="0"?c=`>=${s}.${i}.${a}-${l} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}-${l} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a}-${l} <${+s+1}.0.0-0`):(A("no pr"),s==="0"?i==="0"?c=`>=${s}.${i}.${a}${n} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a} <${+s+1}.0.0-0`),A("caret return",c),c})},ms=(t,e)=>(A("replaceXRanges",t,e),t.split(/\s+/).map(r=>Es(r,e)).join(" ")),Es=(t,e)=>{t=t.trim();let r=e.loose?b[L.XRANGELOOSE]:b[L.XRANGE];return t.replace(r,(n,o,s,i,a,l)=>{A("xRange",t,n,o,s,i,a,l);let c=$(s),p=c||$(i),g=p||$(a),I=g;return o==="="&&I&&(o=""),l=e.includePrerelease?"-0":"",c?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&I?(p&&(i=0),a=0,o===">"?(o=">=",p?(s=+s+1,i=0,a=0):(i=+i+1,a=0)):o==="<="&&(o="<",p?s=+s+1:i=+i+1),o==="<"&&(l="-0"),n=`${o+s}.${i}.${a}${l}`):p?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:g&&(n=`>=${s}.${i}.0${l} <${s}.${+i+1}.0-0`),A("xRange return",n),n})},vs=(t,e)=>(A("replaceStars",t,e),t.trim().replace(b[L.STAR],"")),gs=(t,e)=>(A("replaceGTE0",t,e),t.trim().replace(b[e.includePrerelease?L.GTE0PRE:L.GTE0],"")),xs=t=>(e,r,n,o,s,i,a,l,c,p,g,I,v)=>($(n)?r="":$(o)?r=`>=${n}.0.0${t?"-0":""}`:$(s)?r=`>=${n}.${o}.0${t?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,$(c)?l="":$(p)?l=`<${+c+1}.0.0-0`:$(g)?l=`<${c}.${+p+1}.0-0`:I?l=`<=${c}.${p}.${g}-${I}`:t?l=`<${c}.${p}.${+g+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),Is=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(A(t[n].semver),t[n].semver!==rr.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var ge=x((yc,Bt)=>{u();f();var xe=Symbol("SemVer ANY"),ae=class{static get ANY(){return xe}constructor(e,r){if(r=ws(r),e instanceof ae){if(e.loose===!!r.loose)return e;e=e.value}nr("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===xe?this.value="":this.value=this.operator+this.semver.version,nr("comp",this)}parse(e){let r=this.options.loose?Ct[bt.COMPARATORLOOSE]:Ct[bt.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new $t(n[2],this.options.loose):this.semver=xe}toString(){return this.value}test(e){if(nr("Comparator.test",e,this.options.loose),this.semver===xe||e===xe)return!0;if(typeof e=="string")try{e=new $t(e,this.options)}catch{return!1}return tr(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof ae))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Pt(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new Pt(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=tr(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),l=tr(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||o||s&&i||a||l}};Bt.exports=ae;var ws=pe(),{re:Ct,t:bt}=K(),tr=Ye(),nr=de(),$t=C(),Pt=q()});var Ie=x((Nc,qt)=>{u();f();var ys=q(),_s=(t,e,r)=>{try{e=new ys(e,r)}catch{return!1}return e.test(t)};qt.exports=_s});var Ft=x((Dc,Ut)=>{u();f();var Ts=q(),Ns=(t,e)=>new Ts(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ut.exports=Ns});var Mt=x((Rc,kt)=>{u();f();var As=C(),Ss=q(),Ds=(t,e,r)=>{let n=null,o=null,s=null;try{s=new Ss(e,r)}catch{return null}return t.forEach(i=>{s.test(i)&&(!n||o.compare(i)===-1)&&(n=i,o=new As(n,r))}),n};kt.exports=Ds});var jt=x(($c,Gt)=>{u();f();var Os=C(),Ls=q(),Rs=(t,e,r)=>{let n=null,o=null,s=null;try{s=new Ls(e,r)}catch{return null}return t.forEach(i=>{s.test(i)&&(!n||o.compare(i)===1)&&(n=i,o=new Os(n,r))}),n};Gt.exports=Rs});var Vt=x((qc,Ht)=>{u();f();var or=C(),Cs=q(),Xt=me(),bs=(t,e)=>{t=new Cs(t,e);let r=new or("0.0.0");if(t.test(r)||(r=new or("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],s=null;o.forEach(i=>{let a=new or(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Xt(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!r||Xt(r,s))&&(r=s)}return r&&t.test(r)?r:null};Ht.exports=bs});var Wt=x((kc,zt)=>{u();f();var $s=q(),Ps=(t,e)=>{try{return new $s(t,e).range||"*"}catch{return null}};zt.exports=Ps});var qe=x((jc,Jt)=>{u();f();var Bs=C(),Zt=ge(),{ANY:qs}=Zt,Us=q(),Fs=Ie(),Kt=me(),Yt=Re(),ks=be(),Ms=Ce(),Gs=(t,e,r,n)=>{t=new Bs(t,n),e=new Us(e,n);let o,s,i,a,l;switch(r){case">":o=Kt,s=ks,i=Yt,a=">",l=">=";break;case"<":o=Yt,s=Ms,i=Kt,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fs(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let p=e.set[c],g=null,I=null;if(p.forEach(v=>{v.semver===qs&&(v=new Zt(">=0.0.0")),g=g||v,I=I||v,o(v.semver,g.semver,n)?g=v:i(v.semver,I.semver,n)&&(I=v)}),g.operator===a||g.operator===l||(!I.operator||I.operator===a)&&s(t,I.semver))return!1;if(I.operator===l&&i(t,I.semver))return!1}return!0};Jt.exports=Gs});var en=x((Vc,Qt)=>{u();f();var js=qe(),Xs=(t,e,r)=>js(t,e,">",r);Qt.exports=Xs});var tn=x((Kc,rn)=>{u();f();var Hs=qe(),Vs=(t,e,r)=>Hs(t,e,"<",r);rn.exports=Vs});var sn=x((Jc,on)=>{u();f();var nn=q(),zs=(t,e,r)=>(t=new nn(t,r),e=new nn(e,r),t.intersects(e));on.exports=zs});var cn=x((rl,an)=>{u();f();var Ws=Ie(),Ks=B();an.exports=(t,e,r)=>{let n=[],o=null,s=null,i=t.sort((p,g)=>Ks(p,g,r));for(let p of i)Ws(p,e,r)?(s=p,o||(o=p)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);let a=[];for(let[p,g]of n)p===g?a.push(p):!g&&p===i[0]?a.push("*"):g?p===i[0]?a.push(`<=${g}`):a.push(`${p} - ${g}`):a.push(`>=${p}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var pn=x((ol,dn)=>{u();f();var ln=q(),Ue=ge(),{ANY:sr}=Ue,we=Ie(),ir=B(),Ys=(t,e,r={})=>{if(t===e)return!0;t=new ln(t,r),e=new ln(e,r);let n=!1;e:for(let o of t.set){for(let s of e.set){let i=Zs(o,s,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Zs=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===sr){if(e.length===1&&e[0].semver===sr)return!0;r.includePrerelease?t=[new Ue(">=0.0.0-0")]:t=[new Ue(">=0.0.0")]}if(e.length===1&&e[0].semver===sr){if(r.includePrerelease)return!0;e=[new Ue(">=0.0.0")]}let n=new Set,o,s;for(let v of t)v.operator===">"||v.operator===">="?o=un(o,v,r):v.operator==="<"||v.operator==="<="?s=fn(s,v,r):n.add(v.semver);if(n.size>1)return null;let i;if(o&&s){if(i=ir(o.semver,s.semver,r),i>0)return null;if(i===0&&(o.operator!==">="||s.operator!=="<="))return null}for(let v of n){if(o&&!we(v,String(o),r)||s&&!we(v,String(s),r))return null;for(let H of e)if(!we(v,String(H),r))return!1;return!0}let a,l,c,p,g=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,I=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;g&&g.prerelease.length===1&&s.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let v of e){if(p=p||v.operator===">"||v.operator===">=",c=c||v.operator==="<"||v.operator==="<=",o){if(I&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===I.major&&v.semver.minor===I.minor&&v.semver.patch===I.patch&&(I=!1),v.operator===">"||v.operator===">="){if(a=un(o,v,r),a===v&&a!==o)return!1}else if(o.operator===">="&&!we(o.semver,String(v),r))return!1}if(s){if(g&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===g.major&&v.semver.minor===g.minor&&v.semver.patch===g.patch&&(g=!1),v.operator==="<"||v.operator==="<="){if(l=fn(s,v,r),l===v&&l!==s)return!1}else if(s.operator==="<="&&!we(s.semver,String(v),r))return!1}if(!v.operator&&(s||o)&&i!==0)return!1}return!(o&&c&&!s&&i!==0||s&&p&&!o&&i!==0||I||g)},un=(t,e,r)=>{if(!t)return e;let n=ir(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},fn=(t,e,r)=>{if(!t)return e;let n=ir(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};dn.exports=Ys});var mn=x((al,hn)=>{u();f();var ar=K();hn.exports={re:ar.re,src:ar.src,tokens:ar.t,SEMVER_SPEC_VERSION:fe().SEMVER_SPEC_VERSION,SemVer:C(),compareIdentifiers:Ae().compareIdentifiers,rcompareIdentifiers:Ae().rcompareIdentifiers,parse:Y(),valid:kr(),clean:Gr(),inc:Xr(),diff:Yr(),major:Jr(),minor:et(),patch:tt(),prerelease:ot(),compare:B(),rcompare:it(),compareLoose:ct(),compareBuild:Le(),sort:dt(),rsort:ht(),gt:me(),lt:Re(),eq:Oe(),neq:Ke(),gte:Ce(),lte:be(),cmp:Ye(),coerce:yt(),Comparator:ge(),Range:q(),satisfies:Ie(),toComparators:Ft(),maxSatisfying:Mt(),minSatisfying:jt(),minVersion:Vt(),validRange:Wt(),outside:qe(),gtr:en(),ltr:tn(),intersects:sn(),simplifyRange:cn(),subset:pn()}});u();f();var _=He(bn());$n();Cn();u();f();var y={root:"_root_1e4bi_1",title:"_title_1e4bi_8",confirmTitle:"_confirmTitle_1e4bi_15 _title_1e4bi_8",confirmTitleHighLight:"_confirmTitleHighLight_1e4bi_21 _title_1e4bi_8",confirmDesc:"_confirmDesc_1e4bi_26",commonTitle:"_commonTitle_1e4bi_39 _title_1e4bi_8",commonDesc:"_commonDesc_1e4bi_48",commonImage:"_commonImage_1e4bi_61",commonImageTag:"_commonImageTag_1e4bi_67",newImage:"_newImage_1e4bi_71",newImageTag:"_newImageTag_1e4bi_76",commonFooter:"_commonFooter_1e4bi_79",multiLineFooter:"_multiLineFooter_1e4bi_87",extButton:"_extButton_1e4bi_95"};var T={connectError:"CONNECTERROR",wrongApp:"WRONGAPP",rejected:"REJECTED",confirm:"CONFIRM",blindEnable:"BLINDENABLE",ledgerBusy:"LEDGERBUSY",disConnected:"DISCONNECTED",lockedDevice:"LOCKEDDEVICE",wrongAppToGetAddress:"WRONGAPPTOGETADDRESS",hardWareNotConnected:"HARDWARENOTCONNECTED"},oe=({titleKey:t,descKey:e,lightImg:r,darkImg:n,btnTextKey:o,isNewImage:s})=>({handleClose:i,onButtonClick:a})=>{let l=ne({light:r,dark:n});return _.default.createElement(N.Box,{className:y.root},_.default.createElement(N.Box,{className:y.commonTitle},D(t)),_.default.createElement(N.Box,{className:y.commonDesc},e?D(e):""),_.default.createElement(te,{src:l,pictureClassName:s?y.newImage:y.commonImage,className:s?y.newImageTag:y.commonImageTag}),_.default.createElement(N.Box,{className:y.commonFooter},_.default.createElement(O,{category:O.CATEGORY.fill,type:O.TYPE.highlight,size:O.SIZE.lg,onClick:()=>{a&&a(),i()},block:!0},D(o))))},Bn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_retry"}),qn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_device_disconnected",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),Un=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Fn=oe({titleKey:"wallet_dialog_title_transaction_reject",descKey:"wallet_dialog_subtitle_transaction_reject_desc",lightImg:"/cdn/assets/imgs/245/D20BB80F72E26AE8.png",darkImg:"/cdn/assets/imgs/245/84CF381F4BEFAB79.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),kn=oe({titleKey:"wallet_dialog_title_transaction_failed",descKey:"wallet_dialog_subtitle_transaction_error_reinitiate",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Mn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"wallet_extension_pop_title_hardware_wallet_notunlocked",lightImg:"/cdn/assets/imgs/245/038C820230C1D3E0.png",darkImg:"/cdn/assets/imgs/245/0EAF10E9F40C5541.png",btnTextKey:"extension_wallet_conncecthardware_retry",isNewImage:!0}),Gn=({handleClose:t,baseChain:e})=>{let r=ne({light:"/cdn/assets/imgs/245/9AD7699D75F09864.png",dark:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png"});return _.default.createElement(N.Box,{className:y.root},_.default.createElement(N.Box,{className:y.commonTitle},D("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed")),_.default.createElement(N.Box,{className:y.commonDesc},D("wallet_extension_pop_title_open_app",{Name:Ne[e]})),_.default.createElement(te,{src:r,className:y.newImageTag,pictureClassName:y.newImage}),_.default.createElement(N.Box,{className:y.commonFooter},_.default.createElement(O,{category:O.CATEGORY.fill,type:O.TYPE.highlight,size:O.SIZE.lg,onClick:()=>{window.location.reload(),t()},block:!0},D("extension_wallet_conncecthardware_retry"))))},jn=({handleClose:t,walletName:e,onButtonClick:r,onExtButtonClick:n})=>{let o=ne({light:"/cdn/assets/imgs/245/A9EDDD75B9E98A02.png",dark:"/cdn/assets/imgs/245/FCD6B8E149D00A31.png"});return _.default.createElement(N.Box,{className:y.root},_.default.createElement(N.Box,{className:y.commonTitle},D("wallet_extension_footer_btn_ok")),_.default.createElement(N.Box,{className:y.commonDesc},D("wallet_extension_top_subtitle_same_device",{acctName:e})),_.default.createElement(te,{src:o,className:y.commonImageTag,pictureClassName:y.commonImage}),_.default.createElement(N.Box,{className:y.multiLineFooter},_.default.createElement(O,{category:O.CATEGORY.fill,type:O.TYPE.highlight,size:O.SIZE.lg,onClick:()=>{r&&r(),t()},block:!0},D("wallet_add_wallet_btn_conncet_hardware_wallet")),_.default.createElement(N.Box,{className:y.extButton,onClick:n},D("wallet_extension_footer_btn_add_newdevice"))))},Xn=({handleClose:t,network:e})=>{let r=ne({light:"/cdn/assets/imgs/245/13DD433CD15E83AA.png",dark:"/cdn/assets/imgs/245/74F4F0AC071E323D.png"});return _.default.createElement(N.Box,{className:y.root},_.default.createElement(N.Box,{className:y.commonTitle},D("wallet_dialog_title_transaction_failed")),_.default.createElement(N.Box,{className:y.commonDesc},D("extension_wallet_dialog_subtitle_transaction_failed_desc",{network:e,signbyhash:"Blind signing"})),_.default.createElement(te,{src:r,className:y.commonImageTag,pictureClassName:y.commonImage}),_.default.createElement(N.Box,{className:y.commonFooter},_.default.createElement(O,{category:O.CATEGORY.fill,type:O.TYPE.highlight,size:O.SIZE.lg,onClick:t,block:!0},D("extension_wallet_conncecthardware_okbtn"))))},Hn=()=>{let t=ne({light:"/cdn/assets/imgs/245/56CE147131A188AA.png",dark:"/cdn/assets/imgs/245/FA61D5D25FCE8E12.png"});return _.default.createElement(N.Box,{className:y.root},_.default.createElement(N.Box,{className:y.confirmTitle},D("extension_wallet_conncecthardware_check_ledgerwallet",{transaction:_.default.createElement("span",{className:y.confirmTitleHighLight},D("extension_wallet_conncecthardware_transaction_details"))})),_.default.createElement(N.Box,{className:y.confirmDesc},D("extension_wallet_conncecthardware_transaction_sent")),_.default.createElement(te,{src:t,className:y.newImageTag,pictureClassName:y.newImage}))},Vn={[T.connectError]:Bn,[T.wrongApp]:Un,[T.rejected]:Fn,[T.confirm]:Hn,[T.blindEnable]:Xn,[T.ledgerBusy]:kn,[T.disConnected]:qn,[T.lockedDevice]:Mn,[T.wrongAppToGetAddress]:Gn,[T.hardWareNotConnected]:jn},ze=class{constructor(){ue(this,"renderContent",()=>{let{type:e,props:r}=this,n=Vn[e];return n?_.default.createElement(n,{...r,handleClose:this.closeModal}):null});ue(this,"renderModalDom",()=>{let{hideCloseBtn:e=!1,onCloseBtnClick:r}=this.props;this.modalDom=Ir.action({onClose:()=>{this.closeModal(),r&&r()},className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:e,children:this.renderContent()})});ue(this,"openModal",xr((e,r={})=>{this.closeModal(),this.visible=!0,this.type=e,this.props=r,this.renderModalDom()},300));ue(this,"closeModal",()=>{this.visible=!1,this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});this.visible=!1,this.type=T.confirm,this.props={},this.modalDom=null}},W=new ze;u();f();u();f();u();f();var ur=He(mn()),lr=function(){return lr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},lr.apply(this,arguments)},ee;var R;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax"})(R||(R={}));var fr=(ee={},ee[R.blue]={id:R.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},ee[R.nanoS]={id:R.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return ur.default.lt((e=ur.default.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},ee[R.nanoSP]={id:R.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},ee[R.nanoX]={id:R.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},ee[R.stax]={id:R.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(t){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},ee),ul={Blue:R.blue,"Nano S":R.nanoS,"Nano S Plus":R.nanoSP,"Nano X":R.nanoX,Stax:R.stax},En=Object.values(fr),re=11415;var dr=function(t){var e=En.find(function(o){return o.legacyUsbProductId===t});if(e)return e;var r=t>>8,n=En.find(function(o){return o.productIdMM===r});return n};var Js=[],vn={};for(gn in fr)if(cr=fr[gn],Fe=cr.bluetoothSpec,Fe)for(ke=0;ke<Fe.length;ke++)ye=Fe[ke],Js.push(ye.serviceUuid),vn[ye.serviceUuid]=vn[ye.serviceUuid.replace(/-/g,"")]=lr({deviceModel:cr},ye);var cr,Fe,ye,ke,gn;u();f();u();f();var An=He(Rn());u();f();u();f();var Qs=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var ei={},ri={},pr=function(t,e){ri[t]=e},d=function(t){var e=function(r){Qs(n,r);function n(o,s,i){var a=r.call(this,o||t,i)||this;if(Object.setPrototypeOf(a,n.prototype),a.name=t,s)for(var l in s)a[l]=s[l];if(i&&ti(i)&&"cause"in i&&!("cause"in a)){var c=i.cause;a.cause=c,"stack"in c&&(a.stack=a.stack+`
CAUSE: `+c.stack)}return a}return n}(Error);return ei[t]=e,e};function ti(t){return typeof t=="object"}var In=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Il=d("AccountNameRequired"),wl=d("AccountNotSupported"),yl=d("AmountRequired"),_l=d("BluetoothRequired"),Tl=d("BtcUnmatchedApp"),Nl=d("CantOpenDevice"),Al=d("CashAddrNotSupported"),Sl=d("CurrencyNotSupported"),Dl=d("DeviceAppVerifyNotSupported"),Ol=d("DeviceGenuineSocketEarlyClose"),Ll=d("DeviceNotGenuine"),Rl=d("DeviceOnDashboardExpected"),Cl=d("DeviceOnDashboardUnexpected"),bl=d("DeviceInOSUExpected"),$l=d("DeviceHalted"),Pl=d("DeviceNameInvalid"),Bl=d("DeviceSocketFail"),ql=d("DeviceSocketNoBulkStatus"),ni=d("LockedDeviceError"),wn=d("DisconnectedDevice"),yn=d("DisconnectedDeviceDuringOperation"),Ul=d("DeviceExtractOnboardingStateError"),Fl=d("DeviceOnboardingStatePollingError"),kl=d("EnpointConfig"),Ml=d("EthAppPleaseEnableContractData"),Gl=d("FeeEstimationFailed"),jl=d("FirmwareNotRecognized"),Xl=d("HardResetFail"),Hl=d("InvalidXRPTag"),Vl=d("InvalidAddress"),zl=d("InvalidAddressBecauseDestinationIsAlsoSource"),Wl=d("LatestMCUInstalledError"),Kl=d("UnknownMCU"),Yl=d("LedgerAPIError"),Zl=d("LedgerAPIErrorWithMessage"),Jl=d("LedgerAPINotAvailable"),Ql=d("ManagerAppAlreadyInstalled"),eu=d("ManagerAppRelyOnBTC"),ru=d("ManagerAppDepInstallRequired"),tu=d("ManagerAppDepUninstallRequired"),nu=d("ManagerDeviceLocked"),ou=d("ManagerFirmwareNotEnoughSpace"),su=d("ManagerNotEnoughSpace"),iu=d("ManagerUninstallBTCDep"),au=d("NetworkDown"),cu=d("NoAddressesFound"),lu=d("NotEnoughBalance"),uu=d("NotEnoughBalanceToDelegate"),fu=d("NotEnoughBalanceInParentAccount"),du=d("NotEnoughSpendableBalance"),pu=d("NotEnoughBalanceBecauseDestinationNotCreated"),hu=d("NoAccessToCamera"),mu=d("NotEnoughGas"),Eu=d("NotSupportedLegacyAddress"),vu=d("GasLessThanEstimate"),gu=d("PriorityFeeTooLow"),xu=d("PriorityFeeTooHigh"),Iu=d("PriorityFeeHigherThanMaxFee"),wu=d("MaxFeeTooLow"),yu=d("PasswordsDontMatch"),_u=d("PasswordIncorrect"),Tu=d("RecommendSubAccountsToEmpty"),Nu=d("RecommendUndelegation"),Au=d("TimeoutTagged"),Su=d("UnexpectedBootloader"),Du=d("MCUNotGenuineToDashboard"),Ou=d("RecipientRequired"),Lu=d("UnavailableTezosOriginatedAccountReceive"),Ru=d("UnavailableTezosOriginatedAccountSend"),Cu=d("UpdateFetchFileFail"),bu=d("UpdateIncorrectHash"),$u=d("UpdateIncorrectSig"),Pu=d("UpdateYourApp"),Bu=d("UserRefusedDeviceNameChange"),qu=d("UserRefusedAddress"),Uu=d("UserRefusedFirmwareUpdate"),Fu=d("UserRefusedAllowManager"),ku=d("UserRefusedOnDevice"),hr=d("TransportOpenUserCancelled"),Mu=d("TransportInterfaceNotAvailable"),_n=d("TransportRaceCondition"),Gu=d("TransportWebUSBGestureRequired"),ju=d("DeviceShouldStayInApp"),Xu=d("WebsocketConnectionError"),Hu=d("WebsocketConnectionFailed"),Vu=d("WrongDeviceForAccount"),zu=d("WrongAppForCurrency"),Wu=d("ETHAddressNonEIP"),Ku=d("CantScanQRCode"),Yu=d("FeeNotLoaded"),Zu=d("FeeRequired"),Ju=d("FeeTooHigh"),Qu=d("DustLimit"),ef=d("PendingOperation"),rf=d("SyncError"),tf=d("PairingFailed"),nf=d("GenuineCheckFailed"),of=d("LedgerAPI4xx"),sf=d("LedgerAPI5xx"),af=d("FirmwareOrAppUpdateRequired"),cf=d("LanguageNotFound"),lf=d("NoDBPathGiven"),uf=d("DBWrongPassword"),ff=d("DBNotReset"),xn;(function(t){t[t.Unknown=0]="Unknown",t[t.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",t[t.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",t[t.BleScanStartFailed=3]="BleScanStartFailed"})(xn||(xn={}));var df=function(t){In(e,t);function e(r,n){var o=t.call(this,n)||this;return o.name="HwTransportError",o.type=r,Object.setPrototypeOf(o,e.prototype),o}return e}(Error);var U=function(t){In(e,t);function e(r,n){var o=this,s="TransportError";return o=t.call(this,r||s)||this,o.name=s,o.message=r,o.stack=new Error().stack,o.id=n,o}return e}(Error);pr("TransportError",function(t){return new U(t.message,t.id)});var ce={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function Tn(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}function _e(t){var e=Object.keys(ce).find(function(s){return ce[s]===t})||"UNKNOWN_ERROR",r=Tn(t)||e,n=t.toString(16),o="Ledger device: ".concat(r," (0x").concat(n,")");if(t===ce.LOCKED_DEVICE)throw new ni(o);this.name="TransportStatusError",this.message=o,this.stack=new Error().stack,this.statusCode=t,this.statusText=e}_e.prototype=new Error;pr("TransportStatusError",function(t){return new _e(t.statusCode)});var Me=function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{c(n.next(p))}catch(g){i(g)}}function l(p){try{c(n.throw(p))}catch(g){i(g)}}function c(p){p.done?s(p.value):o(p.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},Ge=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(p){return l([c,p])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(p){c=[6,p],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Nn=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oi=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},si=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,s;n<o;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};var ii=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new An.default,this.send=function(r,n,o,s,i,a){return i===void 0&&(i=h.Buffer.alloc(0)),a===void 0&&(a=[ce.OK]),Me(e,void 0,void 0,function(){var l,c;return Ge(this,function(p){switch(p.label){case 0:if(i.length>=256)throw new U("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(h.Buffer.concat([h.Buffer.from([r,n,o,s]),h.Buffer.from([i.length]),i]))];case 1:if(l=p.sent(),c=l.readUInt16BE(l.length-2),!a.some(function(g){return g===c}))throw new _e(c);return[2,l]}})})},this.exchangeAtomicImpl=function(r){return Me(e,void 0,void 0,function(){var n,o,s,i,a,l=this;return Ge(this,function(c){switch(c.label){case 0:if(this.exchangeBusyPromise)throw new _n("An action was already pending on the Ledger device. Please deny or reconnect.");o=new Promise(function(p){n=p}),this.exchangeBusyPromise=o,s=!1,i=setTimeout(function(){s=!0,l.emit("unresponsive")},this.unresponsiveTimeout),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,r()];case 2:return a=c.sent(),s&&this.emit("responsive"),[2,a];case 3:return clearTimeout(i),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.exchangeBulk=function(e,r){var n=this,o=!1,s=function(){o=!0},i=function(){return Me(n,void 0,void 0,function(){var a,l,c,p,g,I,v,H;return Ge(this,function(F){switch(F.label){case 0:if(o)return[2];F.label=1;case 1:F.trys.push([1,6,7,8]),a=Nn(e),l=a.next(),F.label=2;case 2:return l.done?[3,5]:(c=l.value,[4,this.exchange(c)]);case 3:if(p=F.sent(),o)return[2];if(g=p.readUInt16BE(p.length-2),g!==ce.OK)throw new _e(g);r.next(p),F.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return I=F.sent(),v={error:I},[3,8];case 7:try{l&&!l.done&&(H=a.return)&&H.call(a)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})};return i().then(function(){return!o&&r.complete()},function(a){return!o&&r.error(a)}),{unsubscribe:s}},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,r){this._events.on(e,r)},t.prototype.off=function(e,r){this._events.removeListener(e,r)},t.prototype.emit=function(e){for(var r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(r=this._events).emit.apply(r,si([e],oi(n),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,r){var n=this;return e===void 0&&(e=3e3),new Promise(function(o,s){var i=!1,a=n.listen({next:function(c){i=!0,a&&a.unsubscribe(),l&&clearTimeout(l),n.open(c.descriptor,e).then(o,s)},error:function(c){l&&clearTimeout(l),s(c)},complete:function(){l&&clearTimeout(l),i||s(new U(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),l=r?setTimeout(function(){a.unsubscribe(),s(new U(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})},t.prototype.decorateAppAPIMethods=function(e,r,n){var o,s;try{for(var i=Nn(r),a=i.next();!a.done;a=i.next()){var l=a.value;e[l]=this.decorateAppAPIMethod(l,e[l],e,n)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},t.prototype.decorateAppAPIMethod=function(e,r,n,o){var s=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return Me(s,void 0,void 0,function(){var l;return Ge(this,function(c){switch(c.label){case 0:if(l=this._appAPIlock,l)return[2,Promise.reject(new U("Ledger Device is busy (lock "+l+")","TransportLocked"))];c.label=1;case 1:return c.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(o),[4,r.apply(n,i)];case 2:return[2,c.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),Sn=ii;u();f();var Dn=5;function ai(t){var e=h.Buffer.alloc(2);return e.writeUInt16BE(t,0),e}var ci={data:h.Buffer.alloc(0),dataLength:0,sequence:0},li=function(t,e){return{makeBlocks:function(r){var n=h.Buffer.concat([ai(r.length),r]),o=e-5,s=Math.ceil(n.length/o);n=h.Buffer.concat([n,h.Buffer.alloc(s*o-n.length+1).fill(0)]);for(var i=[],a=0;a<s;a++){var l=h.Buffer.alloc(5);l.writeUInt16BE(t,0),l.writeUInt8(Dn,2),l.writeUInt16BE(a,3);var c=n.slice(a*o,(a+1)*o);i.push(h.Buffer.concat([l,c]))}return i},reduceResponse:function(r,n){var o=r||ci,s=o.data,i=o.dataLength,a=o.sequence;if(n.readUInt16BE(0)!==t)throw new U("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==Dn)throw new U("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new U("Invalid sequence","InvalidSequence");r||(i=n.readUInt16BE(5)),a++;var l=n.slice(r?5:7);return s=h.Buffer.concat([s,l]),s.length>i&&(s=s.slice(0,i)),{data:s,dataLength:i,sequence:a}},getReducedResult:function(r){if(r&&r.dataLength===r.data.length)return r.data}}},On=li;u();f();var ui=0,z=[],mr=function(t,e,r){var n={type:t,id:String(++ui),date:new Date};e&&(n.message=e),r&&(n.data=r),di(n)},fi=function(t){return z.push(t),function(){var e=z.indexOf(t);e!==-1&&(z[e]=z[z.length-1],z.pop())}};function di(t){for(var e=0;e<z.length;e++)try{z[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=fi);var pi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{c(n.next(p))}catch(g){i(g)}}function l(p){try{c(n.throw(p))}catch(g){i(g)}}function c(p){p.done?s(p.value):o(p.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},X=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(p){return l([c,p])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(p){c=[6,p],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},hi=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},mi=[{vendorId:re}],Ei=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},je=function(){var t=navigator.hid;if(!t)throw new U("navigator.hid is not supported","HIDNotSupported");return t};function Ln(){return j(this,void 0,void 0,function(){var t;return X(this,function(e){switch(e.label){case 0:return[4,je().requestDevice({filters:mi})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function Er(){return j(this,void 0,void 0,function(){var t;return X(this,function(e){switch(e.label){case 0:return[4,je().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(r){return r.vendorId===re})]}})})}function vi(){return j(this,void 0,void 0,function(){var t,e;return X(this,function(r){switch(r.label){case 0:return[4,Er()];case 1:return t=r.sent(),t.length>0?[2,t[0]]:[4,Ln()];case 2:return e=r.sent(),[2,e[0]]}})})}var gi=function(t){pi(e,t);function e(r){var n=t.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(o){n.inputCallback=o})},n.onInputReport=function(o){var s=h.Buffer.from(o.data.buffer);n.inputCallback?(n.inputCallback(s),n.inputCallback=null):n.inputs.push(s)},n._disconnectEmitted=!1,n._emitDisconnect=function(o){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",o))},n.exchange=function(o){return j(n,void 0,void 0,function(){var s,i=this;return X(this,function(a){switch(a.label){case 0:return[4,this.exchangeAtomicImpl(function(){return j(i,void 0,void 0,function(){var l,c,p,g,I,v,H,F,gr;return X(this,function(le){switch(le.label){case 0:l=this,c=l.channel,p=l.packetSize,mr("apdu","=> "+o.toString("hex")),g=On(c,p),I=g.makeBlocks(o),v=0,le.label=1;case 1:return v<I.length?[4,this.device.sendReport(0,I[v])]:[3,4];case 2:le.sent(),le.label=3;case 3:return v++,[3,1];case 4:return(H=g.getReducedResult(F))?[3,6]:[4,this.read()];case 5:return gr=le.sent(),F=g.reduceResponse(F,gr),[3,4];case 6:return mr("apdu","<= "+H.toString("hex")),[2,H]}})})}).catch(function(l){throw l&&l.message&&l.message.includes("write")?(i._emitDisconnect(l),new yn(l.message)):l})];case 1:return s=a.sent(),[2,s]}})})},n.device=r,n.deviceModel=typeof r.productId=="number"?dr(r.productId):void 0,r.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return j(this,void 0,void 0,function(){var r,n;return X(this,function(o){switch(o.label){case 0:return[4,Ln()];case 1:return r=hi.apply(void 0,[o.sent(),1]),n=r[0],[2,e.open(n)]}})})},e.openConnected=function(){return j(this,void 0,void 0,function(){var r;return X(this,function(n){switch(n.label){case 0:return[4,Er()];case 1:return r=n.sent(),r.length===0?[2,null]:[2,e.open(r[0])]}})})},e.open=function(r){return j(this,void 0,void 0,function(){var n,o;return X(this,function(s){switch(s.label){case 0:return[4,r.open()];case 1:return s.sent(),n=new e(r),o=function(i){r===i.device&&(je().removeEventListener("disconnect",o),n._emitDisconnect(new wn))},je().addEventListener("disconnect",o),[2,n]}})})},e.prototype.close=function(){return j(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.exchangeBusyPromise];case 1:return r.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return r.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Ei,e.list=Er,e.listen=function(r){var n=!1;vi().then(function(s){if(!s)r.error(new hr("Access denied to use Ledger device"));else if(!n){var i=typeof s.productId=="number"?dr(s.productId):void 0;r.next({type:"add",descriptor:s,deviceModel:i}),r.complete()}},function(s){r.error(new hr(s.message))});function o(){n=!0}return{unsubscribe:o}},e}(Sn),vr=gi;var Xe={[T.rejected]:"denied by the user",[T.ledgerBusy]:"Ledger Device is busy",[T.disConnected]:Ve,[T.lockedDevice]:"LockedDeviceError"},xi=t=>!!(T.wrongApp===t.message||t.name.match("TransportStatusError")||t.name.match("InvalidStateError")||t.name.match("Error")&&!t.message),Ii=async()=>{let{hid:t}=window.navigator;return t.getDevices?(await t.getDevices()).filter(r=>r.vendorId===re)[0]:null},Te=class{constructor(){this.ledgerTransPorter=null}static async hasConnectedLedger(){return!!await Ii()}static async requestLedgerDevice(){let{hid:e}=window.navigator,r=[];try{r=await e.requestDevice({filters:[{vendorId:re}]})}catch{r=[]}return r}async initLedgerTransPorter(){return this.ledgerTransPorter||(this.ledgerTransPorter=await vr.create()),this.ledgerTransPorter}throwTimeoutError(){return new Promise((e,r)=>{setTimeout(()=>{r(new Error("Timeout"))},_r)})}async checkLedgerConnection(){if(await Te.hasConnectedLedger())await this.makeApp();else throw new Error(Ve)}handleErrors(e,r){throw e.message.match(Xe[T.rejected])?W.openModal(T.rejected):e.message.match(Xe[T.ledgerBusy])?W.openModal(T.ledgerBusy):e.message.match(Xe[T.disConnected])?W.openModal(T.disConnected):e.name===Xe[T.lockedDevice]?W.openModal(T.lockedDevice):xi(e)?W.openModal(T.wrongApp):e.name==="EthAppPleaseEnableContractData"||e.message.match("blind")?W.openModal(T.blindEnable,{network:Ne[r]}):wr.error({title:e.message}),new Error(yr)}makeApp(){throw new Error("you have to override this method")}getAddress(){throw new Error("you have to override this method")}signTransaction(){throw new Error("you have to override this method")}signPersonalMessage(){throw new Error("you have to override this method")}signMessage(){throw new Error("you have to override this method")}},Xf=Te;export{mr as a,mn as b,T as c,W as d,Ml as e,Ii as f,Xf as g};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-RTFE54S3.js.map

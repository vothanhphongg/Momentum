import{a as H}from"./chunk-4Y4WTH2P.js";import{a as S}from"./chunk-7GKX3YKG.js";import{Fa as T,Na as L,c as $,e as f,f as E,k as C,l as B}from"./chunk-TM67VPZU.js";import{R as y,S as N,o as w,r as I}from"./chunk-PUSMMCUD.js";import{E as o,R as G}from"./chunk-UWJLNJLY.js";import{$ as k}from"./chunk-JT3LNHPY.js";import{b as P}from"./chunk-JWYCKY2V.js";import{f as h,o as r,q as l}from"./chunk-6KXF36WM.js";r();l();var e=h(P()),g=h($());G();r();l();var m=h(P());E();B();L();var R=()=>{let n=S("apiDomain",{...H,location:window.location.href}),[t,p]=(0,m.useState)([]),[s,d]=(0,m.useState)([]);return(0,m.useEffect)(()=>{(async()=>{if(n?.data){await f.set({networkChangeAPIDomain:n.data?.apiDomain}),p(n.data?.apiDomain);return}let{networkChangeAPIDomain:c=[]}=await f.get("networkChangeAPIDomain");p(c)})()},[n]),(0,m.useEffect)(()=>{(async()=>{let c=[],D=[],{apiDomain:x}=await f.get("apiDomain");for(let a=0,u=t.length;a<u;a++)D.push({url:t[a],status:-1,checked:x===t[a]}),c.push((i=>new Promise(A=>{let b={url:i,checked:x===i};T(`${i}${C.app.tryPaths.apiDomain.url}`,{},{timeout:2e3}).then(()=>{A({...b,status:1})}).catch(()=>{A({...b,status:0})})}))(t[a]));d(D),Promise.allSettled(c).then(a=>{let u=[];a.forEach(i=>{i.status==="fulfilled"&&u.push(i.value)}),d(u)}).catch(()=>{})})()},[t[0]]),s};r();l();var _={networkHeight:"_networkHeight_1ifa0_1",networkName:"_networkName_1ifa0_9",networkIcon:"_networkIcon_1ifa0_14",networkDisable:"_networkDisable_1ifa0_19",networkPadding:"_networkPadding_1ifa0_23"};var v=()=>{let n=R();return e.default.createElement("div",{className:_.networkPadding},n.map((t,p)=>{let s=t.status===1;return e.default.createElement("div",{key:t.url,onClick:()=>{s&&w.warn({alignBottom:!1,title:o("wallet_extension_settings_popup_title_restart_extension"),text:o("wallet_extension_settings_popup_text_restart_extension"),cancelText:o("wallet_extension_settings_popup_btn_not_now"),confirmText:o("wallet_extension_settings_popup_btn_restart"),onConfirm:async()=>{await g.default.storage.local.set({userChooseNetwork:1}),await g.default.storage.local.set({apiDomain:t.url}),g.default.runtime.reload()}})},className:`${_.networkHeight} ${s?"":_.networkDisable}`},e.default.createElement("span",{className:_.networkName},o("wallet_extension_settings_text_server1",{num:p+1})),s&&e.default.createElement(y,null,o("wallet_extension_settings_tag_available")),t.status===0&&e.default.createElement(N,null,o("wallet_extension_settings_tag_failed")),t.status===-1&&e.default.createElement(k,{size:k.SIZE.sm}),s&&t.checked&&e.default.createElement(I.Circle,{checked:!0,className:_.networkIcon}))}))},st=()=>{w.action({noTopRadius:!1,title:o("wallet_extension_settings_select_text_switch_servers"),children:e.default.createElement(v,null)})},it=({visible:n=!1,onClose:t=()=>{}})=>e.default.createElement(w.Action,{visible:n,onClose:t,title:o("wallet_extension_settings_select_text_switch_servers")},e.default.createElement(v,null));export{st as a,it as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-LTM6SBVL.js.map

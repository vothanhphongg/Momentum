import{a as N}from"./chunk-W3L3YTJO.js";import{b as M,g as w,h as I,r as d}from"./chunk-VM2NMLPX.js";import{c as G}from"./chunk-FNXLAYUB.js";import{Oa as f,oa as R,pa as m,qa as W}from"./chunk-FTRHGHDS.js";import{B as S}from"./chunk-A6Z53EN6.js";import{c as E,d as U}from"./chunk-VW6OQNWT.js";import{I as O,N as x,R as h,a as c}from"./chunk-UWJLNJLY.js";import{M as k,N as D,a as P,b as A,ra as K}from"./chunk-XDY6V34Y.js";import{o as n,q as s}from"./chunk-6KXF36WM.js";n();s();h();function v(){let{pathname:r}=O();return r.endsWith(w)||r.endsWith(I)}function b(){return(c()||d())&&v()}n();s();K();h();U();n();s();h();n();s();var H="referrer_page_url_storage_key";var a={MARKER_SEARCH:"market_search",RANKING_SEARCH:"ranking_search",TOKEN_DETAILS_SEARCH:"token_details_search",HOT_LIST:"hot_list",WATCH_LIST:"watch_list",TREND_TOKEN_LIST:"token_detail_trending",WATCH_TOKEN_LIST:"token_detail_watch",MY_TOKEN_LIST:"token_detail_holding",SWAP_DETAIL:"swap",MARKET_TRENDING:"market_trending",MARKET_HOT_SEARCH:"market_hot_search",MARKET_NEWEST:"market_newest",MARKET_MEME_PUMP:"market_meme_pump",MARKET_SIGNAL:"market_signal",MARKET_TRACKER:"market_tracker",DISCOVER_PAGE:"discover_page"},ee={[a.MARKET_TRENDING]:"MARKET_Tokens",[a.MARKET_HOT_SEARCH]:"MARKET_Tokens",[a.MARKET_NEWEST]:"MARKET_Tokens",[a.MARKET_MEME_PUMP]:"MARKET_Meme Pump",[a.MARKET_SIGNAL]:"MARKET_Signal",[a.MARKET_TRACKER]:"MARKET_Tracker_Address",[a.WATCH_LIST]:"MARKET_Tracker_Token",[a.DISCOVER_PAGE]:m.DISCOVER_FEED},re={TAB_NAME:{history:"history",fund_pool:"liq",holders:"holders",my_position:"position",traders:"trader"},QUICK_TAB_NAME:{trending:"trending",watchlist:"watchlist",my_tokens:"holding"},CURRENCY_SWITCH:{stable:"stable",native_token:"native_token"},MINI_CHART:{holders:"holders",top_hundred:"top_hundred",avg_holding:"avg_holding",holding_greater_than_10u:"holding_greater_than_10u",dev_holding:"dev_holding",suspicious_holding:"suspicious_holding",suspected_insider:"suspected_insider"},point:1,yes:"yes",no:"no"};var y=r=>{let{pathname:e}=G(r);return W.find(o=>new RegExp(o.reg).test(e))?.params||{}},B="dex_source_env",V="dex-swap/bridge",Y="dex-swap/meme",C=()=>{if(c())return{};if(d())return M.g.get(B);if(f()){let r=R.SWAP,e=window?.location?.hash;e?.indexOf(V)>-1?r=R.BRIDGE:e?.indexOf(Y)>-1&&(r=R.MEME);let t=m.PLUGIN;return N()&&(t=m.TGAPP,M.get("pageSource")==="bot"&&(t=m.COMMAND)),{source:t,business_type:r,trade_dialog:"no"}}return y(x.href)};n();s();K();function l(r){let e={...r};return Object.keys(e).forEach(t=>{let o=r[t];(k(o)||o===""||D(o))&&delete e[t]}),e}var j=[0],ve=()=>new AbortController,F=()=>Promise.reject(),Le=r=>r?.status===E.STATUS_CODE?.ERR_CANCELED;async function g(r={}){let e=r;if(f()&&(e=await S.global?.interceptorHeaders(r),e.url=`https://${S.global.getApiHostname()}${e.url}`),!c()&&d()&&!f()){e.headers||(e.headers={});let t=C();e.headers.Referer_URL=t.iframe_referrer,t.widget_version&&(e.headers.Widget_version=C().widget_version)}return A(e.params)&&(e.params=l(e.params)),P(e.data)?e.data=e.data.map(t=>l(t)):A(e.data)&&(e.data=l(e.data)),e.needSign=!0,e.customToLogin=F,e}function T(r){return r.then(e=>{let{data:t}=e;return j.includes(t?.code)?t:Promise.reject(t||{})})}var u={};u.get=(r,e)=>T(g({...e,url:r}).then(t=>{let{url:o,..._}=t;return E.get(o,_).then(i=>(i?.status===200&&i?.data?.code&&(i.data.code=+i.data.code),i))}));u.getWithCache=(r,e)=>T(g({...e,url:r}).then(t=>{let{url:o,..._}=t;return E.getWithCache(o,{cacheSeconds:60*5,..._})}));u.post=(r,e,t)=>T(g({...t,url:r,data:e,method:"post"}).then(o=>{let{url:_,data:i,...L}=o;return E.post(_,i,L)}));u.delete=(r,e,t)=>T(g({...t,url:r,data:e,method:"delete"}).then(o=>{let{url:_,...i}=o;return E.delete(_,i)}));var Ue=u;export{H as a,a as b,ee as c,re as d,b as e,C as f,ve as g,Le as h,Ue as i};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-YF3DWJDS.js.map

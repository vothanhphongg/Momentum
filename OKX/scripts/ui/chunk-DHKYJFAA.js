import{e as L}from"./chunk-34VLVCKN.js";import{e as W}from"./chunk-YF3DWJDS.js";import{a as T}from"./chunk-VM2NMLPX.js";import{$c as y,Oa as g,Zc as i,_c as P}from"./chunk-FTRHGHDS.js";import{c as w}from"./chunk-XT3EOPTE.js";import{m as I}from"./chunk-A6Z53EN6.js";import{o as f,r as S}from"./chunk-PUSMMCUD.js";import{ea as h}from"./chunk-JT3LNHPY.js";import{b as p}from"./chunk-JWYCKY2V.js";import{f as n,o as e,q as t}from"./chunk-6KXF36WM.js";e();t();var x=n(p()),B=n(y());e();t();var A=n(p());var k=({className:r,onChangeAgreed:o,agreed:s,size:m})=>A.default.createElement("div",{className:r},A.default.createElement(S,{onChange:o,checked:s,size:m||S.SIZE.md},i("swaptrade_confirmation_checkbox_aware_risk")));e();t();var b=n(p());e();t();var a={body:"_body_1xhc2_1",content:"_content_1xhc2_5","freeze-assets":"_freeze-assets_1xhc2_8",freezeAssets:"_freeze-assets_1xhc2_8","terms-service":"_terms-service_1xhc2_11",termsService:"_terms-service_1xhc2_11",checkbox:"_checkbox_1xhc2_17","checkbox-web":"_checkbox-web_1xhc2_20",checkboxWeb:"_checkbox-web_1xhc2_20","checkbox-wallet":"_checkbox-wallet_1xhc2_23",checkboxWallet:"_checkbox-wallet_1xhc2_23","market-disclaimer-wrapper":"_market-disclaimer-wrapper_1xhc2_26",marketDisclaimerWrapper:"_market-disclaimer-wrapper_1xhc2_26","market-top":"_market-top_1xhc2_44",marketTop:"_market-top_1xhc2_44","market-title":"_market-title_1xhc2_44",marketTitle:"_market-title_1xhc2_44","market-content":"_market-content_1xhc2_50",marketContent:"_market-content_1xhc2_50","market-bottom":"_market-bottom_1xhc2_55",marketBottom:"_market-bottom_1xhc2_55","market-checkbox":"_market-checkbox_1xhc2_55",marketCheckbox:"_market-checkbox_1xhc2_55","widget-content":"_widget-content_1xhc2_60",widgetContent:"_widget-content_1xhc2_60"};var X=({className:r})=>{let o=g()?i("swaptrade_general_dialog_text_terms_service_link"):i("swaptrade_web_link_ecosystem_tos");return b.default.createElement(L,{className:r||a.termsService,href:o},i("swaptrade_general_dialog_text_terms_service"))},u=({className:r,linkClassName:o})=>b.default.createElement("div",{className:r},P("swaptrade_general_dialog_desc_legal_disclaimer",{freezeAssets:b.default.createElement("span",{className:a.freezeAssets},i("swaptrade_general_dialog_text_freeze_content")),termsService:b.default.createElement(X,{className:o})}));e();t();e();t();var q=null;function z(){return!!q?.isTradeDialog}var F="DISCLAIMER_VISIBLE",H=()=>{let r=T.get(F);return typeof r=="boolean"?r:!0},C=r=>{T.set(F,r)},D=()=>z()||W()?!1:H();function V({agreed:r,onChangeAgreed:o}){let s=g();return x.default.createElement("div",{className:a.body},x.default.createElement(u,{className:a.content}),x.default.createElement(k,{className:(0,B.default)({[a.checkbox]:!0,[a.checkboxWeb]:!s,[a.checkboxWallet]:s}),onChangeAgreed:o,agreed:r}))}function We(){if(!D())return()=>Promise.resolve(!0);let o=null,s=!1,m=_=>{s=_?.target?.checked,o?.update({children:x.default.createElement(V,{agreed:s,onChangeAgreed:m}),confirmBtnProps:{disabled:!s,type:h.TYPE.primary}})};return()=>new Promise((_,d)=>{o=f.tip({infoType:f.Tip.INFO_TYPE.warn,btnFull:!1,title:i("swaptrade_general_dialog_title_legal_disclaimer"),children:x.default.createElement(V,{agreed:s,onChangeAgreed:m}),confirmText:i("swaptrade_general_dialog_btn_start_trading"),confirmBtnProps:{disabled:!s,type:h.TYPE.primary},cancelText:i("commonall_text_btn_cancel"),onConfirm:()=>{C(!1),o?.destroy(),_(!0)},onClose:()=>{o?.destroy(),o=null,d(new Error("Risk prompt closed"))},onCancel:()=>{d(new Error("Risk prompt closed"))}})})}e();t();e();t();var v=n(p());var M=({setStoreDisclaimerVisible:r})=>{let o=typeof r=="function"?r:()=>{},s=(0,v.useMemo)(()=>D(),[]);return(0,v.useEffect)(()=>{o(s)},[s]),{agreeDisclaimer:()=>{o(!1),C(!1)}}};e();t();var c=n(p()),Y=n(y());var O=({infoType:r,disclaimerVisible:o,setDisclaimerVisible:s,onAgree:m})=>{let[_,d]=(0,c.useState)(!1),{agreeDisclaimer:G}=M({setStoreDisclaimerVisible:s}),U=()=>{s(!1)},J=Q=>{d(Q?.target?.checked)},K=()=>{G(),m&&m()};(0,c.useEffect)(()=>(o||d(!1),()=>{d(!1)}),[o]);let E=g();return c.default.createElement(f.Tip,{visible:o,btnFull:!1,infoType:r||f.Tip.INFO_TYPE.default,title:i("swaptrade_general_dialog_title_legal_disclaimer"),confirmText:i("swaptrade_general_dialog_btn_start_trading"),confirmDisabled:!_,onConfirm:K,confirmBtnProps:{type:h.TYPE.primary},cancelText:i("commonall_text_btn_cancel"),onClose:U},c.default.createElement("div",{className:a.body},c.default.createElement(u,{className:a.content}),c.default.createElement(k,{className:(0,Y.default)({[a.checkbox]:!0,[a.checkboxWeb]:!E,[a.checkboxWallet]:E}),onChangeAgreed:J,agreed:_})))};e();t();var Z=n(p());var et=I(()=>{let{commonStore:r}=w();return Z.default.createElement(O,{disclaimerVisible:r.disclaimerVisible,setDisclaimerVisible:r.setDisclaimerVisible})});e();t();var N=n(p()),$=n(y());export{D as a,O as b,We as c};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-DHKYJFAA.js.map

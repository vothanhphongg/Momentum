import{a as ft}from"./chunk-PJEPGOOI.js";import{b as mt,c as st,d as lt}from"./chunk-UZWUY4JR.js";import{b as tt,i as ot,k as rt,m as at,q as ct,r as nt}from"./chunk-3CVTSTBR.js";import{a as et}from"./chunk-EVRKRU7I.js";import"./chunk-KQDMYE3F.js";import"./chunk-PWLZXA4M.js";import"./chunk-BLGJS4OD.js";import"./chunk-IGYAABP7.js";import"./chunk-RYRQK4MH.js";import{e as it}from"./chunk-EHKSYXXT.js";import{a as Re}from"./chunk-TOV4UWR3.js";import"./chunk-BDM6XPIF.js";import"./chunk-MDL52WR7.js";import"./chunk-PSDESO5W.js";import"./chunk-VOOXQWRX.js";import"./chunk-TISF4HQJ.js";import"./chunk-ALLM2Z34.js";import"./chunk-QXPTHK7Q.js";import{a as me,k as Qe}from"./chunk-2LCPVMSO.js";import"./chunk-7C3BTQYU.js";import"./chunk-3XTUMVWB.js";import"./chunk-MGYCOFIC.js";import"./chunk-6THUPAMO.js";import"./chunk-FK5ARFJK.js";import"./chunk-6Y7SZIB7.js";import"./chunk-VVYJA72I.js";import{a as Z}from"./chunk-OWWFH26C.js";import{a as $e,c as je}from"./chunk-MNZIO3NP.js";import"./chunk-HEFTA5OH.js";import"./chunk-S7NLB5XS.js";import{a as Je}from"./chunk-UUWJWUOY.js";import"./chunk-7CC6X6YX.js";import"./chunk-JAGKSBYF.js";import"./chunk-CR2CPF4X.js";import"./chunk-HKZGONPS.js";import"./chunk-IIAVVYHZ.js";import"./chunk-TSTKPLAO.js";import{a as Xe}from"./chunk-52XLG23J.js";import"./chunk-EEFD5KZC.js";import"./chunk-73ZHJYCP.js";import"./chunk-3NSLXJYR.js";import"./chunk-ENPNPH37.js";import"./chunk-5QJIR6ZJ.js";import"./chunk-H6SNSZIS.js";import"./chunk-YWECPG37.js";import"./chunk-AXJECT36.js";import"./chunk-5BIOTNBS.js";import"./chunk-R5SMHBLJ.js";import"./chunk-IY4RYRL6.js";import"./chunk-4OAEJJK5.js";import"./chunk-34VLVCKN.js";import"./chunk-J4ZKBKEJ.js";import"./chunk-TFJRUJHH.js";import"./chunk-7NMUCCUG.js";import"./chunk-YF3DWJDS.js";import"./chunk-RH4ISAHA.js";import"./chunk-ECQND2NK.js";import"./chunk-W3L3YTJO.js";import"./chunk-M5NI6HPE.js";import"./chunk-YQHUKBMA.js";import"./chunk-VM2NMLPX.js";import"./chunk-YP7CHBKG.js";import"./chunk-FNXLAYUB.js";import"./chunk-PQK3LXXN.js";import"./chunk-FTRHGHDS.js";import"./chunk-XT3EOPTE.js";import"./chunk-A6Z53EN6.js";import"./chunk-LL63GZNI.js";import"./chunk-M7CL2K7X.js";import"./chunk-W2CTJYFJ.js";import"./chunk-XUKVTAH5.js";import"./chunk-5OJTPISL.js";import"./chunk-7UPVX2FL.js";import"./chunk-BSFXZ46S.js";import"./chunk-ZMCTBWUY.js";import"./chunk-UMGTYP2Z.js";import"./chunk-DTLEDHZZ.js";import"./chunk-5F6JALEN.js";import"./chunk-V7MKKAGW.js";import"./chunk-SKMCCAGC.js";import"./chunk-FOF22X4F.js";import"./chunk-P4EMG7RN.js";import"./chunk-7B5UI77E.js";import"./chunk-R6X7EOIE.js";import"./chunk-MKEYCSLA.js";import"./chunk-4EFZXPDV.js";import"./chunk-4KODREVA.js";import"./chunk-6UWGBJGT.js";import"./chunk-G4AVWXHJ.js";import"./chunk-76CRIMII.js";import"./chunk-F7VSWGDW.js";import"./chunk-MKSCYWSV.js";import"./chunk-KLLSVAFY.js";import"./chunk-MBHGLWZJ.js";import"./chunk-QZO7W5WD.js";import{f as D}from"./chunk-AKE54ZCC.js";import"./chunk-EHZWM44P.js";import"./chunk-K6STDTUY.js";import{a as Ke}from"./chunk-A57OTXBP.js";import"./chunk-YJQGXXOQ.js";import"./chunk-HTLOGWI7.js";import"./chunk-6SEP5B7P.js";import"./chunk-FHKOH5E6.js";import"./chunk-NTQ2YVDA.js";import"./chunk-KKG4PJ6O.js";import"./chunk-DZLXEJHX.js";import"./chunk-7SRLIN7D.js";import"./chunk-AW5NL3JM.js";import"./chunk-RI2WZ5PA.js";import"./chunk-YIAOHVF5.js";import"./chunk-KBS3PMLQ.js";import"./chunk-7GKX3YKG.js";import"./chunk-7HFBMBFB.js";import"./chunk-TJCPJQIM.js";import"./chunk-ZTAZ2272.js";import{e as qe}from"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import"./chunk-MRB2XFLQ.js";import"./chunk-65AJJVJY.js";import"./chunk-PDC447BO.js";import"./chunk-JI6FOZGR.js";import"./chunk-JCM7SRK2.js";import{a as ie}from"./chunk-PTD7UCOR.js";import"./chunk-Q4YTGP2G.js";import{b as G}from"./chunk-ETJEH7T4.js";import"./chunk-LLZAOPDB.js";import{a as ne}from"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-Y2TPPS4H.js";import"./chunk-ITY22AD4.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{a as ce}from"./chunk-YALUYHLV.js";import{q as l}from"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import{o as we}from"./chunk-5QMHGZLF.js";import{C as Ce,F as Ze,H as He,S as Me}from"./chunk-HPWCPLRR.js";import"./chunk-O6ZBO5JF.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import{a as Ve}from"./chunk-ON6S2DB7.js";import"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import"./chunk-3DZ7WRLL.js";import{d as $,f as _e}from"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-6BXYJZHH.js";import"./chunk-CCEMKRO6.js";import{a as X,b as V}from"./chunk-2HSCH6R3.js";import"./chunk-CWNIM6RS.js";import"./chunk-NNAD25BL.js";import"./chunk-XV444F26.js";import{f as Ye,h as Ue,q as Ge}from"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-JGEHAFTO.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import{c as h}from"./chunk-43VURGIT.js";import{Cb as Ne,Lc as ve,Q as be,Qb as Be,Rb as Le,Sc as Qt,Uc as Oe,Xc as de,_c as De,ac as xe,bd as ze,ha as Jt,mb as ae,rc as ke,rd as Rt}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{D as U,G as ye,c as Se,o as re}from"./chunk-PUSMMCUD.js";import{R as v,o as ue,z as d}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-VWEB6W6G.js";import"./chunk-5U7FO2PW.js";import"./chunk-B7EGZO4E.js";import"./chunk-PDUOSATP.js";import{H as Pe,ra as jt}from"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{c as Ee,ea as P}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as N}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import"./chunk-QNGB57GN.js";import"./chunk-NM2PDVBD.js";import"./chunk-F6PXOVYL.js";import"./chunk-324EPGNQ.js";import"./chunk-5GFHI4AK.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-IWVM7XL6.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f as F,o as i,q as m}from"./chunk-6KXF36WM.js";i();m();var C=F(N());v();var Dt=F(Ve()),se=F(we());ke();_e();i();m();var H=F(N()),pt=F(Ee());i();m();var x={"retina-border-basic":"_retina-border-basic_t6cnr_1",retinaBorderBasic:"_retina-border-basic_t6cnr_1","wax-create-account-confirm":"_wax-create-account-confirm_t6cnr_29",waxCreateAccountConfirm:"_wax-create-account-confirm_t6cnr_29","wax-create-account-confirm-form":"_wax-create-account-confirm-form_t6cnr_32",waxCreateAccountConfirmForm:"_wax-create-account-confirm-form_t6cnr_32","wax-create-account-confirm-form-select":"_wax-create-account-confirm-form-select_t6cnr_35",waxCreateAccountConfirmFormSelect:"_wax-create-account-confirm-form-select_t6cnr_35","wax-create-account-confirm-form-select-disabled":"_wax-create-account-confirm-form-select-disabled_t6cnr_42",waxCreateAccountConfirmFormSelectDisabled:"_wax-create-account-confirm-form-select-disabled_t6cnr_42","wax-create-account-confirm-form-select-free":"_wax-create-account-confirm-form-select-free_t6cnr_46",waxCreateAccountConfirmFormSelectFree:"_wax-create-account-confirm-form-select-free_t6cnr_46","wax-create-account-confirm-form-select-free-text":"_wax-create-account-confirm-form-select-free-text_t6cnr_49",waxCreateAccountConfirmFormSelectFreeText:"_wax-create-account-confirm-form-select-free-text_t6cnr_49","wax-create-account-confirm-form-select-free-amount":"_wax-create-account-confirm-form-select-free-amount_t6cnr_53",waxCreateAccountConfirmFormSelectFreeAmount:"_wax-create-account-confirm-form-select-free-amount_t6cnr_53","wax-create-account-confirm-form-select-space":"_wax-create-account-confirm-form-select-space_t6cnr_57",waxCreateAccountConfirmFormSelectSpace:"_wax-create-account-confirm-form-select-space_t6cnr_57","wax-create-account-confirm-form-payInfo":"_wax-create-account-confirm-form-payInfo_t6cnr_60",waxCreateAccountConfirmFormPayInfo:"_wax-create-account-confirm-form-payInfo_t6cnr_60","wax-create-account-confirm-form-payInfo-icon":"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65",waxCreateAccountConfirmFormPayInfoIcon:"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65","wax-create-account-confirm-form-payCrypto-dialog":"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69",waxCreateAccountConfirmFormPayCryptoDialog:"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69","wax-create-account-confirm-form-payCrypto-title":"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72",waxCreateAccountConfirmFormPayCryptoTitle:"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72","wax-create-account-confirm-form-payCrypto-list":"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78",waxCreateAccountConfirmFormPayCryptoList:"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78","wax-create-account-confirm-form-payWallet":"_wax-create-account-confirm-form-payWallet_t6cnr_81",waxCreateAccountConfirmFormPayWallet:"_wax-create-account-confirm-form-payWallet_t6cnr_81","wax-create-account-confirm-form-payWallet-navigator":"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84",waxCreateAccountConfirmFormPayWalletNavigator:"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84","wax-create-account-confirm-form-payWallet-wallet-item":"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87",waxCreateAccountConfirmFormPayWalletWalletItem:"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87","wax-create-account-confirm-form-payWallet-accordion":"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90",waxCreateAccountConfirmFormPayWalletAccordion:"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90","wax-create-account-confirm-form-payWallet-accordion-header":"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96",waxCreateAccountConfirmFormPayWalletAccordionHeader:"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96","wax-create-account-confirm-form-payWallet-accordion-content":"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130",waxCreateAccountConfirmFormPayWalletAccordionContent:"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130","wax-create-account-confirm-form-payWallet-accordion-icon":"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133",waxCreateAccountConfirmFormPayWalletAccordionIcon:"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133","wax-create-account-confirm-form-payWallet-account-item":"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136",waxCreateAccountConfirmFormPayWalletAccountItem:"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136","wax-create-account-confirm-form-payWallet-account-item-main":"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140",waxCreateAccountConfirmFormPayWalletAccountItemMain:"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140","wax-create-account-confirm-form-payWallet-tag":"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143",waxCreateAccountConfirmFormPayWalletTag:"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143","wax-create-account-confirm-form-payWallet-selected-icon":"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152",waxCreateAccountConfirmFormPayWalletSelectedIcon:"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152","wax-create-account-confirm-form-payWallet-footer":"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155",waxCreateAccountConfirmFormPayWalletFooter:"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155","wax-create-account-confirm-form-insufficient-error":"_wax-create-account-confirm-form-insufficient-error_t6cnr_158",waxCreateAccountConfirmFormInsufficientError:"_wax-create-account-confirm-form-insufficient-error_t6cnr_158","wax-create-account-confirm-form-fill-up":"_wax-create-account-confirm-form-fill-up_t6cnr_161",waxCreateAccountConfirmFormFillUp:"_wax-create-account-confirm-form-fill-up_t6cnr_161"};var eo=({type:t,value:e,disabled:a,placeholder:n,onClick:o})=>H.default.createElement(h.FlexBox,{align:h.ALIGN.center,onClick:()=>{o?.(t)},className:(0,pt.default)(x["wax-create-account-confirm-form-select"],{[x["wax-create-account-confirm-form-select-disabled"]]:a})},H.default.createElement(h.Space,{className:x["wax-create-account-confirm-form-select-space"],space:0,direction:h.DIRECTION.vertical},!e&&n&&H.default.createElement(l.Text,{type:l.TYPE.secondary},n),!!e&&H.default.createElement(l.Text,null,e?.label||e),!!e?.desc&&H.default.createElement(l.Text,{size:l.SIZE.xs,type:l.TYPE.secondary},e?.desc||e)),!a&&H.default.createElement(G,{icon:"okds-arrow-chevron-right-centered-md",size:G.SIZE.xs})),ge=H.default.memo(eo);i();m();var j=F(N());v();var ut=F(Ee());var to=({coinAmount:t,decimals:e,symbol:a})=>j.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:(0,ut.default)(x["wax-create-account-confirm-form-select"],x["wax-create-account-confirm-form-select-free"])},j.default.createElement(h.Space,{space:6,align:h.ALIGN.center,direction:h.DIRECTION.horizontal},j.default.createElement(l.Text,{className:x["wax-create-account-confirm-form-select-free-text"]},d("wallet_extension_mid_colored_free")),j.default.createElement(l.DisplayAmount,{className:x["wax-create-account-confirm-form-select-free-amount"],mode:l.CRYPTO,size:l.SIZE.sm,symbol:a,amount:t,decimals:e}))),yt=j.default.memo(to);i();m();var M=F(N());v();var oo=({symbol:t,decimals:e,value:a={}})=>{let n=[{symbol:t,decimals:e,label:"extension_wallet_create_colored_cpu",value:a?.cpuAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_network",value:a?.netAmount},{decimals:0,symbol:"bytes",label:"extension_wallet_create_colored_ram",value:a?.ramAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_price",value:a?.sumAmount,icon:{icon:"okds-information-circle",tooltip:"extension_wallet_create_tooltip_20percent_transferfee"}}];return M.default.createElement(D,{space:20,className:x["wax-create-account-confirm-form-payInfo"],dataSource:n,renderItem:({icon:o,label:c,value:y,symbol:s,decimals:u})=>M.default.createElement(D.Line,{size:l.SIZE.sm,label:M.default.createElement(M.default.Fragment,null,d(c),!!o&&M.default.createElement(G,{className:x["wax-create-account-confirm-form-payInfo-icon"],icon:o?.icon,size:G.SIZE.xs,tooltip:o?.tooltip?d(o?.tooltip):!1})),value:M.default.createElement(l.DisplayAmount,{symbol:s,decimals:u,mode:l.CRYPTO,size:l.SIZE.sm},y)})})},_t=M.default.memo(oo);i();m();var z=F(N());v();var ro=({name:t,value:e,visible:a,options:n,onChange:o,onClose:c})=>z.default.createElement(re,{windowClass:x["wax-create-account-confirm-form-payCrypto-dialog"],alignBottom:!0,onClose:()=>{c?.(t)},visible:a},z.default.createElement(l.Text,{className:x["wax-create-account-confirm-form-payCrypto-title"],strong:700,ellipsis:{tooltip:!0}},d("extension_wallet_popup_maintitle_select_crypto")),z.default.createElement(D,{className:x["wax-create-account-confirm-form-payCrypto-list"],space:16,dataSource:n,renderItem:y=>{let{icon:s}=y;return z.default.createElement(D.Card,{icon:{src:s},onClick:()=>{o?.({[t]:y}),c?.(t)},selected:e?.coinId===y.coinId},z.default.createElement(h.Space,{space:2,direction:h.DIRECTION.vertical},z.default.createElement(l.Text,null,y.label),z.default.createElement(l.Text,{type:l.TYPE.secondary,size:l.SIZE.sm},y.message)))}})),xt=z.default.memo(ro);i();m();var R=F(N());v();i();m();i();m();i();m();var dt=F(N()),ao=({coinId:t,sendAmount:e,fromAddr:a,toAddr:n})=>{let[o,c]=(0,dt.useState)({});return{props:{visible:!1,coinId:t,address:a,inputData:"",tokenAddress:n,value:e,onGasChange:c},ethereumGasInfo:o}},Ct=ao;i();m();var co=({coinId:t,coinAmount:e,fromAddr:a,toAddr:n,ethereumGasInfo:o,btnProps:c,beforeClick:y,onClick:s})=>{let g={fetchParams:{coinId:t,from:a,to:n,amount:e,gasPrice:o.gasPrice},userGasInfo:o,baseCoinAmountUse:e};return{props:{beforeClick:y,dataForCheck:g,btnProps:c,onClick:s}}},wt=co;i();m();Rt();Qt();var no=({coinId:t,walletId:e,sendAmount:a,fromAddr:n,toAddr:o,ethereumGasInfo:c,onPublish:y})=>{let{coin:s}=Z(t,!1),u=it({walletId:e,fromAddr:n,coinId:s.coinId}),g=_=>{let{updateGasInfo:p}=_;return p?{...p,gasLimit:c.gasLimit,supportEip1559:c.supportEip1559,networkFee:c.networkFee}:{...c}},r=({updateData:_,finallyGasInfo:p})=>{let{nonce:W}=_,T=ve(s.localType)?.realChainIdHex,A={from:n,gasLimit:V(p.gasLimit),nonce:V(W),chainId:T};return p.supportEip1559?(A.maxFeePerGas=V(p.maxFeePerGas),A.maxPriorityFeePerGas=V(p.maxPriorityFeePerGas),A.type=Ge.FEE_MARKET):A.gasPrice=V(p.gasPrice),A.value=V(a),A.to=o,Ze(A)},f=({txParams:_,finallyGasInfo:p})=>{let W=X(_.value),T=X(_.gasLimit),A=X(c.supportEip1559?_.maxFeePerGas:_.gasPrice),S={..._,value:W,from:n,to:o,gas:T,gasPrice:A,priorityFee:X(c.supportEip1559?_.maxPriorityFeePerGas:0),nonce:X(_.nonce),repeatTxType:Ue.CONFIRMING,oldTxHash:""};return{coinId:s.coinId,coinAmount:a,fromAdr:n,toAdr:o,serviceCharge:p.networkFee,extJson:JSON.stringify(S),txSource:ze.NORMAL,inputData:_.data?_.data:""}};return async _=>{let p=g(_),W=r({updateData:_,finallyGasInfo:p}),T={...W,walletId:e,supportEip1559:p.supportEip1559},A=f({txParams:W,finallyGasInfo:p}),S=await u(T),B={...A,signedTx:S};typeof y=="function"&&await y(B)}},gt=no;var io=({toAddr:t,coinId:e,walletId:a,fromAddr:n,sendAmount:o,btnProps:c,onBeforeClick:y=()=>{},onPublishTrascation:s=()=>{},onClickWrap:u=()=>{}})=>{let{props:g,ethereumGasInfo:r}=Ct({coinId:e,toAddr:t,fromAddr:n,sendAmount:o}),f=r?.networkFee,w=gt({coinId:e,walletId:a,sendAmount:o,fromAddr:n,toAddr:t,ethereumGasInfo:r,onPublish:s}),{props:_}=wt({toAddr:t,coinId:e,fromAddr:n,ethereumGasInfo:r,coinAmount:o,btnProps:c,beforeClick:()=>y?.(f),onClick:(...p)=>{u(async()=>{await w(...p)})}});return R.default.createElement(R.default.Fragment,null,R.default.createElement(et,{...g}),R.default.createElement(ft,{..._},d("wallet_extension_btn_general_confirm")))},ht=io;i();m();var Tt=F(N());v();var mo=({fromAddr:t,coinId:e,toAddr:a,disabled:n,loading:o,walletId:c,walletType:y,sendAmount:s,hideLoading:u,onBeforeClick:g=()=>{},onPublishTrascation:r=()=>{},onClickWrap:f=()=>{}})=>{let{coin:w}=Z(e,!1),_=Re({coinId:e,address:t,chainId:w?.chainId},{pollingInterval:20*1e3}),p=_?.normal,[,W]=rt({coinId:e,walletId:c,address:t},{refreshDeps:[c,t]}),[,T]=ct({coinId:e,toAddr:a,walletId:c,fromAddr:t,satBytes:p,coinAmount:s,canTransferAmount:W}),A=nt({coinId:e,toAddr:a,walletId:c,fromAddr:t,satBytes:p,networkFee:T,coinAmount:s,localType:w?.localType,dustSize:_?.minOutput}),S=ot({coinId:e,walletId:c,address:t,utxoType:tt.TRANSFER}),B=at({coinId:e,txType:Ye.TRANS_OUT,address:t}),L=async()=>{f(async()=>{g&&await g(T,W);let I=await S(s,T);await B(I,()=>{u?.()});let O=await A({utxoList:I}),Y=await me(w.localType,O);r?.({coinId:e,txHash:Y,signedTx:O,walletId:c,walletType:y,toAdr:a,serviceCharge:T,fromAdr:t,coinAmount:s})})};return Tt.default.createElement(P,{loading:o,disabled:n,size:P.SIZE.lg,category:P.CATEGORY.fill,type:P.TYPE.highlight,onClick:L},d("wallet_extension_btn_general_confirm"))},It=mo;i();m();var Wt=F(N());v();_e();var so=({fromAddr:t,coinId:e,toAddr:a,disabled:n,loading:o,walletId:c,walletType:y,sendAmount:s,onBeforeClick:u=()=>{},onPublishTrascation:g=()=>{},onClickWrap:r=()=>{}})=>{let{coin:f}=Z(e,!1),w=async()=>{r(async()=>{typeof u=="function"&&u("0");let _=await Me({coinId:e,address:t},{fromAddr:t,toAddr:a}),{info:p}=_||{},{chainid:W,compression:T,refBlockNumber:A,refBlockId:S,refBlockTimestamp:B,expireSeconds:L}=p,I={type:0,from:t,to:a,amount:s,memo:"",common:{chainId:W,compression:T,refBlockNumber:A,refBlockId:S,refBlockTimestamp:B,expireSeconds:L}},O=await $().signTransaction(I,t,f.localType),Y=await me(f.localType,O);typeof g=="function"&&await g({coinId:e,txHash:Y,signedTx:O,walletId:c,walletType:y,toAdr:a,serviceCharge:"0",fromAdr:t,coinAmount:s})})};return Wt.default.createElement(P,{loading:o,disabled:n,size:P.SIZE.lg,category:P.CATEGORY.fill,type:P.TYPE.highlight,onClick:w},d("wallet_extension_btn_general_confirm"))},At=so;i();m();var Ft=F(N());v();var Pt=F(Ve());var lo=600001,fo=({loading:t,disabled:e,fromPage:a,retryCreateAccount:n,onPublishTrascation:o=()=>{}})=>{let c=(0,Pt.useHistory)(),y=async()=>{let s=await o?.();if(Number(s?.code)===lo){let u=re.warn({alignBottom:!1,title:d("wallet_extension_wax_modaltitle_account_unavailable"),text:d("wallet_extension_wax_modaldesc_free_account_unsupported"),cancelText:d("wallet_extension_btn_general_cancel"),confirmText:d("wallet_extension_mid_btn_retry"),onCancel:()=>{u.destroy(),c.push(a||ce)},onConfirm:()=>{u.destroy(),n?.()}})}};return Ft.default.createElement(P,{loading:t,disabled:e,size:P.SIZE.lg,category:P.CATEGORY.fill,type:P.TYPE.highlight,onClick:y},d("wallet_extension_btn_general_confirm"))},bt=fo;i();m();var E=F(N());De();v();var po=({name:t,value:e,visible:a,options:n=[],onChange:o,onClose:c})=>{let[y,s]=(0,E.useState)(e);return(0,E.useEffect)(()=>{s(e)},[e]),a?E.default.createElement(h.Portal,{component:h.Container,className:x["wax-create-account-confirm-form-payWallet"]},E.default.createElement(ie,{className:x["wax-create-account-confirm-form-payWallet-navigator"],title:d("extension_wallet_header_title_select_wallet"),closeable:!1,onBack:()=>{c?.(t)}}),E.default.createElement(D,{className:x["wax-create-account-confirm-form-payWallet-wallet-item"],space:12,dataSource:n||[],renderItem:({keyringName:u,keyringColor:g,walletIdentities:r})=>E.default.createElement(Se,{defaultExpanded:!0,iconClassName:x["wax-create-account-confirm-form-payWallet-accordion-icon"],title:E.default.createElement(l.Text,{strong:!0,size:l.SIZE.lg,style:{color:g}},u),className:x["wax-create-account-confirm-form-payWallet-accordion"],headerClassName:x["wax-create-account-confirm-form-payWallet-accordion-header"],contentClassName:x["wax-create-account-confirm-form-payWallet-accordion-content"]},E.default.createElement(D,{dataSource:r,renderItem:f=>E.default.createElement(h.FlexBox,{className:x["wax-create-account-confirm-form-payWallet-account-item"],align:h.ALIGN.center,onClick:()=>{s(f)}},E.default.createElement(h.Space,{className:x["wax-create-account-confirm-form-payWallet-account-item-main"],space:0,direction:h.DIRECTION.vertical},E.default.createElement(h.Space,{space:8,align:h.ALIGN.center},E.default.createElement(l.Text,{size:l.SIZE.md},f?.walletName),!!f.addressType&&E.default.createElement(h.Box,{className:x["wax-create-account-confirm-form-payWallet-tag"]},d(Oe[f.addressType]))),E.default.createElement(l.DisplayAmount,{mode:l.CRYPTO,decimals:f?.decimals,symbol:f?.symbol,size:l.SIZE.xs,type:l.TYPE.secondary},f?.coinAmountInt)),y?.address===f?.address&&E.default.createElement(G,{className:x["wax-create-account-confirm-form-payWallet-selected-icon"],icon:"okds-success-circle-fill"}))}))}),E.default.createElement(ne.FooterActions,{zIndex:101,className:x["wax-create-account-confirm-form-payWallet-footer"]},E.default.createElement(P,{size:P.SIZE.lg,category:P.CATEGORY.fill,type:P.TYPE.highlight,onClick:()=>{c?.(t),o?.({[t]:y})}},d("wallet_extension_btn_general_confirm")))):null},Et=po;i();m();var St=F(we());_e();ke();De();Jt();var uo=()=>{let t=je(),e=qe({hasBackup:!0}),a=$e();return(0,St.useMemoizedFn)(async(n,o)=>{let c=await t(n),y=c?.localType;if(!n||!y)return null;let s=await $().getCreatedWalletIds(),u=await a({walletIds:s,chainId:c.chainId,coinId:n,flatten:!0});return(e?.map(r=>{let{walletIdentities:f}=r;return{...r,walletIdentities:f.map(w=>{let _=u[w?.walletId]||[];return{...w,coins:_.filter(p=>p?.coinId===n&&be(p.coinAmountInt,o))}}).filter(({coins:w})=>w?.length)}}).filter(({walletIdentities:r})=>r?.some(({coins:f})=>f?.length))).map(r=>{let f=r?.walletIdentities;return He({coinId:n})?f=f?.reduce((w,{coins:_,walletName:p,addressType:W,...T})=>[...w,..._.map(({coinAmountInt:A,addressType:S,...B})=>{let L=W?.[ae]?.find(I=>I?.addressType===de[ae][S])?.address;return{...T,...B,walletName:p,coinAmountInt:A,label:`${r?.keyringName} - ${p}`,desc:Ce(L),addressType:de[ae][S],address:L}})],[]):f=f.map(({account:w,walletName:_,coins:p,...W})=>{let T=w?.[y];return{...p[0],...W,address:T,walletName:_,label:`${r?.keyringName} - ${_}`,desc:Ce(T)}}),{...r,walletIdentities:f}})},[e])},Nt=uo;i();m();var J=F(N()),yo=()=>{let t=U.useForm(),[e,a]=(0,J.useState)({}),[n,o]=(0,J.useState)({payCrypto:!1,payWallet:!1}),c=(0,J.useCallback)(s=>{o(u=>({...u,[s]:!u[s]}))},[]),y=(0,J.useCallback)(s=>{t.setFieldsValue(s),a((u={})=>({...u,...s}))},[]);return{form:t,visible:n,payValues:e,onPayValuesChange:y,onToggleSelectPanel:c}},Bt=yo;i();m();var Q=F(N()),_o=({form:t,payInfo:e,payValues:a,isFreeCreate:n,walletOptions:o,payCryptoOptions:c,onPayValuesChange:y,setPayWalletError:s})=>{let u=(0,Q.useRef)({payCrypto:!1,payWallet:!1}),g=r=>{y?.(r),t.setFieldsValue(r)};(0,Q.useEffect)(()=>{g({payInfo:e})},[e]),(0,Q.useEffect)(()=>{if(!u.current.payCrypto&&c?.length){let r=c.find(({recommend:f})=>f);g({payCrypto:r}),u.current={...u.current,payCrypto:!0}}if(u.current.payCrypto&&c?.length){let r=c.find(({coinId:f})=>f===a?.payCrypto?.coinId);r&&g({payCrypto:r})}},[c]),(0,Q.useEffect)(()=>{if(!n){if(!u.current.payWallet&&o?.length){let[{walletIdentities:[r]}]=o;g({payWallet:r}),u.current={...u.current,payWallet:!0}}if(u.current.payWallet){o?.length||(g({payWallet:null}),s?.(!1));let{coinId:r}=a?.payCrypto||{},{coinId:f}=a?.payWallet||{};if(o?.length&&r!==f){let[{walletIdentities:[w]}]=o;g({payWallet:w}),s?.(!1)}}}},[n,o])},Lt=_o;i();m();jt();var q=F(we());var K=F(N());var xo=60*1e3,Co=t=>{let[e,a]=(0,K.useState)({}),[n,{set:o}]=(0,q.useBoolean)(!1),[c,{set:y}]=(0,q.useBoolean)(),[s,u]=(0,K.useState)([]),g=Xe(),r=(0,K.useMemo)(()=>Pe(g)?[]:s.map(p=>{let{coinId:W,coinAmount:T}=p,A=g[W]||{},{image:S,symbol:B,decimals:L}=A;return{...A,...p,icon:S,label:K.default.createElement(l.DisplayAmount,{noStyle:!0,symbol:B,decimals:L,mode:l.CRYPTO},T)}}),[g,s]),f=async()=>{let{eosMarket:p,coins:W,freeAccount:T}=await mt({coinId:t});a(p),u(W),y(T)},{runAsync:w,refreshAsync:_}=(0,q.useRequest)(f,{manual:!0,pollingInterval:xo,pollingWhenHidden:!1,pollingErrorRetryCount:3});return(0,q.useMount)(()=>{(async()=>{try{o(!0),await w()}catch(p){console.log(p)}finally{o(!1)}})()}),[n,c,e,r,_]},kt=Co;i();m();v();var vt=F(N()),wo=({sendAmount:t,availableBalance:e="0",onCheckCallback:a})=>(0,vt.useCallback)((n="0",o)=>ue.gt(ue.add(t,n),o!==void 0?o:e)?a?.(!0):a?.(!1),[t,e]),Ot=wo;var go=()=>{let t=Je(),e=(0,Dt.useHistory)(),[a,n]=(0,C.useState)(null),o=Number(t.get("coinId"))||xe,{coin:c}=Z(o,!1),y=Ke(),[s,u]=(0,C.useState)(!1),[g,r,f,w,_]=kt(o),[p,W]=(0,C.useState)(!1),[T,{setTrue:A,setFalse:S}]=(0,se.useBoolean)(!1),{form:B,visible:L,payValues:I,onPayValuesChange:O,onToggleSelectPanel:Y}=Bt({payInfo:f,payCryptoOptions:w}),le=Nt();(0,se.useUpdateEffect)(()=>{(async()=>{if(!r&&I?.payCrypto?.coinId){let k=await le(I?.payCrypto?.coinId,I?.payCrypto?.coinAmount);n(k)}})()},[r,I?.payCrypto?.coinId,I?.payCrypto?.coinAmount]),Lt({form:B,payInfo:f,payValues:I,isFreeCreate:r,walletOptions:a,payCryptoOptions:w,setPayWalletError:u,onPayValuesChange:O});let{coinId:ee,coinAmount:he,toAddress:zt}=I?.payCrypto||{},{walletId:Yt,serverWalletType:Te,address:Ie,coinAmountInt:We}=I?.payWallet||{},Ut=async k=>{try{A(),await k()}catch(oe){let pe=oe?.msg||d("extension_wallet_transaction_notif_waxaccount_failed");ye.error({title:pe})}finally{S()}},Gt=Ot({sendAmount:he,availableBalance:We,onCheckCallback:k=>(u(k),k?Promise.reject():Promise.resolve())}),Ae=async k=>{let oe=await $().getPublicKeyByWalletId(y,Ne),{coinAmount:pe,symbol:Ht}=I?.payCrypto||{},{ramBytes:Mt,cpuAmount:Vt,ramAmount:qt,netAmount:Kt,sumAmount:$t}=I?.payInfo||{},Xt={transaction:k,order:{payCoin:Ht,ramBytes:Mt,payAmount:pe,eosAmount:$t,cpuAmount:Vt,ramAmount:qt,netAmount:Kt,ownerKey:oe,activeKey:oe,payAddress:Ie,account:t.get("account"),coinId:c?.coinId,chainId:c?.chainId}},Fe=await(r?lt:st)(Xt,y);return Number(Fe.code)===0&&(ye.success({title:d("extension_wallet_transaction_notif_waxaccount_created"),desc:t.get("account")}),e.push(t.get("from")||ce)),Fe},fe={coinId:ee,toAddr:zt,walletId:Yt,fromAddr:Ie,sendAmount:he,onBeforeClick:Gt,onPublishTrascation:Ae,onClickWrap:Ut},te=!r&&(!I?.payCrypto||!I?.payWallet),Zt=(0,C.useMemo)(()=>r?w.find(k=>k?.coinId===o)||w?.[0]:{},[r,o,w]);return C.default.createElement(h.Container,{loading:g,className:x["wax-create-account-confirm"]},C.default.createElement(ie,{closeable:!1,title:d("extension_wallet_header_title_waxaccount_opening")}),C.default.createElement(U,{form:B,className:x["wax-create-account-confirm-form"]},C.default.createElement(U.Item,{name:"payCrypto",label:d("extension_wallet_create_text_payment_crypto")},r?C.default.createElement(yt,{...Zt}):C.default.createElement(ge,{type:"payCrypto",onClick:Y})),!r&&C.default.createElement(U.Item,{name:"payWallet",extra:!!s&&C.default.createElement(h.Space,{space:7},C.default.createElement(l.Text,{className:x["wax-create-account-confirm-form-insufficient-error"],size:l.SIZE.sm},d("extension_wallet_create_errortip_insufficient_balance")),C.default.createElement(l.Text,{className:x["wax-create-account-confirm-form-fill-up"],size:l.SIZE.sm,onClick:()=>{W(!0)}},d("extension_wallet_create_textbtn_fill_up",{crypto:I?.payCrypto?.symbol}))),label:d("extension_wallet_create_text_payment_wallet")},C.default.createElement(ge,{type:"payWallet",onClick:Y,disabled:!a?.length,placeholder:d("extension_wallet_create_input_no_available_wallets")})),C.default.createElement(U.Item,{name:"payInfo",label:d("extension_wallet_create_text_pay_toopen")},C.default.createElement(_t,{symbol:c?.symbol,decimals:c.decimals})),C.default.createElement(U.Item,null,C.default.createElement(ne.FooterActions,{placeholder:!1},!r&&ee===Le&&C.default.createElement(It,{loading:T,disabled:te,walletType:Te,hideLoading:S,availableAmount:We,...fe}),!r&&ee===Be&&C.default.createElement(ht,{btnProps:{loading:T,disabled:te},...fe}),!r&&ee===xe&&C.default.createElement(At,{loading:T,disabled:te,walletType:Te,...fe}),r&&C.default.createElement(bt,{loading:T,disabled:te,fromPage:t.get("from"),retryCreateAccount:_,onPublishTrascation:Ae})))),C.default.createElement(xt,{name:"payCrypto",value:I.payCrypto,visible:L.payCrypto,options:w,onChange:O,onClose:Y}),C.default.createElement(Et,{name:"payWallet",value:I?.payWallet,visible:L?.payWallet,options:a,onClose:Y,onChange:O}),C.default.createElement(Qe,{visible:p,closeCallback:()=>W(!1),address:I?.payWallet?.address,coinId:I?.payCrypto?.coinId,receiveOnly:!0}))},Ec=C.default.memo(go);export{Ec as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ConfirmPay-BWCM4U6C.js.map

import{d as le}from"./chunk-GPDETZNQ.js";import{a as ke}from"./chunk-XYDICNP3.js";import{k as Fe,l as re}from"./chunk-2LCPVMSO.js";import{d as ve,g as we}from"./chunk-MNZIO3NP.js";import{a as Qe}from"./chunk-HWGRDY67.js";import{V as be}from"./chunk-KLLSVAFY.js";import{f as Ae}from"./chunk-AKE54ZCC.js";import{a as Se}from"./chunk-KBS3PMLQ.js";import{b as se}from"./chunk-ETJEH7T4.js";import{a as te}from"./chunk-V3IFYKWM.js";import{a as Ce}from"./chunk-Y2TPPS4H.js";import{d as Ie,e as q,f as Ee,q as m}from"./chunk-I3CPAVOC.js";import{o as oe}from"./chunk-5QMHGZLF.js";import{C as ge,jb as Ne}from"./chunk-HPWCPLRR.js";import{e as Be}from"./chunk-XV444F26.js";import{f as Z,ja as ye,ka as Te}from"./chunk-N2BCRNDB.js";import{g as Le,h as he}from"./chunk-LNOPECCQ.js";import{c as t}from"./chunk-43VURGIT.js";import{L as U,e as V,h as X,o as xe}from"./chunk-PUSMMCUD.js";import{R as Q,o as z,z as p}from"./chunk-UWJLNJLY.js";import{H as ce,R as fe,e as _e,ra as de}from"./chunk-XDY6V34Y.js";import{W as j,c as ee,ea as R}from"./chunk-JT3LNHPY.js";import{b as M}from"./chunk-JWYCKY2V.js";import{f as x,o as r,q as i}from"./chunk-6KXF36WM.js";r();i();var ie=x(M()),Ue=x(oe());r();i();var h=x(M()),We=x(ee());Q();r();i();var Pe=o=>{o&&typeof o!="string"&&(o=o.toString());let e=o?.length;return e<=12?28:e<=14?26:e>14&&e<=16?24:e>16&&e<=18?22:e>18&&e<=20?20:e>20&&e<=22?18:16};r();i();var Y={singleChangeSummary:"_singleChangeSummary_15r2r_1",cryptoWrap:"_cryptoWrap_15r2r_4",cryptoNumber:"_cryptoNumber_15r2r_8",cryptoSymbol:"_cryptoSymbol_15r2r_13",currencyNumber:"_currencyNumber_15r2r_17",coinLogo:"_coinLogo_15r2r_22",singleChangeSummaryWithLogo:"_singleChangeSummaryWithLogo_15r2r_26"};var Xe=({coinId:o,injectCoin:e,currencyId:c,assetChange:s,justify:g="center",currencyAssetChange:l,withCoinLogo:d=!1,useMinPrecision:f=!0,needSwapCurrency:a=!1})=>{let A=ve(o,{withPrice:!0}),n=(0,h.useMemo)(()=>e||A,[A,e]),B=Ce(c),L=n?.usdPrice?z.mul(n?.usdPrice,B?.usdToThisRate):0,b=(0,h.useMemo)(()=>{let u;return s!==void 0&&!f&&(u=s),u===void 0&&s!==void 0&&n?.decimals!==void 0&&f&&(u=z.div(s,10**n?.decimals)),u===void 0&&l!==void 0&&L&&(u=z.div(l,L)),u},[s,l,L,n?.decimals,f]),C=(0,h.useMemo)(()=>{let u;return l!==void 0&&(u=z.mul(l,a?B?.usdToThisRate:1)),u===void 0&&b!==void 0&&(u=z.mul(b,L||0)),u===void 0&&z.lt(u,0)&&(u=z.mul(u,-1)),u},[L,b,a,l,B?.usdToThisRate]),k=(0,h.useMemo)(()=>b!==void 0?q(b,{validDigit:0,signDisplay:!0,precision:n?.orderDecimalNum||n?.decimals}):"",[n?.decimals,n?.orderDecimalNum,b]),J=(0,h.useMemo)(()=>C!==void 0?Ie(C,{useApproximate:!1,symbol:B?.symbol}):"",[B?.symbol,C]),w=(0,h.useMemo)(()=>n?.image?{src:n?.image}:n?.symbol?{text:n?.symbol}:null,[n?.image,n?.symbol]),N=d?t.FlexBox:h.default.Fragment,W=d?{align:t.ALIGN.center}:{};return h.default.createElement(N,{...W},!!d&&!!w&&h.default.createElement(se,{...w,size:se.SIZE.lg,className:Y.coinLogo}),h.default.createElement(t.FlexBox,{wrap:!0,justify:g,align:t.ALIGN.end,className:(0,We.default)(Y.singleChangeSummary,{[Y.singleChangeSummaryWithLogo]:d})},h.default.createElement(m.AdaptiveText,{strong:!0,nowrap:!0,ellipsis:{tooltip:`${k} ${n?.symbol}`},component:"span",autoSize:Pe,className:Y.cryptoWrap,text:`${k}${n?.symbol}`},h.default.createElement(m.Text,{inherit:!0,className:Y.cryptoNumber,component:"span"},k),h.default.createElement(m.Text,{inherit:!0,className:Y.cryptoSymbol,component:"span"},n?.symbol)),h.default.createElement(m.Text,{component:"span",className:Y.currencyNumber},J)))},Me=Xe;var Re=({title:o,space:e=24,tooltip:c,currencyId:s,summaryList:g,useMinPrecision:l,needSwapCurrency:d})=>{let f=(0,Ue.useMemoizedFn)(a=>ie.default.createElement(Me,{withCoinLogo:!0,justify:"flex-start",coinId:a?.coinId,injectCoin:a?.injectCoin,assetChange:a?.assetChange,currencyId:a?.currencyId||s,currencyAssetChange:a?.currencyAssetChange,useMinPrecision:a?.useMinPrecision||l,needSwapCurrency:a?.needSwapCurrency||d}));return ie.default.createElement(ke,{title:o,tooltip:c,space:8},ie.default.createElement(Ae,{space:e,renderEmpty:!1,dataSource:g,renderItem:f}))},Oe=Re;r();i();var _=x(M()),ze=x(oe()),Ye=x(ee());de();Q();r();i();var T={NORMAL:"NORMAL",FEE_ERROR:"FEE_ERROR",...Te,...ye},De={[T.BALANCE_INSUFFICIENT]:"wallet_transfer_errortip_insufficient_balance",[T.FEE_ERROR]:"wallet_extension_alert_estimate_unavailable",[T.DEFRAUD]:"wallet_extension_protocol_toast_risk_warning_desc",[T.SIMILAR]:"wallet_extension_modaldesc_riskaddress"};r();i();var K={"retina-border-basic":"_retina-border-basic_1itfd_1",retinaBorderBasic:"_retina-border-basic_1itfd_1",headerTip:"_headerTip_1itfd_29","tip-message-link":"_tip-message-link_1itfd_65",tipMessageLink:"_tip-message-link_1itfd_65",headerTipWarning:"_headerTipWarning_1itfd_68",headerTipMsg:"_headerTipMsg_1itfd_72",headerTipAction:"_headerTipAction_1itfd_77"};var eo=({text:o,track:e})=>{let c=Se();return _.default.createElement(_.default.Fragment,null,o,_.default.createElement(X,{className:K["tip-message-link"],type:X.TYPE.primary,weight:X.WEIGHT.muted,size:X.SIZE.xs,onClick:()=>{_e(e)&&e(),setTimeout(()=>{globalThis.platform.openTab({url:c?.scamsUrl})},100)}},p("wallet_extension_scam_toast_link_view_scams")))},oo=({type:o,coinId:e,inherit:c,address:s,walletId:g,className:l,message:d,hidden:f,actions:a=[],renderActions:A,renderMessage:n,blockAddressInfo:B,supportGasStation:L=!0})=>{let[b,{toggle:C}]=(0,ze.useBoolean)(!1),[k,J]=(0,_.useState)(e),[w,N]=we(e),W=w?.baseCoinId===0,u=(0,_.useMemo)(()=>{if(n&&typeof n=="function"){let D=n(o);if(D)return D}if(w?.symbol&&o===T.FEE_BALANCE_INSUFFICIENT)return p(W?"wallet_extension_popup_adjust_add":"wallet_extension_popup_insufficient_network_fee",{token:N?.symbol,symbol:N?.symbol});if(w?.symbol&&o===T.BALANCE_INSUFFICIENT)return p("wallet_transfer_errortip_insufficient_balance",{chainSymbol:w?.symbol});if(d)return d;let H=De[o];if([T.DEFRAUD,T.SIMILAR].includes(o)){let D=!!s&&ge(s),Je=o===T.DEFRAUD?B?.msg:p(H,{contractaddress:D});return _.default.createElement(eo,{track:be,text:Je})}return p(H,{chainSymbol:w?.symbol})},[n,w?.symbol,o,d,W,N?.symbol,s,B?.msg]),G=(0,_.useMemo)(()=>A&&typeof A=="function"?A(o)||[]:a,[a,A]),ue=(0,_.useMemo)(()=>{let H=[];if([T.BALANCE_INSUFFICIENT,T.FEE_BALANCE_INSUFFICIENT].includes(o)&&L&&!c){let D=o===T.FEE_BALANCE_INSUFFICIENT?N?.symbol:w?.symbol;return H=[{btnText:p("wallet_extension_placeorder_textbtn_replenish",{token:D}),onClick:()=>{C(),J(o===T.FEE_BALANCE_INSUFFICIENT?N?.coinId:e)}}],[...H,...G]}return G},[c,o,L,G,N?.symbol,N?.coinId,w?.symbol,C,e]);return f||!u?null:_.default.createElement(_.default.Fragment,null,_.default.createElement(te,{offsetTop:0,style:{zIndex:10}},_.default.createElement(t.FlexBox,{className:(0,Ye.default)(K.headerTip,l),align:t.ALIGN.center},_.default.createElement(j,{iconName:"okx-wallet-plugin-error",className:K.headerTipWarning}),_.default.createElement(t.Box,null,_.default.createElement(m.Text,{block:!0,className:K.headerTipMsg},u),!ce(ue)&&_.default.createElement(t.Space,{wrap:!0,space:12,style:{marginTop:"4px"}},ue.map(({btnText:H,onClick:D})=>_.default.createElement(m.Text,{strong:700,className:K.headerTipAction,onClick:D},H)))))),L&&_.default.createElement(Fe,{address:s,visible:b,walletId:g,coinId:k,closeCallback:C}))},lt=_.default.memo(oo);r();i();var $e=x(M());var to=({preExecRet:o})=>{let{assetDiffList:e}=o||{};if(e?.length){let c=e.map(s=>({title:s.title,tooltip:s.titleHover,summaryList:s.tokenAssetDifflist.map(g=>{let{tokenInfo:l,type:d,amount:f,usdAmount:a}=g;return{injectCoin:{...l,image:l.imageUrl},withCoinLogo:!0,assetChange:f?`${d}${f}`:void 0,currencyAssetChange:a||void 0,needSwapCurrency:!0}})}));return $e.default.createElement(t.Space,{space:24,direction:t.DIRECTION.vertical},c.map(Oe))}return null},ft=to;r();i();var $=x(M()),pe=x(ee());de();r();i();Q();var me="UNKNOWN",Ge={[me]:{title:p("wallet_extension_transaction_page_title_unknown_transaction"),image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"}},[Z.TRANS_OUT]:{title:p("wallet_extension_send_title_send"),image:{light:"/cdn/assets/imgs/2411/CB43D95ECC4204BB.png",dark:"/cdn/assets/imgs/2411/07EBF82A7C4E6ABA.png"}},[Z.REGISTRATION]:{title:p("wallet_dapp_conncetion_notify_signature_request"),image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"}}};r();i();var O={"retina-border-basic":"_retina-border-basic_uvlo7_1",retinaBorderBasic:"_retina-border-basic_uvlo7_1",txType:"_txType_uvlo7_29",bordered:"_bordered_uvlo7_33",txTypeLogo:"_txTypeLogo_uvlo7_66",txTypeTitle:"_txTypeTitle_uvlo7_70",txTypeSubTitle:"_txTypeSubTitle_uvlo7_77",txTypeDesc:"_txTypeDesc_uvlo7_85",content:"_content_uvlo7_93",needChildrenPadding:"_needChildrenPadding_uvlo7_96"};var ro=({className:o,txType:e=me,injectInfo:c={},children:s,bordered:g=!0,needChildrenPadding:l,styles:d={}})=>{let f=fe({},Ge[e],c),a=Le(f?.image),{titleStyle:A}=d;return $.default.createElement(t.FlexBox,{justify:"center",align:t.ALIGN.center,direction:t.DIRECTION.vertical,className:(0,pe.default)(O.txType,{[O.bordered]:g},o)},$.default.createElement(V,{src:a,className:O.txTypeLogo}),$.default.createElement(m.Text,{style:A,strong:500,className:O.txTypeTitle},f?.title),$.default.createElement(m.Text,{strong:500,className:O.txTypeSubTitle},f?.subTitle),$.default.createElement(m.Text,{className:O.txTypeDesc},f?.desc),$.default.createElement(t.Box,{className:(0,pe.default)(O.content,{[O.needChildrenPadding]:l})},s))},Mt=$.default.memo(ro);r();i();var S=x(M()),He=x(oe());r();i();var P={root:"_root_1ixys_1",txExplain:"_txExplain_1ixys_1",txExplainModal:"_txExplainModal_1ixys_7",main:"_main_1ixys_20",image:"_image_1ixys_28",title:"_title_1ixys_33",infoList:"_infoList_1ixys_40",info:"_info_1ixys_40",subTitle:"_subTitle_1ixys_46",text:"_text_1ixys_53",footWrap:"_footWrap_1ixys_58"};var io=({txExplain:o})=>{let[e,{toggle:c}]=(0,He.useBoolean)(!1),{image:s,descList:g,title:l,confirmBtnText:d}=o,f=he(s);return S.default.createElement(t.Box,{className:P.root},S.default.createElement(t.Box,{onClick:c,className:P.txExplain},S.default.createElement(j,{className:"okds-question-mark-circle"})),S.default.createElement(xe.Action,{noContentPadding:!0,visible:e,onClose:c},S.default.createElement(t.Box,{className:P.txExplainModal},S.default.createElement(t.Box,{className:P.main},S.default.createElement(V,{src:f,className:P.image}),S.default.createElement(t.Box,{className:P.title},l),g?.length?S.default.createElement(t.Box,{className:P.infoList},g.map(a=>S.default.createElement(t.Box,{className:P.info},S.default.createElement(t.Box,{className:P.subTitle},a.text),S.default.createElement(t.Box,{className:P.text},a.desc)))):null),S.default.createElement(t.Box,{className:P.footWrap},S.default.createElement(R,{block:!0,onClick:c,size:R.SIZE.lg,type:R.TYPE.highlight,category:R.CATEGORY.fill},d)))))},Jt=io;r();i();var ae=x(M());r();i();var ne={root:"_root_195s5_1",image:"_image_195s5_7",text:"_text_195s5_13"};var no=({imageUrl:o,text:e})=>ae.default.createElement(t.Box,{className:ne.root},ae.default.createElement(V,{src:o,className:ne.image,errorImg:Be}),ae.default.createElement(m.Text,{ellipsis:{tooltip:e},className:ne.text},e)),Ze=no;r();i();var E=x(M()),je=x(oe()),Ve=x(ee());Q();r();i();var I={root:"_root_bwpta_1",title:"_title_bwpta_1","static-title":"_static-title_bwpta_11",staticTitle:"_static-title_bwpta_11",approveInfoList:"_approveInfoList_bwpta_15",approve:"_approve_bwpta_15",token:"_token_bwpta_18",amount:"_amount_bwpta_24",amountWrap:"_amountWrap_bwpta_29",number:"_number_bwpta_32",symbol:"_symbol_bwpta_33",expiration:"_expiration_bwpta_45",foldSwitch:"_foldSwitch_bwpta_51",fold:"_fold_bwpta_51"};var ao=({amount:o,decimals:e})=>Ne(o)?p("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):Ee(o,{decimals:e}),so=o=>{o&&typeof o!="string"&&(o=o.toString());let e=o?.length;return e<=12?28:e<=14?26:e>14&&e<=16?24:e>16&&e<=18?22:e>18&&e<=20?20:e>20&&e<=22?18:16},lo=({approveInfoList:o,renderEditApproveAmount:e,updateApproveInfo:c,alwaysShowTitle:s})=>{let g=o.length>3,[l,{toggle:d}]=(0,je.useBoolean)(g),f=l?o.slice(0,3):o;if(o.length===1){let[a]=o,{tokenInfo:A,spender:n}=a,{symbol:B,imageUrl:L}=A||{},b=le(B,12);if([Z.CANCEL_AUTHORIZATION,Z.NFT_CANCEL_AUTHORIZATION,Z.DECREASE_ALLOWANCE].includes(n?.approvalType))return E.default.createElement(t.Box,{className:I.root},E.default.createElement(m.Text,{type:m.TYPE.secondary,size:m.SIZE.xs,className:s?I.staticTitle:I.title},p("wallet_extension_approve_subtitle_cancel_approve")),E.default.createElement(Ze,{imageUrl:L,text:b}))}return E.default.createElement(t.Box,{className:I.root},E.default.createElement(m.Text,{type:m.TYPE.secondary,size:m.SIZE.xs,className:s?I.staticTitle:I.title},p("wallet_extension_approve_subtitle_approve")),E.default.createElement(t.Box,{className:I.approveInfoList},f.map(a=>{let{amount:A,tokenInfo:n,expiration:B}=a,{decimals:L,symbol:b}=n||{},C=le(b,12),k=ao({amount:A,decimals:L});return E.default.createElement(t.Box,{className:I.approve},E.default.createElement(t.Box,{className:I.token},E.default.createElement(t.Box,{className:I.amount},E.default.createElement(m.AdaptiveText,{nowrap:!0,ellipsis:{tooltip:`${k} ${C}`},autoSize:so,text:`${k}${C}`,className:I.amountWrap},E.default.createElement(m.Text,{inherit:!0,className:I.number},k),E.default.createElement(m.Text,{inherit:!0,className:I.symbol},C))),e(a,c)),B?E.default.createElement(t.Box,{className:I.expiration},p("wallet_extension_permitapproval_variable_days",{num:B})):null)}),g&&E.default.createElement(t.Box,{align:t.ALIGN.center,className:(0,Ve.default)(I.foldSwitch,{[I.fold]:l}),onClick:d},E.default.createElement(t.Box,null,p(l?"extension_defi_card_textbtn_view_all":"extension_defi_card_textbtn_view_less")),E.default.createElement(j,{className:"okx-wallet-plugin-add-arrow-chevrons"}))))},vr=lo;r();i();var v=x(M()),qe=x(Qe());r();i();var F={root:"_root_ud6a5_1",main:"_main_ud6a5_8",icon:"_icon_ud6a5_14",title:"_title_ud6a5_19",subTitle:"_subTitle_ud6a5_24",txInfo:"_txInfo_ud6a5_29",content:"_content_ud6a5_38",line:"_line_ud6a5_42",field:"_field_ud6a5_46"};var mo=({handleCancel:o})=>{let e=[{onClick:o,actionType:re.ACTION_TYPE.CANCEL},{onClick:qe.default,disabled:!0,actionType:re.ACTION_TYPE.CONFIRM}];return v.default.createElement(t.Box,{className:F.root},v.default.createElement(t.Box,{className:F.main},v.default.createElement(U.Input,{active:!0,className:F.icon}),v.default.createElement(U.Input,{active:!0,className:F.title}),v.default.createElement(U.Input,{active:!0,className:F.subTitle}),v.default.createElement(t.Box,{className:F.txInfo},v.default.createElement(U.Input,{active:!0,className:F.title}),v.default.createElement(U.Input,{active:!0,className:F.content})),v.default.createElement(U.Input,{active:!0,className:F.line}),v.default.createElement(U.Input,{active:!0,className:F.field}),v.default.createElement(U.Input,{active:!0,className:F.field}),v.default.createElement(U.Input,{active:!0,className:F.field})),v.default.createElement(te,{placeholder:!0,offsetBottom:0,borderTop:!0},v.default.createElement(re,{buttonGroup:e})))},Zr=mo;r();i();var Ke=x(M());Q();var po=({txState:{txId:o="",baseCoin:e={},estimateFailed:c=!1,isSufficientBalance:s=!0,isSufficientGas:g=!0,estimateFailedMsg:l,coinWithBalance:d={}},loading:f,walletAccount:a,preExecRet:A={},chainHeaderTips:n=[]})=>{let{isBalanceLoadError:B,requestBalance:L,coinAmount:b}=d||{},{tipMessageInfo:C,needFillUp:k}=A,J=(0,Ke.useMemo)(()=>{let N=[],W=e?.coinId,{address:u,walletId:G}=a;return B&&N.push({message:p("wallet_extension_transfer_error_text_wallet_balance_unavailable"),level:850,actions:[{btnText:p("wallet_extension_transfer_error_text_reload"),onClick:L}]}),k&&N.push({type:T.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>p("wallet_extension_toast_insufficient_balance_amount",{token:e?.symbol,balance:q(b)}),txId:o,coinId:W,address:u,walletId:G,level:820}),c&&N.push({type:T.FEE_ERROR,message:l,level:775}),g||N.push({type:T.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>p("wallet_extension_toast_insufficient_balance_amt_netfee",{token:e?.symbol,amount:q(b)}),txId:o,coinId:W,address:u,walletId:G,level:765}),s||N.push({type:T.BALANCE_INSUFFICIENT,renderMessage:()=>p("wallet_extension_toast_insufficient_balance_txn_cost",{token:e?.symbol,amount:q(b)}),txId:o,coinId:W,address:u,walletId:G,level:760}),N},[e?.coinId,e?.symbol,a,B,g,s,c,L,o,b,l,k]),w=C?.tipMessage?{message:C.tipMessage,level:C.level}:null;return f?null:[...J,w,...n].filter(Boolean).sort((N,W)=>N.level-W.level).pop()||null},Xr=po;export{Me as a,Oe as b,T as c,lt as d,ft as e,Mt as f,Jt as g,Ze as h,vr as i,Zr as j,Xr as k};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-66H5QE4F.js.map

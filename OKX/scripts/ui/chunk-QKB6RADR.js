import{e as ER}from"./chunk-DTLEDHZZ.js";import{a as bR}from"./chunk-AKQ365VJ.js";import{a as lQ}from"./chunk-PTML5W4O.js";import{a as wR,b as QE}from"./chunk-YXB345S6.js";import{c as ZE}from"./chunk-QR4O7ZB4.js";import{a as dQ}from"./chunk-M35OA6FM.js";import{a as yR}from"./chunk-FOMGS2C4.js";import{a as _R}from"./chunk-D2LKUI4F.js";import{a as vR}from"./chunk-JGEHAFTO.js";import{a as JE,p as xR,q as $E,r as ss}from"./chunk-UVFOW4HH.js";import{a as mR}from"./chunk-CB7FOZNP.js";import{c as Se}from"./chunk-43VURGIT.js";import{Ia as lR,Na as aQ,Tc as XE,_c as sQ,kb as ca,mb as nc,rc as V2,ya as dR,za as iQ}from"./chunk-TM67VPZU.js";import{E as cR,o as ad}from"./chunk-PUSMMCUD.js";import{R as rc,o as Jg,z as We}from"./chunk-UWJLNJLY.js";import{a as oQ}from"./chunk-VRY2ADKE.js";import{H as sR,J as uR,o as oR,ra as K2,y as Kh}from"./chunk-XDY6V34Y.js";import{W as $g,c as fR,ea as Ki}from"./chunk-JT3LNHPY.js";import{b as Ju}from"./chunk-JWYCKY2V.js";import{a as hR}from"./chunk-UT7LJPKF.js";import{a as cQ}from"./chunk-WOMUNWBT.js";import{a as gR}from"./chunk-TP2YHJLZ.js";import{a as uQ,c as fQ,e as pR}from"./chunk-7D4PUIEN.js";import{a as ka}from"./chunk-7QO4TZYQ.js";import{a as Vh}from"./chunk-MIBHDVGP.js";import{a as nQ}from"./chunk-7VFUX7IX.js";import{b as WE,e as QZ,f as Xu,g as iR,h as eQ,k as aR,l as tQ,n as rQ}from"./chunk-XLF4LAH2.js";import{a as zE,u as $Z,v as ZZ}from"./chunk-ONKZ57T6.js";import{d as Hi,e as YE}from"./chunk-ZC7Q7LCH.js";import{b as te,c as E,d as Qf,f as _i,g as ec,h as tc,n as process,o as h,p as v,q as p}from"./chunk-6KXF36WM.js";var tI=E(eI=>{"use strict";h();p();Object.defineProperty(eI,"__esModule",{value:!0});eI.default=pQ;var G2,hQ=new Uint8Array(16);function pQ(){if(!G2&&(G2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!G2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G2(hQ)}});var IR=E(Y2=>{"use strict";h();p();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.default=void 0;var gQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Y2.default=gQ});var Zg=E(z2=>{"use strict";h();p();Object.defineProperty(z2,"__esModule",{value:!0});z2.default=void 0;var yQ=vQ(IR());function vQ(r){return r&&r.__esModule?r:{default:r}}function mQ(r){return typeof r=="string"&&yQ.default.test(r)}var _Q=mQ;z2.default=_Q});var ey=E(Qg=>{"use strict";h();p();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.default=void 0;Qg.unsafeStringify=SR;var xQ=bQ(Zg());function bQ(r){return r&&r.__esModule?r:{default:r}}var Fr=[];for(let r=0;r<256;++r)Fr.push((r+256).toString(16).slice(1));function SR(r,e=0){return(Fr[r[e+0]]+Fr[r[e+1]]+Fr[r[e+2]]+Fr[r[e+3]]+"-"+Fr[r[e+4]]+Fr[r[e+5]]+"-"+Fr[r[e+6]]+Fr[r[e+7]]+"-"+Fr[r[e+8]]+Fr[r[e+9]]+"-"+Fr[r[e+10]]+Fr[r[e+11]]+Fr[r[e+12]]+Fr[r[e+13]]+Fr[r[e+14]]+Fr[r[e+15]]).toLowerCase()}function wQ(r,e=0){let t=SR(r,e);if(!(0,xQ.default)(t))throw TypeError("Stringified UUID is invalid");return t}var EQ=wQ;Qg.default=EQ});var CR=E(W2=>{"use strict";h();p();Object.defineProperty(W2,"__esModule",{value:!0});W2.default=void 0;var IQ=TQ(tI()),SQ=ey();function TQ(r){return r&&r.__esModule?r:{default:r}}var TR,rI,nI=0,iI=0;function CQ(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let a=r.node||TR,o=r.clockseq!==void 0?r.clockseq:rI;if(a==null||o==null){let g=r.random||(r.rng||IQ.default)();a==null&&(a=TR=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),o==null&&(o=rI=(g[6]<<8|g[7])&16383)}let s=r.msecs!==void 0?r.msecs:Date.now(),u=r.nsecs!==void 0?r.nsecs:iI+1,f=s-nI+(u-iI)/1e4;if(f<0&&r.clockseq===void 0&&(o=o+1&16383),(f<0||s>nI)&&r.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");nI=s,iI=u,rI=o,s+=122192928e5;let c=((s&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=l&255,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let g=0;g<6;++g)i[n+g]=a[g];return e||(0,SQ.unsafeStringify)(i)}var AQ=CQ;W2.default=AQ});var aI=E(X2=>{"use strict";h();p();Object.defineProperty(X2,"__esModule",{value:!0});X2.default=void 0;var OQ=DQ(Zg());function DQ(r){return r&&r.__esModule?r:{default:r}}function RQ(r){if(!(0,OQ.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var PQ=RQ;X2.default=PQ});var oI=E(od=>{"use strict";h();p();Object.defineProperty(od,"__esModule",{value:!0});od.URL=od.DNS=void 0;od.default=FQ;var BQ=ey(),MQ=NQ(aI());function NQ(r){return r&&r.__esModule?r:{default:r}}function qQ(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var AR="6ba7b810-9dad-11d1-80b4-00c04fd430c8";od.DNS=AR;var OR="6ba7b811-9dad-11d1-80b4-00c04fd430c8";od.URL=OR;function FQ(r,e,t){function n(i,a,o,s){var u;if(typeof i=="string"&&(i=qQ(i)),typeof a=="string"&&(a=(0,MQ.default)(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(a),f.set(i,a.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,o){s=s||0;for(let c=0;c<16;++c)o[s+c]=f[c];return o}return(0,BQ.unsafeStringify)(f)}try{n.name=r}catch{}return n.DNS=AR,n.URL=OR,n}});var RR=E($2=>{"use strict";h();p();Object.defineProperty($2,"__esModule",{value:!0});$2.default=void 0;function LQ(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return UQ(kQ(jQ(r),r.length*8))}function UQ(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let i=0;i<t;i+=8){let a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function DR(r){return(r+64>>>9<<4)+14+1}function kQ(r,e){r[e>>5]|=128<<e%32,r[DR(e)-1]=e;let t=1732584193,n=-271733879,i=-1732584194,a=271733878;for(let o=0;o<r.length;o+=16){let s=t,u=n,f=i,c=a;t=ln(t,n,i,a,r[o],7,-680876936),a=ln(a,t,n,i,r[o+1],12,-389564586),i=ln(i,a,t,n,r[o+2],17,606105819),n=ln(n,i,a,t,r[o+3],22,-1044525330),t=ln(t,n,i,a,r[o+4],7,-176418897),a=ln(a,t,n,i,r[o+5],12,1200080426),i=ln(i,a,t,n,r[o+6],17,-1473231341),n=ln(n,i,a,t,r[o+7],22,-45705983),t=ln(t,n,i,a,r[o+8],7,1770035416),a=ln(a,t,n,i,r[o+9],12,-1958414417),i=ln(i,a,t,n,r[o+10],17,-42063),n=ln(n,i,a,t,r[o+11],22,-1990404162),t=ln(t,n,i,a,r[o+12],7,1804603682),a=ln(a,t,n,i,r[o+13],12,-40341101),i=ln(i,a,t,n,r[o+14],17,-1502002290),n=ln(n,i,a,t,r[o+15],22,1236535329),t=hn(t,n,i,a,r[o+1],5,-165796510),a=hn(a,t,n,i,r[o+6],9,-1069501632),i=hn(i,a,t,n,r[o+11],14,643717713),n=hn(n,i,a,t,r[o],20,-373897302),t=hn(t,n,i,a,r[o+5],5,-701558691),a=hn(a,t,n,i,r[o+10],9,38016083),i=hn(i,a,t,n,r[o+15],14,-660478335),n=hn(n,i,a,t,r[o+4],20,-405537848),t=hn(t,n,i,a,r[o+9],5,568446438),a=hn(a,t,n,i,r[o+14],9,-1019803690),i=hn(i,a,t,n,r[o+3],14,-187363961),n=hn(n,i,a,t,r[o+8],20,1163531501),t=hn(t,n,i,a,r[o+13],5,-1444681467),a=hn(a,t,n,i,r[o+2],9,-51403784),i=hn(i,a,t,n,r[o+7],14,1735328473),n=hn(n,i,a,t,r[o+12],20,-1926607734),t=pn(t,n,i,a,r[o+5],4,-378558),a=pn(a,t,n,i,r[o+8],11,-2022574463),i=pn(i,a,t,n,r[o+11],16,1839030562),n=pn(n,i,a,t,r[o+14],23,-35309556),t=pn(t,n,i,a,r[o+1],4,-1530992060),a=pn(a,t,n,i,r[o+4],11,1272893353),i=pn(i,a,t,n,r[o+7],16,-155497632),n=pn(n,i,a,t,r[o+10],23,-1094730640),t=pn(t,n,i,a,r[o+13],4,681279174),a=pn(a,t,n,i,r[o],11,-358537222),i=pn(i,a,t,n,r[o+3],16,-722521979),n=pn(n,i,a,t,r[o+6],23,76029189),t=pn(t,n,i,a,r[o+9],4,-640364487),a=pn(a,t,n,i,r[o+12],11,-421815835),i=pn(i,a,t,n,r[o+15],16,530742520),n=pn(n,i,a,t,r[o+2],23,-995338651),t=gn(t,n,i,a,r[o],6,-198630844),a=gn(a,t,n,i,r[o+7],10,1126891415),i=gn(i,a,t,n,r[o+14],15,-1416354905),n=gn(n,i,a,t,r[o+5],21,-57434055),t=gn(t,n,i,a,r[o+12],6,1700485571),a=gn(a,t,n,i,r[o+3],10,-1894986606),i=gn(i,a,t,n,r[o+10],15,-1051523),n=gn(n,i,a,t,r[o+1],21,-2054922799),t=gn(t,n,i,a,r[o+8],6,1873313359),a=gn(a,t,n,i,r[o+15],10,-30611744),i=gn(i,a,t,n,r[o+6],15,-1560198380),n=gn(n,i,a,t,r[o+13],21,1309151649),t=gn(t,n,i,a,r[o+4],6,-145523070),a=gn(a,t,n,i,r[o+11],10,-1120210379),i=gn(i,a,t,n,r[o+2],15,718787259),n=gn(n,i,a,t,r[o+9],21,-343485551),t=ic(t,s),n=ic(n,u),i=ic(i,f),a=ic(a,c)}return[t,n,i,a]}function jQ(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(DR(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function ic(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function HQ(r,e){return r<<e|r>>>32-e}function J2(r,e,t,n,i,a){return ic(HQ(ic(ic(e,r),ic(n,a)),i),t)}function ln(r,e,t,n,i,a,o){return J2(e&t|~e&n,r,e,i,a,o)}function hn(r,e,t,n,i,a,o){return J2(e&n|t&~n,r,e,i,a,o)}function pn(r,e,t,n,i,a,o){return J2(e^t^n,r,e,i,a,o)}function gn(r,e,t,n,i,a,o){return J2(t^(e|~n),r,e,i,a,o)}var KQ=LQ;$2.default=KQ});var BR=E(Z2=>{"use strict";h();p();Object.defineProperty(Z2,"__esModule",{value:!0});Z2.default=void 0;var VQ=PR(oI()),GQ=PR(RR());function PR(r){return r&&r.__esModule?r:{default:r}}var YQ=(0,VQ.default)("v3",48,GQ.default),zQ=YQ;Z2.default=zQ});var MR=E(Q2=>{"use strict";h();p();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.default=void 0;var WQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XQ={randomUUID:WQ};Q2.default=XQ});var FR=E(e_=>{"use strict";h();p();Object.defineProperty(e_,"__esModule",{value:!0});e_.default=void 0;var NR=qR(MR()),JQ=qR(tI()),$Q=ey();function qR(r){return r&&r.__esModule?r:{default:r}}function ZQ(r,e,t){if(NR.default.randomUUID&&!e&&!r)return NR.default.randomUUID();r=r||{};let n=r.random||(r.rng||JQ.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return(0,$Q.unsafeStringify)(n)}var QQ=ZQ;e_.default=QQ});var LR=E(t_=>{"use strict";h();p();Object.defineProperty(t_,"__esModule",{value:!0});t_.default=void 0;function eee(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function sI(r,e){return r<<e|r>>>32-e}function tee(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let o=unescape(encodeURIComponent(r));r=[];for(let s=0;s<o.length;++s)r.push(o.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let o=0;o<i;++o){let s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=r[o*64+u*4]<<24|r[o*64+u*4+1]<<16|r[o*64+u*4+2]<<8|r[o*64+u*4+3];a[o]=s}a[i-1][14]=(r.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(r.length-1)*8&4294967295;for(let o=0;o<i;++o){let s=new Uint32Array(80);for(let y=0;y<16;++y)s[y]=a[o][y];for(let y=16;y<80;++y)s[y]=sI(s[y-3]^s[y-8]^s[y-14]^s[y-16],1);let u=t[0],f=t[1],c=t[2],l=t[3],g=t[4];for(let y=0;y<80;++y){let _=Math.floor(y/20),w=sI(u,5)+eee(_,f,c,l)+g+e[_]+s[y]>>>0;g=l,l=c,c=sI(f,30)>>>0,f=u,u=w}t[0]=t[0]+u>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+c>>>0,t[3]=t[3]+l>>>0,t[4]=t[4]+g>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var ree=tee;t_.default=ree});var kR=E(r_=>{"use strict";h();p();Object.defineProperty(r_,"__esModule",{value:!0});r_.default=void 0;var nee=UR(oI()),iee=UR(LR());function UR(r){return r&&r.__esModule?r:{default:r}}var aee=(0,nee.default)("v5",80,iee.default),oee=aee;r_.default=oee});var jR=E(n_=>{"use strict";h();p();Object.defineProperty(n_,"__esModule",{value:!0});n_.default=void 0;var see="00000000-0000-0000-0000-000000000000";n_.default=see});var HR=E(i_=>{"use strict";h();p();Object.defineProperty(i_,"__esModule",{value:!0});i_.default=void 0;var uee=fee(Zg());function fee(r){return r&&r.__esModule?r:{default:r}}function cee(r){if(!(0,uee.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var dee=cee;i_.default=dee});var a_=E(us=>{"use strict";h();p();Object.defineProperty(us,"__esModule",{value:!0});Object.defineProperty(us,"NIL",{enumerable:!0,get:function(){return yee.default}});Object.defineProperty(us,"parse",{enumerable:!0,get:function(){return xee.default}});Object.defineProperty(us,"stringify",{enumerable:!0,get:function(){return _ee.default}});Object.defineProperty(us,"v1",{enumerable:!0,get:function(){return lee.default}});Object.defineProperty(us,"v3",{enumerable:!0,get:function(){return hee.default}});Object.defineProperty(us,"v4",{enumerable:!0,get:function(){return pee.default}});Object.defineProperty(us,"v5",{enumerable:!0,get:function(){return gee.default}});Object.defineProperty(us,"validate",{enumerable:!0,get:function(){return mee.default}});Object.defineProperty(us,"version",{enumerable:!0,get:function(){return vee.default}});var lee=$u(CR()),hee=$u(BR()),pee=$u(FR()),gee=$u(kR()),yee=$u(jR()),vee=$u(HR()),mee=$u(Zg()),_ee=$u(ey()),xee=$u(aI());function $u(r){return r&&r.__esModule?r:{default:r}}});var uI=E(o_=>{"use strict";h();p();Object.defineProperty(o_,"__esModule",{value:!0});o_.getCoinSymbol=void 0;function bee(r){var e;return(e={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[r])!==null&&e!==void 0?e:""}o_.getCoinSymbol=bee});var VR=E(Et=>{"use strict";h();p();var KR=Et&&Et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wee=Et&&Et.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Eee=Et&&Et.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KR(e,r,t);return wee(e,r),e},Iee=Et&&Et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&KR(e,r,t)};Object.defineProperty(Et,"__esModule",{value:!0});Et.parsePath=Et.uuidStringify=Et.uuidParse=Et.toBuffer=Et.toHex=Et.uuid=void 0;var fI=Eee(a_());Et.uuid=fI;Iee(uI(),Et);function See(r){return r===void 0?"":v.Buffer.from(r).toString("hex")}Et.toHex=See;function Tee(r){return v.Buffer.from(r??"","hex")}Et.toBuffer=Tee;function Cee(r){return v.Buffer.from(fI.parse(r))}Et.uuidParse=Cee;function Aee(r){return fI.stringify(r)}Et.uuidStringify=Aee;function Oee(r){return r.replace(/^m\//i,"").split("/").map(t=>{let n=t.endsWith("'");return{index:Number(n?t.substring(0,t.length-1):t),hardened:n}})}Et.parsePath=Oee});var lP=E((hCe,f_)=>{h();p();var GR,YR,zR,WR,XR,JR,$R,ZR,QR,s_,cI,eP,tP,rP,Gh,nP,iP,aP,oP,sP,uP,fP,cP,dP,u_;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof f_=="object"&&typeof f_.exports=="object"?r(t(e,t(f_.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};GR=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},YR=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},zR=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},WR=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},XR=function(n,i){return function(a,o){i(a,o,n)}},JR=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},$R=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},ZR=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},QR=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&u_(i,n,a)},u_=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},s_=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},cI=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},eP=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(cI(arguments[i]));return n},tP=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},rP=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},Gh=function(n){return this instanceof Gh?(this.v=n,this):new Gh(n)},nP=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(I){return new Promise(function(T,O){u.push([w,I,T,O])>1||c(w,I)})})}function c(w,I){try{l(o[w](I))}catch(T){_(u[0][3],T)}}function l(w){w.value instanceof Gh?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,I){w(I),u.shift(),u.length&&c(u[0][0],u[0][1])}},iP=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:Gh(n[s](f)),done:s==="return"}:u?u(f):f}:u}},aP=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof s_=="function"?s_(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},oP=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};sP=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&u_(i,n,a);return t(i,n),i},uP=function(n){return n&&n.__esModule?n:{default:n}},fP=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},cP=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},dP=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",GR),r("__assign",YR),r("__rest",zR),r("__decorate",WR),r("__param",XR),r("__metadata",JR),r("__awaiter",$R),r("__generator",ZR),r("__exportStar",QR),r("__createBinding",u_),r("__values",s_),r("__read",cI),r("__spread",eP),r("__spreadArrays",tP),r("__spreadArray",rP),r("__await",Gh),r("__asyncGenerator",nP),r("__asyncDelegator",iP),r("__asyncValues",aP),r("__makeTemplateObject",oP),r("__importStar",sP),r("__importDefault",uP),r("__classPrivateFieldGet",fP),r("__classPrivateFieldSet",cP),r("__classPrivateFieldIn",dP)})});var d_=E(c_=>{"use strict";h();p();Object.defineProperty(c_,"__esModule",{value:!0});c_.DataItem=void 0;var dI=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};c_.DataItem=dI});var pP=E((hP,l_)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof l_<"u"&&l_.exports?l_.exports=e():r.CBOR=e()})(hP,function(){let{DataItem:r}=d_();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Ir=E(yn=>{"use strict";h();p();Object.defineProperty(yn,"__esModule",{value:!0});yn.DataItem=yn.addWriter=yn.addReader=yn.addSemanticEncode=yn.addSemanticDecode=yn.decodeToDataItem=yn.encodeDataItem=void 0;var Yh=pP();Object.defineProperty(yn,"encodeDataItem",{enumerable:!0,get:function(){return Yh.encodeDataItem}});Object.defineProperty(yn,"decodeToDataItem",{enumerable:!0,get:function(){return Yh.decodeToDataItem}});Object.defineProperty(yn,"addSemanticDecode",{enumerable:!0,get:function(){return Yh.addSemanticDecode}});Object.defineProperty(yn,"addSemanticEncode",{enumerable:!0,get:function(){return Yh.addSemanticEncode}});Object.defineProperty(yn,"addReader",{enumerable:!0,get:function(){return Yh.addReader}});Object.defineProperty(yn,"addWriter",{enumerable:!0,get:function(){return Yh.addWriter}});var Dee=d_();Object.defineProperty(yn,"DataItem",{enumerable:!0,get:function(){return Dee.DataItem}})});var g_=E(p_=>{"use strict";h();p();Object.defineProperty(p_,"__esModule",{value:!0});p_.patchTags=void 0;var h_=Ir(),gP=[],Ree=r=>{r.forEach(e=>{gP.find(t=>t===e)||((0,h_.addSemanticEncode)(e,t=>{if(t instanceof h_.DataItem&&t.getTag()===e)return t.getData()}),(0,h_.addSemanticDecode)(e,t=>new h_.DataItem(t,e)),gP.push(e))})};p_.patchTags=Ree});var Sr=E(zh=>{"use strict";h();p();Object.defineProperty(zh,"__esModule",{value:!0});zh.RegistryTypes=zh.RegistryType=void 0;var vn=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};zh.RegistryType=vn;zh.RegistryTypes={UUID:new vn("uuid",37),BYTES:new vn("bytes",void 0),CRYPTO_HDKEY:new vn("crypto-hdkey",303),CRYPTO_KEYPATH:new vn("crypto-keypath",304),CRYPTO_COIN_INFO:new vn("crypto-coin-info",305),CRYPTO_ECKEY:new vn("crypto-eckey",306),CRYPTO_OUTPUT:new vn("crypto-output",308),CRYPTO_PSBT:new vn("crypto-psbt",310),CRYPTO_ACCOUNT:new vn("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new vn("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new vn("qr-hardware-call",1201),KEY_DERIVATION_CALL:new vn("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new vn("key-derivation-schema",1302)}});var y_=E(sd=>{"use strict";h();p();Object.defineProperty(sd,"__esModule",{value:!0});sd.ScriptExpressions=sd.ScriptExpression=void 0;var Vi=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};sd.ScriptExpression=Vi;Vi.fromTag=r=>Object.values(sd.ScriptExpressions).find(t=>t.getTag()===r);sd.ScriptExpressions={SCRIPT_HASH:new Vi(400,"sh"),WITNESS_SCRIPT_HASH:new Vi(401,"wsh"),PUBLIC_KEY:new Vi(402,"pk"),PUBLIC_KEY_HASH:new Vi(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Vi(404,"wpkh"),COMBO:new Vi(405,"combo"),MULTISIG:new Vi(406,"multi"),SORTED_MULTISIG:new Vi(407,"sortedmulti"),ADDRESS:new Vi(307,"addr"),RAW_SCRIPT:new Vi(408,"raw")}});var lI=E(yP=>{"use strict";h();p();Object.defineProperty(yP,"__esModule",{value:!0});var Pee=g_(),Bee=Sr(),Mee=y_(),Nee=Object.values(Bee.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),qee=Object.values(Mee.ScriptExpressions).map(r=>r.getTag());(0,Pee.patchTags)(Nee.concat(qee))});var pI=E(hI=>{h();p();hI.read=function(r,e,t,n,i){var a,o,s=i*8-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=t?i-1:0,g=t?-1:1,y=r[e+l];for(l+=g,a=y&(1<<-c)-1,y>>=-c,c+=s;c>0;a=a*256+r[e+l],l+=g,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=o*256+r[e+l],l+=g,c-=8);if(a===0)a=1-f;else{if(a===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-f}return(y?-1:1)*o*Math.pow(2,a-n)};hI.write=function(r,e,t,n,i,a){var o,s,u,f=a*8-i-1,c=(1<<f)-1,l=c>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,_=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+l>=1?e+=g/u:e+=g*Math.pow(2,1-l),e*u>=2&&(o++,u/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(e*u-1)*Math.pow(2,i),o=o+l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;r[t+y]=s&255,y+=_,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;r[t+y]=o&255,y+=_,o/=256,f-=8);r[t+y-_]|=w*128}});var Zh=E($h=>{"use strict";h();p();var gI=hR(),Xh=pI(),vP=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$h.Buffer=Z;$h.SlowBuffer=Hee;$h.INSPECT_MAX_BYTES=50;var v_=2147483647;$h.kMaxLength=v_;Z.TYPED_ARRAY_SUPPORT=Fee();!Z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Fee(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(Z.prototype,"parent",{enumerable:!0,get:function(){if(!!Z.isBuffer(this))return this.buffer}});Object.defineProperty(Z.prototype,"offset",{enumerable:!0,get:function(){if(!!Z.isBuffer(this))return this.byteOffset}});function Zu(r){if(r>v_)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,Z.prototype),e}function Z(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _I(r)}return bP(r,e,t)}Z.poolSize=8192;function bP(r,e,t){if(typeof r=="string")return Uee(r,e);if(ArrayBuffer.isView(r))return kee(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Js(r,ArrayBuffer)||r&&Js(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Js(r,SharedArrayBuffer)||r&&Js(r.buffer,SharedArrayBuffer)))return vI(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return Z.from(n,e,t);let i=jee(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Z.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Z.from=function(r,e,t){return bP(r,e,t)};Object.setPrototypeOf(Z.prototype,Uint8Array.prototype);Object.setPrototypeOf(Z,Uint8Array);function wP(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Lee(r,e,t){return wP(r),r<=0?Zu(r):e!==void 0?typeof t=="string"?Zu(r).fill(e,t):Zu(r).fill(e):Zu(r)}Z.alloc=function(r,e,t){return Lee(r,e,t)};function _I(r){return wP(r),Zu(r<0?0:xI(r)|0)}Z.allocUnsafe=function(r){return _I(r)};Z.allocUnsafeSlow=function(r){return _I(r)};function Uee(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Z.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=EP(r,e)|0,n=Zu(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function yI(r){let e=r.length<0?0:xI(r.length)|0,t=Zu(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function kee(r){if(Js(r,Uint8Array)){let e=new Uint8Array(r);return vI(e.buffer,e.byteOffset,e.byteLength)}return yI(r)}function vI(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,Z.prototype),n}function jee(r){if(Z.isBuffer(r)){let e=xI(r.length)|0,t=Zu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||wI(r.length)?Zu(0):yI(r);if(r.type==="Buffer"&&Array.isArray(r.data))return yI(r.data)}function xI(r){if(r>=v_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v_.toString(16)+" bytes");return r|0}function Hee(r){return+r!=r&&(r=0),Z.alloc(+r)}Z.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Z.prototype};Z.compare=function(e,t){if(Js(e,Uint8Array)&&(e=Z.from(e,e.offset,e.byteLength)),Js(t,Uint8Array)&&(t=Z.from(t,t.offset,t.byteLength)),!Z.isBuffer(e)||!Z.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0};Z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Z.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Z.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=Z.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){let o=e[n];if(Js(o,Uint8Array))a+o.length>i.length?(Z.isBuffer(o)||(o=Z.from(o)),o.copy(i,a)):Uint8Array.prototype.set.call(i,o,a);else if(Z.isBuffer(o))o.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return i};function EP(r,e){if(Z.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Js(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return mI(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return PP(r).length;default:if(i)return n?-1:mI(r).length;e=(""+e).toLowerCase(),i=!0}}Z.byteLength=EP;function Kee(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Qee(this,e,t);case"utf8":case"utf-8":return SP(this,e,t);case"ascii":return $ee(this,e,t);case"latin1":case"binary":return Zee(this,e,t);case"base64":return Xee(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ete(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}Z.prototype._isBuffer=!0;function ud(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}Z.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ud(this,t,t+1);return this};Z.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ud(this,t,t+3),ud(this,t+1,t+2);return this};Z.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ud(this,t,t+7),ud(this,t+1,t+6),ud(this,t+2,t+5),ud(this,t+3,t+4);return this};Z.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?SP(this,0,e):Kee.apply(this,arguments)};Z.prototype.toLocaleString=Z.prototype.toString;Z.prototype.equals=function(e){if(!Z.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Z.compare(this,e)===0};Z.prototype.inspect=function(){let e="",t=$h.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};vP&&(Z.prototype[vP]=Z.prototype.inspect);Z.prototype.compare=function(e,t,n,i,a){if(Js(e,Uint8Array)&&(e=Z.from(e,e.offset,e.byteLength)),!Z.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),t<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;let o=a-i,s=n-t,u=Math.min(o,s),f=this.slice(i,a),c=e.slice(t,n);for(let l=0;l<u;++l)if(f[l]!==c[l]){o=f[l],s=c[l];break}return o<s?-1:s<o?1:0};function IP(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,wI(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=Z.from(e,n)),Z.isBuffer(e))return e.length===0?-1:mP(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):mP(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function mP(r,e,t,n,i){let a=1,o=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;a=2,o/=2,s/=2,t/=2}function u(c,l){return a===1?c[l]:c.readUInt16BE(l*a)}let f;if(i){let c=-1;for(f=t;f<o;f++)if(u(r,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*a}else c!==-1&&(f-=f-c),c=-1}else for(t+s>o&&(t=o-s),f=t;f>=0;f--){let c=!0;for(let l=0;l<s;l++)if(u(r,f+l)!==u(e,l)){c=!1;break}if(c)return f}return-1}Z.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};Z.prototype.indexOf=function(e,t,n){return IP(this,e,t,n,!0)};Z.prototype.lastIndexOf=function(e,t,n){return IP(this,e,t,n,!1)};function Vee(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let a=e.length;n>a/2&&(n=a/2);let o;for(o=0;o<n;++o){let s=parseInt(e.substr(o*2,2),16);if(wI(s))return o;r[t+o]=s}return o}function Gee(r,e,t,n){return m_(mI(e,r.length-t),r,t,n)}function Yee(r,e,t,n){return m_(ite(e),r,t,n)}function zee(r,e,t,n){return m_(PP(e),r,t,n)}function Wee(r,e,t,n){return m_(ate(e,r.length-t),r,t,n)}Z.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-t;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Vee(this,e,t,n);case"utf8":case"utf-8":return Gee(this,e,t,n);case"ascii":case"latin1":case"binary":return Yee(this,e,t,n);case"base64":return zee(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wee(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};Z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xee(r,e,t){return e===0&&t===r.length?gI.fromByteArray(r):gI.fromByteArray(r.slice(e,t))}function SP(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let a=r[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=t){let u,f,c,l;switch(s){case 1:a<128&&(o=a);break;case 2:u=r[i+1],(u&192)===128&&(l=(a&31)<<6|u&63,l>127&&(o=l));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(l=(a&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=r[i+1],f=r[i+2],c=r[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(a&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return Jee(n)}var _P=4096;function Jee(r){let e=r.length;if(e<=_P)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=_P));return t}function $ee(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function Zee(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Qee(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let a=e;a<t;++a)i+=ote[r[a]];return i}function ete(r,e,t){let n=r.slice(e,t),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}Z.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,Z.prototype),i};function Tr(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Z.prototype.readUintLE=Z.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Tr(e,t,this.length);let i=this[e],a=1,o=0;for(;++o<t&&(a*=256);)i+=this[e+o]*a;return i};Z.prototype.readUintBE=Z.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Tr(e,t,this.length);let i=this[e+--t],a=1;for(;t>0&&(a*=256);)i+=this[e+--t]*a;return i};Z.prototype.readUint8=Z.prototype.readUInt8=function(e,t){return e=e>>>0,t||Tr(e,1,this.length),this[e]};Z.prototype.readUint16LE=Z.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Tr(e,2,this.length),this[e]|this[e+1]<<8};Z.prototype.readUint16BE=Z.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Tr(e,2,this.length),this[e]<<8|this[e+1]};Z.prototype.readUint32LE=Z.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Z.prototype.readUint32BE=Z.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Z.prototype.readBigUInt64LE=ac(function(e){e=e>>>0,Jh(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&ty(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});Z.prototype.readBigUInt64BE=ac(function(e){e=e>>>0,Jh(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&ty(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});Z.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Tr(e,t,this.length);let i=this[e],a=1,o=0;for(;++o<t&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i};Z.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Tr(e,t,this.length);let i=t,a=1,o=this[e+--i];for(;i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o};Z.prototype.readInt8=function(e,t){return e=e>>>0,t||Tr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Z.prototype.readInt16LE=function(e,t){e=e>>>0,t||Tr(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Z.prototype.readInt16BE=function(e,t){e=e>>>0,t||Tr(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Z.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Z.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Z.prototype.readBigInt64LE=ac(function(e){e=e>>>0,Jh(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&ty(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Z.prototype.readBigInt64BE=ac(function(e){e=e>>>0,Jh(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&ty(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});Z.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),Xh.read(this,e,!0,23,4)};Z.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Tr(e,4,this.length),Xh.read(this,e,!1,23,4)};Z.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Tr(e,8,this.length),Xh.read(this,e,!0,52,8)};Z.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Tr(e,8,this.length),Xh.read(this,e,!1,52,8)};function Gi(r,e,t,n,i,a){if(!Z.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}Z.prototype.writeUintLE=Z.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Gi(this,e,t,n,s,0)}let a=1,o=0;for(this[t]=e&255;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n};Z.prototype.writeUintBE=Z.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Gi(this,e,t,n,s,0)}let a=n-1,o=1;for(this[t+a]=e&255;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n};Z.prototype.writeUint8=Z.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,1,255,0),this[t]=e&255,t+1};Z.prototype.writeUint16LE=Z.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Z.prototype.writeUint16BE=Z.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Z.prototype.writeUint32LE=Z.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Z.prototype.writeUint32BE=Z.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function TP(r,e,t,n,i){RP(e,n,i,r,t,7);let a=Number(e&BigInt(4294967295));r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function CP(r,e,t,n,i){RP(e,n,i,r,t,7);let a=Number(e&BigInt(4294967295));r[t+7]=a,a=a>>8,r[t+6]=a,a=a>>8,r[t+5]=a,a=a>>8,r[t+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}Z.prototype.writeBigUInt64LE=ac(function(e,t=0){return TP(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Z.prototype.writeBigUInt64BE=ac(function(e,t=0){return CP(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Z.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);Gi(this,e,t,n,u-1,-u)}let a=0,o=1,s=0;for(this[t]=e&255;++a<n&&(o*=256);)e<0&&s===0&&this[t+a-1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n};Z.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);Gi(this,e,t,n,u-1,-u)}let a=n-1,o=1,s=0;for(this[t+a]=e&255;--a>=0&&(o*=256);)e<0&&s===0&&this[t+a+1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n};Z.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Z.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Z.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Z.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Z.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Gi(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Z.prototype.writeBigInt64LE=ac(function(e,t=0){return TP(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Z.prototype.writeBigInt64BE=ac(function(e,t=0){return CP(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function AP(r,e,t,n,i,a){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function OP(r,e,t,n,i){return e=+e,t=t>>>0,i||AP(r,e,t,4,34028234663852886e22,-34028234663852886e22),Xh.write(r,e,t,n,23,4),t+4}Z.prototype.writeFloatLE=function(e,t,n){return OP(this,e,t,!0,n)};Z.prototype.writeFloatBE=function(e,t,n){return OP(this,e,t,!1,n)};function DP(r,e,t,n,i){return e=+e,t=t>>>0,i||AP(r,e,t,8,17976931348623157e292,-17976931348623157e292),Xh.write(r,e,t,n,52,8),t+8}Z.prototype.writeDoubleLE=function(e,t,n){return DP(this,e,t,!0,n)};Z.prototype.writeDoubleBE=function(e,t,n){return DP(this,e,t,!1,n)};Z.prototype.copy=function(e,t,n,i){if(!Z.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let a=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),a};Z.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Z.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let a;if(typeof e=="number")for(a=t;a<n;++a)this[a]=e;else{let o=Z.isBuffer(e)?e:Z.from(e,i),s=o.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var Wh={};function bI(r,e,t){Wh[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}bI("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);bI("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);bI("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=xP(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=xP(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function xP(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function tte(r,e,t){Jh(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&ty(e,r.length-(t+1))}function RP(r,e,t,n,i,a){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",s;throw a>3?e===0||e===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${e}${o} and <= ${t}${o}`,new Wh.ERR_OUT_OF_RANGE("value",s,r)}tte(n,i,a)}function Jh(r,e){if(typeof r!="number")throw new Wh.ERR_INVALID_ARG_TYPE(e,"number",r)}function ty(r,e,t){throw Math.floor(r)!==r?(Jh(r,t),new Wh.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Wh.ERR_BUFFER_OUT_OF_BOUNDS:new Wh.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var rte=/[^+/0-9A-Za-z-_]/g;function nte(r){if(r=r.split("=")[0],r=r.trim().replace(rte,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function mI(r,e){e=e||1/0;let t,n=r.length,i=null,a=[];for(let o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function ite(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function ate(r,e){let t,n,i,a=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,a.push(i),a.push(n);return a}function PP(r){return gI.toByteArray(nte(r))}function m_(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Js(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function wI(r){return r!==r}var ote=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function ac(r){return typeof BigInt>"u"?ste:r}function ste(){throw new Error("BigInt not supported")}});var MP=E((KCe,BP)=>{"use strict";h();p();var __=YE().Buffer;function ute(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var o=r.length,s=r.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=__.from(y)),!__.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var _=0,w=0,I=0,T=y.length;I!==T&&y[I]===0;)I++,_++;for(var O=(T-I)*f+1>>>0,B=new Uint8Array(O);I!==T;){for(var q=y[I],C=0,d=O-1;(q!==0||C<w)&&d!==-1;d--,C++)q+=256*B[d]>>>0,B[d]=q%o>>>0,q=q/o>>>0;if(q!==0)throw new Error("Non-zero carry");w=C,I++}for(var m=O-w;m!==O&&B[m]===0;)m++;for(var x=s.repeat(_);m<O;++m)x+=r.charAt(B[m]);return x}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return __.alloc(0);var _=0;if(y[_]!==" "){for(var w=0,I=0;y[_]===s;)w++,_++;for(var T=(y.length-_)*u+1>>>0,O=new Uint8Array(T);y[_];){var B=e[y.charCodeAt(_)];if(B===255)return;for(var q=0,C=T-1;(B!==0||q<I)&&C!==-1;C--,q++)B+=o*O[C]>>>0,O[C]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");I=q,_++}if(y[_]!==" "){for(var d=T-I;d!==T&&O[d]===0;)d++;var m=__.allocUnsafe(w+(T-d));m.fill(0,0,w);for(var x=w;d!==T;)m[x++]=O[d++];return m}}}function g(y){var _=l(y);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:l,decode:g}}BP.exports=ute});var qP=E((YCe,NP)=>{h();p();var fte=MP(),cte="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";NP.exports=fte(cte)});var LP=E((XCe,FP)=>{"use strict";h();p();var EI=qP(),dte=YE().Buffer;FP.exports=function(r){function e(a){var o=r(a);return EI.encode(dte.concat([a,o],a.length+4))}function t(a){var o=a.slice(0,-4),s=a.slice(-4),u=r(o);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return o}function n(a){var o=EI.decodeUnsafe(a);if(!!o)return t(o)}function i(a){var o=EI.decode(a),s=t(o,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var jP=E((ZCe,kP)=>{"use strict";h();p();var UP=WE(),lte=LP();function hte(r){var e=UP("sha256").update(r).digest();return UP("sha256").update(e).digest()}kP.exports=lte(hte)});var x_=E(ja=>{"use strict";h();p();Object.defineProperty(ja,"__esModule",{value:!0});ja.InvalidChecksumError=ja.InvalidSequenceComponentError=ja.InvalidTypeError=ja.InvalidPathLengthError=ja.InvalidSchemeError=void 0;var II=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};ja.InvalidSchemeError=II;var SI=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};ja.InvalidPathLengthError=SI;var TI=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};ja.InvalidTypeError=TI;var CI=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};ja.InvalidSequenceComponentError=CI;var AI=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};ja.InvalidChecksumError=AI});var Ha=E(OI=>{"use strict";h();p();Object.defineProperty(OI,"__esModule",{value:!0});var Qh=Hi(),pte=Qh.Buffer.from&&Qh.Buffer.alloc&&Qh.Buffer.allocUnsafe&&Qh.Buffer.allocUnsafeSlow?Qh.Buffer.from:function(r){return new Qh.Buffer(r)};OI.default=pte});var Ka=E(DI=>{"use strict";h();p();Object.defineProperty(DI,"__esModule",{value:!0});DI.default=function(r,e){var t=function(i,a){return e(i,a)>>>0};return t.signed=e,t.unsigned=t,t.model=r,t}});var KP=E(RI=>{"use strict";h();p();Object.defineProperty(RI,"__esModule",{value:!0});var gte=Hi(),yte=Ha(),vte=HP(yte),mte=Ka(),_te=HP(mte);function HP(r){return r&&r.__esModule?r:{default:r}}var xte=(0,_te.default)("crc1",function(r,e){gte.Buffer.isBuffer(r)||(r=(0,vte.default)(r));for(var t=~~e,n=0,i=0;i<r.length;i++){var a=r[i];n+=a}return t+=n%256,t%256});RI.default=xte});var GP=E((hAe,VP)=>{"use strict";h();p();VP.exports=KP().default});var zP=E(BI=>{"use strict";h();p();Object.defineProperty(BI,"__esModule",{value:!0});var bte=Hi(),wte=Ha(),Ete=YP(wte),Ite=Ka(),Ste=YP(Ite);function YP(r){return r&&r.__esModule?r:{default:r}}var PI=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(PI=new Int32Array(PI));var Tte=(0,Ste.default)("crc-8",function(r,e){bte.Buffer.isBuffer(r)||(r=(0,Ete.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=PI[(t^i)&255]&255}return t});BI.default=Tte});var XP=E((_Ae,WP)=>{"use strict";h();p();WP.exports=zP().default});var $P=E(NI=>{"use strict";h();p();Object.defineProperty(NI,"__esModule",{value:!0});var Cte=Hi(),Ate=Ha(),Ote=JP(Ate),Dte=Ka(),Rte=JP(Dte);function JP(r){return r&&r.__esModule?r:{default:r}}var MI=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(MI=new Int32Array(MI));var Pte=(0,Rte.default)("dallas-1-wire",function(r,e){Cte.Buffer.isBuffer(r)||(r=(0,Ote.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=MI[(t^i)&255]&255}return t});NI.default=Pte});var QP=E((SAe,ZP)=>{"use strict";h();p();ZP.exports=$P().default});var tB=E(FI=>{"use strict";h();p();Object.defineProperty(FI,"__esModule",{value:!0});var Bte=Hi(),Mte=Ha(),Nte=eB(Mte),qte=Ka(),Fte=eB(qte);function eB(r){return r&&r.__esModule?r:{default:r}}var qI=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(qI=new Int32Array(qI));var Lte=(0,Fte.default)("crc-16",function(r,e){Bte.Buffer.isBuffer(r)||(r=(0,Nte.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=(qI[(t^i)&255]^t>>8)&65535}return t});FI.default=Lte});var nB=E((RAe,rB)=>{"use strict";h();p();rB.exports=tB().default});var aB=E(UI=>{"use strict";h();p();Object.defineProperty(UI,"__esModule",{value:!0});var Ute=Hi(),kte=Ha(),jte=iB(kte),Hte=Ka(),Kte=iB(Hte);function iB(r){return r&&r.__esModule?r:{default:r}}var LI=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(LI=new Int32Array(LI));var Vte=(0,Kte.default)("ccitt",function(r,e){Ute.Buffer.isBuffer(r)||(r=(0,jte.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(LI[(t>>8^i)&255]^t<<8)&65535}return t});UI.default=Vte});var sB=E((FAe,oB)=>{"use strict";h();p();oB.exports=aB().default});var fB=E(jI=>{"use strict";h();p();Object.defineProperty(jI,"__esModule",{value:!0});var Gte=Hi(),Yte=Ha(),zte=uB(Yte),Wte=Ka(),Xte=uB(Wte);function uB(r){return r&&r.__esModule?r:{default:r}}var kI=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(kI=new Int32Array(kI));var Jte=(0,Xte.default)("crc-16-modbus",function(r,e){Gte.Buffer.isBuffer(r)||(r=(0,zte.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(kI[(t^i)&255]^t>>8)&65535}return t});jI.default=Jte});var dB=E((KAe,cB)=>{"use strict";h();p();cB.exports=fB().default});var hB=E(HI=>{"use strict";h();p();Object.defineProperty(HI,"__esModule",{value:!0});var $te=Hi(),Zte=Ha(),Qte=lB(Zte),ere=Ka(),tre=lB(ere);function lB(r){return r&&r.__esModule?r:{default:r}}var rre=(0,tre.default)("xmodem",function(r,e){$te.Buffer.isBuffer(r)||(r=(0,Qte.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n],a=t>>>8&255;a^=i&255,a^=a>>>4,t=t<<8&65535,t^=a,a=a<<5&65535,t^=a,a=a<<7&65535,t^=a}return t});HI.default=rre});var gB=E((XAe,pB)=>{"use strict";h();p();pB.exports=hB().default});var vB=E(VI=>{"use strict";h();p();Object.defineProperty(VI,"__esModule",{value:!0});var nre=Hi(),ire=Ha(),are=yB(ire),ore=Ka(),sre=yB(ore);function yB(r){return r&&r.__esModule?r:{default:r}}var KI=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(KI=new Int32Array(KI));var ure=(0,sre.default)("kermit",function(r,e){nre.Buffer.isBuffer(r)||(r=(0,are.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n];t=(KI[(t^i)&255]^t>>8)&65535}return t});VI.default=ure});var _B=E((tOe,mB)=>{"use strict";h();p();mB.exports=vB().default});var bB=E(YI=>{"use strict";h();p();Object.defineProperty(YI,"__esModule",{value:!0});var fre=Hi(),cre=Ha(),dre=xB(cre),lre=Ka(),hre=xB(lre);function xB(r){return r&&r.__esModule?r:{default:r}}var GI=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(GI=new Int32Array(GI));var pre=(0,hre.default)("crc-24",function(r,e){fre.Buffer.isBuffer(r)||(r=(0,dre.default)(r));for(var t=typeof e<"u"?~~e:11994318,n=0;n<r.length;n++){var i=r[n];t=(GI[(t>>16^i)&255]^t<<8)&16777215}return t});YI.default=pre});var EB=E((sOe,wB)=>{"use strict";h();p();wB.exports=bB().default});var SB=E(WI=>{"use strict";h();p();Object.defineProperty(WI,"__esModule",{value:!0});var gre=Hi(),yre=Ha(),vre=IB(yre),mre=Ka(),_re=IB(mre);function IB(r){return r&&r.__esModule?r:{default:r}}var zI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(zI=new Int32Array(zI));var xre=(0,_re.default)("crc-32",function(r,e){gre.Buffer.isBuffer(r)||(r=(0,vre.default)(r));for(var t=e===0?0:~~e^-1,n=0;n<r.length;n++){var i=r[n];t=zI[(t^i)&255]^t>>>8}return t^-1});WI.default=xre});var CB=E((hOe,TB)=>{"use strict";h();p();TB.exports=SB().default});var OB=E(JI=>{"use strict";h();p();Object.defineProperty(JI,"__esModule",{value:!0});var bre=Hi(),wre=Ha(),Ere=AB(wre),Ire=Ka(),Sre=AB(Ire);function AB(r){return r&&r.__esModule?r:{default:r}}var XI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(XI=new Int32Array(XI));var Tre=(0,Sre.default)("jam",function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;bre.Buffer.isBuffer(r)||(r=(0,Ere.default)(r));for(var t=e===0?0:~~e,n=0;n<r.length;n++){var i=r[n];t=XI[(t^i)&255]^t>>>8}return t});JI.default=Tre});var RB=E((_Oe,DB)=>{"use strict";h();p();DB.exports=OB().default});var BB=E((wOe,PB)=>{"use strict";h();p();PB.exports={crc1:GP(),crc8:XP(),crc81wire:QP(),crc16:nB(),crc16ccitt:sB(),crc16modbus:dB(),crc16xmodem:gB(),crc16kermit:_B(),crc24:EB(),crc32:CB(),crcjam:RB()}});var oc=E(Xe=>{"use strict";h();p();var Cre=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.bufferXOR=Xe.setDifference=Xe.arrayContains=Xe.arraysEqual=Xe.hasPrefix=Xe.isURType=Xe.intToBytes=Xe.toUint32=Xe.getCRCHex=Xe.getCRC=Xe.split=Xe.partition=Xe.sha256Hash=void 0;var Are=Cre(ZZ()),MB=BB(),Ore=r=>Are.default("sha256").update(r).digest();Xe.sha256Hash=Ore;var Dre=(r,e)=>r.match(new RegExp(".{1,"+e+"}","g"))||[r];Xe.partition=Dre;var Rre=(r,e)=>[r.slice(0,-e),r.slice(-e)];Xe.split=Rre;var Pre=r=>MB.crc32(r);Xe.getCRC=Pre;var Bre=r=>MB.crc32(r).toString(16).padStart(8,"0");Xe.getCRCHex=Bre;var Mre=r=>r>>>0;Xe.toUint32=Mre;var Nre=r=>{let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,r,!1),v.Buffer.from(e)};Xe.intToBytes=Nre;var qre=r=>r.split("").every((e,t)=>{let n=r.charCodeAt(t);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||"0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0)});Xe.isURType=qre;var Fre=(r,e)=>r.indexOf(e)===0;Xe.hasPrefix=Fre;var Lre=(r,e)=>r.length!==e.length?!1:r.every(t=>e.includes(t));Xe.arraysEqual=Lre;var Ure=(r,e)=>e.every(t=>r.includes(t));Xe.arrayContains=Ure;var kre=(r,e)=>r.filter(t=>e.indexOf(t)<0);Xe.setDifference=kre;var jre=(r,e)=>{let t=Math.max(r.length,e.length),n=v.Buffer.allocUnsafe(t);for(let i=0;i<t;++i)n[i]=r[i]^e[i];return n};Xe.bufferXOR=jre});var qB=E((NB,b_)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof b_<"u"&&b_.exports?b_.exports=e():r.CBOR=e()})(NB,function(){var r=function(){function e(C){this.$hex=C}e.prototype={length:function(){return this.$hex.length/2},toString:function(C){if(!C||C==="hex"||C===16)return this.$hex;if(C==="utf-8"){for(var d="",m=0;m<this.$hex.length;m+=2)d+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(d)}if(C==="latin"){for(var d=[],m=0;m<this.$hex.length;m+=2)d.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,d)}throw new Error("Unrecognised format: "+C)}},e.fromLatinString=function(C){for(var d="",m=0;m<C.length;m++){var x=C.charCodeAt(m).toString(16);x.length===1&&(x="0"+x),d+=x}return new e(d)},e.fromUtf8String=function(C){for(var d=encodeURIComponent(C),m="",x=0;x<d.length;x++)if(d.charAt(x)==="%")m+=d.substring(x+1,x+3),x+=2;else{var D=d.charCodeAt(x).toString(16);D.length<2&&(D="0"+D),m+=D}return new e(m)};var t=[],n={},i=function(C){return function(){throw new Error(C+" not implemented")}};function a(){}a.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var C=this.readUint16(),d=(C&32767)>>10,m=C&1023,x=C&32768;if(d===31)return m===0?x?-1/0:1/0:NaN;var D=d?Math.pow(2,d-25)*(1024+m):Math.pow(2,-24)*m;return x?-D:D},readFloat32:function(){var C=this.readUint32(),d=(C&2147483647)>>23,m=C&8388607,x=C&2147483648;if(d===255)return m===0?x?-1/0:1/0:NaN;var D=d?Math.pow(2,d-23-127)*(8388608+m):Math.pow(2,-23-126)*m;return x?-D:D},readFloat64:function(){var C=this.readUint32(),d=this.readUint32(),m=C>>20&2047,x=(C&1048575)*4294967296+d,D=C&2147483648;if(m===2047)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-52-1023)*(4503599627370496+x):Math.pow(2,-52-1022)*x;return D?-M:M},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function o(){}o.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(C){this.writeByte(C>>8&255),this.writeByte(C&255)},writeUint32:function(C){this.writeUint16(C>>16&65535),this.writeUint16(C&65535)},writeUint64:function(C){if(C>=9007199254740992||C<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+C+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(C/4294967296)),this.writeUint32(C%4294967296)},writeString:i("writeString"),canWriteBinary:function(C){return!1},writeBinary:i("writeChunk")};function s(C){var d=C.readByte(),m=d>>5,x=d&31;return{type:m,value:x}}function u(C,d){var m=C.value;if(m<24)return m;if(m==24)return d.readByte();if(m==25)return d.readUint16();if(m==26)return d.readUint32();if(m==27)return d.readUint64();if(m==31)return null;i("Additional info: "+m)()}function f(C,d,m){m.writeByte(C<<5|d)}function c(C,d,m){var x=C<<5;d<24?m.writeByte(x|d):d<256?(m.writeByte(x|24),m.writeByte(d)):d<65536?(m.writeByte(x|25),m.writeUint16(d)):d<4294967296?(m.writeByte(x|26),m.writeUint32(d)):(m.writeByte(x|27),m.writeUint64(d))}var l=new Error;function g(C){var d=s(C);switch(d.type){case 0:return u(d,C);case 1:return-1-u(d,C);case 2:return C.readChunk(u(d,C));case 3:var m=C.readChunk(u(d,C));return m.toString("utf-8");case 4:case 5:var x=u(d,C),A=[];if(x!==null){d.type===5&&(x*=2);for(var D=0;D<x;D++)A[D]=g(C)}else for(var M;(M=g(C))!==l;)A.push(M);if(d.type===5){for(var Q={},D=0;D<A.length;D+=2)Q[A[D]]=A[D+1];return Q}else return A;case 6:var L=u(d,C),b=n[L],A=g(C);return b?b(A):A;case 7:if(d.value===25)return C.readFloat16();if(d.value===26)return C.readFloat32();if(d.value===27)return C.readFloat64();switch(u(d,C)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return l;default:throw new Error("Unknown fixed value: "+d.value)}default:throw new Error("Unsupported header: "+JSON.stringify(d))}throw new Error("not implemented yet")}function y(C,d){for(var m=0;m<t.length;m++){var x=t[m].fn(C);if(x!==void 0)return c(6,t[m].tag,d),y(x,d)}if(C&&typeof C.toCBOR=="function"&&(C=C.toCBOR()),C===!1)c(7,20,d);else if(C===!0)c(7,21,d);else if(C===null)c(7,22,d);else if(C===void 0)c(7,23,d);else if(typeof C=="number")Math.floor(C)===C&&C<9007199254740992&&C>-9007199254740992?C<0?c(1,-1-C,d):c(0,C,d):(f(7,27,d),d.writeFloat64(C));else if(typeof C=="string")d.writeString(C,function(M){c(3,M,d)});else if(d.canWriteBinary(C))d.writeBinary(C,function(M){c(2,M,d)});else if(typeof C=="object")if(I.config.useToJSON&&typeof C.toJSON=="function"&&(C=C.toJSON()),Array.isArray(C)){c(4,C.length,d);for(var m=0;m<C.length;m++)y(C[m],d)}else{var D=Object.keys(C);c(5,D.length,d);for(var m=0;m<D.length;m++)y(D[m],d),y(C[D[m]],d)}else throw new Error("CBOR encoding not supported: "+C)}var _=[],w=[],I={config:{useToJSON:!0},addWriter:function(C,d){typeof C=="string"?w.push(function(m){if(C===m)return d(m)}):w.push(C)},addReader:function(C,d){typeof C=="string"?_.push(function(m,x){if(C===x)return d(m,x)}):_.push(C)},encode:function(C,d){for(var m=0;m<w.length;m++){var x=w[m],D=x(d);if(D)return y(C,D),D.result()}throw new Error("Unsupported output format: "+d)},decode:function(C,d){for(var m=0;m<_.length;m++){var x=_[m],D=x(C,d);if(D)return g(D)}throw new Error("Unsupported input format: "+d)},addSemanticEncode:function(C,d){if(typeof C!="number"||C%1!==0||C<0)throw new Error("Tag must be a positive integer");return t.push({tag:C,fn:d}),this},addSemanticDecode:function(C,d){if(typeof C!="number"||C%1!==0||C<0)throw new Error("Tag must be a positive integer");return n[C]=d,this},Reader:a,Writer:o};function T(C){this.buffer=C,this.pos=0}T.prototype=Object.create(a.prototype),T.prototype.peekByte=function(){return this.buffer[this.pos]},T.prototype.readByte=function(){return this.buffer[this.pos++]},T.prototype.readUint16=function(){var C=this.buffer.readUInt16BE(this.pos);return this.pos+=2,C},T.prototype.readUint32=function(){var C=this.buffer.readUInt32BE(this.pos);return this.pos+=4,C},T.prototype.readFloat32=function(){var C=this.buffer.readFloatBE(this.pos);return this.pos+=4,C},T.prototype.readFloat64=function(){var C=this.buffer.readDoubleBE(this.pos);return this.pos+=8,C},T.prototype.readChunk=function(C){var d=v.Buffer.alloc(C);return this.buffer.copy(d,0,this.pos,this.pos+=C),d};function O(C){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=C}O.prototype=Object.create(o.prototype),O.prototype.writeByte=function(C){this.latestBuffer[this.latestBufferOffset++]=C,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},O.prototype.writeFloat32=function(C){var d=v.Buffer.alloc(4);d.writeFloatBE(C,0),this.writeBuffer(d)},O.prototype.writeFloat64=function(C){var d=v.Buffer.alloc(8);d.writeDoubleBE(C,0),this.writeBuffer(d)},O.prototype.writeString=function(C,d){var m=v.Buffer.from(C,"utf-8");d(m.length),this.writeBuffer(m)},O.prototype.canWriteBinary=function(C){return C instanceof v.Buffer},O.prototype.writeBinary=function(C,d){d(C.length),this.writeBuffer(C)},O.prototype.writeBuffer=function(C){if(!(C instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=C.length?(C.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=C.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(C),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(C),this.byteLength+=C.length},O.prototype.result=function(){for(var C=v.Buffer.alloc(this.byteLength),d=0,m=0;m<this.completeBuffers.length;m++){var x=this.completeBuffers[m];x.copy(C,d,0,x.length),d+=x.length}return this.latestBufferOffset&&this.latestBuffer.copy(C,d,0,this.latestBufferOffset),this.stringFormat?C.toString(this.stringFormat):C},typeof v.Buffer=="function"&&(I.addReader(function(C,d){if(C instanceof v.Buffer)return new T(C);if(d==="hex"||d==="base64"){var m=v.Buffer.from(C,d);return new T(m)}}),I.addWriter(function(C){if(!C||C==="buffer")return new O;if(C==="hex"||C==="base64")return new O(C)}));function B(C){this.hex=C,this.pos=0}B.prototype=Object.create(a.prototype),B.prototype.peekByte=function(){var C=this.hex.substring(this.pos,2);return parseInt(C,16)},B.prototype.readByte=function(){var C=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(C,16)},B.prototype.readChunk=function(C){var d=this.hex.substring(this.pos,this.pos+C*2);return this.pos+=C*2,typeof v.Buffer=="function"?v.Buffer.from(d,"hex"):new e(d)};function q(C){this.$hex="",this.finalFormat=C||"hex"}return q.prototype=Object.create(o.prototype),q.prototype.writeByte=function(C){if(C<0||C>255)throw new Error("Byte value out of range: "+C);var d=C.toString(16);d.length==1&&(d="0"+d),this.$hex+=d},q.prototype.canWriteBinary=function(C){return C instanceof e||typeof v.Buffer=="function"&&C instanceof v.Buffer},q.prototype.writeBinary=function(C,d){if(C instanceof e)d(C.length()),this.$hex+=C.$hex;else if(typeof v.Buffer=="function"&&C instanceof v.Buffer)d(C.length),this.$hex+=C.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(C,d){var m=e.fromUtf8String(C);d(m.length()),this.$hex+=m.$hex},I.addReader(function(C,d){if(C instanceof e||C.$hex)return new B(C.$hex);if(d==="hex")return new B(C)}),I.addWriter(function(C){if(C==="hex")return new q}),I}();return r.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),r})});var $I=E(e1=>{"use strict";h();p();Object.defineProperty(e1,"__esModule",{value:!0});e1.cborDecode=e1.cborEncode=void 0;var FB=qB(),Hre=r=>FB.encode(r);e1.cborEncode=Hre;var Kre=r=>FB.decode(v.Buffer.isBuffer(r)?r:v.Buffer.from(r,"hex"));e1.cborDecode=Kre});var QI=E(ZI=>{"use strict";h();p();Object.defineProperty(ZI,"__esModule",{value:!0});var Vre=x_(),Gre=oc(),LB=$I(),t1=class{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!Gre.isURType(this._type))throw new Vre.InvalidTypeError}static fromBuffer(e){return new t1(LB.cborEncode(e))}static from(e,t){return t1.fromBuffer(v.Buffer.from(e,t))}decodeCBOR(){return LB.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}};ZI.default=t1});var UB=E((e5,t5)=>{h();p();(function(r,e){typeof e5=="object"&&typeof t5<"u"?t5.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.JSBI=e())})(e5,function(){"use strict";var r=Math.imul,e=Math.clz32,t=Math.abs,n=Math.max,i=Math.floor;class a extends Array{constructor(s,u){if(super(s),this.sign=u,s>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(s){var u=Number.isFinite;if(typeof s=="number"){if(s===0)return a.__zero();if(a.__isOneDigitInt(s))return 0>s?a.__oneDigit(-s,!0):a.__oneDigit(s,!1);if(!u(s)||i(s)!==s)throw new RangeError("The number "+s+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(s)}if(typeof s=="string"){let f=a.__fromString(s);if(f===null)throw new SyntaxError("Cannot convert "+s+" to a BigInt");return f}if(typeof s=="boolean")return s===!0?a.__oneDigit(1,!1):a.__zero();if(typeof s=="object"){if(s.constructor===a)return s;let f=a.__toPrimitive(s);return a.BigInt(f)}throw new TypeError("Cannot convert "+s+" to a BigInt")}toDebugString(){let s=["BigInt["];for(let u of this)s.push((u&&(u>>>0).toString(16))+", ");return s.push("]"),s.join("")}toString(s=10){if(2>s||36<s)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(s&s-1)==0?a.__toStringBasePowerOfTwo(this,s):a.__toStringGeneric(this,s,!1)}static toNumber(s){let u=s.length;if(u===0)return 0;if(u===1){let d=s.__unsignedDigit(0);return s.sign?-d:d}let f=s.__digit(u-1),c=a.__clz30(f),l=30*u-c;if(1024<l)return s.sign?-1/0:1/0;let g=l-1,y=f,_=u-1,w=c+3,I=w===32?0:y<<w;I>>>=12;let T=w-12,O=12<=w?0:y<<20+w,B=20+w;for(0<T&&0<_&&(_--,y=s.__digit(_),I|=y>>>30-T,O=y<<T+2,B=T+2);0<B&&0<_;)_--,y=s.__digit(_),O|=30<=B?y<<B-30:y>>>30-B,B-=30;let q=a.__decideRounding(s,B,_,y);if((q===1||q===0&&(1&O)==1)&&(O=O+1>>>0,O===0&&(I++,I>>>20!=0&&(I=0,g++,1023<g))))return s.sign?-1/0:1/0;let C=s.sign?-2147483648:0;return g=g+1023<<20,a.__kBitConversionInts[1]=C|g|I,a.__kBitConversionInts[0]=O,a.__kBitConversionDouble[0]}static unaryMinus(s){if(s.length===0)return s;let u=s.__copy();return u.sign=!s.sign,u}static bitwiseNot(s){return s.sign?a.__absoluteSubOne(s).__trim():a.__absoluteAddOne(s,!0)}static exponentiate(s,u){if(u.sign)throw new RangeError("Exponent must be positive");if(u.length===0)return a.__oneDigit(1,!1);if(s.length===0)return s;if(s.length===1&&s.__digit(0)===1)return s.sign&&(1&u.__digit(0))==0?a.unaryMinus(s):s;if(1<u.length)throw new RangeError("BigInt too big");let f=u.__unsignedDigit(0);if(f===1)return s;if(f>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(s.length===1&&s.__digit(0)===2){let g=1+(0|f/30),y=s.sign&&(1&f)!=0,_=new a(g,y);_.__initializeDigits();let w=1<<f%30;return _.__setDigit(g-1,w),_}let c=null,l=s;for((1&f)!=0&&(c=s),f>>=1;f!==0;f>>=1)l=a.multiply(l,l),(1&f)!=0&&(c===null?c=l:c=a.multiply(c,l));return c}static multiply(s,u){if(s.length===0)return s;if(u.length===0)return u;let f=s.length+u.length;30<=s.__clzmsd()+u.__clzmsd()&&f--;let c=new a(f,s.sign!==u.sign);c.__initializeDigits();for(let l=0;l<s.length;l++)a.__multiplyAccumulate(u,s.__digit(l),c,l);return c.__trim()}static divide(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(s,u))return a.__zero();let f=s.sign!==u.sign,c=u.__unsignedDigit(0),l;if(u.length===1&&32767>=c){if(c===1)return f===s.sign?s:a.unaryMinus(s);l=a.__absoluteDivSmall(s,c,null)}else l=a.__absoluteDivLarge(s,u,!0,!1);return l.sign=f,l.__trim()}static remainder(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(s,u))return s;let f=u.__unsignedDigit(0);if(u.length===1&&32767>=f){if(f===1)return a.__zero();let l=a.__absoluteModSmall(s,f);return l===0?a.__zero():a.__oneDigit(l,s.sign)}let c=a.__absoluteDivLarge(s,u,!1,!0);return c.sign=s.sign,c.__trim()}static add(s,u){let f=s.sign;return f===u.sign?a.__absoluteAdd(s,u,f):0<=a.__absoluteCompare(s,u)?a.__absoluteSub(s,u,f):a.__absoluteSub(u,s,!f)}static subtract(s,u){let f=s.sign;return f===u.sign?0<=a.__absoluteCompare(s,u)?a.__absoluteSub(s,u,f):a.__absoluteSub(u,s,!f):a.__absoluteAdd(s,u,f)}static leftShift(s,u){return u.length===0||s.length===0?s:u.sign?a.__rightShiftByAbsolute(s,u):a.__leftShiftByAbsolute(s,u)}static signedRightShift(s,u){return u.length===0||s.length===0?s:u.sign?a.__leftShiftByAbsolute(s,u):a.__rightShiftByAbsolute(s,u)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(s,u){return 0>a.__compareToBigInt(s,u)}static lessThanOrEqual(s,u){return 0>=a.__compareToBigInt(s,u)}static greaterThan(s,u){return 0<a.__compareToBigInt(s,u)}static greaterThanOrEqual(s,u){return 0<=a.__compareToBigInt(s,u)}static equal(s,u){if(s.sign!==u.sign||s.length!==u.length)return!1;for(let f=0;f<s.length;f++)if(s.__digit(f)!==u.__digit(f))return!1;return!0}static notEqual(s,u){return!a.equal(s,u)}static bitwiseAnd(s,u){if(!s.sign&&!u.sign)return a.__absoluteAnd(s,u).__trim();if(s.sign&&u.sign){let f=n(s.length,u.length)+1,c=a.__absoluteSubOne(s,f),l=a.__absoluteSubOne(u);return c=a.__absoluteOr(c,l,c),a.__absoluteAddOne(c,!0,c).__trim()}return s.sign&&([s,u]=[u,s]),a.__absoluteAndNot(s,a.__absoluteSubOne(u)).__trim()}static bitwiseXor(s,u){if(!s.sign&&!u.sign)return a.__absoluteXor(s,u).__trim();if(s.sign&&u.sign){let l=n(s.length,u.length),g=a.__absoluteSubOne(s,l),y=a.__absoluteSubOne(u);return a.__absoluteXor(g,y,g).__trim()}let f=n(s.length,u.length)+1;s.sign&&([s,u]=[u,s]);let c=a.__absoluteSubOne(u,f);return c=a.__absoluteXor(c,s,c),a.__absoluteAddOne(c,!0,c).__trim()}static bitwiseOr(s,u){let f=n(s.length,u.length);if(!s.sign&&!u.sign)return a.__absoluteOr(s,u).__trim();if(s.sign&&u.sign){let l=a.__absoluteSubOne(s,f),g=a.__absoluteSubOne(u);return l=a.__absoluteAnd(l,g,l),a.__absoluteAddOne(l,!0,l).__trim()}s.sign&&([s,u]=[u,s]);let c=a.__absoluteSubOne(u,f);return c=a.__absoluteAndNot(c,s,c),a.__absoluteAddOne(c,!0,c).__trim()}static asIntN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return a.__zero();if(s>=a.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=u.__unsignedDigit(f-1),l=1<<(s-1)%30;if(u.length===f&&c<l)return u;if((c&l)!==l)return a.__truncateToNBits(s,u);if(!u.sign)return a.__truncateAndSubFromPowerOfTwo(s,u,!0);if((c&l-1)==0){for(let g=f-2;0<=g;g--)if(u.__digit(g)!==0)return a.__truncateAndSubFromPowerOfTwo(s,u,!1);return u.length===f&&c===l?u:a.__truncateToNBits(s,u)}return a.__truncateAndSubFromPowerOfTwo(s,u,!1)}static asUintN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return a.__zero();if(u.sign){if(s>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(s,u,!1)}if(s>=a.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=s%30;return u.length==f&&(c===0||u.__digit(f-1)>>>c==0)?u:a.__truncateToNBits(s,u)}static ADD(s,u){if(s=a.__toPrimitive(s),u=a.__toPrimitive(u),typeof s=="string")return typeof u!="string"&&(u=u.toString()),s+u;if(typeof u=="string")return s.toString()+u;if(s=a.__toNumeric(s),u=a.__toNumeric(u),a.__isBigInt(s)&&a.__isBigInt(u))return a.add(s,u);if(typeof s=="number"&&typeof u=="number")return s+u;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(s,u){return a.__compare(s,u,0)}static LE(s,u){return a.__compare(s,u,1)}static GT(s,u){return a.__compare(s,u,2)}static GE(s,u){return a.__compare(s,u,3)}static EQ(s,u){for(;;){if(a.__isBigInt(s))return a.__isBigInt(u)?a.equal(s,u):a.EQ(u,s);if(typeof s=="number"){if(a.__isBigInt(u))return a.__equalToNumber(u,s);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="string"){if(a.__isBigInt(u))return s=a.__fromString(s),s!==null&&a.equal(s,u);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="boolean"){if(a.__isBigInt(u))return a.__equalToNumber(u,+s);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="symbol"){if(a.__isBigInt(u))return!1;if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="object"){if(typeof u=="object"&&u.constructor!==a)return s==u;s=a.__toPrimitive(s)}else return s==u}}static NE(s,u){return!a.EQ(s,u)}static __zero(){return new a(0,!1)}static __oneDigit(s,u){let f=new a(1,u);return f.__setDigit(0,s),f}__copy(){let s=new a(this.length,this.sign);for(let u=0;u<this.length;u++)s[u]=this[u];return s}__trim(){let s=this.length,u=this[s-1];for(;u===0;)s--,u=this[s-1],this.pop();return s===0&&(this.sign=!1),this}__initializeDigits(){for(let s=0;s<this.length;s++)this[s]=0}static __decideRounding(s,u,f,c){if(0<u)return-1;let l;if(0>u)l=-u-1;else{if(f===0)return-1;f--,c=s.__digit(f),l=29}let g=1<<l;if((c&g)==0)return-1;if(g-=1,(c&g)!=0)return 1;for(;0<f;)if(f--,s.__digit(f)!==0)return 1;return 0}static __fromDouble(s){a.__kBitConversionDouble[0]=s;let u=2047&a.__kBitConversionInts[1]>>>20,f=u-1023,c=(0|f/30)+1,l=new a(c,0>s),g=1048575&a.__kBitConversionInts[1]|1048576,y=a.__kBitConversionInts[0],_=20,w=f%30,I,T=0;if(20>w){let O=_-w;T=O+32,I=g>>>O,g=g<<32-O|y>>>O,y<<=32-O}else if(w===20)T=32,I=g,g=y,y=0;else{let O=w-_;T=32-O,I=g<<O|y>>>32-O,g=y<<O,y=0}l.__setDigit(c-1,I);for(let O=c-2;0<=O;O--)0<T?(T-=30,I=g>>>2,g=g<<30|y>>>2,y<<=30):I=0,l.__setDigit(O,I);return l.__trim()}static __isWhitespace(s){return 13>=s&&9<=s||(159>=s?s==32:131071>=s?s==160||s==5760:196607>=s?(s&=131071,10>=s||s==40||s==41||s==47||s==95||s==4096):s==65279)}static __fromString(s,u=0){let f=0,c=s.length,l=0;if(l===c)return a.__zero();let g=s.charCodeAt(l);for(;a.__isWhitespace(g);){if(++l===c)return a.__zero();g=s.charCodeAt(l)}if(g===43){if(++l===c)return null;g=s.charCodeAt(l),f=1}else if(g===45){if(++l===c)return null;g=s.charCodeAt(l),f=-1}if(u===0){if(u=10,g===48){if(++l===c)return a.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(u=16,++l===c)return null;g=s.charCodeAt(l)}else if(g===79||g===111){if(u=8,++l===c)return null;g=s.charCodeAt(l)}else if(g===66||g===98){if(u=2,++l===c)return null;g=s.charCodeAt(l)}}}else if(u===16&&g===48){if(++l===c)return a.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(++l===c)return null;g=s.charCodeAt(l)}}if(f!=0&&u!==10)return null;for(;g===48;){if(++l===c)return a.__zero();g=s.charCodeAt(l)}let y=c-l,_=a.__kMaxBitsPerChar[u],w=a.__kBitsPerCharTableMultiplier-1;if(y>1073741824/_)return null;let I=_*y+w>>>a.__kBitsPerCharTableShift,T=new a(0|(I+29)/30,!1),O=10>u?u:10,B=10<u?u-10:0;if((u&u-1)==0){_>>=a.__kBitsPerCharTableShift;let q=[],C=[],d=!1;do{let m=0,x=0;for(;;){let D;if(g-48>>>0<O)D=g-48;else if((32|g)-97>>>0<B)D=(32|g)-87;else{d=!0;break}if(x+=_,m=m<<_|D,++l===c){d=!0;break}if(g=s.charCodeAt(l),30<x+_)break}q.push(m),C.push(x)}while(!d);a.__fillFromParts(T,q,C)}else{T.__initializeDigits();let q=!1,C=0;do{let d=0,m=1;for(;;){let D;if(g-48>>>0<O)D=g-48;else if((32|g)-97>>>0<B)D=(32|g)-87;else{q=!0;break}let M=m*u;if(1073741823<M)break;if(m=M,d=d*u+D,C++,++l===c){q=!0;break}g=s.charCodeAt(l)}w=30*a.__kBitsPerCharTableMultiplier-1;let x=0|(_*C+w>>>a.__kBitsPerCharTableShift)/30;T.__inplaceMultiplyAdd(m,d,x)}while(!q)}if(l!==c){if(!a.__isWhitespace(g))return null;for(l++;l<c;l++)if(g=s.charCodeAt(l),!a.__isWhitespace(g))return null}return T.sign=f==-1,T.__trim()}static __fillFromParts(s,u,f){let c=0,l=0,g=0;for(let y=u.length-1;0<=y;y--){let _=u[y],w=f[y];l|=_<<g,g+=w,g===30?(s.__setDigit(c++,l),g=0,l=0):30<g&&(s.__setDigit(c++,1073741823&l),g-=30,l=_>>>w-g)}if(l!==0){if(c>=s.length)throw new Error("implementation bug");s.__setDigit(c++,l)}for(;c<s.length;c++)s.__setDigit(c,0)}static __toStringBasePowerOfTwo(s,u){let f=s.length,c=u-1;c=(85&c>>>1)+(85&c),c=(51&c>>>2)+(51&c),c=(15&c>>>4)+(15&c);let l=c,g=u-1,y=s.__digit(f-1),_=a.__clz30(y),w=0|(30*f-_+l-1)/l;if(s.sign&&w++,268435456<w)throw new Error("string too long");let I=Array(w),T=w-1,O=0,B=0;for(let C=0;C<f-1;C++){let d=s.__digit(C),m=(O|d<<B)&g;I[T--]=a.__kConversionChars[m];let x=l-B;for(O=d>>>x,B=30-x;B>=l;)I[T--]=a.__kConversionChars[O&g],O>>>=l,B-=l}let q=(O|y<<B)&g;for(I[T--]=a.__kConversionChars[q],O=y>>>l-B;O!==0;)I[T--]=a.__kConversionChars[O&g],O>>>=l;if(s.sign&&(I[T--]="-"),T!=-1)throw new Error("implementation bug");return I.join("")}static __toStringGeneric(s,u,f){let c=s.length;if(c===0)return"";if(c===1){let C=s.__unsignedDigit(0).toString(u);return f===!1&&s.sign&&(C="-"+C),C}let l=30*c-a.__clz30(s.__digit(c-1)),g=a.__kMaxBitsPerChar[u],y=g-1,_=l*a.__kBitsPerCharTableMultiplier;_+=y-1,_=0|_/y;let w=_+1>>1,I=a.exponentiate(a.__oneDigit(u,!1),a.__oneDigit(w,!1)),T,O,B=I.__unsignedDigit(0);if(I.length===1&&32767>=B){T=new a(s.length,!1),T.__initializeDigits();let C=0;for(let d=2*s.length-1;0<=d;d--){let m=C<<15|s.__halfDigit(d);T.__setHalfDigit(d,0|m/B),C=0|m%B}O=C.toString(u)}else{let C=a.__absoluteDivLarge(s,I,!0,!0);T=C.quotient;let d=C.remainder.__trim();O=a.__toStringGeneric(d,u,!0)}T.__trim();let q=a.__toStringGeneric(T,u,!0);for(;O.length<w;)O="0"+O;return f===!1&&s.sign&&(q="-"+q),q+O}static __unequalSign(s){return s?-1:1}static __absoluteGreater(s){return s?-1:1}static __absoluteLess(s){return s?1:-1}static __compareToBigInt(s,u){let f=s.sign;if(f!==u.sign)return a.__unequalSign(f);let c=a.__absoluteCompare(s,u);return 0<c?a.__absoluteGreater(f):0>c?a.__absoluteLess(f):0}static __compareToNumber(s,u){if(a.__isOneDigitInt(u)){let f=s.sign,c=0>u;if(f!==c)return a.__unequalSign(f);if(s.length===0){if(c)throw new Error("implementation bug");return u===0?0:-1}if(1<s.length)return a.__absoluteGreater(f);let l=t(u),g=s.__unsignedDigit(0);return g>l?a.__absoluteGreater(f):g<l?a.__absoluteLess(f):0}return a.__compareToDouble(s,u)}static __compareToDouble(s,u){if(u!==u)return u;if(u===1/0)return-1;if(u===-1/0)return 1;let f=s.sign;if(f!==0>u)return a.__unequalSign(f);if(u===0)throw new Error("implementation bug: should be handled elsewhere");if(s.length===0)return-1;a.__kBitConversionDouble[0]=u;let c=2047&a.__kBitConversionInts[1]>>>20;if(c==2047)throw new Error("implementation bug: handled elsewhere");let l=c-1023;if(0>l)return a.__absoluteGreater(f);let g=s.length,y=s.__digit(g-1),_=a.__clz30(y),w=30*g-_,I=l+1;if(w<I)return a.__absoluteLess(f);if(w>I)return a.__absoluteGreater(f);let T=1048576|1048575&a.__kBitConversionInts[1],O=a.__kBitConversionInts[0],B=20,q=29-_;if(q!==(0|(w-1)%30))throw new Error("implementation bug");let C,d=0;if(20>q){let m=B-q;d=m+32,C=T>>>m,T=T<<32-m|O>>>m,O<<=32-m}else if(q===20)d=32,C=T,T=O,O=0;else{let m=q-B;d=32-m,C=T<<m|O>>>32-m,T=O<<m,O=0}if(y>>>=0,C>>>=0,y>C)return a.__absoluteGreater(f);if(y<C)return a.__absoluteLess(f);for(let m=g-2;0<=m;m--){0<d?(d-=30,C=T>>>2,T=T<<30|O>>>2,O<<=30):C=0;let x=s.__unsignedDigit(m);if(x>C)return a.__absoluteGreater(f);if(x<C)return a.__absoluteLess(f)}if(T!==0||O!==0){if(d===0)throw new Error("implementation bug");return a.__absoluteLess(f)}return 0}static __equalToNumber(s,u){return a.__isOneDigitInt(u)?u===0?s.length===0:s.length===1&&s.sign===0>u&&s.__unsignedDigit(0)===t(u):a.__compareToDouble(s,u)===0}static __comparisonResultToBool(s,u){return u===0?0>s:u===1?0>=s:u===2?0<s:u===3?0<=s:void 0}static __compare(s,u,f){if(s=a.__toPrimitive(s),u=a.__toPrimitive(u),typeof s=="string"&&typeof u=="string")switch(f){case 0:return s<u;case 1:return s<=u;case 2:return s>u;case 3:return s>=u}if(a.__isBigInt(s)&&typeof u=="string")return u=a.__fromString(u),u!==null&&a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(typeof s=="string"&&a.__isBigInt(u))return s=a.__fromString(s),s!==null&&a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(s=a.__toNumeric(s),u=a.__toNumeric(u),a.__isBigInt(s)){if(a.__isBigInt(u))return a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(typeof u!="number")throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(s,u),f)}if(typeof s!="number")throw new Error("implementation bug");if(a.__isBigInt(u))return a.__comparisonResultToBool(a.__compareToNumber(u,s),2^f);if(typeof u!="number")throw new Error("implementation bug");return f===0?s<u:f===1?s<=u:f===2?s>u:f===3?s>=u:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(s,u,f){if(s.length<u.length)return a.__absoluteAdd(u,s,f);if(s.length===0)return s;if(u.length===0)return s.sign===f?s:a.unaryMinus(s);let c=s.length;(s.__clzmsd()===0||u.length===s.length&&u.__clzmsd()===0)&&c++;let l=new a(c,f),g=0,y=0;for(;y<u.length;y++){let _=s.__digit(y)+u.__digit(y)+g;g=_>>>30,l.__setDigit(y,1073741823&_)}for(;y<s.length;y++){let _=s.__digit(y)+g;g=_>>>30,l.__setDigit(y,1073741823&_)}return y<l.length&&l.__setDigit(y,g),l.__trim()}static __absoluteSub(s,u,f){if(s.length===0)return s;if(u.length===0)return s.sign===f?s:a.unaryMinus(s);let c=new a(s.length,f),l=0,g=0;for(;g<u.length;g++){let y=s.__digit(g)-u.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}for(;g<s.length;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}return c.__trim()}static __absoluteAddOne(s,u,f=null){let c=s.length;f===null?f=new a(c,u):f.sign=u;let l=1;for(let g=0;g<c;g++){let y=s.__digit(g)+l;l=y>>>30,f.__setDigit(g,1073741823&y)}return l!=0&&f.__setDigitGrow(c,1),f}static __absoluteSubOne(s,u){let f=s.length;u=u||f;let c=new a(u,!1),l=1;for(let g=0;g<f;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}if(l!=0)throw new Error("implementation bug");for(let g=f;g<u;g++)c.__setDigit(g,0);return c}static __absoluteAnd(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,I=c;s=u,c=l,u=w,l=I}let y=g;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&u.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteAndNot(s,u,f=null){let c=s.length,l=u.length,g=l;c<l&&(g=c);let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&~u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteOr(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,I=c;s=u,c=l,u=w,l=I}let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)|u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteXor(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,I=c;s=u,c=l,u=w,l=I}let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)^u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteCompare(s,u){let f=s.length-u.length;if(f!=0)return f;let c=s.length-1;for(;0<=c&&s.__digit(c)===u.__digit(c);)c--;return 0>c?0:s.__unsignedDigit(c)>u.__unsignedDigit(c)?1:-1}static __multiplyAccumulate(s,u,f,c){if(u===0)return;let l=32767&u,g=u>>>15,y=0,_=0;for(let w,I=0;I<s.length;I++,c++){w=f.__digit(c);let T=s.__digit(I),O=32767&T,B=T>>>15,q=a.__imul(O,l),C=a.__imul(O,g),d=a.__imul(B,l),m=a.__imul(B,g);w+=_+q+y,y=w>>>30,w&=1073741823,w+=((32767&C)<<15)+((32767&d)<<15),y+=w>>>30,_=m+(C>>>15)+(d>>>15),f.__setDigit(c,1073741823&w)}for(;y!=0||_!==0;c++){let w=f.__digit(c);w+=y+_,_=0,y=w>>>30,f.__setDigit(c,1073741823&w)}}static __internalMultiplyAdd(s,u,f,c,l){let g=f,y=0;for(let _=0;_<c;_++){let w=s.__digit(_),I=a.__imul(32767&w,u),T=a.__imul(w>>>15,u),O=I+((32767&T)<<15)+y+g;g=O>>>30,y=T>>>15,l.__setDigit(_,1073741823&O)}if(l.length>c)for(l.__setDigit(c++,g+y);c<l.length;)l.__setDigit(c++,0);else if(g+y!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(s,u,f){f>this.length&&(f=this.length);let c=32767&s,l=s>>>15,g=0,y=u;for(let _=0;_<f;_++){let w=this.__digit(_),I=32767&w,T=w>>>15,O=a.__imul(I,c),B=a.__imul(I,l),q=a.__imul(T,c),C=a.__imul(T,l),d=y+O+g;g=d>>>30,d&=1073741823,d+=((32767&B)<<15)+((32767&q)<<15),g+=d>>>30,y=C+(B>>>15)+(q>>>15),this.__setDigit(_,1073741823&d)}if(g!=0||y!==0)throw new Error("implementation bug")}static __absoluteDivSmall(s,u,f=null){f===null&&(f=new a(s.length,!1));let c=0;for(let l,g=2*s.length-1;0<=g;g-=2){l=(c<<15|s.__halfDigit(g))>>>0;let y=0|l/u;c=0|l%u,l=(c<<15|s.__halfDigit(g-1))>>>0;let _=0|l/u;c=0|l%u,f.__setDigit(g>>>1,y<<15|_)}return f}static __absoluteModSmall(s,u){let f=0;for(let c=2*s.length-1;0<=c;c--)f=0|((f<<15|s.__halfDigit(c))>>>0)%u;return f}static __absoluteDivLarge(s,u,f,c){let l=u.__halfDigitLength(),g=u.length,y=s.__halfDigitLength()-l,_=null;f&&(_=new a(y+2>>>1,!1),_.__initializeDigits());let w=new a(l+2>>>1,!1);w.__initializeDigits();let I=a.__clz15(u.__halfDigit(l-1));0<I&&(u=a.__specialLeftShift(u,I,0));let T=a.__specialLeftShift(s,I,1),O=u.__halfDigit(l-1),B=0;for(let q,C=y;0<=C;C--){q=32767;let d=T.__halfDigit(C+l);if(d!==O){let x=(d<<15|T.__halfDigit(C+l-1))>>>0;q=0|x/O;let D=0|x%O,M=u.__halfDigit(l-2),Q=T.__halfDigit(C+l-2);for(;a.__imul(q,M)>>>0>(D<<16|Q)>>>0&&(q--,D+=O,!(32767<D)););}a.__internalMultiplyAdd(u,q,0,g,w);let m=T.__inplaceSub(w,C,l+1);m!==0&&(m=T.__inplaceAdd(u,C,l),T.__setHalfDigit(C+l,32767&T.__halfDigit(C+l)+m),q--),f&&(1&C?B=q<<15:_.__setDigit(C>>>1,B|q))}if(c)return T.__inplaceRightShift(I),f?{quotient:_,remainder:T}:T;if(f)return _;throw new Error("unreachable")}static __clz15(s){return a.__clz30(s)-15}__inplaceAdd(s,u,f){let c=0;for(let l=0;l<f;l++){let g=this.__halfDigit(u+l)+s.__halfDigit(l)+c;c=g>>>15,this.__setHalfDigit(u+l,32767&g)}return c}__inplaceSub(s,u,f){let c=0;if(1&u){u>>=1;let l=this.__digit(u),g=32767&l,y=0;for(;y<f-1>>>1;y++){let I=s.__digit(y),T=(l>>>15)-(32767&I)-c;c=1&T>>>15,this.__setDigit(u+y,(32767&T)<<15|32767&g),l=this.__digit(u+y+1),g=(32767&l)-(I>>>15)-c,c=1&g>>>15}let _=s.__digit(y),w=(l>>>15)-(32767&_)-c;if(c=1&w>>>15,this.__setDigit(u+y,(32767&w)<<15|32767&g),u+y+1>=this.length)throw new RangeError("out of bounds");(1&f)==0&&(l=this.__digit(u+y+1),g=(32767&l)-(_>>>15)-c,c=1&g>>>15,this.__setDigit(u+s.length,1073709056&l|32767&g))}else{u>>=1;let l=0;for(;l<s.length-1;l++){let I=this.__digit(u+l),T=s.__digit(l),O=(32767&I)-(32767&T)-c;c=1&O>>>15;let B=(I>>>15)-(T>>>15)-c;c=1&B>>>15,this.__setDigit(u+l,(32767&B)<<15|32767&O)}let g=this.__digit(u+l),y=s.__digit(l),_=(32767&g)-(32767&y)-c;c=1&_>>>15;let w=0;(1&f)==0&&(w=(g>>>15)-(y>>>15)-c,c=1&w>>>15),this.__setDigit(u+l,(32767&w)<<15|32767&_)}return c}__inplaceRightShift(s){if(s===0)return;let u=this.__digit(0)>>>s,f=this.length-1;for(let c=0;c<f;c++){let l=this.__digit(c+1);this.__setDigit(c,1073741823&l<<30-s|u),u=l>>>s}this.__setDigit(f,u)}static __specialLeftShift(s,u,f){let c=s.length,l=new a(c+f,!1);if(u===0){for(let y=0;y<c;y++)l.__setDigit(y,s.__digit(y));return 0<f&&l.__setDigit(c,0),l}let g=0;for(let y=0;y<c;y++){let _=s.__digit(y);l.__setDigit(y,1073741823&_<<u|g),g=_>>>30-u}return 0<f&&l.__setDigit(c,g),l}static __leftShiftByAbsolute(s,u){let f=a.__toShiftAmount(u);if(0>f)throw new RangeError("BigInt too big");let c=0|f/30,l=f%30,g=s.length,y=l!==0&&s.__digit(g-1)>>>30-l!=0,_=g+c+(y?1:0),w=new a(_,s.sign);if(l===0){let I=0;for(;I<c;I++)w.__setDigit(I,0);for(;I<_;I++)w.__setDigit(I,s.__digit(I-c))}else{let I=0;for(let T=0;T<c;T++)w.__setDigit(T,0);for(let T=0;T<g;T++){let O=s.__digit(T);w.__setDigit(T+c,1073741823&O<<l|I),I=O>>>30-l}if(y)w.__setDigit(g+c,I);else if(I!==0)throw new Error("implementation bug")}return w.__trim()}static __rightShiftByAbsolute(s,u){let f=s.length,c=s.sign,l=a.__toShiftAmount(u);if(0>l)return a.__rightShiftByMaximum(c);let g=0|l/30,y=l%30,_=f-g;if(0>=_)return a.__rightShiftByMaximum(c);let w=!1;if(c){if((s.__digit(g)&(1<<y)-1)!=0)w=!0;else for(let T=0;T<g;T++)if(s.__digit(T)!==0){w=!0;break}}w&&y===0&&~s.__digit(f-1)==0&&_++;let I=new a(_,c);if(y===0){I.__setDigit(_-1,0);for(let T=g;T<f;T++)I.__setDigit(T-g,s.__digit(T))}else{let T=s.__digit(g)>>>y,O=f-g-1;for(let B=0;B<O;B++){let q=s.__digit(B+g+1);I.__setDigit(B,1073741823&q<<30-y|T),T=q>>>y}I.__setDigit(O,T)}return w&&(I=a.__absoluteAddOne(I,!0,I)),I.__trim()}static __rightShiftByMaximum(s){return s?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(s){if(1<s.length)return-1;let u=s.__unsignedDigit(0);return u>a.__kMaxLengthBits?-1:u}static __toPrimitive(s,u="default"){if(typeof s!="object"||s.constructor===a)return s;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let l=s[Symbol.toPrimitive];if(l){let g=l(u);if(typeof g!="object")return g;throw new TypeError("Cannot convert object to primitive value")}}let f=s.valueOf;if(f){let l=f.call(s);if(typeof l!="object")return l}let c=s.toString;if(c){let l=c.call(s);if(typeof l!="object")return l}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(s){return a.__isBigInt(s)?s:+s}static __isBigInt(s){return typeof s=="object"&&s!==null&&s.constructor===a}static __truncateToNBits(s,u){let f=0|(s+29)/30,c=new a(f,u.sign),l=f-1;for(let y=0;y<l;y++)c.__setDigit(y,u.__digit(y));let g=u.__digit(l);if(s%30!=0){let y=32-s%30;g=g<<y>>>y}return c.__setDigit(l,g),c.__trim()}static __truncateAndSubFromPowerOfTwo(s,u,f){var c=Math.min;let l=0|(s+29)/30,g=new a(l,f),y=0,_=l-1,w=0;for(let B=c(_,u.length);y<B;y++){let q=0-u.__digit(y)-w;w=1&q>>>30,g.__setDigit(y,1073741823&q)}for(;y<_;y++)g.__setDigit(y,0|1073741823&-w);let I=_<u.length?u.__digit(_):0,T=s%30,O;if(T==0)O=0-I-w,O&=1073741823;else{let B=32-T;I=I<<B>>>B;let q=1<<32-B;O=q-I-w,O&=q-1}return g.__setDigit(_,O),g.__trim()}__digit(s){return this[s]}__unsignedDigit(s){return this[s]>>>0}__setDigit(s,u){this[s]=0|u}__setDigitGrow(s,u){this[s]=0|u}__halfDigitLength(){let s=this.length;return 32767>=this.__unsignedDigit(s-1)?2*s-1:2*s}__halfDigit(s){return 32767&this[s>>>1]>>>15*(1&s)}__setHalfDigit(s,u){let f=s>>>1,c=this.__digit(f),l=1&s?32767&c|u<<15:1073709056&c|32767&u;this.__setDigit(f,l)}static __digitPow(s,u){let f=1;for(;0<u;)1&u&&(f*=s),u>>>=1,s*=s;return f}static __isOneDigitInt(s){return(1073741823&s)===s}}return a.__kMaxLength=33554432,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=e?function(o){return e(o)-2}:function(o){var s=Math.LN2,u=Math.log;return o===0?30:0|29-(0|u(o>>>0)/s)},a.__imul=r||function(o,s){return 0|o*s},a})});var KB=E(ry=>{"use strict";h();p();var HB=ry&&ry.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ry,"__esModule",{value:!0});var Yre=oc(),kB=HB(nQ()),be=HB(UB()),zre=18446744073709552e3,jB=(r,e)=>be.default.bitwiseXor(be.default.asUintN(64,be.default.leftShift(r,be.default.BigInt(e))),be.default.BigInt(be.default.asUintN(64,be.default.signedRightShift(r,be.default.subtract(be.default.BigInt(64),be.default.BigInt(e)))))),r5=class{constructor(e){this.next=()=>new kB.default(this.roll().toString()),this.nextDouble=()=>new kB.default(this.roll().toString()).div(zre+1),this.nextInt=(n,i)=>Math.floor(this.nextDouble().toNumber()*(i-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let t=Yre.sha256Hash(e);this.s=[be.default.BigInt(0),be.default.BigInt(0),be.default.BigInt(0),be.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=t*8,i=be.default.BigInt(0);for(let a=0;a<8;a++)i=be.default.asUintN(64,be.default.leftShift(i,be.default.BigInt(8))),i=be.default.asUintN(64,be.default.bitwiseOr(i,be.default.BigInt(e[n+a])));this.s[t]=be.default.asUintN(64,i)}}roll(){let e=be.default.asUintN(64,be.default.multiply(jB(be.default.asUintN(64,be.default.multiply(this.s[1],be.default.BigInt(5))),7),be.default.BigInt(9))),t=be.default.asUintN(64,be.default.leftShift(this.s[1],be.default.BigInt(17)));return this.s[2]=be.default.asUintN(64,be.default.bitwiseXor(this.s[2],be.default.BigInt(this.s[0]))),this.s[3]=be.default.asUintN(64,be.default.bitwiseXor(this.s[3],be.default.BigInt(this.s[1]))),this.s[1]=be.default.asUintN(64,be.default.bitwiseXor(this.s[1],be.default.BigInt(this.s[2]))),this.s[0]=be.default.asUintN(64,be.default.bitwiseXor(this.s[0],be.default.BigInt(this.s[3]))),this.s[2]=be.default.asUintN(64,be.default.bitwiseXor(this.s[2],be.default.BigInt(t))),this.s[3]=be.default.asUintN(64,jB(this.s[3],45)),e}};ry.default=r5});var GB=E((jOe,VB)=>{h();p();function ny(r,e,t){"use strict";this.alias=[],this.prob=[],this.outcomes=e||this.indexedOutcomes(r.length),this.rng=t||Math.random,this.precomputeAlias(r)}ny.prototype.next=function(r){"use strict";var e=r||1,t=[],n=0;do{var i=Math.floor(this.rng()*this.prob.length);t[n]=this.outcomes[this.rng()<this.prob[i]?i:this.alias[i]]}while(++n<e);return e>1?t:t[0]};ny.prototype.precomputeAlias=function(r){"use strict";var e=r.length,t=0,n=0,i=0,a=[],o=[],s=[],u,f,c;for(f=0;f<e;++f){if(r[f]<0)throw"Probability must be a positive: p["+f+"]="+r[f];t+=r[f]}if(t===0)throw"Probability cannot be zero.";for(f=0;f<e;++f)a[f]=r[f]*e/t;for(f=e-1;f>=0;--f)a[f]<1?o[n++]=f:s[i++]=f;for(;n&&i;)c=o[--n],u=s[--i],this.prob[c]=a[c],this.alias[c]=u,a[u]=a[u]+a[c]-1,a[u]<1?o[n++]=u:s[i++]=u;for(;i;)this.prob[s[--i]]=1;for(;n;)this.prob[o[--n]]=1};ny.prototype.indexedOutcomes=function(r){"use strict";for(var e=[],t=0;t<r;t++)e[t]=t;return e};ny.prototype.randomInt=function(r,e){"use strict";return Math.floor(this.rng()*(e-r))+r};VB.exports=function(r,e,t){"use strict";return new ny(r,e,t)}});var n5=E(Va=>{"use strict";h();p();var Wre=Va&&Va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Va,"__esModule",{value:!0});Va.chooseFragments=Va.shuffle=Va.chooseDegree=void 0;var YB=oc(),Xre=Wre(KB()),Jre=GB(),$re=(r,e)=>{let t=[...new Array(r)].map((i,a)=>1/(a+1));return Jre(t,null,e.nextDouble).next()+1};Va.chooseDegree=$re;var Zre=(r,e)=>{let t=[...r],n=[];for(;t.length>0;){let i=e.nextInt(0,t.length-1),a=t[i];t.splice(i,1),n.push(a)}return n};Va.shuffle=Zre;var Qre=(r,e,t)=>{if(r<=e)return[r-1];{let n=v.Buffer.concat([YB.intToBytes(r),YB.intToBytes(t)]),i=new Xre.default(n),a=Va.chooseDegree(e,i),o=[...new Array(e)].map((u,f)=>f);return Va.shuffle(o,i).slice(0,a)}};Va.chooseFragments=Qre});var i5=E(fd=>{"use strict";h();p();var ene=fd&&fd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fd,"__esModule",{value:!0});fd.FountainEncoderPart=void 0;var sc=ene(ka()),iy=oc(),tne=n5(),zB=$I(),r1=class{constructor(e,t,n,i,a){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=i,this._fragment=a}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let e=zB.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return v.Buffer.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){let[t,n,i,a,o]=zB.cborDecode(e);return sc.default(typeof t=="number"),sc.default(typeof n=="number"),sc.default(typeof i=="number"),sc.default(typeof a=="number"),sc.default(v.Buffer.isBuffer(o)&&o.length>0),new r1(t,n,i,a,v.Buffer.from(o))}};fd.FountainEncoderPart=r1;var n1=class{constructor(e,t=100,n=0,i=10){let a=n1.findNominalFragmentLength(e.length,i,t);this._messageLength=e.length,this._fragments=n1.partitionMessage(e,a),this.fragmentLength=a,this.seqNum=iy.toUint32(n),this.checksum=iy.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(e){return e.reduce((t,n)=>iy.bufferXOR(this._fragments[n],t),v.Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=iy.toUint32(this.seqNum+1);let e=tne.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new r1(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){sc.default(e>0),sc.default(t>0),sc.default(n>=t);let i=Math.ceil(e/t),a=0;for(let o=1;o<=i&&(a=Math.ceil(e/o),!(a<=n));o++);return a}static partitionMessage(e,t){let n=v.Buffer.from(e),i,a=[];for(;n.length>0;)[i,n]=iy.split(n,-t),i=v.Buffer.alloc(t,0).fill(i,0,i.length),a.push(i);return a}};fd.default=n1});var o5=E(ay=>{"use strict";h();p();var rne=ay&&ay.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ay,"__esModule",{value:!0});var i1=rne(ka()),E_=oc(),nne="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",w_=[],ine=256,uc=4,ane=2,fs;(function(r){r.STANDARD="standard",r.URI="uri",r.MINIMAL="minimal"})(fs||(fs={}));var I_=r=>nne.slice(r*uc,r*uc+uc),one=r=>{let e=I_(r);return`${e[0]}${e[uc-1]}`},XB=r=>{let e=E_.getCRCHex(v.Buffer.from(r,"hex"));return`${r}${e}`},WB=(r,e)=>{let t=XB(r);return v.Buffer.from(t,"hex").reduce((a,o)=>[...a,I_(o)],[]).join(e)},sne=r=>{let e=XB(r);return v.Buffer.from(e,"hex").reduce((i,a)=>i+one(a),"")},une=(r,e)=>{i1.default(r.length===e,"Invalid Bytewords: word.length does not match wordLength provided");let t=26;if(w_.length===0){let s=t*t;w_=[...new Array(s)].map(()=>-1);for(let u=0;u<ine;u++){let f=I_(u),c=f[0].charCodeAt(0)-"a".charCodeAt(0),g=(f[3].charCodeAt(0)-"a".charCodeAt(0))*t+c;w_[g]=u}}let n=r[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),i=r[e==4?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);i1.default(0<=n&&n<t&&0<=i&&i<t,"Invalid Bytewords: invalid word");let a=i*t+n,o=w_[a];if(i1.default(o!==-1,"Invalid Bytewords: value not in lookup table"),e==uc){let s=I_(o),u=r[1].toLowerCase(),f=r[2].toLowerCase();i1.default(u===s[1]&&f===s[2],"Invalid Bytewords: invalid middle letters of word")}return v.Buffer.from([o]).toString("hex")},a5=(r,e,t)=>{let i=(t==uc?r.split(e):E_.partition(r,2)).map(u=>une(u,t)).join("");i1.default(i.length>=5,"Invalid Bytewords: invalid decoded string length");let[a,o]=E_.split(v.Buffer.from(i,"hex"),4),s=E_.getCRCHex(a);return i1.default(s===o.toString("hex"),"Invalid Checksum"),a.toString("hex")},fne=(r,e=fs.MINIMAL)=>{switch(e){case fs.STANDARD:return a5(r," ",uc);case fs.URI:return a5(r,"-",uc);case fs.MINIMAL:return a5(r,"",ane);default:throw new Error(`Invalid style ${e}`)}},cne=(r,e=fs.MINIMAL)=>{switch(e){case fs.STANDARD:return WB(r," ");case fs.URI:return WB(r,"-");case fs.MINIMAL:return sne(r);default:throw new Error(`Invalid style ${e}`)}};ay.default={decode:fne,encode:cne,STYLES:fs}});var $B=E(oy=>{"use strict";h();p();var JB=oy&&oy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oy,"__esModule",{value:!0});var dne=JB(i5()),S_=JB(o5()),Qu=class{constructor(e,t,n,i){this.ur=e,this.fountainEncoder=new dne.default(e.cbor,t,n,i)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?Qu.encodeSinglePart(this.ur):Qu.encodePart(this.ur.type,e)}static encodeUri(e,t){let n=t.join("/");return[e,n].join(":")}static encodeUR(e){return Qu.encodeUri("ur",e)}static encodePart(e,t){let n=`${t.seqNum}-${t.seqLength}`,i=S_.default.encode(t.cbor().toString("hex"),S_.default.STYLES.MINIMAL);return Qu.encodeUR([e,n,i])}static encodeSinglePart(e){let t=S_.default.encode(e.cbor.toString("hex"),S_.default.STYLES.MINIMAL);return Qu.encodeUR([e.type,t])}};oy.default=Qu});var ZB=E(sy=>{"use strict";h();p();Object.defineProperty(sy,"__esModule",{value:!0});sy.FountainDecoderPart=void 0;var a1=oc(),lne=n5(),hne=x_(),cd=class{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){let t=lne.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new cd(t,n)}isSimple(){return this.indexes.length===1}};sy.FountainDecoderPart=cd;var o1=class{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(this.expectedPartIndexes.length===0)[...new Array(e.seqLength)].forEach((t,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else if(this.expectedPartIndexes.length!==e.seqLength||this.expectedMessageLength!==e.messageLength||this.expectedChecksum!==e.checksum||this.expectedFragmentLength!==e.fragment.length)return!1;return!0}reducePartByPart(e,t){if(a1.arrayContains(e.indexes,t.indexes)){let n=a1.setDifference(e.indexes,t.indexes),i=a1.bufferXOR(e.fragment,t.fragment);return new cd(n,i)}else return e}reduceMixedBy(e){let t=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,e)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):t.push({key:n.indexes,value:n})}),this.mixedParts=t}processSimplePart(e){let t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),a1.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:o})=>o).sort((o,s)=>o.indexes[0]-s.indexes[0]),i=o1.joinFragments(n.map(o=>o.fragment),this.expectedMessageLength);a1.getCRC(i)===this.expectedChecksum?this.result=i:this.error=new hne.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:n})=>a1.arraysEqual(n,e.indexes)))return;let t=this.simpleParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),e);t=this.mixedParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(this.queuedParts.length===0)return;let e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete()||!this.validatePart(e))return!1;let t=cd.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==void 0&&this.result.length>0)}isSuccess(){return Boolean(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:v.Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:Math.min(.99,this.processedPartsCount/(e*1.75))}getProgress(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:this.receivedPartIndexes.length/e}};sy.default=o1;o1.joinFragments=(r,e)=>v.Buffer.concat(r).slice(0,e)});var QB=E(uy=>{"use strict";h();p();var A_=uy&&uy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uy,"__esModule",{value:!0});var pne=A_(ZB()),T_=A_(o5()),gne=A_(ka()),C_=oc(),fc=x_(),s5=A_(QI()),yne=i5(),cc=class{constructor(e=new pne.default,t="bytes"){this.fountainDecoder=e,this.type=t,gne.default(C_.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,t){let n=T_.default.decode(t,T_.default.STYLES.MINIMAL);return new s5.default(v.Buffer.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:C_.isURType(e)?(this.expected_type=e,!0):!1}static decode(e){let[t,n]=this.parse(e);if(n.length===0)throw new fc.InvalidPathLengthError;let i=n[0];return cc.decodeBody(t,i)}static parse(e){let t=e.toLowerCase();if(t.slice(0,3)!=="ur:")throw new fc.InvalidSchemeError;let i=t.slice(3).split("/"),a=i[0];if(i.length<2)throw new fc.InvalidPathLengthError;if(!C_.isURType(a))throw new fc.InvalidTypeError;return[a,i.slice(1)]}static parseSequenceComponent(e){let t=e.split("-");if(t.length!==2)throw new fc.InvalidSequenceComponentError;let n=C_.toUint32(Number(t[0])),i=Number(t[1]);if(n<1||i<1)throw new fc.InvalidSequenceComponentError;return[n,i]}receivePart(e){if(this.result!==void 0)return!1;let[t,n]=cc.parse(e);if(!this.validatePart(t))return!1;if(n.length===1)return this.result=cc.decodeBody(t,n[0]),!0;if(n.length!==2)throw new fc.InvalidPathLengthError;let[i,a]=n,[o,s]=cc.parseSequenceComponent(i),u=T_.default.decode(a,T_.default.STYLES.MINIMAL),f=yne.FountainEncoderPart.fromCBOR(u);return o!==f.seqNum||s!==f.seqLength||!this.fountainDecoder.receivePart(f)?!1:(this.fountainDecoder.isSuccess()?this.result=new s5.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new fc.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new s5.default(v.Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};uy.default=cc});var Cr=E($s=>{"use strict";h();p();var u5=$s&&$s.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($s,"__esModule",{value:!0});$s.URDecoder=$s.UREncoder=$s.UR=void 0;var vne=u5(QI());$s.UR=vne.default;var mne=u5($B());$s.UREncoder=mne.default;var _ne=u5(QB());$s.URDecoder=_ne.default});var mn=E(O_=>{"use strict";h();p();Object.defineProperty(O_,"__esModule",{value:!0});O_.RegistryItem=void 0;var eM=Cr(),xne=Ir(),f5=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,xne.encodeDataItem)(this.toDataItem())},this.toUR=()=>new eM.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new eM.UREncoder(i,e,t,n)}}};O_.RegistryItem=f5});var D_=E(Zs=>{"use strict";h();p();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.CryptoCoinInfo=Zs.Network=Zs.Type=void 0;var tM=Ir(),bne=mn(),wne=Sr(),s1;(function(r){r.type="1",r.network="2"})(s1||(s1={}));var rM;(function(r){r[r.bitcoin=0]="bitcoin"})(rM=Zs.Type||(Zs.Type={}));var nM;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(nM=Zs.Network||(Zs.Network={}));var dd=class extends bne.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>wne.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||rM.bitcoin,this.getNetwork=()=>this.network||nM.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[s1.type]=this.type),this.network&&(n[s1.network]=this.network),new tM.DataItem(n)}}};Zs.CryptoCoinInfo=dd;dd.fromDataItem=r=>{let e=r.getData(),t=e[s1.type],n=e[s1.network];return new dd(t,n)};dd.fromCBOR=r=>{let e=(0,tM.decodeToDataItem)(r);return dd.fromDataItem(e)}});var P_=E(R_=>{"use strict";h();p();Object.defineProperty(R_,"__esModule",{value:!0});R_.PathComponent=void 0;var u1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&u1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};R_.PathComponent=u1;u1.HARDENED_BIT=2147483648});var fy=E(B_=>{"use strict";h();p();Object.defineProperty(B_,"__esModule",{value:!0});B_.CryptoKeypath=void 0;var aM=Ir(),iM=P_(),Ene=mn(),Ine=Sr(),dc;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(dc||(dc={}));var ld=class extends Ene.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Ine.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[dc.components]=a,this.sourceFingerprint&&(i[dc.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[dc.depth]=this.depth),new aM.DataItem(i)}}};B_.CryptoKeypath=ld;ld.fromDataItem=r=>{let e=r.getData(),t=[],n=e[dc.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new iM.PathComponent({index:f,hardened:u})):t.push(new iM.PathComponent({hardened:u}))}let i=e[dc.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[dc.depth];return new ld(t,a,o)};ld.fromCBOR=r=>{let e=(0,aM.decodeToDataItem)(r);return ld.fromDataItem(e)}});var f1=E(M_=>{"use strict";h();p();Object.defineProperty(M_,"__esModule",{value:!0});M_.CryptoHDKey=void 0;var Sne=jP(),Tne=D_(),oM=fy(),sM=Ir(),Cne=mn(),Ane=Sr(),it;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(it||(it={}));var hd=class extends Cne.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,Sne.encode)(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>Ane.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,a,o,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[it.is_master]=!0,t[it.key_data]=this.key,t[it.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[it.is_private]=this.privateKey),t[it.key_data]=this.key,this.chainCode&&(t[it.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[it.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[it.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[it.children]=n}this.parentFingerprint&&(t[it.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[it.name]=this.name),this.note!==void 0&&(t[it.note]=this.note)}return new sM.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};M_.CryptoHDKey=hd;hd.fromDataItem=r=>{let e=r.getData(),t=!!e[it.is_master],n=e[it.is_private],i=e[it.key_data],a=e[it.chain_code],o=e[it.use_info]?Tne.CryptoCoinInfo.fromDataItem(e[it.use_info]):void 0,s=e[it.origin]?oM.CryptoKeypath.fromDataItem(e[it.origin]):void 0,u=e[it.children]?oM.CryptoKeypath.fromDataItem(e[it.children]):void 0,f=e[it.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[it.name],g=e[it.note];return new hd({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};hd.fromCBOR=r=>{let e=(0,sM.decodeToDataItem)(r);return hd.fromDataItem(e)}});var cy=E(N_=>{"use strict";h();p();Object.defineProperty(N_,"__esModule",{value:!0});N_.CryptoECKey=void 0;var uM=Ir(),One=mn(),Dne=Sr(),lc;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(lc||(lc={}));var pd=class extends One.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Dne.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[lc.curve]=this.curve),this.privateKey!==void 0&&(t[lc.private]=this.privateKey),t[lc.data]=this.data,new uM.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};N_.CryptoECKey=pd;pd.fromDataItem=r=>{let e=r.getData(),t=e[lc.curve],n=e[lc.private],i=e[lc.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new pd({data:i,curve:t,privateKey:n})};pd.fromCBOR=r=>{let e=(0,uM.decodeToDataItem)(r);return pd.fromDataItem(e)}});var cM=E(q_=>{"use strict";h();p();Object.defineProperty(q_,"__esModule",{value:!0});q_.Bytes=void 0;var fM=Ir(),Rne=mn(),Pne=Sr(),gd=class extends Rne.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Pne.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new fM.DataItem(this.bytes)}};q_.Bytes=gd;gd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new gd(e)};gd.fromCBOR=r=>{let e=(0,fM.decodeToDataItem)(r);return gd.fromDataItem(e)}});var L_=E(F_=>{"use strict";h();p();Object.defineProperty(F_,"__esModule",{value:!0});F_.MultiKey=void 0;var Bne=cy(),Mne=f1(),Nne=d_(),qne=mn(),dM=Sr(),c1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(c1||(c1={}));var dy=class extends qne.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[c1.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[c1.keys]=i,new Nne.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};F_.MultiKey=dy;dy.fromDataItem=r=>{let e=r.getData(),t=e[c1.threshold],n=e[c1.keys],i=[];return n.forEach(a=>{a.getTag()===dM.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Mne.CryptoHDKey.fromDataItem(a)):a.getTag()===dM.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Bne.CryptoECKey.fromDataItem(a))}),new dy(t,i)}});var p5=E(U_=>{"use strict";h();p();Object.defineProperty(U_,"__esModule",{value:!0});U_.CryptoOutput=void 0;var d5=cy(),l5=f1(),h5=Ir(),lM=L_(),Fne=mn(),hM=Sr(),c5=y_(),ef=class extends Fne.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>hM.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof l5.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof d5.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof lM.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof d5.CryptoECKey||this.cryptoKey instanceof l5.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new h5.DataItem(n,o)}),n}}};U_.CryptoOutput=ef;ef.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag(),o=c5.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof h5.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===c5.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===c5.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=lM.MultiKey.fromDataItem(t);return new ef(e,a)}if(t.getTag()===hM.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=l5.CryptoHDKey.fromDataItem(t);return new ef(e,a)}else{let a=d5.CryptoECKey.fromDataItem(t);return new ef(e,a)}};ef.fromCBOR=r=>{let e=(0,h5.decodeToDataItem)(r);return ef.fromDataItem(e)}});var g5=E(k_=>{"use strict";h();p();Object.defineProperty(k_,"__esModule",{value:!0});k_.CryptoPSBT=void 0;var pM=Ir(),Lne=mn(),Une=Sr(),yd=class extends Lne.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Une.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new pM.DataItem(this.psbt)}};k_.CryptoPSBT=yd;yd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new yd(e)};yd.fromCBOR=r=>{let e=(0,pM.decodeToDataItem)(r);return yd.fromDataItem(e)}});var y5=E(j_=>{"use strict";h();p();Object.defineProperty(j_,"__esModule",{value:!0});j_.CryptoAccount=void 0;var kne=hc(),gM=Ir(),jne=mn(),Hne=Sr(),d1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(d1||(d1={}));var vd=class extends jne.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Hne.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[d1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[d1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new gM.DataItem(n)}}};j_.CryptoAccount=vd;vd.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[d1.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[d1.outputDescriptors].map(o=>kne.CryptoOutput.fromDataItem(o));return new vd(t,a)};vd.fromCBOR=r=>{let e=(0,gM.decodeToDataItem)(r);return vd.fromDataItem(e)}});var m5=E(H_=>{"use strict";h();p();Object.defineProperty(H_,"__esModule",{value:!0});H_.UnknownURTypeError=void 0;var v5=class extends Error{constructor(e){super(e)}};H_.UnknownURTypeError=v5});var x5=E(K_=>{"use strict";h();p();Object.defineProperty(K_,"__esModule",{value:!0});K_.URRegistryDecoder=void 0;var Kne=Cr(),pc=hc(),gc=Sr(),Vne=m5(),_5=class extends Kne.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case gc.RegistryTypes.BYTES.getType():return pc.Bytes.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_HDKEY.getType():return pc.CryptoHDKey.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_KEYPATH.getType():return pc.CryptoKeypath.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_COIN_INFO.getType():return pc.CryptoCoinInfo.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_ECKEY.getType():return pc.CryptoECKey.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_OUTPUT.getType():return pc.CryptoOutput.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_PSBT.getType():return pc.CryptoPSBT.fromCBOR(e.cbor);case gc.RegistryTypes.CRYPTO_ACCOUNT.getType():return pc.CryptoAccount.fromCBOR(e.cbor);default:throw new Vne.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};K_.URRegistryDecoder=_5});var b5=E(V_=>{"use strict";h();p();Object.defineProperty(V_,"__esModule",{value:!0});V_.CryptoMultiAccounts=void 0;var Gne=Sr(),Yne=f1(),zne=mn(),yM=Ir(),Ga;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device",r[r.deviceId=4]="deviceId",r[r.version=5]="version"})(Ga||(Ga={}));var md=class extends zne.RegistryItem{constructor(e,t,n,i,a){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=i,this.version=a,this.getRegistryType=()=>Gne.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{let o={};return this.masterFingerprint&&(o[Ga.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(o[Ga.keys]=this.keys.map(s=>{let u=s.toDataItem();return u.setTag(s.getRegistryType().getTag()),u})),this.device&&(o[Ga.device]=this.device),this.deviceId&&(o[Ga.deviceId]=this.deviceId),this.version&&(o[Ga.version]=this.version),new yM.DataItem(o)}}};V_.CryptoMultiAccounts=md;md.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[Ga.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[Ga.keys].map(f=>Yne.CryptoHDKey.fromDataItem(f)),o=e[Ga.device],s=e[Ga.deviceId],u=e[Ga.version];return new md(t,a,o,s,u)};md.fromCBOR=r=>{let e=(0,yM.decodeToDataItem)(r);return md.fromDataItem(e)}});var w5=E(Qs=>{"use strict";h();p();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.KeyDerivationSchema=Qs.DerivationAlgorithm=Qs.Curve=void 0;var Wne=Sr(),Xne=mn(),vM=Ir(),Jne=fy(),yc;(function(r){r[r.keyPath=1]="keyPath",r[r.curve=2]="curve",r[r.algo=3]="algo"})(yc||(yc={}));var mM;(function(r){r[r.secp256k1=0]="secp256k1",r[r.ed25519=1]="ed25519"})(mM=Qs.Curve||(Qs.Curve={}));var _M;(function(r){r[r.slip10=0]="slip10",r[r.bip32ed25519=1]="bip32ed25519"})(_M=Qs.DerivationAlgorithm||(Qs.DerivationAlgorithm={}));var _d=class extends Xne.RegistryItem{constructor(e,t=mM.secp256k1,n=_M.slip10){super(),this.keypath=e,this.curve=t,this.algo=n,this.getRegistryType=()=>Wne.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{let i={},a=this.getKeypath().toDataItem();return a.setTag(this.getKeypath().getRegistryType().getTag()),i[yc.keyPath]=a,i[yc.curve]=this.curve,i[yc.algo]=this.algo,new vM.DataItem(i)}}};Qs.KeyDerivationSchema=_d;_d.fromDataItem=r=>{let e=r.getData(),t=Jne.CryptoKeypath.fromDataItem(e[yc.keyPath]),n=e[yc.curve],i=e[yc.algo];return new _d(t,n,i)};_d.fromCBOR=r=>{let e=(0,vM.decodeToDataItem)(r);return _d.fromDataItem(e)}});var E5=E(Y_=>{"use strict";h();p();Object.defineProperty(Y_,"__esModule",{value:!0});Y_.KeyDerivation=void 0;var $ne=Sr(),Zne=mn(),xM=Ir(),Qne=w5(),G_;(function(r){r[r.schemas=1]="schemas"})(G_||(G_={}));var xd=class extends Zne.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>$ne.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{let t={};return t[G_.schemas]=this.schemas.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new xM.DataItem(t)}}};Y_.KeyDerivation=xd;xd.fromDataItem=r=>{let t=r.getData()[G_.schemas].map(n=>Qne.KeyDerivationSchema.fromDataItem(n));return new xd(t)};xd.fromCBOR=r=>{let e=(0,xM.decodeToDataItem)(r);return xd.fromDataItem(e)}});var wM=E(wd=>{"use strict";h();p();Object.defineProperty(wd,"__esModule",{value:!0});wd.QRHardwareCall=wd.QRHardwareCallType=void 0;var eie=Sr(),tie=mn(),bM=Ir(),rie=E5(),vc;(function(r){r[r.type=1]="type",r[r.params=2]="params",r[r.origin=3]="origin"})(vc||(vc={}));var I5;(function(r){r[r.KeyDerivation=0]="KeyDerivation"})(I5=wd.QRHardwareCallType||(wd.QRHardwareCallType={}));var bd=class extends tie.RegistryItem{constructor(e,t,n){super(),this.type=e,this.params=t,this.origin=n,this.getRegistryType=()=>eie.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};i[vc.type]=this.type;let a=this.params.toDataItem();return a.setTag(this.params.getRegistryType().getTag()),i[vc.params]=a,this.origin&&(i[vc.origin]=this.origin),new bM.DataItem(i)}}};wd.QRHardwareCall=bd;bd.fromDataItem=r=>{let e=r.getData(),t=e[vc.type]||I5.KeyDerivation,n;switch(t){case I5.KeyDerivation:n=rie.KeyDerivation.fromDataItem(e[vc.params])}let i=e[vc.origin];return new bd(t,n,i)};bd.fromCBOR=r=>{let e=(0,bM.decodeToDataItem)(r);return bd.fromDataItem(e)}});var IM=E(EM=>{"use strict";h();p();Object.defineProperty(EM,"__esModule",{value:!0})});var hc=E(ce=>{"use strict";h();p();Object.defineProperty(ce,"__esModule",{value:!0});ce.Buffer=ce.extend=ce.PathComponent=ce.ScriptExpressions=ce.MultiKey=ce.CryptoPSBT=ce.CryptoOutput=ce.CryptoECKey=ce.CryptoCoinInfoNetwork=ce.CryptoCoinInfoType=ce.CryptoCoinInfo=ce.CryptoKeypath=ce.CryptoMultiAccounts=ce.CryptoHDKey=ce.CryptoAccount=ce.Bytes=ce.URRegistryDecoder=ce.DataItem=void 0;var Nt=lP();lI();var nie=Zh();Object.defineProperty(ce,"Buffer",{enumerable:!0,get:function(){return nie.Buffer}});var TM=f1();Object.defineProperty(ce,"CryptoHDKey",{enumerable:!0,get:function(){return TM.CryptoHDKey}});var CM=fy();Object.defineProperty(ce,"CryptoKeypath",{enumerable:!0,get:function(){return CM.CryptoKeypath}});var h1=D_();Object.defineProperty(ce,"CryptoCoinInfo",{enumerable:!0,get:function(){return h1.CryptoCoinInfo}});Object.defineProperty(ce,"CryptoCoinInfoType",{enumerable:!0,get:function(){return h1.Type}});Object.defineProperty(ce,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return h1.Network}});var AM=cy();Object.defineProperty(ce,"CryptoECKey",{enumerable:!0,get:function(){return AM.CryptoECKey}});var OM=cM();Object.defineProperty(ce,"Bytes",{enumerable:!0,get:function(){return OM.Bytes}});var DM=p5();Object.defineProperty(ce,"CryptoOutput",{enumerable:!0,get:function(){return DM.CryptoOutput}});var RM=g5();Object.defineProperty(ce,"CryptoPSBT",{enumerable:!0,get:function(){return RM.CryptoPSBT}});var PM=y5();Object.defineProperty(ce,"CryptoAccount",{enumerable:!0,get:function(){return PM.CryptoAccount}});var BM=x5();Object.defineProperty(ce,"URRegistryDecoder",{enumerable:!0,get:function(){return BM.URRegistryDecoder}});var MM=L_();Object.defineProperty(ce,"MultiKey",{enumerable:!0,get:function(){return MM.MultiKey}});var NM=y_();Object.defineProperty(ce,"ScriptExpressions",{enumerable:!0,get:function(){return NM.ScriptExpressions}});var qM=P_();Object.defineProperty(ce,"PathComponent",{enumerable:!0,get:function(){return qM.PathComponent}});var iie=mn(),SM=Sr(),l1=Ir(),aie=Ir();Object.defineProperty(ce,"DataItem",{enumerable:!0,get:function(){return aie.DataItem}});var oie=g_(),FM=b5();Object.defineProperty(ce,"CryptoMultiAccounts",{enumerable:!0,get:function(){return FM.CryptoMultiAccounts}});var sie={URRegistryDecoder:BM.URRegistryDecoder,Bytes:OM.Bytes,CryptoAccount:PM.CryptoAccount,CryptoHDKey:TM.CryptoHDKey,CryptoMultiAccounts:FM.CryptoMultiAccounts,CryptoKeypath:CM.CryptoKeypath,CryptoCoinInfo:h1.CryptoCoinInfo,CryptoCoinInfoType:h1.Type,CryptoCoinInfoNetwork:h1.Network,CryptoECKey:AM.CryptoECKey,CryptoOutput:DM.CryptoOutput,CryptoPSBT:RM.CryptoPSBT,MultiKey:MM.MultiKey,ScriptExpressions:NM.ScriptExpressions,PathComponent:qM.PathComponent},uie={addReader:l1.addReader,addSemanticDecode:l1.addSemanticDecode,addSemanticEncode:l1.addSemanticEncode,addWriter:l1.addWriter,patchTags:oie.patchTags},fie={RegistryTypes:SM.RegistryTypes,RegistryItem:iie.RegistryItem,RegistryType:SM.RegistryType,decodeToDataItem:l1.decodeToDataItem,encodeDataItem:l1.encodeDataItem,cbor:uie};ce.extend=fie;(0,Nt.__exportStar)(m5(),ce);(0,Nt.__exportStar)(x5(),ce);(0,Nt.__exportStar)(Ir(),ce);(0,Nt.__exportStar)(y5(),ce);(0,Nt.__exportStar)(g5(),ce);(0,Nt.__exportStar)(f1(),ce);(0,Nt.__exportStar)(b5(),ce);(0,Nt.__exportStar)(wM(),ce);(0,Nt.__exportStar)(E5(),ce);(0,Nt.__exportStar)(w5(),ce);(0,Nt.__exportStar)(p5(),ce);(0,Nt.__exportStar)(D_(),ce);(0,Nt.__exportStar)(cy(),ce);(0,Nt.__exportStar)(L_(),ce);(0,Nt.__exportStar)(fy(),ce);(0,Nt.__exportStar)(lI(),ce);(0,Nt.__exportStar)(P_(),ce);(0,Nt.__exportStar)(mn(),ce);(0,Nt.__exportStar)(Sr(),ce);(0,Nt.__exportStar)(IM(),ce);(0,Nt.__exportStar)(g_(),ce);ce.default=sie});var UM=E(z_=>{"use strict";h();p();Object.defineProperty(z_,"__esModule",{value:!0});z_.pathToKeypath=void 0;var LM=hc(),cie=r=>{let t=r.replace(/[m|M]\//,"").split("/").map(n=>{let i=parseInt(n.replace("'",""),10),a=n.endsWith("'");return new LM.PathComponent({index:i,hardened:a})});return new LM.CryptoKeypath(t)};z_.pathToKeypath=cie});var Lr=E(tf=>{"use strict";h();p();var die=tf&&tf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),S5=tf&&tf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&die(e,r,t)};Object.defineProperty(tf,"__esModule",{value:!0});S5(VR(),tf);S5(UM(),tf);S5(uI(),tf)});var Yi=E(Ed=>{"use strict";h();p();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.URType=Ed.UR=void 0;var lie=Cr();Object.defineProperty(Ed,"UR",{enumerable:!0,get:function(){return lie.UR}});var hie;(function(r){r.CryptoPSBT="crypto-psbt",r.CryptoMultiAccounts="crypto-multi-accounts",r.CryptoHDKey="crypto-hdkey",r.ArweaveCryptoAccount="arweave-crypto-account",r.EthSignature="eth-signature",r.SolSignature="sol-signature",r.CosmosSignature="cosmos-signature",r.EvmSignature="evm-signature",r.AptosSignature="aptos-signature",r.CardanoSignature="cardano-signature",r.TronSignature="keystone-sign-result",r.KeystoneSignResult="keystone-sign-result",r.NearSignature="near-signature",r.ArweaveSignature="arweave-signature",r.SuiSignature="sui-signature",r.XrpAccount="bytes",r.XrpSignRequest="bytes",r.XrpSignature="bytes"})(hie=Ed.URType||(Ed.URType={}))});var jM=E(W_=>{"use strict";h();p();Object.defineProperty(W_,"__esModule",{value:!0});W_.KeystoneBitcoinSDK=void 0;var kM=hc(),pie=Lr(),gie=Yi(),T5=class{parsePSBT(e){if(e.type!==gie.URType.CryptoPSBT)throw new Error("type not match");return(0,pie.toHex)(kM.CryptoPSBT.fromCBOR(e.cbor).getPSBT())}generatePSBT(e){return new kM.CryptoPSBT(e).toUR()}};W_.KeystoneBitcoinSDK=T5});var fN=E((TRe,$_)=>{h();p();var HM,KM,VM,GM,YM,zM,WM,XM,JM,X_,C5,$M,ZM,QM,p1,eN,tN,rN,nN,iN,aN,oN,sN,uN,J_;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof $_=="object"&&typeof $_.exports=="object"?r(t(e,t($_.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};HM=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},KM=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},VM=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},GM=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},YM=function(n,i){return function(a,o){i(a,o,n)}},zM=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},WM=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},XM=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},JM=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&J_(i,n,a)},J_=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},X_=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},C5=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},$M=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(C5(arguments[i]));return n},ZM=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},QM=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},p1=function(n){return this instanceof p1?(this.v=n,this):new p1(n)},eN=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(I){return new Promise(function(T,O){u.push([w,I,T,O])>1||c(w,I)})})}function c(w,I){try{l(o[w](I))}catch(T){_(u[0][3],T)}}function l(w){w.value instanceof p1?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,I){w(I),u.shift(),u.length&&c(u[0][0],u[0][1])}},tN=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:p1(n[s](f)),done:s==="return"}:u?u(f):f}:u}},rN=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof X_=="function"?X_(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},nN=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};iN=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&J_(i,n,a);return t(i,n),i},aN=function(n){return n&&n.__esModule?n:{default:n}},oN=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},sN=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},uN=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",HM),r("__assign",KM),r("__rest",VM),r("__decorate",GM),r("__param",YM),r("__metadata",zM),r("__awaiter",WM),r("__generator",XM),r("__exportStar",JM),r("__createBinding",J_),r("__values",X_),r("__read",C5),r("__spread",$M),r("__spreadArrays",ZM),r("__spreadArray",QM),r("__await",p1),r("__asyncGenerator",eN),r("__asyncDelegator",tN),r("__asyncValues",rN),r("__makeTemplateObject",nN),r("__importStar",iN),r("__importDefault",aN),r("__classPrivateFieldGet",oN),r("__classPrivateFieldSet",sN),r("__classPrivateFieldIn",uN)})});var Q_=E(Z_=>{"use strict";h();p();Object.defineProperty(Z_,"__esModule",{value:!0});Z_.DataItem=void 0;var A5=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};Z_.DataItem=A5});var dN=E((cN,e3)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof e3<"u"&&e3.exports?e3.exports=e():r.CBOR=e()})(cN,function(){let{DataItem:r}=Q_();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var xi=E(_n=>{"use strict";h();p();Object.defineProperty(_n,"__esModule",{value:!0});_n.DataItem=_n.addWriter=_n.addReader=_n.addSemanticEncode=_n.addSemanticDecode=_n.decodeToDataItem=_n.encodeDataItem=void 0;var g1=dN();Object.defineProperty(_n,"encodeDataItem",{enumerable:!0,get:function(){return g1.encodeDataItem}});Object.defineProperty(_n,"decodeToDataItem",{enumerable:!0,get:function(){return g1.decodeToDataItem}});Object.defineProperty(_n,"addSemanticDecode",{enumerable:!0,get:function(){return g1.addSemanticDecode}});Object.defineProperty(_n,"addSemanticEncode",{enumerable:!0,get:function(){return g1.addSemanticEncode}});Object.defineProperty(_n,"addReader",{enumerable:!0,get:function(){return g1.addReader}});Object.defineProperty(_n,"addWriter",{enumerable:!0,get:function(){return g1.addWriter}});var yie=Q_();Object.defineProperty(_n,"DataItem",{enumerable:!0,get:function(){return yie.DataItem}})});var n3=E(r3=>{"use strict";h();p();Object.defineProperty(r3,"__esModule",{value:!0});r3.patchTags=void 0;var t3=xi(),lN=[],vie=r=>{r.forEach(e=>{lN.find(t=>t===e)||((0,t3.addSemanticEncode)(e,t=>{if(t instanceof t3.DataItem&&t.getTag()===e)return t.getData()}),(0,t3.addSemanticDecode)(e,t=>new t3.DataItem(t,e)),lN.push(e))})};r3.patchTags=vie});var bi=E(y1=>{"use strict";h();p();Object.defineProperty(y1,"__esModule",{value:!0});y1.RegistryTypes=y1.RegistryType=void 0;var da=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};y1.RegistryType=da;y1.RegistryTypes={UUID:new da("uuid",37),BYTES:new da("bytes",void 0),CRYPTO_HDKEY:new da("crypto-hdkey",303),CRYPTO_KEYPATH:new da("crypto-keypath",304),CRYPTO_COIN_INFO:new da("crypto-coin-info",305),CRYPTO_ECKEY:new da("crypto-eckey",306),CRYPTO_OUTPUT:new da("crypto-output",308),CRYPTO_PSBT:new da("crypto-psbt",310),CRYPTO_ACCOUNT:new da("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new da("crypto-multi-accounts",1103)}});var i3=E(Id=>{"use strict";h();p();Object.defineProperty(Id,"__esModule",{value:!0});Id.ScriptExpressions=Id.ScriptExpression=void 0;var zi=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Id.ScriptExpression=zi;zi.fromTag=r=>Object.values(Id.ScriptExpressions).find(t=>t.getTag()===r);Id.ScriptExpressions={SCRIPT_HASH:new zi(400,"sh"),WITNESS_SCRIPT_HASH:new zi(401,"wsh"),PUBLIC_KEY:new zi(402,"pk"),PUBLIC_KEY_HASH:new zi(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new zi(404,"wpkh"),COMBO:new zi(405,"combo"),MULTISIG:new zi(406,"multi"),SORTED_MULTISIG:new zi(407,"sortedmulti"),ADDRESS:new zi(307,"addr"),RAW_SCRIPT:new zi(408,"raw")}});var O5=E(hN=>{"use strict";h();p();Object.defineProperty(hN,"__esModule",{value:!0});var mie=n3(),_ie=bi(),xie=i3(),bie=Object.values(_ie.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),wie=Object.values(xie.ScriptExpressions).map(r=>r.getTag());(0,mie.patchTags)(bie.concat(wie))});var la=E(a3=>{"use strict";h();p();Object.defineProperty(a3,"__esModule",{value:!0});a3.RegistryItem=void 0;var pN=Cr(),Eie=xi(),D5=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,Eie.encodeDataItem)(this.toDataItem())},this.toUR=()=>new pN.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new pN.UREncoder(i,e,t,n)}}};a3.RegistryItem=D5});var o3=E(eu=>{"use strict";h();p();Object.defineProperty(eu,"__esModule",{value:!0});eu.CryptoCoinInfo=eu.Network=eu.Type=void 0;var gN=xi(),Iie=la(),Sie=bi(),v1;(function(r){r.type="1",r.network="2"})(v1||(v1={}));var yN;(function(r){r[r.bitcoin=0]="bitcoin"})(yN=eu.Type||(eu.Type={}));var vN;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(vN=eu.Network||(eu.Network={}));var Sd=class extends Iie.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Sie.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||yN.bitcoin,this.getNetwork=()=>this.network||vN.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[v1.type]=this.type),this.network&&(n[v1.network]=this.network),new gN.DataItem(n)}}};eu.CryptoCoinInfo=Sd;Sd.fromDataItem=r=>{let e=r.getData(),t=e[v1.type],n=e[v1.network];return new Sd(t,n)};Sd.fromCBOR=r=>{let e=(0,gN.decodeToDataItem)(r);return Sd.fromDataItem(e)}});var u3=E(s3=>{"use strict";h();p();Object.defineProperty(s3,"__esModule",{value:!0});s3.PathComponent=void 0;var m1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&m1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};s3.PathComponent=m1;m1.HARDENED_BIT=2147483648});var c3=E(f3=>{"use strict";h();p();Object.defineProperty(f3,"__esModule",{value:!0});f3.CryptoKeypath=void 0;var _N=xi(),mN=u3(),Tie=la(),Cie=bi(),mc;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(mc||(mc={}));var Td=class extends Tie.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Cie.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[mc.components]=a,this.sourceFingerprint&&(i[mc.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[mc.depth]=this.depth),new _N.DataItem(i)}}};f3.CryptoKeypath=Td;Td.fromDataItem=r=>{let e=r.getData(),t=[],n=e[mc.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new mN.PathComponent({index:f,hardened:u})):t.push(new mN.PathComponent({hardened:u}))}let i=e[mc.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[mc.depth];return new Td(t,a,o)};Td.fromCBOR=r=>{let e=(0,_N.decodeToDataItem)(r);return Td.fromDataItem(e)}});var _1=E(d3=>{"use strict";h();p();Object.defineProperty(d3,"__esModule",{value:!0});d3.CryptoHDKey=void 0;var Aie=Vh(),Oie=o3(),xN=c3(),bN=xi(),Die=la(),Rie=bi(),at;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(at||(at={}));var Cd=class extends Die.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,Aie.encode)(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>Rie.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,a,o,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[at.is_master]=!0,t[at.key_data]=this.key,t[at.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[at.is_private]=this.privateKey),t[at.key_data]=this.key,this.chainCode&&(t[at.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[at.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[at.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[at.children]=n}this.parentFingerprint&&(t[at.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[at.name]=this.name),this.note!==void 0&&(t[at.note]=this.note)}return new bN.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};d3.CryptoHDKey=Cd;Cd.fromDataItem=r=>{let e=r.getData(),t=!!e[at.is_master],n=e[at.is_private],i=e[at.key_data],a=e[at.chain_code],o=e[at.use_info]?Oie.CryptoCoinInfo.fromDataItem(e[at.use_info]):void 0,s=e[at.origin]?xN.CryptoKeypath.fromDataItem(e[at.origin]):void 0,u=e[at.children]?xN.CryptoKeypath.fromDataItem(e[at.children]):void 0,f=e[at.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[at.name],g=e[at.note];return new Cd({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};Cd.fromCBOR=r=>{let e=(0,bN.decodeToDataItem)(r);return Cd.fromDataItem(e)}});var ly=E(l3=>{"use strict";h();p();Object.defineProperty(l3,"__esModule",{value:!0});l3.CryptoECKey=void 0;var wN=xi(),Pie=la(),Bie=bi(),_c;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(_c||(_c={}));var Ad=class extends Pie.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Bie.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[_c.curve]=this.curve),this.privateKey!==void 0&&(t[_c.private]=this.privateKey),t[_c.data]=this.data,new wN.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};l3.CryptoECKey=Ad;Ad.fromDataItem=r=>{let e=r.getData(),t=e[_c.curve],n=e[_c.private],i=e[_c.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Ad({data:i,curve:t,privateKey:n})};Ad.fromCBOR=r=>{let e=(0,wN.decodeToDataItem)(r);return Ad.fromDataItem(e)}});var IN=E(h3=>{"use strict";h();p();Object.defineProperty(h3,"__esModule",{value:!0});h3.Bytes=void 0;var EN=xi(),Mie=la(),Nie=bi(),Od=class extends Mie.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Nie.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new EN.DataItem(this.bytes)}};h3.Bytes=Od;Od.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Od(e)};Od.fromCBOR=r=>{let e=(0,EN.decodeToDataItem)(r);return Od.fromDataItem(e)}});var g3=E(p3=>{"use strict";h();p();Object.defineProperty(p3,"__esModule",{value:!0});p3.MultiKey=void 0;var qie=ly(),Fie=_1(),Lie=Q_(),Uie=la(),SN=bi(),x1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(x1||(x1={}));var hy=class extends Uie.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[x1.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[x1.keys]=i,new Lie.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};p3.MultiKey=hy;hy.fromDataItem=r=>{let e=r.getData(),t=e[x1.threshold],n=e[x1.keys],i=[];return n.forEach(a=>{a.getTag()===SN.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Fie.CryptoHDKey.fromDataItem(a)):a.getTag()===SN.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(qie.CryptoECKey.fromDataItem(a))}),new hy(t,i)}});var N5=E(y3=>{"use strict";h();p();Object.defineProperty(y3,"__esModule",{value:!0});y3.CryptoOutput=void 0;var P5=ly(),B5=_1(),M5=xi(),TN=g3(),kie=la(),CN=bi(),R5=i3(),rf=class extends kie.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>CN.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof B5.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof P5.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof TN.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof P5.CryptoECKey||this.cryptoKey instanceof B5.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new M5.DataItem(n,o)}),n}}};y3.CryptoOutput=rf;rf.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag(),o=R5.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof M5.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===R5.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===R5.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=TN.MultiKey.fromDataItem(t);return new rf(e,a)}if(t.getTag()===CN.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=B5.CryptoHDKey.fromDataItem(t);return new rf(e,a)}else{let a=P5.CryptoECKey.fromDataItem(t);return new rf(e,a)}};rf.fromCBOR=r=>{let e=(0,M5.decodeToDataItem)(r);return rf.fromDataItem(e)}});var q5=E(v3=>{"use strict";h();p();Object.defineProperty(v3,"__esModule",{value:!0});v3.CryptoPSBT=void 0;var AN=xi(),jie=la(),Hie=bi(),Dd=class extends jie.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Hie.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new AN.DataItem(this.psbt)}};v3.CryptoPSBT=Dd;Dd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Dd(e)};Dd.fromCBOR=r=>{let e=(0,AN.decodeToDataItem)(r);return Dd.fromDataItem(e)}});var F5=E(m3=>{"use strict";h();p();Object.defineProperty(m3,"__esModule",{value:!0});m3.CryptoAccount=void 0;var Kie=tu(),ON=xi(),Vie=la(),Gie=bi(),b1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(b1||(b1={}));var Rd=class extends Vie.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Gie.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[b1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[b1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new ON.DataItem(n)}}};m3.CryptoAccount=Rd;Rd.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[b1.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[b1.outputDescriptors].map(o=>Kie.CryptoOutput.fromDataItem(o));return new Rd(t,a)};Rd.fromCBOR=r=>{let e=(0,ON.decodeToDataItem)(r);return Rd.fromDataItem(e)}});var U5=E(_3=>{"use strict";h();p();Object.defineProperty(_3,"__esModule",{value:!0});_3.UnknownURTypeError=void 0;var L5=class extends Error{constructor(e){super(e)}};_3.UnknownURTypeError=L5});var j5=E(x3=>{"use strict";h();p();Object.defineProperty(x3,"__esModule",{value:!0});x3.URRegistryDecoder=void 0;var Yie=Cr(),xc=tu(),bc=bi(),zie=U5(),k5=class extends Yie.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case bc.RegistryTypes.BYTES.getType():return xc.Bytes.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_HDKEY.getType():return xc.CryptoHDKey.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_KEYPATH.getType():return xc.CryptoKeypath.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_COIN_INFO.getType():return xc.CryptoCoinInfo.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_ECKEY.getType():return xc.CryptoECKey.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_OUTPUT.getType():return xc.CryptoOutput.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_PSBT.getType():return xc.CryptoPSBT.fromCBOR(e.cbor);case bc.RegistryTypes.CRYPTO_ACCOUNT.getType():return xc.CryptoAccount.fromCBOR(e.cbor);default:throw new zie.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};x3.URRegistryDecoder=k5});var H5=E(b3=>{"use strict";h();p();Object.defineProperty(b3,"__esModule",{value:!0});b3.CryptoMultiAccounts=void 0;var Wie=bi(),Xie=_1(),Jie=la(),DN=xi(),wc;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(wc||(wc={}));var Pd=class extends Jie.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Wie.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[wc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[wc.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[wc.device]=this.device),new DN.DataItem(i)}}};b3.CryptoMultiAccounts=Pd;Pd.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[wc.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[wc.keys].map(s=>Xie.CryptoHDKey.fromDataItem(s)),o=e[wc.device];return new Pd(t,a,o)};Pd.fromCBOR=r=>{let e=(0,DN.decodeToDataItem)(r);return Pd.fromDataItem(e)}});var PN=E(RN=>{"use strict";h();p();Object.defineProperty(RN,"__esModule",{value:!0})});var tu=E(ge=>{"use strict";h();p();Object.defineProperty(ge,"__esModule",{value:!0});ge.Buffer=ge.extend=ge.PathComponent=ge.ScriptExpressions=ge.MultiKey=ge.CryptoPSBT=ge.CryptoOutput=ge.CryptoECKey=ge.CryptoCoinInfoNetwork=ge.CryptoCoinInfoType=ge.CryptoCoinInfo=ge.CryptoKeypath=ge.CryptoMultiAccounts=ge.CryptoHDKey=ge.CryptoAccount=ge.Bytes=ge.URRegistryDecoder=ge.DataItem=void 0;var Ar=fN();O5();var $ie=Zh();Object.defineProperty(ge,"Buffer",{enumerable:!0,get:function(){return $ie.Buffer}});var MN=_1();Object.defineProperty(ge,"CryptoHDKey",{enumerable:!0,get:function(){return MN.CryptoHDKey}});var NN=c3();Object.defineProperty(ge,"CryptoKeypath",{enumerable:!0,get:function(){return NN.CryptoKeypath}});var E1=o3();Object.defineProperty(ge,"CryptoCoinInfo",{enumerable:!0,get:function(){return E1.CryptoCoinInfo}});Object.defineProperty(ge,"CryptoCoinInfoType",{enumerable:!0,get:function(){return E1.Type}});Object.defineProperty(ge,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return E1.Network}});var qN=ly();Object.defineProperty(ge,"CryptoECKey",{enumerable:!0,get:function(){return qN.CryptoECKey}});var FN=IN();Object.defineProperty(ge,"Bytes",{enumerable:!0,get:function(){return FN.Bytes}});var LN=N5();Object.defineProperty(ge,"CryptoOutput",{enumerable:!0,get:function(){return LN.CryptoOutput}});var UN=q5();Object.defineProperty(ge,"CryptoPSBT",{enumerable:!0,get:function(){return UN.CryptoPSBT}});var kN=F5();Object.defineProperty(ge,"CryptoAccount",{enumerable:!0,get:function(){return kN.CryptoAccount}});var jN=j5();Object.defineProperty(ge,"URRegistryDecoder",{enumerable:!0,get:function(){return jN.URRegistryDecoder}});var HN=g3();Object.defineProperty(ge,"MultiKey",{enumerable:!0,get:function(){return HN.MultiKey}});var KN=i3();Object.defineProperty(ge,"ScriptExpressions",{enumerable:!0,get:function(){return KN.ScriptExpressions}});var VN=u3();Object.defineProperty(ge,"PathComponent",{enumerable:!0,get:function(){return VN.PathComponent}});var Zie=la(),BN=bi(),w1=xi(),Qie=xi();Object.defineProperty(ge,"DataItem",{enumerable:!0,get:function(){return Qie.DataItem}});var eae=n3(),GN=H5();Object.defineProperty(ge,"CryptoMultiAccounts",{enumerable:!0,get:function(){return GN.CryptoMultiAccounts}});var tae={URRegistryDecoder:jN.URRegistryDecoder,Bytes:FN.Bytes,CryptoAccount:kN.CryptoAccount,CryptoHDKey:MN.CryptoHDKey,CryptoMultiAccounts:GN.CryptoMultiAccounts,CryptoKeypath:NN.CryptoKeypath,CryptoCoinInfo:E1.CryptoCoinInfo,CryptoCoinInfoType:E1.Type,CryptoCoinInfoNetwork:E1.Network,CryptoECKey:qN.CryptoECKey,CryptoOutput:LN.CryptoOutput,CryptoPSBT:UN.CryptoPSBT,MultiKey:HN.MultiKey,ScriptExpressions:KN.ScriptExpressions,PathComponent:VN.PathComponent},rae={addReader:w1.addReader,addSemanticDecode:w1.addSemanticDecode,addSemanticEncode:w1.addSemanticEncode,addWriter:w1.addWriter,patchTags:eae.patchTags},nae={RegistryTypes:BN.RegistryTypes,RegistryItem:Zie.RegistryItem,RegistryType:BN.RegistryType,decodeToDataItem:w1.decodeToDataItem,encodeDataItem:w1.encodeDataItem,cbor:rae};ge.extend=nae;(0,Ar.__exportStar)(U5(),ge);(0,Ar.__exportStar)(j5(),ge);(0,Ar.__exportStar)(xi(),ge);(0,Ar.__exportStar)(F5(),ge);(0,Ar.__exportStar)(q5(),ge);(0,Ar.__exportStar)(_1(),ge);(0,Ar.__exportStar)(H5(),ge);(0,Ar.__exportStar)(N5(),ge);(0,Ar.__exportStar)(o3(),ge);(0,Ar.__exportStar)(ly(),ge);(0,Ar.__exportStar)(g3(),ge);(0,Ar.__exportStar)(c3(),ge);(0,Ar.__exportStar)(O5(),ge);(0,Ar.__exportStar)(u3(),ge);(0,Ar.__exportStar)(la(),ge);(0,Ar.__exportStar)(bi(),ge);(0,Ar.__exportStar)(PN(),ge);(0,Ar.__exportStar)(n3(),ge);ge.default=tae});function py(){if(!w3&&(w3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!w3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w3(iae)}var w3,iae,K5=te(()=>{h();p();iae=new Uint8Array(16)});var YN,zN=te(()=>{h();p();YN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function aae(r){return typeof r=="string"&&YN.test(r)}var Ec,gy=te(()=>{h();p();zN();Ec=aae});function oae(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Ur[r[e+0]]+Ur[r[e+1]]+Ur[r[e+2]]+Ur[r[e+3]]+"-"+Ur[r[e+4]]+Ur[r[e+5]]+"-"+Ur[r[e+6]]+Ur[r[e+7]]+"-"+Ur[r[e+8]]+Ur[r[e+9]]+"-"+Ur[r[e+10]]+Ur[r[e+11]]+Ur[r[e+12]]+Ur[r[e+13]]+Ur[r[e+14]]+Ur[r[e+15]]).toLowerCase();if(!Ec(t))throw TypeError("Stringified UUID is invalid");return t}var Ur,E3,Ic,yy=te(()=>{h();p();gy();Ur=[];for(E3=0;E3<256;++E3)Ur.push((E3+256).toString(16).substr(1));Ic=oae});function sae(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||WN,o=r.clockseq!==void 0?r.clockseq:V5;if(a==null||o==null){var s=r.random||(r.rng||py)();a==null&&(a=WN=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=V5=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Y5+1,c=u-G5+(f-Y5)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>G5)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");G5=u,Y5=f,V5=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Ic(i)}var WN,V5,G5,Y5,XN,JN=te(()=>{h();p();K5();yy();G5=0,Y5=0;XN=sae});function uae(r){if(!Ec(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var I3,z5=te(()=>{h();p();gy();I3=uae});function fae(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function S3(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=fae(i)),typeof a=="string"&&(a=I3(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Ic(u)}try{n.name=r}catch{}return n.DNS=cae,n.URL=dae,n}var cae,dae,W5=te(()=>{h();p();yy();z5();cae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",dae="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function lae(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return hae(pae(gae(r),r.length*8))}function hae(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function $N(r){return(r+64>>>9<<4)+14+1}function pae(r,e){r[e>>5]|=128<<e%32,r[$N(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=xn(t,n,i,a,r[o],7,-680876936),a=xn(a,t,n,i,r[o+1],12,-389564586),i=xn(i,a,t,n,r[o+2],17,606105819),n=xn(n,i,a,t,r[o+3],22,-1044525330),t=xn(t,n,i,a,r[o+4],7,-176418897),a=xn(a,t,n,i,r[o+5],12,1200080426),i=xn(i,a,t,n,r[o+6],17,-1473231341),n=xn(n,i,a,t,r[o+7],22,-45705983),t=xn(t,n,i,a,r[o+8],7,1770035416),a=xn(a,t,n,i,r[o+9],12,-1958414417),i=xn(i,a,t,n,r[o+10],17,-42063),n=xn(n,i,a,t,r[o+11],22,-1990404162),t=xn(t,n,i,a,r[o+12],7,1804603682),a=xn(a,t,n,i,r[o+13],12,-40341101),i=xn(i,a,t,n,r[o+14],17,-1502002290),n=xn(n,i,a,t,r[o+15],22,1236535329),t=bn(t,n,i,a,r[o+1],5,-165796510),a=bn(a,t,n,i,r[o+6],9,-1069501632),i=bn(i,a,t,n,r[o+11],14,643717713),n=bn(n,i,a,t,r[o],20,-373897302),t=bn(t,n,i,a,r[o+5],5,-701558691),a=bn(a,t,n,i,r[o+10],9,38016083),i=bn(i,a,t,n,r[o+15],14,-660478335),n=bn(n,i,a,t,r[o+4],20,-405537848),t=bn(t,n,i,a,r[o+9],5,568446438),a=bn(a,t,n,i,r[o+14],9,-1019803690),i=bn(i,a,t,n,r[o+3],14,-187363961),n=bn(n,i,a,t,r[o+8],20,1163531501),t=bn(t,n,i,a,r[o+13],5,-1444681467),a=bn(a,t,n,i,r[o+2],9,-51403784),i=bn(i,a,t,n,r[o+7],14,1735328473),n=bn(n,i,a,t,r[o+12],20,-1926607734),t=wn(t,n,i,a,r[o+5],4,-378558),a=wn(a,t,n,i,r[o+8],11,-2022574463),i=wn(i,a,t,n,r[o+11],16,1839030562),n=wn(n,i,a,t,r[o+14],23,-35309556),t=wn(t,n,i,a,r[o+1],4,-1530992060),a=wn(a,t,n,i,r[o+4],11,1272893353),i=wn(i,a,t,n,r[o+7],16,-155497632),n=wn(n,i,a,t,r[o+10],23,-1094730640),t=wn(t,n,i,a,r[o+13],4,681279174),a=wn(a,t,n,i,r[o],11,-358537222),i=wn(i,a,t,n,r[o+3],16,-722521979),n=wn(n,i,a,t,r[o+6],23,76029189),t=wn(t,n,i,a,r[o+9],4,-640364487),a=wn(a,t,n,i,r[o+12],11,-421815835),i=wn(i,a,t,n,r[o+15],16,530742520),n=wn(n,i,a,t,r[o+2],23,-995338651),t=En(t,n,i,a,r[o],6,-198630844),a=En(a,t,n,i,r[o+7],10,1126891415),i=En(i,a,t,n,r[o+14],15,-1416354905),n=En(n,i,a,t,r[o+5],21,-57434055),t=En(t,n,i,a,r[o+12],6,1700485571),a=En(a,t,n,i,r[o+3],10,-1894986606),i=En(i,a,t,n,r[o+10],15,-1051523),n=En(n,i,a,t,r[o+1],21,-2054922799),t=En(t,n,i,a,r[o+8],6,1873313359),a=En(a,t,n,i,r[o+15],10,-30611744),i=En(i,a,t,n,r[o+6],15,-1560198380),n=En(n,i,a,t,r[o+13],21,1309151649),t=En(t,n,i,a,r[o+4],6,-145523070),a=En(a,t,n,i,r[o+11],10,-1120210379),i=En(i,a,t,n,r[o+2],15,718787259),n=En(n,i,a,t,r[o+9],21,-343485551),t=Sc(t,s),n=Sc(n,u),i=Sc(i,f),a=Sc(a,c)}return[t,n,i,a]}function gae(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array($N(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Sc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function yae(r,e){return r<<e|r>>>32-e}function T3(r,e,t,n,i,a){return Sc(yae(Sc(Sc(e,r),Sc(n,a)),i),t)}function xn(r,e,t,n,i,a,o){return T3(e&t|~e&n,r,e,i,a,o)}function bn(r,e,t,n,i,a,o){return T3(e&n|t&~n,r,e,i,a,o)}function wn(r,e,t,n,i,a,o){return T3(e^t^n,r,e,i,a,o)}function En(r,e,t,n,i,a,o){return T3(t^(e|~n),r,e,i,a,o)}var ZN,QN=te(()=>{h();p();ZN=lae});var vae,eq,tq=te(()=>{h();p();W5();QN();vae=S3("v3",48,ZN),eq=vae});function mae(r,e,t){r=r||{};var n=r.random||(r.rng||py)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Ic(n)}var rq,nq=te(()=>{h();p();K5();yy();rq=mae});function _ae(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function X5(r,e){return r<<e|r>>>32-e}function xae(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=X5(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=X5(w,5)+_ae(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=X5(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var iq,aq=te(()=>{h();p();iq=xae});var bae,oq,sq=te(()=>{h();p();W5();aq();bae=S3("v5",80,iq),oq=bae});var uq,fq=te(()=>{h();p();uq="00000000-0000-0000-0000-000000000000"});function wae(r){if(!Ec(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var cq,dq=te(()=>{h();p();gy();cq=wae});var lq={};Qf(lq,{NIL:()=>uq,parse:()=>I3,stringify:()=>Ic,v1:()=>XN,v3:()=>eq,v4:()=>rq,v5:()=>oq,validate:()=>Ec,version:()=>cq});var hq=te(()=>{h();p();JN();tq();nq();sq();fq();dq();gy();yy();z5()});var pq=E(Ac=>{"use strict";h();p();Object.defineProperty(Ac,"__esModule",{value:!0});var In=tu(),Eae=(hq(),ec(lq)),J5={COSMOS_SIGN_REQUEST:new In.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new In.RegistryType("cosmos-signature",4102)},{decodeToDataItem:Iae,RegistryTypes:Sae}=In.extend,Tc,kr;(Tc=Ac.SignDataType||(Ac.SignDataType={}))[Tc.amino=1]="amino",Tc[Tc.direct=2]="direct",Tc[Tc.textual=3]="textual",Tc[Tc.message=4]="message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPaths=4]="derivationPaths",r[r.addresses=5]="addresses",r[r.origin=6]="origin"}(kr||(kr={}));var nf=class extends In.RegistryItem{constructor(e){super(),this.getRegistryType=()=>J5.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[kr.requestId]=new In.DataItem(this.requestId,Sae.UUID.getTag()),t[kr.signData]=this.signData,t[kr.dataType]=this.dataType,t[kr.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.addresses&&(t[kr.addresses]=this.addresses),this.origin&&(t[kr.origin]=this.origin),new In.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructCosmosRequest(e,t,n,i,a,o,s){let u=a.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new In.PathComponent({index:y,hardened:_})});return new In.CryptoKeypath(l,v.Buffer.from(t[c],"hex"))});return new nf({requestId:v.Buffer.from(Eae.parse(e)),signData:n,dataType:i||Ac.SignDataType.amino,derivationPaths:u,addresses:o||void 0,origin:s||void 0})}};nf.fromDataItem=r=>{let e=r.getData(),t=e[kr.requestId]?e[kr.requestId].getData():void 0,n=e[kr.signData],i=e[kr.dataType],a=e[kr.derivationPaths].map(o=>In.CryptoKeypath.fromDataItem(o));return new nf({requestId:t,signData:n,dataType:i,derivationPaths:a,addresses:e[kr.addresses]?e[kr.addresses]:void 0,origin:e[kr.origin]?e[kr.origin]:void 0})},nf.fromCBOR=r=>{let e=Iae(r);return nf.fromDataItem(e)};var{RegistryTypes:Tae,decodeToDataItem:Cae}=In.extend,Cc;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})(Cc||(Cc={}));var Bd=class extends In.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>J5.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return i[Cc.requestId]=new In.DataItem(this.requestId,Tae.UUID.getTag()),i[Cc.signature]=this.signature,i[Cc.publicKey]=this.publicKey,new In.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};Bd.fromDataItem=r=>{let e=r.getData(),t=e[Cc.signature],n=e[Cc.requestId].getData();return new Bd(t,n,e[Cc.publicKey])},Bd.fromCBOR=r=>{let e=Cae(r);return Bd.fromDataItem(e)},In.patchTags(Object.values(J5).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(In).forEach(function(r){r!=="default"&&Object.defineProperty(Ac,r,{enumerable:!0,get:function(){return In[r]}})}),Ac.CosmosSignRequest=nf,Ac.CosmosSignature=Bd});var yq=E((aMe,gq)=>{"use strict";h();p();gq.exports=pq()});var vq=E(A3=>{"use strict";h();p();Object.defineProperty(A3,"__esModule",{value:!0});A3.KeystoneCosmosSDK=void 0;var Md=Lr(),Aae=Yi(),vy=yq(),C3=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Aae.URType.CosmosSignature)throw new Error("type not match");let t=vy.CosmosSignature.fromCBOR(e.cbor);return{requestId:(0,Md.uuidStringify)(t.getRequestId()),signature:(0,Md.toHex)(t.getSignature()),publicKey:(0,Md.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,signData:t,dataType:n,accounts:i,origin:a}){var o;let s=[],u=[];return i.forEach(f=>{s.push(new vy.CryptoKeypath((0,Md.parsePath)(f.path).map(c=>new vy.PathComponent(c)),(0,Md.toBuffer)(f.xfp))),u.push(f.address)}),new vy.CosmosSignRequest({signData:(0,Md.toBuffer)(t),dataType:n,derivationPaths:s,requestId:(0,Md.uuidParse)(e),addresses:u,origin:a??((o=this.config)===null||o===void 0?void 0:o.origin)}).toUR()}};C3.DataType=vy.SignDataType;A3.KeystoneCosmosSDK=C3});var Uq=E((dMe,R3)=>{h();p();var mq,_q,xq,bq,wq,Eq,Iq,Sq,Tq,O3,$5,Cq,Aq,Oq,I1,Dq,Rq,Pq,Bq,Mq,Nq,qq,Fq,Lq,D3;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof R3=="object"&&typeof R3.exports=="object"?r(t(e,t(R3.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};mq=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},_q=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},xq=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},bq=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},wq=function(n,i){return function(a,o){i(a,o,n)}},Eq=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Iq=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},Sq=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Tq=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&D3(i,n,a)},D3=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},O3=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},$5=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},Cq=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat($5(arguments[i]));return n},Aq=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},Oq=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},I1=function(n){return this instanceof I1?(this.v=n,this):new I1(n)},Dq=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(I){return new Promise(function(T,O){u.push([w,I,T,O])>1||c(w,I)})})}function c(w,I){try{l(o[w](I))}catch(T){_(u[0][3],T)}}function l(w){w.value instanceof I1?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,I){w(I),u.shift(),u.length&&c(u[0][0],u[0][1])}},Rq=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:I1(n[s](f)),done:s==="return"}:u?u(f):f}:u}},Pq=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof O3=="function"?O3(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},Bq=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Mq=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&D3(i,n,a);return t(i,n),i},Nq=function(n){return n&&n.__esModule?n:{default:n}},qq=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},Fq=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},Lq=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",mq),r("__assign",_q),r("__rest",xq),r("__decorate",bq),r("__param",wq),r("__metadata",Eq),r("__awaiter",Iq),r("__generator",Sq),r("__exportStar",Tq),r("__createBinding",D3),r("__values",O3),r("__read",$5),r("__spread",Cq),r("__spreadArrays",Aq),r("__spreadArray",Oq),r("__await",I1),r("__asyncGenerator",Dq),r("__asyncDelegator",Rq),r("__asyncValues",Pq),r("__makeTemplateObject",Bq),r("__importStar",Mq),r("__importDefault",Nq),r("__classPrivateFieldGet",qq),r("__classPrivateFieldSet",Fq),r("__classPrivateFieldIn",Lq)})});var B3=E(P3=>{"use strict";h();p();Object.defineProperty(P3,"__esModule",{value:!0});P3.DataItem=void 0;var Z5=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};P3.DataItem=Z5});var jq=E((kq,M3)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof M3<"u"&&M3.exports?M3.exports=e():r.CBOR=e()})(kq,function(){let{DataItem:r}=B3();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var jr=E(Sn=>{"use strict";h();p();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.DataItem=Sn.addWriter=Sn.addReader=Sn.addSemanticEncode=Sn.addSemanticDecode=Sn.decodeToDataItem=Sn.encodeDataItem=void 0;var S1=jq();Object.defineProperty(Sn,"encodeDataItem",{enumerable:!0,get:function(){return S1.encodeDataItem}});Object.defineProperty(Sn,"decodeToDataItem",{enumerable:!0,get:function(){return S1.decodeToDataItem}});Object.defineProperty(Sn,"addSemanticDecode",{enumerable:!0,get:function(){return S1.addSemanticDecode}});Object.defineProperty(Sn,"addSemanticEncode",{enumerable:!0,get:function(){return S1.addSemanticEncode}});Object.defineProperty(Sn,"addReader",{enumerable:!0,get:function(){return S1.addReader}});Object.defineProperty(Sn,"addWriter",{enumerable:!0,get:function(){return S1.addWriter}});var Oae=B3();Object.defineProperty(Sn,"DataItem",{enumerable:!0,get:function(){return Oae.DataItem}})});var F3=E(q3=>{"use strict";h();p();Object.defineProperty(q3,"__esModule",{value:!0});q3.patchTags=void 0;var N3=jr(),Hq=[],Dae=r=>{r.forEach(e=>{Hq.find(t=>t===e)||(N3.addSemanticEncode(e,t=>{if(t instanceof N3.DataItem&&t.getTag()===e)return t.getData()}),N3.addSemanticDecode(e,t=>new N3.DataItem(t,e)),Hq.push(e))})};q3.patchTags=Dae});var Hr=E(T1=>{"use strict";h();p();Object.defineProperty(T1,"__esModule",{value:!0});T1.RegistryTypes=T1.RegistryType=void 0;var wi=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};T1.RegistryType=wi;T1.RegistryTypes={UUID:new wi("uuid",37),BYTES:new wi("bytes",void 0),CRYPTO_HDKEY:new wi("crypto-hdkey",303),CRYPTO_KEYPATH:new wi("crypto-keypath",304),CRYPTO_COIN_INFO:new wi("crypto-coin-info",305),CRYPTO_ECKEY:new wi("crypto-eckey",306),CRYPTO_OUTPUT:new wi("crypto-output",308),CRYPTO_PSBT:new wi("crypto-psbt",310),CRYPTO_ACCOUNT:new wi("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new wi("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new wi("qr-hardware-call",1201),KEY_DERIVATION_CALL:new wi("key-derivation-call",1301)}});var L3=E(Nd=>{"use strict";h();p();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.ScriptExpressions=Nd.ScriptExpression=void 0;var Wi=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Nd.ScriptExpression=Wi;Wi.fromTag=r=>Object.values(Nd.ScriptExpressions).find(t=>t.getTag()===r);Nd.ScriptExpressions={SCRIPT_HASH:new Wi(400,"sh"),WITNESS_SCRIPT_HASH:new Wi(401,"wsh"),PUBLIC_KEY:new Wi(402,"pk"),PUBLIC_KEY_HASH:new Wi(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Wi(404,"wpkh"),COMBO:new Wi(405,"combo"),MULTISIG:new Wi(406,"multi"),SORTED_MULTISIG:new Wi(407,"sortedmulti"),ADDRESS:new Wi(307,"addr"),RAW_SCRIPT:new Wi(408,"raw")}});var Q5=E(Kq=>{"use strict";h();p();Object.defineProperty(Kq,"__esModule",{value:!0});var Rae=F3(),Pae=Hr(),Bae=L3(),Mae=Object.values(Pae.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),Nae=Object.values(Bae.ScriptExpressions).map(r=>r.getTag());Rae.patchTags(Mae.concat(Nae))});var Ei=E(U3=>{"use strict";h();p();Object.defineProperty(U3,"__esModule",{value:!0});U3.RegistryItem=void 0;var Vq=Cr(),qae=jr(),eS=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return qae.encodeDataItem(this.toDataItem())},this.toUR=()=>new Vq.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new Vq.UREncoder(i,e,t,n)}}};U3.RegistryItem=eS});var k3=E(ru=>{"use strict";h();p();Object.defineProperty(ru,"__esModule",{value:!0});ru.CryptoCoinInfo=ru.Network=ru.Type=void 0;var Gq=jr(),Fae=Ei(),Lae=Hr(),C1;(function(r){r.type="1",r.network="2"})(C1||(C1={}));var Yq;(function(r){r[r.bitcoin=0]="bitcoin"})(Yq=ru.Type||(ru.Type={}));var zq;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(zq=ru.Network||(ru.Network={}));var qd=class extends Fae.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Lae.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||Yq.bitcoin,this.getNetwork=()=>this.network||zq.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[C1.type]=this.type),this.network&&(n[C1.network]=this.network),new Gq.DataItem(n)}}};ru.CryptoCoinInfo=qd;qd.fromDataItem=r=>{let e=r.getData(),t=e[C1.type],n=e[C1.network];return new qd(t,n)};qd.fromCBOR=r=>{let e=Gq.decodeToDataItem(r);return qd.fromDataItem(e)}});var H3=E(j3=>{"use strict";h();p();Object.defineProperty(j3,"__esModule",{value:!0});j3.PathComponent=void 0;var A1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&A1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};j3.PathComponent=A1;A1.HARDENED_BIT=2147483648});var my=E(K3=>{"use strict";h();p();Object.defineProperty(K3,"__esModule",{value:!0});K3.CryptoKeypath=void 0;var Xq=jr(),Wq=H3(),Uae=Ei(),kae=Hr(),Oc;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(Oc||(Oc={}));var Fd=class extends Uae.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>kae.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[Oc.components]=a,this.sourceFingerprint&&(i[Oc.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Oc.depth]=this.depth),new Xq.DataItem(i)}}};K3.CryptoKeypath=Fd;Fd.fromDataItem=r=>{let e=r.getData(),t=[],n=e[Oc.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new Wq.PathComponent({index:f,hardened:u})):t.push(new Wq.PathComponent({hardened:u}))}let i=e[Oc.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[Oc.depth];return new Fd(t,a,o)};Fd.fromCBOR=r=>{let e=Xq.decodeToDataItem(r);return Fd.fromDataItem(e)}});var O1=E(V3=>{"use strict";h();p();Object.defineProperty(V3,"__esModule",{value:!0});V3.CryptoHDKey=void 0;var jae=Vh(),Hae=k3(),Jq=my(),$q=jr(),Kae=Ei(),Vae=Hr(),ot;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(ot||(ot={}));var Ld=class extends Kae.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return jae.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>Vae.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,a,o,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[ot.is_master]=!0,t[ot.key_data]=this.key,t[ot.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[ot.is_private]=this.privateKey),t[ot.key_data]=this.key,this.chainCode&&(t[ot.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[ot.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[ot.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[ot.children]=n}this.parentFingerprint&&(t[ot.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[ot.name]=this.name),this.note!==void 0&&(t[ot.note]=this.note)}return new $q.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};V3.CryptoHDKey=Ld;Ld.fromDataItem=r=>{let e=r.getData(),t=!!e[ot.is_master],n=e[ot.is_private],i=e[ot.key_data],a=e[ot.chain_code],o=e[ot.use_info]?Hae.CryptoCoinInfo.fromDataItem(e[ot.use_info]):void 0,s=e[ot.origin]?Jq.CryptoKeypath.fromDataItem(e[ot.origin]):void 0,u=e[ot.children]?Jq.CryptoKeypath.fromDataItem(e[ot.children]):void 0,f=e[ot.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[ot.name],g=e[ot.note];return new Ld({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};Ld.fromCBOR=r=>{let e=$q.decodeToDataItem(r);return Ld.fromDataItem(e)}});var _y=E(G3=>{"use strict";h();p();Object.defineProperty(G3,"__esModule",{value:!0});G3.CryptoECKey=void 0;var Zq=jr(),Gae=Ei(),Yae=Hr(),Dc;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Dc||(Dc={}));var Ud=class extends Gae.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Yae.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Dc.curve]=this.curve),this.privateKey!==void 0&&(t[Dc.private]=this.privateKey),t[Dc.data]=this.data,new Zq.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};G3.CryptoECKey=Ud;Ud.fromDataItem=r=>{let e=r.getData(),t=e[Dc.curve],n=e[Dc.private],i=e[Dc.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Ud({data:i,curve:t,privateKey:n})};Ud.fromCBOR=r=>{let e=Zq.decodeToDataItem(r);return Ud.fromDataItem(e)}});var eF=E(Y3=>{"use strict";h();p();Object.defineProperty(Y3,"__esModule",{value:!0});Y3.Bytes=void 0;var Qq=jr(),zae=Ei(),Wae=Hr(),kd=class extends zae.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Wae.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new Qq.DataItem(this.bytes)}};Y3.Bytes=kd;kd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new kd(e)};kd.fromCBOR=r=>{let e=Qq.decodeToDataItem(r);return kd.fromDataItem(e)}});var W3=E(z3=>{"use strict";h();p();Object.defineProperty(z3,"__esModule",{value:!0});z3.MultiKey=void 0;var Xae=_y(),Jae=O1(),$ae=B3(),Zae=Ei(),tF=Hr(),D1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(D1||(D1={}));var xy=class extends Zae.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[D1.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[D1.keys]=i,new $ae.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};z3.MultiKey=xy;xy.fromDataItem=r=>{let e=r.getData(),t=e[D1.threshold],n=e[D1.keys],i=[];return n.forEach(a=>{a.getTag()===tF.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Jae.CryptoHDKey.fromDataItem(a)):a.getTag()===tF.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Xae.CryptoECKey.fromDataItem(a))}),new xy(t,i)}});var aS=E(X3=>{"use strict";h();p();Object.defineProperty(X3,"__esModule",{value:!0});X3.CryptoOutput=void 0;var rS=_y(),nS=O1(),iS=jr(),rF=W3(),Qae=Ei(),nF=Hr(),tS=L3(),af=class extends Qae.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>nF.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof nS.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof rS.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof rF.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof rS.CryptoECKey||this.cryptoKey instanceof nS.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new iS.DataItem(n,o)}),n}}};X3.CryptoOutput=af;af.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag(),o=tS.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof iS.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===tS.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===tS.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=rF.MultiKey.fromDataItem(t);return new af(e,a)}if(t.getTag()===nF.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=nS.CryptoHDKey.fromDataItem(t);return new af(e,a)}else{let a=rS.CryptoECKey.fromDataItem(t);return new af(e,a)}};af.fromCBOR=r=>{let e=iS.decodeToDataItem(r);return af.fromDataItem(e)}});var oS=E(J3=>{"use strict";h();p();Object.defineProperty(J3,"__esModule",{value:!0});J3.CryptoPSBT=void 0;var iF=jr(),eoe=Ei(),toe=Hr(),jd=class extends eoe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>toe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new iF.DataItem(this.psbt)}};J3.CryptoPSBT=jd;jd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new jd(e)};jd.fromCBOR=r=>{let e=iF.decodeToDataItem(r);return jd.fromDataItem(e)}});var sS=E($3=>{"use strict";h();p();Object.defineProperty($3,"__esModule",{value:!0});$3.CryptoAccount=void 0;var roe=Z3(),aF=jr(),noe=Ei(),ioe=Hr(),R1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(R1||(R1={}));var Hd=class extends noe.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>ioe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[R1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[R1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new aF.DataItem(n)}}};$3.CryptoAccount=Hd;Hd.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[R1.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[R1.outputDescriptors].map(o=>roe.CryptoOutput.fromDataItem(o));return new Hd(t,a)};Hd.fromCBOR=r=>{let e=aF.decodeToDataItem(r);return Hd.fromDataItem(e)}});var fS=E(Q3=>{"use strict";h();p();Object.defineProperty(Q3,"__esModule",{value:!0});Q3.UnknownURTypeError=void 0;var uS=class extends Error{constructor(e){super(e)}};Q3.UnknownURTypeError=uS});var dS=E(ex=>{"use strict";h();p();Object.defineProperty(ex,"__esModule",{value:!0});ex.URRegistryDecoder=void 0;var aoe=Cr(),Rc=Z3(),Pc=Hr(),ooe=fS(),cS=class extends aoe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case Pc.RegistryTypes.BYTES.getType():return Rc.Bytes.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_HDKEY.getType():return Rc.CryptoHDKey.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_KEYPATH.getType():return Rc.CryptoKeypath.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_COIN_INFO.getType():return Rc.CryptoCoinInfo.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_ECKEY.getType():return Rc.CryptoECKey.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_OUTPUT.getType():return Rc.CryptoOutput.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_PSBT.getType():return Rc.CryptoPSBT.fromCBOR(e.cbor);case Pc.RegistryTypes.CRYPTO_ACCOUNT.getType():return Rc.CryptoAccount.fromCBOR(e.cbor);default:throw new ooe.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};ex.URRegistryDecoder=cS});var lS=E(tx=>{"use strict";h();p();Object.defineProperty(tx,"__esModule",{value:!0});tx.CryptoMultiAccounts=void 0;var soe=Hr(),uoe=O1(),foe=Ei(),oF=jr(),Bc;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(Bc||(Bc={}));var Kd=class extends foe.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>soe.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Bc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Bc.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[Bc.device]=this.device),new oF.DataItem(i)}}};tx.CryptoMultiAccounts=Kd;Kd.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[Bc.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[Bc.keys].map(s=>uoe.CryptoHDKey.fromDataItem(s)),o=e[Bc.device];return new Kd(t,a,o)};Kd.fromCBOR=r=>{let e=oF.decodeToDataItem(r);return Kd.fromDataItem(e)}});var hS=E(iu=>{"use strict";h();p();Object.defineProperty(iu,"__esModule",{value:!0});iu.KeyDerivation=iu.DerivationAlgorithm=iu.Curve=void 0;var coe=Hr(),doe=Ei(),sF=jr(),loe=my(),nu;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(nu||(nu={}));var uF;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(uF=iu.Curve||(iu.Curve={}));var fF;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(fF=iu.DerivationAlgorithm||(iu.DerivationAlgorithm={}));var Vd=class extends doe.RegistryItem{constructor(e,t=uF.secp256k1,n=fF.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>coe.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[nu.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[nu.curve]=this.curve,a[nu.algo]=this.algo,this.origin&&(a[nu.origin]=this.origin),new sF.DataItem(a)}}};iu.KeyDerivation=Vd;Vd.fromDataItem=r=>{let e=r.getData(),t=e[nu.keyPaths].map(o=>loe.CryptoKeypath.fromDataItem(o)),n=e[nu.curve],i=e[nu.algo],a=e[nu.origin];return new Vd(t,n,i,a)};Vd.fromCBOR=r=>{let e=sF.decodeToDataItem(r);return Vd.fromDataItem(e)}});var dF=E(Yd=>{"use strict";h();p();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.QRHardwareCall=Yd.QRHardwareCallName=void 0;var hoe=Hr(),poe=Ei(),cF=jr(),goe=hS(),P1;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(P1||(P1={}));var pS;(function(r){r.KeyDerivation="key-derivation"})(pS=Yd.QRHardwareCallName||(Yd.QRHardwareCallName={}));var Gd=class extends poe.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>hoe.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[P1.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[P1.params]=i,new cF.DataItem(n)}}};Yd.QRHardwareCall=Gd;Gd.fromDataItem=r=>{let e=r.getData(),t=e[P1.name]||pS.KeyDerivation,n;switch(t){case pS.KeyDerivation:n=goe.KeyDerivation.fromDataItem(e[P1.params])}return new Gd(t,n)};Gd.fromCBOR=r=>{let e=cF.decodeToDataItem(r);return Gd.fromDataItem(e)}});var hF=E(lF=>{"use strict";h();p();Object.defineProperty(lF,"__esModule",{value:!0})});var Z3=E(le=>{"use strict";h();p();Object.defineProperty(le,"__esModule",{value:!0});le.Buffer=le.extend=le.PathComponent=le.ScriptExpressions=le.MultiKey=le.CryptoPSBT=le.CryptoOutput=le.CryptoECKey=le.CryptoCoinInfoNetwork=le.CryptoCoinInfoType=le.CryptoCoinInfo=le.CryptoKeypath=le.CryptoMultiAccounts=le.CryptoHDKey=le.CryptoAccount=le.Bytes=le.URRegistryDecoder=le.DataItem=void 0;var tr=Uq();Q5();var yoe=Zh();Object.defineProperty(le,"Buffer",{enumerable:!0,get:function(){return yoe.Buffer}});var gF=O1();Object.defineProperty(le,"CryptoHDKey",{enumerable:!0,get:function(){return gF.CryptoHDKey}});var yF=my();Object.defineProperty(le,"CryptoKeypath",{enumerable:!0,get:function(){return yF.CryptoKeypath}});var M1=k3();Object.defineProperty(le,"CryptoCoinInfo",{enumerable:!0,get:function(){return M1.CryptoCoinInfo}});Object.defineProperty(le,"CryptoCoinInfoType",{enumerable:!0,get:function(){return M1.Type}});Object.defineProperty(le,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return M1.Network}});var vF=_y();Object.defineProperty(le,"CryptoECKey",{enumerable:!0,get:function(){return vF.CryptoECKey}});var mF=eF();Object.defineProperty(le,"Bytes",{enumerable:!0,get:function(){return mF.Bytes}});var _F=aS();Object.defineProperty(le,"CryptoOutput",{enumerable:!0,get:function(){return _F.CryptoOutput}});var xF=oS();Object.defineProperty(le,"CryptoPSBT",{enumerable:!0,get:function(){return xF.CryptoPSBT}});var bF=sS();Object.defineProperty(le,"CryptoAccount",{enumerable:!0,get:function(){return bF.CryptoAccount}});var wF=dS();Object.defineProperty(le,"URRegistryDecoder",{enumerable:!0,get:function(){return wF.URRegistryDecoder}});var EF=W3();Object.defineProperty(le,"MultiKey",{enumerable:!0,get:function(){return EF.MultiKey}});var IF=L3();Object.defineProperty(le,"ScriptExpressions",{enumerable:!0,get:function(){return IF.ScriptExpressions}});var SF=H3();Object.defineProperty(le,"PathComponent",{enumerable:!0,get:function(){return SF.PathComponent}});var voe=Ei(),pF=Hr(),B1=jr(),moe=jr();Object.defineProperty(le,"DataItem",{enumerable:!0,get:function(){return moe.DataItem}});var _oe=F3(),TF=lS();Object.defineProperty(le,"CryptoMultiAccounts",{enumerable:!0,get:function(){return TF.CryptoMultiAccounts}});var xoe={URRegistryDecoder:wF.URRegistryDecoder,Bytes:mF.Bytes,CryptoAccount:bF.CryptoAccount,CryptoHDKey:gF.CryptoHDKey,CryptoMultiAccounts:TF.CryptoMultiAccounts,CryptoKeypath:yF.CryptoKeypath,CryptoCoinInfo:M1.CryptoCoinInfo,CryptoCoinInfoType:M1.Type,CryptoCoinInfoNetwork:M1.Network,CryptoECKey:vF.CryptoECKey,CryptoOutput:_F.CryptoOutput,CryptoPSBT:xF.CryptoPSBT,MultiKey:EF.MultiKey,ScriptExpressions:IF.ScriptExpressions,PathComponent:SF.PathComponent},boe={addReader:B1.addReader,addSemanticDecode:B1.addSemanticDecode,addSemanticEncode:B1.addSemanticEncode,addWriter:B1.addWriter,patchTags:_oe.patchTags},woe={RegistryTypes:pF.RegistryTypes,RegistryItem:voe.RegistryItem,RegistryType:pF.RegistryType,decodeToDataItem:B1.decodeToDataItem,encodeDataItem:B1.encodeDataItem,cbor:boe};le.extend=woe;tr.__exportStar(fS(),le);tr.__exportStar(dS(),le);tr.__exportStar(jr(),le);tr.__exportStar(sS(),le);tr.__exportStar(oS(),le);tr.__exportStar(O1(),le);tr.__exportStar(lS(),le);tr.__exportStar(dF(),le);tr.__exportStar(hS(),le);tr.__exportStar(aS(),le);tr.__exportStar(k3(),le);tr.__exportStar(_y(),le);tr.__exportStar(W3(),le);tr.__exportStar(my(),le);tr.__exportStar(Q5(),le);tr.__exportStar(H3(),le);tr.__exportStar(Ei(),le);tr.__exportStar(Hr(),le);tr.__exportStar(hF(),le);tr.__exportStar(F3(),le);le.default=xoe});var CF=E(Mc=>{"use strict";h();p();Object.defineProperty(Mc,"__esModule",{value:!0});var Tn=Z3(),Eoe=a_(),gS={EVM_SIGN_REQUEST:new Tn.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new Tn.RegistryType("evm-signature",4102)},{decodeToDataItem:Ioe,RegistryTypes:Soe}=Tn.extend,N1,Kr;(N1=Mc.SignDataType||(Mc.SignDataType={}))[N1.arbitrary=1]="arbitrary",N1[N1.cosmosAmino=2]="cosmosAmino",N1[N1.cosmosDirect=3]="cosmosDirect",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.customChainIdentifier=4]="customChainIdentifier",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"}(Kr||(Kr={}));var au=class extends Tn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>gS.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};t[Kr.requestId]=new Tn.DataItem(this.requestId,Soe.UUID.getTag()),t[Kr.signData]=this.signData,t[Kr.dataType]=this.dataType,t[Kr.customChainIdentifier]=this.customChainIdentifier;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Kr.derivationPath]=n,this.address&&(t[Kr.address]=this.address),this.origin&&(t[Kr.origin]=this.origin),new Tn.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.customChainIdentifier=e.customChainIdentifier,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static parsePath(e,t){let n=e.replace(/[m|M]\//,"").split("/").map(i=>{let a=parseInt(i.replace("'","")),o=!1;return i.endsWith("'")&&(o=!0),new Tn.PathComponent({index:a,hardened:o})});return new Tn.CryptoKeypath(n,v.Buffer.from(t,"hex"))}static constructEvmRequest(e,t,n,i,a,o,s,u){return new au({requestId:v.Buffer.from(Eoe.parse(e)),signData:n,dataType:i||Mc.SignDataType.arbitrary,customChainIdentifier:a,derivationPath:au.parsePath(o,t),address:s,origin:u})}};au.fromDataItem=r=>{let e=r.getData(),t=e[Kr.requestId]?e[Kr.requestId].getData():void 0;return new au({requestId:t,signData:e[Kr.signData],dataType:e[Kr.dataType],customChainIdentifier:e[Kr.customChainIdentifier],derivationPath:Tn.CryptoKeypath.fromDataItem(e[Kr.derivationPath]),address:e[Kr.address],origin:e[Kr.origin]})},au.fromCBOR=r=>{let e=Ioe(r);return au.fromDataItem(e)};var{RegistryTypes:Toe,decodeToDataItem:Coe}=Tn.extend,q1;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(q1||(q1={}));var zd=class extends Tn.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>gS.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return n[q1.requestId]=new Tn.DataItem(this.requestId,Toe.UUID.getTag()),n[q1.signature]=this.signature,new Tn.DataItem(n)},this.signature=e,this.requestId=t}};zd.fromDataItem=r=>{let e=r.getData(),t=e[q1.signature],n=e[q1.requestId].getData();return new zd(t,n)},zd.fromCBOR=r=>{let e=Coe(r);return zd.fromDataItem(e)},Tn.patchTags(Object.values(gS).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Tn).forEach(function(r){r!=="default"&&Object.defineProperty(Mc,r,{enumerable:!0,get:function(){return Tn[r]}})}),Mc.EvmSignRequest=au,Mc.EvmSignature=zd});var OF=E((FNe,AF)=>{"use strict";h();p();AF.exports=CF()});var DF=E(nx=>{"use strict";h();p();Object.defineProperty(nx,"__esModule",{value:!0});nx.KeystoneEvmSDK=void 0;var Wd=Lr(),Aoe=Yi(),by=OF(),rx=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Aoe.URType.EvmSignature)throw new Error("type not match");let t=by.EvmSignature.fromCBOR(e.cbor);return{requestId:(0,Wd.uuidStringify)(t.getRequestId()),signature:(0,Wd.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,customChainIdentifier:i,account:a,origin:o}){var s;let u=new by.CryptoKeypath((0,Wd.parsePath)(a.path).map(f=>new by.PathComponent(f)),(0,Wd.toBuffer)(a.xfp));return new by.EvmSignRequest({signData:(0,Wd.toBuffer)(t),dataType:n,customChainIdentifier:i,derivationPath:u,requestId:(0,Wd.uuidParse)(e),address:a.address!==void 0?(0,Wd.toBuffer)(a.address.substring(a.address.startsWith("0x")?2:0)):void 0,origin:o??((s=this.config)===null||s===void 0?void 0:s.origin)}).toUR()}};rx.DataType=by.SignDataType;nx.KeystoneEvmSDK=rx});function wy(){if(!ix&&(ix=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ix))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ix(Ooe)}var ix,Ooe,yS=te(()=>{h();p();Ooe=new Uint8Array(16)});var RF,PF=te(()=>{h();p();RF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Doe(r){return typeof r=="string"&&RF.test(r)}var Nc,Ey=te(()=>{h();p();PF();Nc=Doe});function Roe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Vr[r[e+0]]+Vr[r[e+1]]+Vr[r[e+2]]+Vr[r[e+3]]+"-"+Vr[r[e+4]]+Vr[r[e+5]]+"-"+Vr[r[e+6]]+Vr[r[e+7]]+"-"+Vr[r[e+8]]+Vr[r[e+9]]+"-"+Vr[r[e+10]]+Vr[r[e+11]]+Vr[r[e+12]]+Vr[r[e+13]]+Vr[r[e+14]]+Vr[r[e+15]]).toLowerCase();if(!Nc(t))throw TypeError("Stringified UUID is invalid");return t}var Vr,ax,qc,Iy=te(()=>{h();p();Ey();Vr=[];for(ax=0;ax<256;++ax)Vr.push((ax+256).toString(16).substr(1));qc=Roe});function Poe(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||BF,o=r.clockseq!==void 0?r.clockseq:vS;if(a==null||o==null){var s=r.random||(r.rng||wy)();a==null&&(a=BF=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=vS=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:_S+1,c=u-mS+(f-_S)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>mS)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mS=u,_S=f,vS=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||qc(i)}var BF,vS,mS,_S,MF,NF=te(()=>{h();p();yS();Iy();mS=0,_S=0;MF=Poe});function Boe(r){if(!Nc(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var ox,xS=te(()=>{h();p();Ey();ox=Boe});function Moe(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function sx(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=Moe(i)),typeof a=="string"&&(a=ox(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return qc(u)}try{n.name=r}catch{}return n.DNS=Noe,n.URL=qoe,n}var Noe,qoe,bS=te(()=>{h();p();Iy();xS();Noe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qoe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Foe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Loe(Uoe(koe(r),r.length*8))}function Loe(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function qF(r){return(r+64>>>9<<4)+14+1}function Uoe(r,e){r[e>>5]|=128<<e%32,r[qF(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Cn(t,n,i,a,r[o],7,-680876936),a=Cn(a,t,n,i,r[o+1],12,-389564586),i=Cn(i,a,t,n,r[o+2],17,606105819),n=Cn(n,i,a,t,r[o+3],22,-1044525330),t=Cn(t,n,i,a,r[o+4],7,-176418897),a=Cn(a,t,n,i,r[o+5],12,1200080426),i=Cn(i,a,t,n,r[o+6],17,-1473231341),n=Cn(n,i,a,t,r[o+7],22,-45705983),t=Cn(t,n,i,a,r[o+8],7,1770035416),a=Cn(a,t,n,i,r[o+9],12,-1958414417),i=Cn(i,a,t,n,r[o+10],17,-42063),n=Cn(n,i,a,t,r[o+11],22,-1990404162),t=Cn(t,n,i,a,r[o+12],7,1804603682),a=Cn(a,t,n,i,r[o+13],12,-40341101),i=Cn(i,a,t,n,r[o+14],17,-1502002290),n=Cn(n,i,a,t,r[o+15],22,1236535329),t=An(t,n,i,a,r[o+1],5,-165796510),a=An(a,t,n,i,r[o+6],9,-1069501632),i=An(i,a,t,n,r[o+11],14,643717713),n=An(n,i,a,t,r[o],20,-373897302),t=An(t,n,i,a,r[o+5],5,-701558691),a=An(a,t,n,i,r[o+10],9,38016083),i=An(i,a,t,n,r[o+15],14,-660478335),n=An(n,i,a,t,r[o+4],20,-405537848),t=An(t,n,i,a,r[o+9],5,568446438),a=An(a,t,n,i,r[o+14],9,-1019803690),i=An(i,a,t,n,r[o+3],14,-187363961),n=An(n,i,a,t,r[o+8],20,1163531501),t=An(t,n,i,a,r[o+13],5,-1444681467),a=An(a,t,n,i,r[o+2],9,-51403784),i=An(i,a,t,n,r[o+7],14,1735328473),n=An(n,i,a,t,r[o+12],20,-1926607734),t=On(t,n,i,a,r[o+5],4,-378558),a=On(a,t,n,i,r[o+8],11,-2022574463),i=On(i,a,t,n,r[o+11],16,1839030562),n=On(n,i,a,t,r[o+14],23,-35309556),t=On(t,n,i,a,r[o+1],4,-1530992060),a=On(a,t,n,i,r[o+4],11,1272893353),i=On(i,a,t,n,r[o+7],16,-155497632),n=On(n,i,a,t,r[o+10],23,-1094730640),t=On(t,n,i,a,r[o+13],4,681279174),a=On(a,t,n,i,r[o],11,-358537222),i=On(i,a,t,n,r[o+3],16,-722521979),n=On(n,i,a,t,r[o+6],23,76029189),t=On(t,n,i,a,r[o+9],4,-640364487),a=On(a,t,n,i,r[o+12],11,-421815835),i=On(i,a,t,n,r[o+15],16,530742520),n=On(n,i,a,t,r[o+2],23,-995338651),t=Dn(t,n,i,a,r[o],6,-198630844),a=Dn(a,t,n,i,r[o+7],10,1126891415),i=Dn(i,a,t,n,r[o+14],15,-1416354905),n=Dn(n,i,a,t,r[o+5],21,-57434055),t=Dn(t,n,i,a,r[o+12],6,1700485571),a=Dn(a,t,n,i,r[o+3],10,-1894986606),i=Dn(i,a,t,n,r[o+10],15,-1051523),n=Dn(n,i,a,t,r[o+1],21,-2054922799),t=Dn(t,n,i,a,r[o+8],6,1873313359),a=Dn(a,t,n,i,r[o+15],10,-30611744),i=Dn(i,a,t,n,r[o+6],15,-1560198380),n=Dn(n,i,a,t,r[o+13],21,1309151649),t=Dn(t,n,i,a,r[o+4],6,-145523070),a=Dn(a,t,n,i,r[o+11],10,-1120210379),i=Dn(i,a,t,n,r[o+2],15,718787259),n=Dn(n,i,a,t,r[o+9],21,-343485551),t=Fc(t,s),n=Fc(n,u),i=Fc(i,f),a=Fc(a,c)}return[t,n,i,a]}function koe(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(qF(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Fc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function joe(r,e){return r<<e|r>>>32-e}function ux(r,e,t,n,i,a){return Fc(joe(Fc(Fc(e,r),Fc(n,a)),i),t)}function Cn(r,e,t,n,i,a,o){return ux(e&t|~e&n,r,e,i,a,o)}function An(r,e,t,n,i,a,o){return ux(e&n|t&~n,r,e,i,a,o)}function On(r,e,t,n,i,a,o){return ux(e^t^n,r,e,i,a,o)}function Dn(r,e,t,n,i,a,o){return ux(t^(e|~n),r,e,i,a,o)}var FF,LF=te(()=>{h();p();FF=Foe});var Hoe,UF,kF=te(()=>{h();p();bS();LF();Hoe=sx("v3",48,FF),UF=Hoe});function Koe(r,e,t){r=r||{};var n=r.random||(r.rng||wy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return qc(n)}var jF,HF=te(()=>{h();p();yS();Iy();jF=Koe});function Voe(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function wS(r,e){return r<<e|r>>>32-e}function Goe(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=wS(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=wS(w,5)+Voe(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=wS(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var KF,VF=te(()=>{h();p();KF=Goe});var Yoe,GF,YF=te(()=>{h();p();bS();VF();Yoe=sx("v5",80,KF),GF=Yoe});var zF,WF=te(()=>{h();p();zF="00000000-0000-0000-0000-000000000000"});function zoe(r){if(!Nc(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var XF,JF=te(()=>{h();p();Ey();XF=zoe});var $F={};Qf($F,{NIL:()=>zF,parse:()=>ox,stringify:()=>qc,v1:()=>MF,v3:()=>UF,v4:()=>jF,v5:()=>GF,validate:()=>Nc,version:()=>XF});var ZF=te(()=>{h();p();NF();kF();HF();YF();WF();JF();Ey();Iy();xS()});var eL=E((rFe,QF)=>{h();p();var ke={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Ya(r,e){if(!r)throw new Error(e)}function Me(r,e,t){if(Ya(e instanceof Uint8Array,`Expected ${r} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let n=t.join(", "),i=`Expected ${r} to be an Uint8Array with length [${n}]`;Ya(t.includes(e.length),i)}else{let n=`Expected ${r} to be an Uint8Array with length ${t}`;Ya(e.length===t,n)}}function Xd(r){Ya(F1(r)==="Boolean","Expected compressed to be a Boolean")}function cs(r=t=>new Uint8Array(t),e){return typeof r=="function"&&(r=r(e)),Me("output",r,e),r}function F1(r){return Object.prototype.toString.call(r).slice(8,-1)}QF.exports=r=>({contextRandomize(e){switch(Ya(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Me("seed",e,32),r.contextRandomize(e)){case 1:throw new Error(ke.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Me("private key",e,32),r.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Me("private key",e,32),r.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(ke.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,t){switch(Me("private key",e,32),Me("tweak",t,32),r.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(ke.TWEAK_ADD)}},privateKeyTweakMul(e,t){switch(Me("private key",e,32),Me("tweak",t,32),r.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(ke.TWEAK_MUL)}},publicKeyVerify(e){return Me("public key",e,[33,65]),r.publicKeyVerify(e)===0},publicKeyCreate(e,t=!0,n){switch(Me("private key",e,32),Xd(t),n=cs(n,t?33:65),r.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(ke.SECKEY_INVALID);case 2:throw new Error(ke.PUBKEY_SERIALIZE)}},publicKeyConvert(e,t=!0,n){switch(Me("public key",e,[33,65]),Xd(t),n=cs(n,t?33:65),r.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.PUBKEY_SERIALIZE)}},publicKeyNegate(e,t=!0,n){switch(Me("public key",e,[33,65]),Xd(t),n=cs(n,t?33:65),r.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.IMPOSSIBLE_CASE);case 3:throw new Error(ke.PUBKEY_SERIALIZE)}},publicKeyCombine(e,t=!0,n){Ya(Array.isArray(e),"Expected public keys to be an Array"),Ya(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)Me("public key",i,[33,65]);switch(Xd(t),n=cs(n,t?33:65),r.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.PUBKEY_COMBINE);case 3:throw new Error(ke.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,t,n=!0,i){switch(Me("public key",e,[33,65]),Me("tweak",t,32),Xd(n),i=cs(i,n?33:65),r.publicKeyTweakAdd(i,e,t)){case 0:return i;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.TWEAK_ADD)}},publicKeyTweakMul(e,t,n=!0,i){switch(Me("public key",e,[33,65]),Me("tweak",t,32),Xd(n),i=cs(i,n?33:65),r.publicKeyTweakMul(i,e,t)){case 0:return i;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.TWEAK_MUL)}},signatureNormalize(e){switch(Me("signature",e,64),r.signatureNormalize(e)){case 0:return e;case 1:throw new Error(ke.SIG_PARSE)}},signatureExport(e,t){Me("signature",e,64),t=cs(t,72);let n={output:t,outputlen:72};switch(r.signatureExport(n,e)){case 0:return t.slice(0,n.outputlen);case 1:throw new Error(ke.SIG_PARSE);case 2:throw new Error(ke.IMPOSSIBLE_CASE)}},signatureImport(e,t){switch(Me("signature",e),t=cs(t,64),r.signatureImport(t,e)){case 0:return t;case 1:throw new Error(ke.SIG_PARSE);case 2:throw new Error(ke.IMPOSSIBLE_CASE)}},ecdsaSign(e,t,n={},i){Me("message",e,32),Me("private key",t,32),Ya(F1(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Me("options.data",n.data),n.noncefn!==void 0&&Ya(F1(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=cs(i,64);let a={signature:i,recid:null};switch(r.ecdsaSign(a,e,t,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(ke.SIGN);case 2:throw new Error(ke.IMPOSSIBLE_CASE)}},ecdsaVerify(e,t,n){switch(Me("signature",e,64),Me("message",t,32),Me("public key",n,[33,65]),r.ecdsaVerify(e,t,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(ke.SIG_PARSE);case 2:throw new Error(ke.PUBKEY_PARSE)}},ecdsaRecover(e,t,n,i=!0,a){switch(Me("signature",e,64),Ya(F1(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),Me("message",n,32),Xd(i),a=cs(a,i?33:65),r.ecdsaRecover(a,e,t,n)){case 0:return a;case 1:throw new Error(ke.SIG_PARSE);case 2:throw new Error(ke.RECOVER);case 3:throw new Error(ke.IMPOSSIBLE_CASE)}},ecdh(e,t,n={},i){switch(Me("public key",e,[33,65]),Me("private key",t,32),Ya(F1(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Me("options.data",n.data),n.hashfn!==void 0?(Ya(F1(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Me("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Me("options.ybuf",n.ybuf,32),Me("output",i)):i=cs(i,32),r.ecdh(i,e,t,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(ke.PUBKEY_PARSE);case 2:throw new Error(ke.ECDH)}}})});var tL=E((aFe,Woe)=>{Woe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var ha=E(rL=>{"use strict";h();p();var ds=rL,Xoe=Xu(),Joe=QZ(),fx=eQ();ds.assert=Joe;ds.toArray=fx.toArray;ds.zero2=fx.zero2;ds.toHex=fx.toHex;ds.encode=fx.encode;function $oe(r,e,t){var n=new Array(Math.max(r.bitLength(),t)+1);n.fill(0);for(var i=1<<e+1,a=r.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(u>(i>>1)-1?s=(i>>1)-u:s=u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n}ds.getNAF=$oe;function Zoe(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var n=0,i=0,a;r.cmpn(-n)>0||e.cmpn(-i)>0;){var o=r.andln(3)+n&3,s=e.andln(3)+i&3;o===3&&(o=-1),s===3&&(s=-1);var u;(o&1)===0?u=0:(a=r.andln(7)+n&7,(a===3||a===5)&&s===2?u=-o:u=o),t[0].push(u);var f;(s&1)===0?f=0:(a=e.andln(7)+i&7,(a===3||a===5)&&o===2?f=-s:f=s),t[1].push(f),2*n===u+1&&(n=1-n),2*i===f+1&&(i=1-i),r.iushrn(1),e.iushrn(1)}return t}ds.getJSF=Zoe;function Qoe(r,e,t){var n="_"+e;r.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=t.call(this)}}ds.cachedProperty=Qoe;function ese(r){return typeof r=="string"?ds.toArray(r,"hex"):r}ds.parseBytes=ese;function tse(r){return new Xoe(r,"hex","le")}ds.intFromLE=tse});var Ty=E((fFe,nL)=>{"use strict";h();p();var Jd=Xu(),Sy=ha(),cx=Sy.getNAF,rse=Sy.getJSF,dx=Sy.assert;function Lc(r,e){this.type=r,this.p=new Jd(e.p,16),this.red=e.prime?Jd.red(e.prime):Jd.mont(this.p),this.zero=new Jd(0).toRed(this.red),this.one=new Jd(1).toRed(this.red),this.two=new Jd(2).toRed(this.red),this.n=e.n&&new Jd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}nL.exports=Lc;Lc.prototype.point=function(){throw new Error("Not implemented")};Lc.prototype.validate=function(){throw new Error("Not implemented")};Lc.prototype._fixedNafMul=function(e,t){dx(e.precomputed);var n=e._getDoubles(),i=cx(t,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var o=[],s,u;for(s=0;s<i.length;s+=n.step){u=0;for(var f=s+n.step-1;f>=s;f--)u=(u<<1)+i[f];o.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),g=a;g>0;g--){for(s=0;s<o.length;s++)u=o[s],u===g?l=l.mixedAdd(n.points[s]):u===-g&&(l=l.mixedAdd(n.points[s].neg()));c=c.add(l)}return c.toP()};Lc.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=cx(t,n,this._bitLength),s=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var f=0;u>=0&&o[u]===0;u--)f++;if(u>=0&&f++,s=s.dblp(f),u<0)break;var c=o[u];dx(c!==0),e.type==="affine"?c>0?s=s.mixedAdd(a[c-1>>1]):s=s.mixedAdd(a[-c-1>>1].neg()):c>0?s=s.add(a[c-1>>1]):s=s.add(a[-c-1>>1].neg())}return e.type==="affine"?s.toP():s};Lc.prototype._wnafMulAdd=function(e,t,n,i,a){var o=this._wnafT1,s=this._wnafT2,u=this._wnafT3,f=0,c,l,g;for(c=0;c<i;c++){g=t[c];var y=g._getNAFPoints(e);o[c]=y.wnd,s[c]=y.points}for(c=i-1;c>=1;c-=2){var _=c-1,w=c;if(o[_]!==1||o[w]!==1){u[_]=cx(n[_],o[_],this._bitLength),u[w]=cx(n[w],o[w],this._bitLength),f=Math.max(u[_].length,f),f=Math.max(u[w].length,f);continue}var I=[t[_],null,null,t[w]];t[_].y.cmp(t[w].y)===0?(I[1]=t[_].add(t[w]),I[2]=t[_].toJ().mixedAdd(t[w].neg())):t[_].y.cmp(t[w].y.redNeg())===0?(I[1]=t[_].toJ().mixedAdd(t[w]),I[2]=t[_].add(t[w].neg())):(I[1]=t[_].toJ().mixedAdd(t[w]),I[2]=t[_].toJ().mixedAdd(t[w].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],O=rse(n[_],n[w]);for(f=Math.max(O[0].length,f),u[_]=new Array(f),u[w]=new Array(f),l=0;l<f;l++){var B=O[0][l]|0,q=O[1][l]|0;u[_][l]=T[(B+1)*3+(q+1)],u[w][l]=0,s[_]=I}}var C=this.jpoint(null,null,null),d=this._wnafT4;for(c=f;c>=0;c--){for(var m=0;c>=0;){var x=!0;for(l=0;l<i;l++)d[l]=u[l][c]|0,d[l]!==0&&(x=!1);if(!x)break;m++,c--}if(c>=0&&m++,C=C.dblp(m),c<0)break;for(l=0;l<i;l++){var D=d[l];D!==0&&(D>0?g=s[l][D-1>>1]:D<0&&(g=s[l][-D-1>>1].neg()),g.type==="affine"?C=C.mixedAdd(g):C=C.add(g))}}for(c=0;c<i;c++)s[c]=null;return a?C:C.toP()};function za(r,e){this.curve=r,this.type=e,this.precomputed=null}Lc.BasePoint=za;za.prototype.eq=function(){throw new Error("Not implemented")};za.prototype.validate=function(){return this.curve.validate(this)};Lc.prototype.decodePoint=function(e,t){e=Sy.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?dx(e[e.length-1]%2===0):e[0]===7&&dx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};za.prototype.encodeCompressed=function(e){return this.encode(e,!0)};za.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};za.prototype.encode=function(e,t){return Sy.encode(this._encode(t),e)};za.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};za.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};za.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<t;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};za.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)t[a]=t[a-1].add(i);return{wnd:e,points:t}};za.prototype._getBeta=function(){return null};za.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}});var aL=E((lFe,iL)=>{"use strict";h();p();var nse=ha(),At=Xu(),ES=zE(),L1=Ty(),ise=nse.assert;function Wa(r){L1.call(this,"short",r),this.a=new At(r.a,16).toRed(this.red),this.b=new At(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ES(Wa,L1);iL.exports=Wa;Wa.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new At(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new At(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))===0?n=a[0]:(n=a[1],ise(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new At(s.a,16),b:new At(s.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};Wa.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:At.mont(e),n=new At(2).toRed(t).redInvm(),i=n.redNeg(),a=new At(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};Wa.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new At(1),o=new At(0),s=new At(0),u=new At(1),f,c,l,g,y,_,w,I=0,T,O;n.cmpn(0)!==0;){var B=i.div(n);T=i.sub(B.mul(n)),O=s.sub(B.mul(a));var q=u.sub(B.mul(o));if(!l&&T.cmp(t)<0)f=w.neg(),c=a,l=T.neg(),g=O;else if(l&&++I===2)break;w=T,i=n,n=T,s=a,a=O,u=o,o=q}y=T.neg(),_=O;var C=l.sqr().add(g.sqr()),d=y.sqr().add(_.sqr());return d.cmp(C)>=0&&(y=f,_=c),l.negative&&(l=l.neg(),g=g.neg()),y.negative&&(y=y.neg(),_=_.neg()),[{a:l,b:g},{a:y,b:_}]};Wa.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=a.mul(n.a),u=o.mul(i.a),f=a.mul(n.b),c=o.mul(i.b),l=e.sub(s).sub(u),g=f.add(c).neg();return{k1:l,k2:g}};Wa.prototype.pointFromX=function(e,t){e=new At(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)};Wa.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Wa.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),u=e[o],f=u._getBeta();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),i[o*2]=u,i[o*2+1]=f,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var c=this._wnafMulAdd(1,i,a,o*2,n),l=0;l<o*2;l++)i[l]=null,a[l]=null;return c};function Or(r,e,t,n){L1.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new At(e,16),this.y=new At(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ES(Or,L1.BasePoint);Wa.prototype.point=function(e,t,n){return new Or(this,e,t,n)};Wa.prototype.pointFromJSON=function(e,t){return Or.fromJSON(this,e,t)};Or.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Or.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Or.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function a(s){return e.point(s[0],s[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};Or.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Or.prototype.isInfinity=function(){return this.inf};Or.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Or.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};Or.prototype.getX=function(){return this.x.fromRed()};Or.prototype.getY=function(){return this.y.fromRed()};Or.prototype.mul=function(e){return e=new At(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Or.prototype.mulAdd=function(e,t,n){var i=[this,t],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Or.prototype.jmulAdd=function(e,t,n){var i=[this,t],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Or.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Or.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};Or.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Gr(r,e,t,n){L1.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new At(0)):(this.x=new At(e,16),this.y=new At(t,16),this.z=new At(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ES(Gr,L1.BasePoint);Wa.prototype.jpoint=function(e,t,n){return new Gr(this,e,t,n)};Gr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Gr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Gr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),a=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),u=i.redSub(a),f=o.redSub(s);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),l=c.redMul(u),g=i.redMul(c),y=f.redSqr().redIAdd(l).redISub(g).redISub(g),_=f.redMul(g.redISub(y)).redISub(o.redMul(l)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(y,_,w)};Gr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),a=this.y,o=e.y.redMul(t).redMul(this.z),s=n.redSub(i),u=a.redSub(o);if(s.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),g=u.redSqr().redIAdd(c).redISub(l).redISub(l),y=u.redMul(l.redISub(g)).redISub(a.redMul(c)),_=this.z.redMul(s);return this.curve.jpoint(g,y,_)};Gr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,u=this.z,f=u.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),g=c.redSqr(),y=g.redSqr(),_=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),w=o.redMul(g),I=_.redSqr().redISub(w.redAdd(w)),T=w.redISub(I),O=_.redMul(T);O=O.redIAdd(O).redISub(y);var B=c.redMul(u);t+1<e&&(f=f.redMul(y)),o=I,u=B,c=O}return this.curve.jpoint(o,c.redMul(a),u)};Gr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Gr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=f,t=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),_=this.x.redAdd(g).redSqr().redISub(l).redISub(y);_=_.redIAdd(_);var w=l.redAdd(l).redIAdd(l),I=w.redSqr(),T=y.redIAdd(y);T=T.redIAdd(T),T=T.redIAdd(T),e=I.redISub(_).redISub(_),t=w.redMul(_.redISub(e)).redISub(T),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Gr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(s).redISub(s);e=f;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),t=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),_=this.x.redSub(l).redMul(this.x.redAdd(l));_=_.redAdd(_).redIAdd(_);var w=y.redIAdd(y);w=w.redIAdd(w);var I=w.redAdd(w);e=_.redSqr().redISub(I),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(l);var T=g.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),t=_.redMul(w.redISub(e)).redISub(T)}return this.curve.jpoint(e,t,n)};Gr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=t.redSqr(),s=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),f=t.redAdd(t);f=f.redIAdd(f);var c=f.redMul(s),l=u.redSqr().redISub(c.redAdd(c)),g=c.redISub(l),y=s.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var _=u.redMul(g).redISub(y),w=n.redAdd(n).redMul(i);return this.curve.jpoint(l,_,w)};Gr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var u=s.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var c=a.redIAdd(s).redSqr().redISub(o).redISub(u).redISub(f),l=t.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var g=this.x.redMul(u).redISub(l);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(c.redMul(f.redISub(c)).redISub(s.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var _=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(g,y,_)};Gr.prototype.mul=function(e,t){return e=new At(e,t),this.curve._wnafMul(this,e)};Gr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Gr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Gr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Gr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var uL=E((gFe,sL)=>{"use strict";h();p();var U1=Xu(),oL=zE(),lx=Ty(),ase=ha();function k1(r){lx.call(this,"mont",r),this.a=new U1(r.a,16).toRed(this.red),this.b=new U1(r.b,16).toRed(this.red),this.i4=new U1(4).toRed(this.red).redInvm(),this.two=new U1(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}oL(k1,lx);sL.exports=k1;k1.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Dr(r,e,t){lx.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new U1(e,16),this.z=new U1(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}oL(Dr,lx.BasePoint);k1.prototype.decodePoint=function(e,t){return this.point(ase.toArray(e,t),1)};k1.prototype.point=function(e,t){return new Dr(this,e,t)};k1.prototype.pointFromJSON=function(e){return Dr.fromJSON(this,e)};Dr.prototype.precompute=function(){};Dr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Dr.fromJSON=function(e,t){return new Dr(e,t[0],t[1]||e.one)};Dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Dr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Dr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=t.redSub(i),o=t.redMul(i),s=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,s)};Dr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Dr.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(n),u=a.redMul(i),f=t.z.redMul(s.redAdd(u).redSqr()),c=t.x.redMul(s.redISub(u).redSqr());return this.curve.point(f,c)};Dr.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),a=this,o=[];t.cmpn(0)!==0;t.iushrn(1))o.push(t.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Dr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Dr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Dr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Dr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var dL=E((mFe,cL)=>{"use strict";h();p();var ose=ha(),of=Xu(),fL=zE(),hx=Ty(),sse=ose.assert;function ou(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,hx.call(this,"edwards",r),this.a=new of(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new of(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new of(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),sse(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}fL(ou,hx);cL.exports=ou;ou.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ou.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ou.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)};ou.prototype.pointFromX=function(e,t){e=new of(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)};ou.prototype.pointFromY=function(e,t){e=new of(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)};ou.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return i.cmp(a)===0};function ht(r,e,t,n,i){hx.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new of(e,16),this.y=new of(t,16),this.z=n?new of(n,16):this.curve.one,this.t=i&&new of(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}fL(ht,hx.BasePoint);ou.prototype.pointFromJSON=function(e){return ht.fromJSON(this,e)};ou.prototype.point=function(e,t,n,i){return new ht(this,e,t,n,i)};ht.fromJSON=function(e,t){return new ht(e,t[0],t[1],t[2])};ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ht.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ht.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),s=o.redSub(n),u=i.redSub(t),f=a.redMul(s),c=o.redMul(u),l=a.redMul(u),g=s.redMul(o);return this.curve.point(f,c,g,l)};ht.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),i,a,o,s,u,f;if(this.curve.twisted){s=this.curve._mulA(t);var c=s.redAdd(n);this.zOne?(i=e.redSub(t).redSub(n).redMul(c.redSub(this.curve.two)),a=c.redMul(s.redSub(n)),o=c.redSqr().redSub(c).redSub(c)):(u=this.z.redSqr(),f=c.redSub(u).redISub(u),i=e.redSub(t).redISub(n).redMul(f),a=c.redMul(s.redSub(n)),o=c.redMul(f))}else s=t.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=s.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(s)).redMul(f),a=this.curve._mulC(s).redMul(t.redISub(n)),o=s.redMul(f);return this.curve.point(i,a,o)};ht.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ht.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),s=a.redSub(i),u=a.redAdd(i),f=n.redAdd(t),c=o.redMul(s),l=u.redMul(f),g=o.redMul(f),y=s.redMul(u);return this.curve.point(c,l,y,g)};ht.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(a),s=n.redSub(o),u=n.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),c=t.redMul(s).redMul(f),l,g;return this.curve.twisted?(l=t.redMul(u).redMul(a.redSub(this.curve._mulA(i))),g=s.redMul(u)):(l=t.redMul(u).redMul(a.redSub(i)),g=this.curve._mulC(s).redMul(u)),this.curve.point(c,l,g)};ht.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ht.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ht.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};ht.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};ht.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ht.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ht.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ht.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ht.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ht.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};ht.prototype.toP=ht.prototype.normalize;ht.prototype.mixedAdd=ht.prototype.add});var IS=E(lL=>{"use strict";h();p();var px=lL;px.base=Ty();px.short=aL();px.mont=uL();px.edwards=dL()});var pL=E((IFe,hL)=>{h();p();hL.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var gx=E(vL=>{"use strict";h();p();var TS=vL,Uc=aR(),SS=IS(),use=ha(),gL=use.assert;function yL(r){r.type==="short"?this.curve=new SS.short(r):r.type==="edwards"?this.curve=new SS.edwards(r):this.curve=new SS.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,gL(this.g.validate(),"Invalid curve"),gL(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}TS.PresetCurve=yL;function kc(r,e){Object.defineProperty(TS,r,{configurable:!0,enumerable:!0,get:function(){var t=new yL(e);return Object.defineProperty(TS,r,{configurable:!0,enumerable:!0,value:t}),t}})}kc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Uc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});kc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Uc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});kc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Uc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});kc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Uc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});kc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Uc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});kc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uc.sha256,gRed:!1,g:["9"]});kc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var CS;try{CS=pL()}catch{CS=void 0}kc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Uc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",CS]})});var _L=E((DFe,mL)=>{"use strict";h();p();var fse=Xu(),cse=ha(),AS=cse.assert;function Rn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}mL.exports=Rn;Rn.fromPublic=function(e,t,n){return t instanceof Rn?t:new Rn(e,{pub:t,pubEnc:n})};Rn.fromPrivate=function(e,t,n){return t instanceof Rn?t:new Rn(e,{priv:t,privEnc:n})};Rn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Rn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Rn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Rn.prototype._importPrivate=function(e,t){this.priv=new fse(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Rn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?AS(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&AS(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Rn.prototype.derive=function(e){return e.validate()||AS(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Rn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Rn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Rn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var wL=E((BFe,bL)=>{"use strict";h();p();var yx=Xu(),RS=ha(),dse=RS.assert;function vx(r,e){if(r instanceof vx)return r;this._importDER(r,e)||(dse(r.r&&r.s,"Signature without r or s"),this.r=new yx(r.r,16),this.s=new yx(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}bL.exports=vx;function lse(){this.place=0}function OS(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function xL(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}vx.prototype._importDER=function(e,t){e=RS.toArray(e,t);var n=new lse;if(e[n.place++]!==48)return!1;var i=OS(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=OS(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var s=OS(e,n);if(s===!1||e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new yx(o),this.s=new yx(u),this.recoveryParam=null,!0};function DS(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}vx.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=xL(t),n=xL(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];DS(i,t.length),i=i.concat(t),i.push(2),DS(i,n.length);var a=i.concat(n),o=[48];return DS(o,a.length),o=o.concat(a),RS.encode(o,e)}});var TL=E((qFe,SL)=>{"use strict";h();p();var $d=Xu(),EL=tQ(),hse=ha(),PS=gx(),pse=iR(),IL=hse.assert,BS=_L(),mx=wL();function Xa(r){if(!(this instanceof Xa))return new Xa(r);typeof r=="string"&&(IL(Object.prototype.hasOwnProperty.call(PS,r),"Unknown curve "+r),r=PS[r]),r instanceof PS.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}SL.exports=Xa;Xa.prototype.keyPair=function(e){return new BS(this,e)};Xa.prototype.keyFromPrivate=function(e,t){return BS.fromPrivate(this,e,t)};Xa.prototype.keyFromPublic=function(e,t){return BS.fromPublic(this,e,t)};Xa.prototype.genKeyPair=function(e){e||(e={});for(var t=new EL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||pse(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new $d(2));;){var a=new $d(t.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Xa.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Xa.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new $d(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),s=e.toArray("be",a),u=new EL({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new $d(1)),c=0;;c++){var l=i.k?i.k(c):new $d(u.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var g=this.g.mul(l);if(!g.isInfinity()){var y=g.getX(),_=y.umod(this.n);if(_.cmpn(0)!==0){var w=l.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var I=(g.getY().isOdd()?1:0)|(y.cmp(_)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),I^=1),new mx({r:_,s:w,recoveryParam:I})}}}}}};Xa.prototype.verify=function(e,t,n,i){e=this._truncateToN(new $d(e,16)),n=this.keyFromPublic(n,i),t=new mx(t,"hex");var a=t.r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};Xa.prototype.recoverPubKey=function(r,e,t,n){IL((3&t)===t,"The recovery param is more than two bits"),e=new mx(e,n);var i=this.n,a=new $d(r),o=e.r,s=e.s,u=t&1,f=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var c=e.r.invm(i),l=i.sub(a).mul(c).umod(i),g=s.mul(c).umod(i);return this.g.mulAdd(l,o,g)};Xa.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new mx(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(r,e,i)}catch{continue}if(a.eq(t))return i}throw new Error("Unable to find valid recovery factor")}});var DL=E((UFe,OL)=>{"use strict";h();p();var Cy=ha(),AL=Cy.assert,CL=Cy.parseBytes,j1=Cy.cachedProperty;function Rr(r,e){this.eddsa=r,this._secret=CL(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=CL(e.pub)}Rr.fromPublic=function(e,t){return t instanceof Rr?t:new Rr(e,{pub:t})};Rr.fromSecret=function(e,t){return t instanceof Rr?t:new Rr(e,{secret:t})};Rr.prototype.secret=function(){return this._secret};j1(Rr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});j1(Rr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});j1(Rr,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});j1(Rr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});j1(Rr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});j1(Rr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Rr.prototype.sign=function(e){return AL(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Rr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};Rr.prototype.getSecret=function(e){return AL(this._secret,"KeyPair is public only"),Cy.encode(this.secret(),e)};Rr.prototype.getPublic=function(e){return Cy.encode(this.pubBytes(),e)};OL.exports=Rr});var PL=E((HFe,RL)=>{"use strict";h();p();var gse=Xu(),_x=ha(),yse=_x.assert,xx=_x.cachedProperty,vse=_x.parseBytes;function Zd(r,e){this.eddsa=r,typeof e!="object"&&(e=vse(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),yse(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof gse&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}xx(Zd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});xx(Zd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});xx(Zd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});xx(Zd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Zd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Zd.prototype.toHex=function(){return _x.encode(this.toBytes(),"hex").toUpperCase()};RL.exports=Zd});var FL=E((GFe,qL)=>{"use strict";h();p();var mse=aR(),_se=gx(),H1=ha(),xse=H1.assert,ML=H1.parseBytes,NL=DL(),BL=PL();function Xi(r){if(xse(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Xi))return new Xi(r);r=_se[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=mse.sha512}qL.exports=Xi;Xi.prototype.sign=function(e,t){e=ML(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),o=this.encodePoint(a),s=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:u,Rencoded:o})};Xi.prototype.verify=function(e,t,n){e=ML(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),a=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S()),s=t.R().add(i.pub().mul(a));return s.eq(o)};Xi.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return H1.intFromLE(e.digest()).umod(this.curve.n)};Xi.prototype.keyFromPublic=function(e){return NL.fromPublic(this,e)};Xi.prototype.keyFromSecret=function(e){return NL.fromSecret(this,e)};Xi.prototype.makeSignature=function(e){return e instanceof BL?e:new BL(this,e)};Xi.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Xi.prototype.decodePoint=function(e){e=H1.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),i=(e[t]&128)!==0,a=H1.intFromLE(n);return this.curve.pointFromY(a,i)};Xi.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Xi.prototype.decodeInt=function(e){return H1.intFromLE(e)};Xi.prototype.isPoint=function(e){return e instanceof this.pointClass}});var UL=E(LL=>{"use strict";h();p();var Qd=LL;Qd.version=tL().version;Qd.utils=ha();Qd.rand=iR();Qd.curve=IS();Qd.curves=gx();Qd.ec=TL();Qd.eddsa=FL()});var jL=E(($Fe,kL)=>{h();p();var bse=UL().ec,su=new bse("secp256k1"),Re=su.curve,st=Re.n.constructor;function wse(r,e){let t=new st(e);if(t.cmp(Re.p)>=0)return null;t=t.toRed(Re.red);let n=t.redSqr().redIMul(t).redIAdd(Re.b).redSqrt();return r===3!==n.isOdd()&&(n=n.redNeg()),su.keyPair({pub:{x:t,y:n}})}function Ese(r,e,t){let n=new st(e),i=new st(t);if(n.cmp(Re.p)>=0||i.cmp(Re.p)>=0||(n=n.toRed(Re.red),i=i.toRed(Re.red),(r===6||r===7)&&i.isOdd()!==(r===7)))return null;let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(Re.b)).isZero()?su.keyPair({pub:{x:n,y:i}}):null}function jc(r){let e=r[0];switch(e){case 2:case 3:return r.length!==33?null:wse(e,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:Ese(e,r.subarray(1,33),r.subarray(33,65));default:return null}}function el(r,e){let t=e.encode(null,r.length===33);for(let n=0;n<r.length;++n)r[n]=t[n]}kL.exports={contextRandomize(){return 0},privateKeyVerify(r){let e=new st(r);return e.cmp(Re.n)<0&&!e.isZero()?0:1},privateKeyNegate(r){let e=new st(r),t=Re.n.sub(e).umod(Re.n).toArrayLike(Uint8Array,"be",32);return r.set(t),0},privateKeyTweakAdd(r,e){let t=new st(e);if(t.cmp(Re.n)>=0||(t.iadd(new st(r)),t.cmp(Re.n)>=0&&t.isub(Re.n),t.isZero()))return 1;let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},privateKeyTweakMul(r,e){let t=new st(e);if(t.cmp(Re.n)>=0||t.isZero())return 1;t.imul(new st(r)),t.cmp(Re.n)>=0&&(t=t.umod(Re.n));let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},publicKeyVerify(r){return jc(r)===null?1:0},publicKeyCreate(r,e){let t=new st(e);if(t.cmp(Re.n)>=0||t.isZero())return 1;let n=su.keyFromPrivate(e).getPublic();return el(r,n),0},publicKeyConvert(r,e){let t=jc(e);if(t===null)return 1;let n=t.getPublic();return el(r,n),0},publicKeyNegate(r,e){let t=jc(e);if(t===null)return 1;let n=t.getPublic();return n.y=n.y.redNeg(),el(r,n),0},publicKeyCombine(r,e){let t=new Array(e.length);for(let i=0;i<e.length;++i)if(t[i]=jc(e[i]),t[i]===null)return 1;let n=t[0].getPublic();for(let i=1;i<t.length;++i)n=n.add(t[i].pub);return n.isInfinity()?2:(el(r,n),0)},publicKeyTweakAdd(r,e,t){let n=jc(e);if(n===null)return 1;if(t=new st(t),t.cmp(Re.n)>=0)return 2;let i=n.getPublic().add(Re.g.mul(t));return i.isInfinity()?2:(el(r,i),0)},publicKeyTweakMul(r,e,t){let n=jc(e);if(n===null)return 1;if(t=new st(t),t.cmp(Re.n)>=0||t.isZero())return 2;let i=n.getPublic().mul(t);return el(r,i),0},signatureNormalize(r){let e=new st(r.subarray(0,32)),t=new st(r.subarray(32,64));return e.cmp(Re.n)>=0||t.cmp(Re.n)>=0?1:(t.cmp(su.nh)===1&&r.set(Re.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,e){let t=e.subarray(0,32),n=e.subarray(32,64);if(new st(t).cmp(Re.n)>=0||new st(n).cmp(Re.n)>=0)return 1;let{output:i}=r,a=i.subarray(4,4+33);a[0]=0,a.set(t,1);let o=33,s=0;for(;o>1&&a[s]===0&&!(a[s+1]&128);--o,++s);if(a=a.subarray(s),a[0]&128||o>1&&a[0]===0&&!(a[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let f=33,c=0;for(;f>1&&u[c]===0&&!(u[c+1]&128);--f,++c);return u=u.subarray(c),u[0]&128||f>1&&u[0]===0&&!(u[1]&128)?1:(r.outputlen=6+o+f,i[0]=48,i[1]=r.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+o]=2,i[5+o]=u.length,i.set(u,6+o),0)},signatureImport(r,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return 1;let n=e[5+t];if(n===0||6+t+n!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||n>1&&e[t+6]===0&&!(e[t+7]&128))return 1;let i=e.subarray(4,4+t);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+t);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let o=new st(i);o.cmp(Re.n)>=0&&(o=new st(0));let s=new st(e.subarray(6+t));return s.cmp(Re.n)>=0&&(s=new st(0)),r.set(o.toArrayLike(Uint8Array,"be",32),0),r.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,e,t,n,i){if(i){let s=i;i=u=>{let f=s(e,t,null,n,u);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new st(f)}}let a=new st(t);if(a.cmp(Re.n)>=0||a.isZero())return 1;let o;try{o=su.sign(e,t,{canonical:!0,k:i,pers:n})}catch{return 1}return r.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),r.recid=o.recoveryParam,0},ecdsaVerify(r,e,t){let n={r:r.subarray(0,32),s:r.subarray(32,64)},i=new st(n.r),a=new st(n.s);if(i.cmp(Re.n)>=0||a.cmp(Re.n)>=0)return 1;if(a.cmp(su.nh)===1||i.isZero()||a.isZero())return 3;let o=jc(t);if(o===null)return 2;let s=o.getPublic();return su.verify(e,n,s)?0:3},ecdsaRecover(r,e,t,n){let i={r:e.slice(0,32),s:e.slice(32,64)},a=new st(i.r),o=new st(i.s);if(a.cmp(Re.n)>=0||o.cmp(Re.n)>=0)return 1;if(a.isZero()||o.isZero())return 2;let s;try{s=su.recoverPubKey(n,i,t)}catch{return 2}return el(r,s),0},ecdh(r,e,t,n,i,a,o){let s=jc(e);if(s===null)return 1;let u=new st(t);if(u.cmp(Re.n)>=0||u.isZero())return 2;let f=s.getPublic().mul(u);if(i===void 0){let c=f.encode(null,!0),l=su.hash().update(c).digest();for(let g=0;g<32;++g)r[g]=l[g]}else{a||(a=new Uint8Array(32));let c=f.getX().toArray("be",32);for(let _=0;_<32;++_)a[_]=c[_];o||(o=new Uint8Array(32));let l=f.getY().toArray("be",32);for(let _=0;_<32;++_)o[_]=l[_];let g=i(a,o,n);if(!(g instanceof Uint8Array&&g.length===r.length))return 2;r.set(g)}return 0}}});var KL=E((eLe,HL)=>{h();p();HL.exports=eL()(jL())});var NS=E((nLe,WL)=>{h();p();var uu=ka(),Pn=YE().Buffer,wx=rQ(),MS=Vh(),Ise=$Z(),Hc=KL(),Sse=Pn.from("Bitcoin seed","utf8"),bx=2147483648,Tse=78,VL={private:76066276,public:76067358};function Ot(r){this.versions=r||VL,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(Ot.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(Ot.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(Ot.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(Ot.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){uu.equal(r.length,32,"Private key must be 32 bytes."),uu(Hc.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=Pn.from(Hc.publicKeyCreate(r,!0)),this._identifier=zL(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function GL(r,e){r._publicKey=Pn.from(e),r._identifier=zL(e),r._fingerprint=r._identifier.slice(0,4).readUInt32BE(0),r._privateKey=null}Object.defineProperty(Ot.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){uu(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),uu(Hc.publicKeyVerify(r)===!0,"Invalid public key");let e=r.length===65?Hc.publicKeyConvert(r,!0):r;GL(this,e)}});Object.defineProperty(Ot.prototype,"privateExtendedKey",{get:function(){return this._privateKey?MS.encode(YL(this,this.versions.private,Pn.concat([Pn.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(Ot.prototype,"publicExtendedKey",{get:function(){return MS.encode(YL(this,this.versions.public,this.publicKey))}});Ot.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var e=r.split("/"),t=this;return e.forEach(function(n,i){if(i===0){uu(/^[mM]{1}/.test(n),'Path must start with "m" or "M"');return}var a=n.length>1&&n[n.length-1]==="'",o=parseInt(n,10);uu(o<bx,"Invalid index"),a&&(o+=bx),t=t.deriveChild(o)}),t};Ot.prototype.deriveChild=function(r){var e=r>=bx,t=Pn.allocUnsafe(4);t.writeUInt32BE(r,0);var n;if(e){uu(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,a=Pn.alloc(1,0);i=Pn.concat([a,i]),n=Pn.concat([i,t])}else n=Pn.concat([this.publicKey,t]);var o=wx.createHmac("sha512",this.chainCode).update(n).digest(),s=o.slice(0,32),u=o.slice(32),f=new Ot(this.versions);if(this.privateKey)try{f.privateKey=Pn.from(Hc.privateKeyTweakAdd(Pn.from(this.privateKey),s))}catch{return this.deriveChild(r+1)}else try{f.publicKey=Pn.from(Hc.publicKeyTweakAdd(Pn.from(this.publicKey),s,!0))}catch{return this.deriveChild(r+1)}return f.chainCode=u,f.depth=this.depth+1,f.parentFingerprint=this.fingerprint,f.index=r,f};Ot.prototype.sign=function(r){return Pn.from(Hc.ecdsaSign(Uint8Array.from(r),Uint8Array.from(this.privateKey)).signature)};Ot.prototype.verify=function(r,e){return Hc.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(r),Uint8Array.from(this.publicKey))};Ot.prototype.wipePrivateData=function(){return this._privateKey&&wx.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};Ot.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};Ot.fromMasterSeed=function(r,e){var t=wx.createHmac("sha512",Sse).update(r).digest(),n=t.slice(0,32),i=t.slice(32),a=new Ot(e);return a.chainCode=i,a.privateKey=n,a};Ot.fromExtendedKey=function(r,e,t){e=e||VL,t=t||!1;var n=new Ot(e),i=MS.decode(r),a=i.readUInt32BE(0);uu(a===e.private||a===e.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var o=i.slice(45);return o.readUInt8(0)===0?(uu(a===e.private,"Version mismatch: version does not match private"),n.privateKey=o.slice(1)):(uu(a===e.public,"Version mismatch: version does not match public"),t?GL(n,o):n.publicKey=o),n};Ot.fromJSON=function(r){return Ot.fromExtendedKey(r.xpriv)};function YL(r,e,t){var n=Pn.allocUnsafe(Tse);n.writeUInt32BE(e,0),n.writeUInt8(r.depth,4);var i=r.depth?r.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(r.index,9),r.chainCode.copy(n,13),t.copy(n,45),n}function zL(r){var e=wx.createHash("sha256").update(r).digest();return new Ise().update(e).digest()}Ot.HARDENED_OFFSET=bx;WL.exports=Ot});var $L=E(fu=>{"use strict";h();p();Object.defineProperty(fu,"__esModule",{value:!0});var Ay,nr=tu(),Cse=(ZF(),ec($F)),Ase=(Ay=NS())&&typeof Ay=="object"&&"default"in Ay?Ay.default:Ay,XL=lQ(),Ex={ETH_SIGN_REQUEST:new nr.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new nr.RegistryType("eth-signature",402),ETH_NFT_ITEM:new nr.RegistryType("eth-nft-item",403)},{decodeToDataItem:Ose,RegistryTypes:Dse}=nr.extend,rr,Kc;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(rr||(rr={})),(Kc=fu.DataType||(fu.DataType={}))[Kc.transaction=1]="transaction",Kc[Kc.typedData=2]="typedData",Kc[Kc.personalMessage=3]="personalMessage",Kc[Kc.typedTransaction=4]="typedTransaction";var sf=class extends nr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Ex.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[rr.requestId]=new nr.DataItem(this.requestId,Dse.UUID.getTag())),this.address&&(t[rr.address]=this.address),this.chainId&&(t[rr.chainId]=this.chainId),this.origin&&(t[rr.origin]=this.origin),t[rr.signData]=this.signData,t[rr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[rr.derivationPath]=n,new nr.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,t,n,i,a,o,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new nr.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new nr.PathComponent({index:g,hardened:y})}),v.Buffer.from(i,"hex"));return new sf({requestId:a?v.Buffer.from(Cse.parse(a)):void 0,signData:e,dataType:t,derivationPath:c,chainId:o,address:s?v.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};sf.fromDataItem=r=>{let e=r.getData(),t=e[rr.signData],n=e[rr.dataType],i=nr.CryptoKeypath.fromDataItem(e[rr.derivationPath]),a=e[rr.chainId]?e[rr.chainId]:void 0,o=e[rr.address]?e[rr.address]:void 0,s=e[rr.requestId]?e[rr.requestId].getData():void 0;return new sf({requestId:s,signData:t,dataType:n,chainId:a,derivationPath:i,address:o,origin:e[rr.origin]?e[rr.origin]:void 0})},sf.fromCBOR=r=>{let e=Ose(r);return sf.fromDataItem(e)};var{RegistryTypes:Rse,decodeToDataItem:Pse}=nr.extend,uf;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(uf||(uf={}));var tl=class extends nr.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>Ex.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};return this.requestId&&(i[uf.requestId]=new nr.DataItem(this.requestId,Rse.UUID.getTag())),this.origin&&(i[uf.origin]=this.origin),i[uf.signature]=this.signature,new nr.DataItem(i)},this.signature=e,this.requestId=t,this.origin=n}};tl.fromDataItem=r=>{let e=r.getData(),t=e[uf.signature],n=e[uf.requestId]?e[uf.requestId].getData():void 0;return new tl(t,n,e[uf.origin])},tl.fromCBOR=r=>{let e=Pse(r);return tl.fromDataItem(e)};var{decodeToDataItem:Bse}=nr.extend,Ja;(function(r){r[r.chainId=1]="chainId",r[r.contractAddress=2]="contractAddress",r[r.contractName=3]="contractName",r[r.name=4]="name",r[r.mediaData=5]="mediaData"})(Ja||(Ja={}));var ff=class extends nr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Ex.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{let t={};return t[Ja.chainId]=this.chainId,t[Ja.name]=this.name,t[Ja.contractAddress]=this.contractAddress,t[Ja.contractName]=this.contractName,t[Ja.mediaData]=this.mediaData,new nr.DataItem(t)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i,a){return new ff({chainId:e,contractAddress:t,contractName:n,mediaData:a,name:i})}};ff.fromDataItem=r=>{let e=r.getData();return new ff({chainId:e[Ja.chainId],name:e[Ja.name],contractAddress:e[Ja.contractAddress],contractName:e[Ja.contractName],mediaData:e[Ja.mediaData]})},ff.fromCBOR=r=>{let e=Bse(r);return ff.fromDataItem(e)};var JL=(r,e)=>{let t=Ase.fromExtendedKey(r).derive(e),n="0x"+XL.publicToAddress(t.publicKey,!0).toString("hex");return XL.toChecksumAddress(n)};nr.patchTags(Object.values(Ex).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(nr).forEach(function(r){r!=="default"&&Object.defineProperty(fu,r,{enumerable:!0,get:function(){return nr[r]}})}),fu.ETHNFTItem=ff,fu.ETHSignature=tl,fu.EthSignRequest=sf,fu.findHDPathFromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let a=JL(e,"M/0/"+i);if(r.toLowerCase()==a.toLowerCase())return`${n}/0/${i}`}return null},fu.generateAddressFromXpub=JL});var QL=E((fLe,ZL)=>{"use strict";h();p();ZL.exports=$L()});var eU=E(Sx=>{"use strict";h();p();Object.defineProperty(Sx,"__esModule",{value:!0});Sx.KeystoneEthereumSDK=void 0;var Oy=QL(),rl=Lr(),Mse=Yi(),Ix=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Mse.URType.EthSignature)throw new Error("type not match");let t=Oy.ETHSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,rl.uuidStringify)(n),signature:(0,rl.toHex)(t.getSignature()),origin:t.getOrigin()}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:a,chainId:o,address:s,origin:u}){var f;return new Oy.EthSignRequest({requestId:(0,rl.uuidParse)(e),signData:(0,rl.toBuffer)(t),dataType:n,derivationPath:new Oy.CryptoKeypath((0,rl.parsePath)(i).map(c=>new Oy.PathComponent(c)),(0,rl.toBuffer)(a)),chainId:o,address:s!==void 0?(0,rl.toBuffer)(s):void 0,origin:u??((f=this.config)===null||f===void 0?void 0:f.origin)}).toUR()}};Ix.DataType=Oy.DataType;Sx.KeystoneEthereumSDK=Ix});function Dy(){if(!Tx&&(Tx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tx(Nse)}var Tx,Nse,qS=te(()=>{h();p();Nse=new Uint8Array(16)});var tU,rU=te(()=>{h();p();tU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qse(r){return typeof r=="string"&&tU.test(r)}var Vc,Ry=te(()=>{h();p();rU();Vc=qse});function Fse(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Yr[r[e+0]]+Yr[r[e+1]]+Yr[r[e+2]]+Yr[r[e+3]]+"-"+Yr[r[e+4]]+Yr[r[e+5]]+"-"+Yr[r[e+6]]+Yr[r[e+7]]+"-"+Yr[r[e+8]]+Yr[r[e+9]]+"-"+Yr[r[e+10]]+Yr[r[e+11]]+Yr[r[e+12]]+Yr[r[e+13]]+Yr[r[e+14]]+Yr[r[e+15]]).toLowerCase();if(!Vc(t))throw TypeError("Stringified UUID is invalid");return t}var Yr,Cx,Gc,Py=te(()=>{h();p();Ry();Yr=[];for(Cx=0;Cx<256;++Cx)Yr.push((Cx+256).toString(16).substr(1));Gc=Fse});function Lse(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||nU,o=r.clockseq!==void 0?r.clockseq:FS;if(a==null||o==null){var s=r.random||(r.rng||Dy)();a==null&&(a=nU=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=FS=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:US+1,c=u-LS+(f-US)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>LS)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");LS=u,US=f,FS=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Gc(i)}var nU,FS,LS,US,iU,aU=te(()=>{h();p();qS();Py();LS=0,US=0;iU=Lse});function Use(r){if(!Vc(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Ax,kS=te(()=>{h();p();Ry();Ax=Use});function kse(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Ox(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=kse(i)),typeof a=="string"&&(a=Ax(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Gc(u)}try{n.name=r}catch{}return n.DNS=jse,n.URL=Hse,n}var jse,Hse,jS=te(()=>{h();p();Py();kS();jse="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Hse="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Kse(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Vse(Gse(Yse(r),r.length*8))}function Vse(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function oU(r){return(r+64>>>9<<4)+14+1}function Gse(r,e){r[e>>5]|=128<<e%32,r[oU(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Bn(t,n,i,a,r[o],7,-680876936),a=Bn(a,t,n,i,r[o+1],12,-389564586),i=Bn(i,a,t,n,r[o+2],17,606105819),n=Bn(n,i,a,t,r[o+3],22,-1044525330),t=Bn(t,n,i,a,r[o+4],7,-176418897),a=Bn(a,t,n,i,r[o+5],12,1200080426),i=Bn(i,a,t,n,r[o+6],17,-1473231341),n=Bn(n,i,a,t,r[o+7],22,-45705983),t=Bn(t,n,i,a,r[o+8],7,1770035416),a=Bn(a,t,n,i,r[o+9],12,-1958414417),i=Bn(i,a,t,n,r[o+10],17,-42063),n=Bn(n,i,a,t,r[o+11],22,-1990404162),t=Bn(t,n,i,a,r[o+12],7,1804603682),a=Bn(a,t,n,i,r[o+13],12,-40341101),i=Bn(i,a,t,n,r[o+14],17,-1502002290),n=Bn(n,i,a,t,r[o+15],22,1236535329),t=Mn(t,n,i,a,r[o+1],5,-165796510),a=Mn(a,t,n,i,r[o+6],9,-1069501632),i=Mn(i,a,t,n,r[o+11],14,643717713),n=Mn(n,i,a,t,r[o],20,-373897302),t=Mn(t,n,i,a,r[o+5],5,-701558691),a=Mn(a,t,n,i,r[o+10],9,38016083),i=Mn(i,a,t,n,r[o+15],14,-660478335),n=Mn(n,i,a,t,r[o+4],20,-405537848),t=Mn(t,n,i,a,r[o+9],5,568446438),a=Mn(a,t,n,i,r[o+14],9,-1019803690),i=Mn(i,a,t,n,r[o+3],14,-187363961),n=Mn(n,i,a,t,r[o+8],20,1163531501),t=Mn(t,n,i,a,r[o+13],5,-1444681467),a=Mn(a,t,n,i,r[o+2],9,-51403784),i=Mn(i,a,t,n,r[o+7],14,1735328473),n=Mn(n,i,a,t,r[o+12],20,-1926607734),t=Nn(t,n,i,a,r[o+5],4,-378558),a=Nn(a,t,n,i,r[o+8],11,-2022574463),i=Nn(i,a,t,n,r[o+11],16,1839030562),n=Nn(n,i,a,t,r[o+14],23,-35309556),t=Nn(t,n,i,a,r[o+1],4,-1530992060),a=Nn(a,t,n,i,r[o+4],11,1272893353),i=Nn(i,a,t,n,r[o+7],16,-155497632),n=Nn(n,i,a,t,r[o+10],23,-1094730640),t=Nn(t,n,i,a,r[o+13],4,681279174),a=Nn(a,t,n,i,r[o],11,-358537222),i=Nn(i,a,t,n,r[o+3],16,-722521979),n=Nn(n,i,a,t,r[o+6],23,76029189),t=Nn(t,n,i,a,r[o+9],4,-640364487),a=Nn(a,t,n,i,r[o+12],11,-421815835),i=Nn(i,a,t,n,r[o+15],16,530742520),n=Nn(n,i,a,t,r[o+2],23,-995338651),t=qn(t,n,i,a,r[o],6,-198630844),a=qn(a,t,n,i,r[o+7],10,1126891415),i=qn(i,a,t,n,r[o+14],15,-1416354905),n=qn(n,i,a,t,r[o+5],21,-57434055),t=qn(t,n,i,a,r[o+12],6,1700485571),a=qn(a,t,n,i,r[o+3],10,-1894986606),i=qn(i,a,t,n,r[o+10],15,-1051523),n=qn(n,i,a,t,r[o+1],21,-2054922799),t=qn(t,n,i,a,r[o+8],6,1873313359),a=qn(a,t,n,i,r[o+15],10,-30611744),i=qn(i,a,t,n,r[o+6],15,-1560198380),n=qn(n,i,a,t,r[o+13],21,1309151649),t=qn(t,n,i,a,r[o+4],6,-145523070),a=qn(a,t,n,i,r[o+11],10,-1120210379),i=qn(i,a,t,n,r[o+2],15,718787259),n=qn(n,i,a,t,r[o+9],21,-343485551),t=Yc(t,s),n=Yc(n,u),i=Yc(i,f),a=Yc(a,c)}return[t,n,i,a]}function Yse(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(oU(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Yc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function zse(r,e){return r<<e|r>>>32-e}function Dx(r,e,t,n,i,a){return Yc(zse(Yc(Yc(e,r),Yc(n,a)),i),t)}function Bn(r,e,t,n,i,a,o){return Dx(e&t|~e&n,r,e,i,a,o)}function Mn(r,e,t,n,i,a,o){return Dx(e&n|t&~n,r,e,i,a,o)}function Nn(r,e,t,n,i,a,o){return Dx(e^t^n,r,e,i,a,o)}function qn(r,e,t,n,i,a,o){return Dx(t^(e|~n),r,e,i,a,o)}var sU,uU=te(()=>{h();p();sU=Kse});var Wse,fU,cU=te(()=>{h();p();jS();uU();Wse=Ox("v3",48,sU),fU=Wse});function Xse(r,e,t){r=r||{};var n=r.random||(r.rng||Dy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Gc(n)}var dU,lU=te(()=>{h();p();qS();Py();dU=Xse});function Jse(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function HS(r,e){return r<<e|r>>>32-e}function $se(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=HS(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=HS(w,5)+Jse(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=HS(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var hU,pU=te(()=>{h();p();hU=$se});var Zse,gU,yU=te(()=>{h();p();jS();pU();Zse=Ox("v5",80,hU),gU=Zse});var vU,mU=te(()=>{h();p();vU="00000000-0000-0000-0000-000000000000"});function Qse(r){if(!Vc(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var _U,xU=te(()=>{h();p();Ry();_U=Qse});var bU={};Qf(bU,{NIL:()=>vU,parse:()=>Ax,stringify:()=>Gc,v1:()=>iU,v3:()=>fU,v4:()=>dU,v5:()=>gU,validate:()=>Vc,version:()=>_U});var wU=te(()=>{h();p();aU();cU();lU();yU();mU();xU();Ry();Py();kS()});var EU=E(zc=>{"use strict";h();p();Object.defineProperty(zc,"__esModule",{value:!0});var ir=tu(),eue=(wU(),ec(bU)),Px={SOL_SIGN_REQUEST:new ir.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new ir.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new ir.RegistryType("sol-nft-item",1104)},{decodeToDataItem:tue,RegistryTypes:rue}=ir.extend,Rx,zr;(Rx=zc.SignType||(zc.SignType={}))[Rx.Transaction=1]="Transaction",Rx[Rx.Message=2]="Message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.address=4]="address",r[r.origin=5]="origin",r[r.signType=6]="signType"}(zr||(zr={}));var df=class extends ir.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Px.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};this.requestId&&(t[zr.requestId]=new ir.DataItem(this.requestId,rue.UUID.getTag())),this.address&&(t[zr.address]=this.address),this.origin&&(t[zr.origin]=this.origin),t[zr.signData]=this.signData,t[zr.signType]=this.signType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[zr.derivationPath]=n,new ir.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin,this.signType=e.signType}static constructSOLRequest(e,t,n,i,a,o,s){let u=t.replace(/[m|M]\//,"").split("/"),f=new ir.CryptoKeypath(u.map(c=>{let l=parseInt(c.replace("'","")),g=!1;return c.endsWith("'")&&(g=!0),new ir.PathComponent({index:l,hardened:g})}),v.Buffer.from(n,"hex"));return new df({requestId:a?v.Buffer.from(eue.parse(a)):void 0,signData:e,derivationPath:f,address:o?v.Buffer.from(o.replace("0x",""),"hex"):void 0,origin:s||void 0,signType:i})}};df.fromDataItem=r=>{let e=r.getData(),t=e[zr.signData],n=ir.CryptoKeypath.fromDataItem(e[zr.derivationPath]),i=e[zr.address]?e[zr.address]:void 0,a=e[zr.requestId]?e[zr.requestId].getData():void 0;return new df({requestId:a,signData:t,derivationPath:n,address:i,origin:e[zr.origin]?e[zr.origin]:void 0,signType:e[zr.signType]})},df.fromCBOR=r=>{let e=tue(r);return df.fromDataItem(e)};var{RegistryTypes:nue,decodeToDataItem:iue}=ir.extend,il;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(il||(il={}));var nl=class extends ir.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>Px.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[il.requestId]=new ir.DataItem(this.requestId,nue.UUID.getTag())),n[il.signature]=this.signature,new ir.DataItem(n)},this.signature=e,this.requestId=t}};nl.fromDataItem=r=>{let e=r.getData(),t=e[il.signature],n=e[il.requestId]?e[il.requestId].getData():void 0;return new nl(t,n)},nl.fromCBOR=r=>{let e=iue(r);return nl.fromDataItem(e)};var{decodeToDataItem:aue}=ir.extend,cu;(function(r){r[r.mintAddress=1]="mintAddress",r[r.collectionName=2]="collectionName",r[r.name=3]="name",r[r.mediaData=4]="mediaData"})(cu||(cu={}));var cf=class extends ir.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Px.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{let t={};return t[cu.name]=this.name,t[cu.mintAddress]=this.mintAddress,t[cu.collectionName]=this.collectionName,t[cu.mediaData]=this.mediaData,new ir.DataItem(t)},this.name=e.name,this.mintAddress=e.mintAddress,this.collectionName=e.collectionName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i){return new cf({mintAddress:e,collectionName:t,mediaData:i,name:n})}};cf.fromDataItem=r=>{let e=r.getData();return new cf({name:e[cu.name],mintAddress:e[cu.mintAddress],collectionName:e[cu.collectionName],mediaData:e[cu.mediaData]})},cf.fromCBOR=r=>{let e=aue(r);return cf.fromDataItem(e)},ir.patchTags(Object.values(Px).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ir).forEach(function(r){r!=="default"&&Object.defineProperty(zc,r,{enumerable:!0,get:function(){return ir[r]}})}),zc.SOLNFTItem=cf,zc.SolSignRequest=df,zc.SolSignature=nl});var SU=E((RUe,IU)=>{"use strict";h();p();IU.exports=EU()});var TU=E(Mx=>{"use strict";h();p();Object.defineProperty(Mx,"__esModule",{value:!0});Mx.KeystoneSolanaSDK=void 0;var By=SU(),al=Lr(),oue=Yi(),Bx=class{parseSignature(e){if(e.type!==oue.URType.SolSignature)throw new Error("type not match");let t=By.SolSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,al.uuidStringify)(n),signature:(0,al.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:a,address:o,origin:s}){return new By.SolSignRequest({requestId:(0,al.uuidParse)(e),signData:(0,al.toBuffer)(t),signType:n,derivationPath:new By.CryptoKeypath((0,al.parsePath)(i).map(u=>new By.PathComponent(u)),(0,al.toBuffer)(a)),address:o!==void 0?(0,al.toBuffer)(o):void 0,origin:s}).toUR()}};Bx.DataType=By.SignType;Mx.KeystoneSolanaSDK=Bx});var RU=E(Ii=>{"use strict";h();p();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.output=Ii.exists=Ii.hash=Ii.bytes=Ii.bool=Ii.number=void 0;function Nx(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}Ii.number=Nx;function CU(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}Ii.bool=CU;function KS(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}Ii.bytes=KS;function AU(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nx(r.outputLen),Nx(r.blockLen)}Ii.hash=AU;function OU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}Ii.exists=OU;function DU(r,e){KS(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Ii.output=DU;var sue={number:Nx,bool:CU,bytes:KS,hash:AU,exists:OU,output:DU};Ii.default=sue});var PU=E(qx=>{"use strict";h();p();Object.defineProperty(qx,"__esModule",{value:!0});qx.crypto=void 0;qx.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var zS=E(Ce=>{"use strict";h();p();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.randomBytes=Ce.wrapConstructorWithOpts=Ce.wrapConstructor=Ce.checkOpts=Ce.Hash=Ce.concatBytes=Ce.toBytes=Ce.utf8ToBytes=Ce.asyncLoop=Ce.nextTick=Ce.hexToBytes=Ce.bytesToHex=Ce.isLE=Ce.rotr=Ce.createView=Ce.u32=Ce.u8=void 0;var VS=PU(),uue=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);Ce.u8=uue;var fue=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));Ce.u32=fue;var cue=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);Ce.createView=cue;var due=(r,e)=>r<<32-e|r>>>e;Ce.rotr=due;Ce.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ce.isLE)throw new Error("Non little-endian hardware is not supported");var lue=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function hue(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=lue[r[t]];return e}Ce.bytesToHex=hue;function pue(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[t]=a}return e}Ce.hexToBytes=pue;var gue=async()=>{};Ce.nextTick=gue;async function yue(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);let a=Date.now()-n;a>=0&&a<e||(await(0,Ce.nextTick)(),n+=a)}}Ce.asyncLoop=yue;function BU(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}Ce.utf8ToBytes=BU;function YS(r){if(typeof r=="string"&&(r=BU(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}Ce.toBytes=YS;function vue(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let a=r[n];t.set(a,i),i+=a.length}return t}Ce.concatBytes=vue;var GS=class{clone(){return this._cloneInto()}};Ce.Hash=GS;var mue=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function _ue(r,e){if(e!==void 0&&(typeof e!="object"||!mue(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}Ce.checkOpts=_ue;function xue(r){let e=n=>r().update(YS(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}Ce.wrapConstructor=xue;function bue(r){let e=(n,i)=>r(i).update(YS(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}Ce.wrapConstructorWithOpts=bue;function wue(r=32){if(VS.crypto&&typeof VS.crypto.getRandomValues=="function")return VS.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}Ce.randomBytes=wue});var MU=E(Fx=>{"use strict";h();p();Object.defineProperty(Fx,"__esModule",{value:!0});Fx.SHA2=void 0;var WS=RU(),My=zS();function Eue(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),a=BigInt(4294967295),o=Number(t>>i&a),s=Number(t&a),u=n?4:0,f=n?0:4;r.setUint32(e+u,o,n),r.setUint32(e+f,s,n)}var XS=class extends My.Hash{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,My.createView)(this.buffer)}update(e){WS.default.exists(this);let{view:t,buffer:n,blockLen:i}=this;e=(0,My.toBytes)(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let u=(0,My.createView)(e);for(;i<=a-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){WS.default.exists(this),WS.default.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:a}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)t[l]=0;Eue(n,i-8,BigInt(this.length*8),a),this.process(n,0);let s=(0,My.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)s.setUint32(4*l,c[l],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%t&&e.buffer.set(n),e}};Fx.SHA2=XS});var NU=E(K1=>{"use strict";h();p();Object.defineProperty(K1,"__esModule",{value:!0});K1.sha224=K1.sha256=void 0;var Iue=MU(),$a=zS(),Sue=(r,e,t)=>r&e^~r&t,Tue=(r,e,t)=>r&e^r&t^e&t,Cue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xc=new Uint32Array(64),Lx=class extends Iue.SHA2{constructor(){super(64,32,8,!1),this.A=Wc[0]|0,this.B=Wc[1]|0,this.C=Wc[2]|0,this.D=Wc[3]|0,this.E=Wc[4]|0,this.F=Wc[5]|0,this.G=Wc[6]|0,this.H=Wc[7]|0}get(){let{A:e,B:t,C:n,D:i,E:a,F:o,G:s,H:u}=this;return[e,t,n,i,a,o,s,u]}set(e,t,n,i,a,o,s,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(e,t){for(let l=0;l<16;l++,t+=4)Xc[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){let g=Xc[l-15],y=Xc[l-2],_=(0,$a.rotr)(g,7)^(0,$a.rotr)(g,18)^g>>>3,w=(0,$a.rotr)(y,17)^(0,$a.rotr)(y,19)^y>>>10;Xc[l]=w+Xc[l-7]+_+Xc[l-16]|0}let{A:n,B:i,C:a,D:o,E:s,F:u,G:f,H:c}=this;for(let l=0;l<64;l++){let g=(0,$a.rotr)(s,6)^(0,$a.rotr)(s,11)^(0,$a.rotr)(s,25),y=c+g+Sue(s,u,f)+Cue[l]+Xc[l]|0,w=((0,$a.rotr)(n,2)^(0,$a.rotr)(n,13)^(0,$a.rotr)(n,22))+Tue(n,i,a)|0;c=f,f=u,u=s,s=o+y|0,o=a,a=i,i=n,n=y+w|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(n,i,a,o,s,u,f,c)}roundClean(){Xc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},JS=class extends Lx{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};K1.sha256=(0,$a.wrapConstructor)(()=>new Lx);K1.sha224=(0,$a.wrapConstructor)(()=>new JS)});var FU=E((ZUe,qU)=>{"use strict";h();p();var $S=cQ();qU.exports=function(r){function e(a){var o=Uint8Array.from(a),s=r(o),u=o.length+4,f=new Uint8Array(u);return f.set(o,0),f.set(s.subarray(0,4),o.length),$S.encode(f,u)}function t(a){var o=a.slice(0,-4),s=a.slice(-4),u=r(o);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return o}function n(a){var o=$S.decodeUnsafe(a);if(!!o)return t(o)}function i(a){var o=$S.decode(a),s=t(o,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var kU=E((tke,UU)=>{"use strict";h();p();var{sha256:LU}=NU(),Aue=FU();function Oue(r){return LU(LU(r))}UU.exports=Aue(Oue)});var ls=E(du=>{"use strict";h();p();Object.defineProperty(du,"__esModule",{value:!0});du.assertFloat32=du.assertUInt32=du.assertInt32=du.assert=void 0;function Due(r,e){if(!r)throw new Error(e)}du.assert=Due;var Rue=34028234663852886e22,Pue=-34028234663852886e22,Bue=4294967295,Mue=2147483647,Nue=-2147483648;function que(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>Mue||r<Nue)throw new Error("invalid int 32: "+r)}du.assertInt32=que;function Fue(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>Bue||r<0)throw new Error("invalid uint 32: "+r)}du.assertUInt32=Fue;function Lue(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(!!Number.isFinite(r)&&(r>Rue||r<Pue))throw new Error("invalid float 32: "+r)}du.assertFloat32=Lue});var Ux=E(lu=>{"use strict";h();p();Object.defineProperty(lu,"__esModule",{value:!0});lu.makeEnum=lu.makeEnumType=lu.setEnumType=lu.getEnumType=void 0;var Uue=ls(),jU=Symbol("@bufbuild/protobuf/enum-type");function kue(r){let e=r[jU];return(0,Uue.assert)(e,"missing enum type on enum object"),e}lu.getEnumType=kue;function HU(r,e,t,n){r[jU]=KU(e,t.map(i=>({no:i.no,name:i.name,localName:r[i.no]})),n)}lu.setEnumType=HU;function KU(r,e,t){let n=Object.create(null),i=Object.create(null),a=[];for(let o of e){let s=VU(o);a.push(s),n[o.name]=s,i[o.no]=s}return{typeName:r,values:a,findName(o){return n[o]},findNumber(o){return i[o]}}}lu.makeEnumType=KU;function jue(r,e,t){let n={};for(let i of e){let a=VU(i);n[a.localName]=a.no,n[a.no]=a.localName}return HU(n,r,e,t),n}lu.makeEnum=jue;function VU(r){return"localName"in r?r:Object.assign(Object.assign({},r),{localName:r.name})}});var vr=E(kx=>{"use strict";h();p();Object.defineProperty(kx,"__esModule",{value:!0});kx.Message=void 0;var ZS=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){let n=this.getType(),i=n.runtime.bin,a=i.makeReadOptions(t);return i.readMessage(this,a.readerFactory(e),e.byteLength,a),this}fromJson(e,t){let n=this.getType(),i=n.runtime.json,a=i.makeReadOptions(t);return i.readMessage(n,e,a,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(n,t)}toBinary(e){let t=this.getType(),n=t.runtime.bin,i=n.makeWriteOptions(e),a=i.writerFactory();return n.writeMessage(this,a,i),a.finish()}toJson(e){let t=this.getType(),n=t.runtime.json,i=n.makeWriteOptions(e);return n.writeMessage(this,i)}toJsonString(e){var t;let n=this.toJson(e);return JSON.stringify(n,null,(t=e?.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};kx.Message=ZS});var GU=E(jx=>{"use strict";h();p();Object.defineProperty(jx,"__esModule",{value:!0});jx.makeMessageType=void 0;var Hue=vr();function Kue(r,e,t,n){var i;let a=(i=n?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[a]:function(s){r.util.initFields(this),r.util.initPartial(s,this)}}[a];return Object.setPrototypeOf(o.prototype,new Hue.Message),Object.assign(o,{runtime:r,typeName:e,fields:r.util.newFieldList(t),fromBinary(s,u){return new o().fromBinary(s,u)},fromJson(s,u){return new o().fromJson(s,u)},fromJsonString(s,u){return new o().fromJsonString(s,u)},equals(s,u){return r.util.equals(o,s,u)}}),o}jx.makeMessageType=Kue});var eT=E(Hx=>{"use strict";h();p();Object.defineProperty(Hx,"__esModule",{value:!0});Hx.makeProtoRuntime=void 0;var QS=Ux(),Vue=GU();function Gue(r,e,t,n){return{syntax:r,json:e,bin:t,util:n,makeMessageType(i,a,o){return(0,Vue.makeMessageType)(this,i,a,o)},makeEnum:QS.makeEnum,makeEnumType:QS.makeEnumType,getEnumType:QS.getEnumType}}Hx.makeProtoRuntime=Gue});var pa=E(Ny=>{"use strict";h();p();Object.defineProperty(Ny,"__esModule",{value:!0});Ny.ScalarType=void 0;var Yue;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(Yue=Ny.ScalarType||(Ny.ScalarType={}))});var rT=E(Fn=>{"use strict";h();p();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.varint32read=Fn.varint32write=Fn.uInt64ToString=Fn.int64ToString=Fn.int64FromString=Fn.varint64write=Fn.varint64read=void 0;function zue(){let r=0,e=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(r|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}let t=this.buf[this.pos++];if(r|=(t&15)<<28,e=(t&112)>>4,(t&128)==0)return this.assertBounds(),[r,e];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}throw new Error("invalid varint")}Fn.varint64read=zue;function Wue(r,e,t){for(let a=0;a<28;a=a+7){let o=r>>>a,s=!(o>>>7==0&&e==0),u=(s?o|128:o)&255;if(t.push(u),!s)return}let n=r>>>28&15|(e&7)<<4,i=e>>3!=0;if(t.push((i?n|128:n)&255),!!i){for(let a=3;a<31;a=a+7){let o=e>>>a,s=o>>>7!=0,u=(s?o|128:o)&255;if(t.push(u),!s)return}t.push(e>>>31&1)}}Fn.varint64write=Wue;var Kx=4294967296;function Xue(r){let e=r[0]==="-";e&&(r=r.slice(1));let t=1e6,n=0,i=0;function a(o,s){let u=Number(r.slice(o,s));i*=t,n=n*t+u,n>=Kx&&(i=i+(n/Kx|0),n=n%Kx)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?WU(n,i):tT(n,i)}Fn.int64FromString=Xue;function Jue(r,e){let t=tT(r,e),n=t.hi&2147483648;n&&(t=WU(t.lo,t.hi));let i=zU(t.lo,t.hi);return n?"-"+i:i}Fn.int64ToString=Jue;function zU(r,e){if({lo:r,hi:e}=$ue(r,e),e<=2097151)return String(Kx*e+r);let t=r&16777215,n=(r>>>24|e<<8)&16777215,i=e>>16&65535,a=t+n*6777216+i*6710656,o=n+i*8147497,s=i*2,u=1e7;return a>=u&&(o+=Math.floor(a/u),a%=u),o>=u&&(s+=Math.floor(o/u),o%=u),s.toString()+YU(o)+YU(a)}Fn.uInt64ToString=zU;function $ue(r,e){return{lo:r>>>0,hi:e>>>0}}function tT(r,e){return{lo:r|0,hi:e|0}}function WU(r,e){return e=~e,r?r=~r+1:e+=1,tT(r,e)}var YU=r=>{let e=String(r);return"0000000".slice(e.length)+e};function Zue(r,e){if(r>=0){for(;r>127;)e.push(r&127|128),r=r>>>7;e.push(r)}else{for(let t=0;t<9;t++)e.push(r&127|128),r=r>>7;e.push(1)}}Fn.varint32write=Zue;function Que(){let r=this.buf[this.pos++],e=r&127;if((r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<7,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<14,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<21,(r&128)==0)return this.assertBounds(),e;r=this.buf[this.pos++],e|=(r&15)<<28;for(let t=5;(r&128)!==0&&t<10;t++)r=this.buf[this.pos++];if((r&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}Fn.varint32read=Que});var lf=E(Gx=>{"use strict";h();p();Object.defineProperty(Gx,"__esModule",{value:!0});Gx.protoInt64=void 0;var XU=ls(),Vx=rT();function efe(){let r=new DataView(new ArrayBuffer(8));if(globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>a||f<i)throw new Error(`int64 invalid: ${u}`);return f},uParse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>s||f<o)throw new Error(`uint64 invalid: ${u}`);return f},enc(u){return r.setBigInt64(0,this.parse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},uEnc(u){return r.setBigInt64(0,this.uParse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},dec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigInt64(0,!0)},uDec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigUint64(0,!0)}}}let t=i=>(0,XU.assert)(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),n=i=>(0,XU.assert)(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),t(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),t(i),(0,Vx.int64FromString)(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),n(i),(0,Vx.int64FromString)(i)},dec(i,a){return(0,Vx.int64ToString)(i,a)},uDec(i,a){return(0,Vx.uInt64ToString)(i,a)}}}Gx.protoInt64=efe()});var qy=E(hf=>{"use strict";h();p();Object.defineProperty(hf,"__esModule",{value:!0});hf.BinaryReader=hf.BinaryWriter=hf.WireType=void 0;var sl=rT(),V1=ls(),hu=lf(),ol;(function(r){r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32"})(ol=hf.WireType||(hf.WireType={}));var nT=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let t=new Uint8Array(e),n=0;for(let i=0;i<this.chunks.length;i++)t.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for((0,V1.assertUInt32)(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return(0,V1.assertInt32)(e),(0,sl.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){(0,V1.assertFloat32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){(0,V1.assertUInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){(0,V1.assertInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return(0,V1.assertInt32)(e),e=(e<<1^e>>31)>>>0,(0,sl.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=hu.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=hu.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=hu.protoInt64.enc(e);return(0,sl.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=hu.protoInt64.enc(e),n=t.hi>>31,i=t.lo<<1^n,a=(t.hi<<1|t.lo>>>31)^n;return(0,sl.varint64write)(i,a,this.buf),this}uint64(e){let t=hu.protoInt64.uEnc(e);return(0,sl.varint64write)(t.lo,t.hi,this.buf),this}};hf.BinaryWriter=nT;var iT=class{constructor(e,t){this.varint64=sl.varint64read,this.uint32=sl.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=e&7;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case ol.Varint:for(;this.buf[this.pos++]&128;);break;case ol.Bit64:this.pos+=4;case ol.Bit32:this.pos+=4;break;case ol.LengthDelimited:let n=this.uint32();this.pos+=n;break;case ol.StartGroup:let i;for(;(i=this.tag()[1])!==ol.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return hu.protoInt64.dec(...this.varint64())}uint64(){return hu.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(e&1);return e=(e>>>1|(t&1)<<31)^n,t=t>>>1^n,hu.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return hu.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return hu.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};hf.BinaryReader=iT});var Fy=E(G1=>{"use strict";h();p();Object.defineProperty(G1,"__esModule",{value:!0});G1.getUnwrappedFieldType=G1.wrapField=void 0;var tfe=vr(),pf=pa();function rfe(r,e){return e instanceof tfe.Message||!r.fieldWrapper?e:r.fieldWrapper.wrapField(e)}G1.wrapField=rfe;function nfe(r){if(r.fieldKind==="message"&&!r.repeated&&r.oneof==null)return ife[r.message.typeName]}G1.getUnwrappedFieldType=nfe;var ife={"google.protobuf.DoubleValue":pf.ScalarType.DOUBLE,"google.protobuf.FloatValue":pf.ScalarType.FLOAT,"google.protobuf.Int64Value":pf.ScalarType.INT64,"google.protobuf.UInt64Value":pf.ScalarType.UINT64,"google.protobuf.Int32Value":pf.ScalarType.INT32,"google.protobuf.UInt32Value":pf.ScalarType.UINT32,"google.protobuf.BoolValue":pf.ScalarType.BOOL,"google.protobuf.StringValue":pf.ScalarType.STRING,"google.protobuf.BytesValue":pf.ScalarType.BYTES}});var Ly=E(Jc=>{"use strict";h();p();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.scalarTypeInfo=Jc.scalarDefaultValue=Jc.scalarEquals=void 0;var $e=pa(),gf=qy(),afe=lf();function ofe(r,e,t){if(e===t)return!0;if(r==$e.ScalarType.BYTES){if(!(e instanceof Uint8Array)||!(t instanceof Uint8Array)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}switch(r){case $e.ScalarType.UINT64:case $e.ScalarType.FIXED64:case $e.ScalarType.INT64:case $e.ScalarType.SFIXED64:case $e.ScalarType.SINT64:return e==t}return!1}Jc.scalarEquals=ofe;function sfe(r){switch(r){case $e.ScalarType.BOOL:return!1;case $e.ScalarType.UINT64:case $e.ScalarType.FIXED64:case $e.ScalarType.INT64:case $e.ScalarType.SFIXED64:case $e.ScalarType.SINT64:return afe.protoInt64.zero;case $e.ScalarType.DOUBLE:case $e.ScalarType.FLOAT:return 0;case $e.ScalarType.BYTES:return new Uint8Array(0);case $e.ScalarType.STRING:return"";default:return 0}}Jc.scalarDefaultValue=sfe;function ufe(r,e){let t=e===void 0,n=gf.WireType.Varint,i=e===0;switch(r){case $e.ScalarType.STRING:i=t||!e.length,n=gf.WireType.LengthDelimited;break;case $e.ScalarType.BOOL:i=e===!1;break;case $e.ScalarType.DOUBLE:n=gf.WireType.Bit64;break;case $e.ScalarType.FLOAT:n=gf.WireType.Bit32;break;case $e.ScalarType.INT64:i=t||e==0;break;case $e.ScalarType.UINT64:i=t||e==0;break;case $e.ScalarType.FIXED64:i=t||e==0,n=gf.WireType.Bit64;break;case $e.ScalarType.BYTES:i=t||!e.byteLength,n=gf.WireType.LengthDelimited;break;case $e.ScalarType.FIXED32:n=gf.WireType.Bit32;break;case $e.ScalarType.SFIXED32:n=gf.WireType.Bit32;break;case $e.ScalarType.SFIXED64:i=t||e==0,n=gf.WireType.Bit64;break;case $e.ScalarType.SINT64:i=t||e==0;break}let a=$e.ScalarType[r].toLowerCase();return[n,a,t||i]}Jc.scalarTypeInfo=ufe});var Xx=E(Za=>{"use strict";h();p();Object.defineProperty(Za,"__esModule",{value:!0});Za.writePacked=Za.writeScalar=Za.writeMessageField=Za.writeMapEntry=Za.makeBinaryFormatCommon=void 0;var z1=qy(),ffe=vr(),pt=pa(),cfe=Fy(),Wx=Ly(),dfe=ls(),Y1=Symbol("@bufbuild/protobuf/unknown-fields"),JU={readUnknownFields:!0,readerFactory:r=>new z1.BinaryReader(r)},$U={writeUnknownFields:!0,writerFactory:()=>new z1.BinaryWriter};function lfe(r){return r?Object.assign(Object.assign({},JU),r):JU}function hfe(r){return r?Object.assign(Object.assign({},$U),r):$U}function pfe(){return{makeReadOptions:lfe,makeWriteOptions:hfe,listUnknownFields(r){var e;return(e=r[Y1])!==null&&e!==void 0?e:[]},discardUnknownFields(r){delete r[Y1]},writeUnknownFields(r,e){let n=r[Y1];if(n)for(let i of n)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(r,e,t,n){let i=r;Array.isArray(i[Y1])||(i[Y1]=[]),i[Y1].push({no:e,wireType:t,data:n})},readMessage(r,e,t,n){let i=r.getType(),a=t===void 0?e.len:e.pos+t;for(;e.pos<a;){let[o,s]=e.tag(),u=i.fields.find(o);if(!u){let g=e.skip(s);n.readUnknownFields&&this.onUnknownField(r,o,s,g);continue}let f=r,c=u.repeated,l=u.localName;switch(u.oneof&&(f=f[u.oneof.localName],f.case!=l&&delete f.value,f.case=l,l="value"),u.kind){case"scalar":case"enum":let g=u.kind=="enum"?pt.ScalarType.INT32:u.T;if(c){let I=f[l];if(s==z1.WireType.LengthDelimited&&g!=pt.ScalarType.STRING&&g!=pt.ScalarType.BYTES){let T=e.uint32()+e.pos;for(;e.pos<T;)I.push(Uy(e,g))}else I.push(Uy(e,g))}else f[l]=Uy(e,g);break;case"message":let y=u.T;c?f[l].push(Yx(e,new y,n)):f[l]instanceof ffe.Message?Yx(e,f[l],n):(f[l]=Yx(e,new y,n),y.fieldWrapper&&!u.oneof&&!u.repeated&&(f[l]=y.fieldWrapper.unwrapField(f[l])));break;case"map":let[_,w]=gfe(u,e,n);f[l][_]=w;break}}}}}Za.makeBinaryFormatCommon=pfe;function Yx(r,e,t){return e.getType().runtime.bin.readMessage(e,r,r.uint32(),t),e}function gfe(r,e,t){let n=e.uint32(),i=e.pos+n,a,o;for(;e.pos<i;){let[s]=e.tag();switch(s){case 1:a=Uy(e,r.K);break;case 2:switch(r.V.kind){case"scalar":o=Uy(e,r.V.T);break;case"enum":o=e.int32();break;case"message":o=Yx(e,new r.V.T,t);break}break}}if(a===void 0){let s=(0,Wx.scalarDefaultValue)(r.K);a=r.K==pt.ScalarType.BOOL?s.toString():s}if(typeof a!="string"&&typeof a!="number"&&(a=a.toString()),o===void 0)switch(r.V.kind){case"scalar":o=(0,Wx.scalarDefaultValue)(r.V.T);break;case"enum":o=0;break;case"message":o=new r.V.T;break}return[a,o]}function Uy(r,e){switch(e){case pt.ScalarType.STRING:return r.string();case pt.ScalarType.BOOL:return r.bool();case pt.ScalarType.DOUBLE:return r.double();case pt.ScalarType.FLOAT:return r.float();case pt.ScalarType.INT32:return r.int32();case pt.ScalarType.INT64:return r.int64();case pt.ScalarType.UINT64:return r.uint64();case pt.ScalarType.FIXED64:return r.fixed64();case pt.ScalarType.BYTES:return r.bytes();case pt.ScalarType.FIXED32:return r.fixed32();case pt.ScalarType.SFIXED32:return r.sfixed32();case pt.ScalarType.SFIXED64:return r.sfixed64();case pt.ScalarType.SINT64:return r.sint64();case pt.ScalarType.UINT32:return r.uint32();case pt.ScalarType.SINT32:return r.sint32()}}function yfe(r,e,t,n,i){r.tag(t.no,z1.WireType.LengthDelimited),r.fork();let a=n;switch(t.K){case pt.ScalarType.INT32:case pt.ScalarType.FIXED32:case pt.ScalarType.UINT32:case pt.ScalarType.SFIXED32:case pt.ScalarType.SINT32:a=Number.parseInt(n);break;case pt.ScalarType.BOOL:(0,dfe.assert)(n=="true"||n=="false"),a=n=="true";break}switch(zx(r,t.K,1,a,!0),t.V.kind){case"scalar":zx(r,t.V.T,2,i,!0);break;case"enum":zx(r,pt.ScalarType.INT32,2,i,!0);break;case"message":ZU(r,e,t.V.T,2,i);break}r.join()}Za.writeMapEntry=yfe;function ZU(r,e,t,n,i){if(i!==void 0){let a=(0,cfe.wrapField)(t,i);r.tag(n,z1.WireType.LengthDelimited).bytes(a.toBinary(e))}}Za.writeMessageField=ZU;function zx(r,e,t,n,i){let[a,o,s]=(0,Wx.scalarTypeInfo)(e,n);(!s||i)&&r.tag(t,a)[o](n)}Za.writeScalar=zx;function vfe(r,e,t,n){if(!n.length)return;r.tag(t,z1.WireType.LengthDelimited).fork();let[,i]=(0,Wx.scalarTypeInfo)(e);for(let a=0;a<n.length;a++)r[i](n[a]);r.join()}Za.writePacked=vfe});var QU=E(Jx=>{"use strict";h();p();Object.defineProperty(Jx,"__esModule",{value:!0});Jx.makeBinaryFormatProto3=void 0;var mfe=pa(),ul=Xx();function _fe(){return Object.assign(Object.assign({},(0,ul.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType();for(let i of n.fields.byNumber()){let a,o=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;a=u.value}else a=r[s];switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?mfe.ScalarType.INT32:i.T;if(o)if(i.packed)(0,ul.writePacked)(e,u,i.no,a);else for(let f of a)(0,ul.writeScalar)(e,u,i.no,f,!0);else a!==void 0&&(0,ul.writeScalar)(e,u,i.no,a,!!i.oneof||i.opt);break;case"message":if(o)for(let f of a)(0,ul.writeMessageField)(e,t,i.T,i.no,f);else(0,ul.writeMessageField)(e,t,i.T,i.no,a);break;case"map":for(let[f,c]of Object.entries(a))(0,ul.writeMapEntry)(e,t,i,f,c);break}}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}Jx.makeBinaryFormatProto3=_fe});var aT=E(Zx=>{"use strict";h();p();Object.defineProperty(Zx,"__esModule",{value:!0});Zx.protoBase64=void 0;var yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),$x=[];for(let r=0;r<yf.length;r++)$x[yf[r].charCodeAt(0)]=r;$x["-".charCodeAt(0)]=yf.indexOf("+");$x["_".charCodeAt(0)]=yf.indexOf("/");Zx.protoBase64={dec(r){let e=r.length*3/4;r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&(e-=1);let t=new Uint8Array(e),n=0,i=0,a,o=0;for(let s=0;s<r.length;s++){if(a=$x[r.charCodeAt(s)],a===void 0)switch(r[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=a,i=1;break;case 1:t[n++]=o<<2|(a&48)>>4,o=a,i=2;break;case 2:t[n++]=(o&15)<<4|(a&60)>>2,o=a,i=3;break;case 3:t[n++]=(o&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return t.subarray(0,n)},enc(r){let e="",t=0,n,i=0;for(let a=0;a<r.length;a++)switch(n=r[a],t){case 0:e+=yf[n>>2],i=(n&3)<<4,t=1;break;case 1:e+=yf[i|n>>4],i=(n&15)<<2,t=2;break;case 2:e+=yf[i|n>>6],e+=yf[n&63],t=0;break}return t&&(e+=yf[i],e+="=",t==1&&(e+="=")),e}}});var sT=E(eb=>{"use strict";h();p();Object.defineProperty(eb,"__esModule",{value:!0});eb.makeJsonFormatCommon=void 0;var xfe=vr(),qe=pa(),vf=ls(),Qx=lf(),nk=aT(),ek={ignoreUnknownFields:!1},tk={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function bfe(r){return r?Object.assign(Object.assign({},ek),r):ek}function wfe(r){return r?Object.assign(Object.assign({},tk),r):tk}function Efe(r){let e=r(Ife,rk);return{makeReadOptions:bfe,makeWriteOptions:wfe,readMessage(t,n,i,a){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${this.debug(n)}`);a=a??new t;let o={};for(let[s,u]of Object.entries(n)){let f=t.fields.findJsonName(s);if(!f){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${s}" is unknown`);continue}let c=f.localName,l=a;if(f.oneof){if(u===null&&f.kind=="scalar")continue;let g=o[f.oneof.localName];if(g)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${f.oneof.name}" present: "${g}", "${s}"`);o[f.oneof.localName]=s,l=l[f.oneof.localName]={case:c},c="value"}if(f.repeated){if(u===null)continue;if(!Array.isArray(u))throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let y of u){if(y===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(y)}`);let _;switch(f.kind){case"message":_=f.T.fromJson(y,i);break;case"enum":if(_=oT(f.T,y,i.ignoreUnknownFields),_===void 0)continue;break;case"scalar":try{_=ky(f.T,y)}catch(w){let I=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(y)}`;throw w instanceof Error&&w.message.length>0&&(I+=`: ${w.message}`),new Error(I)}break}g.push(_)}}else if(f.kind=="map"){if(u===null)continue;if(Array.isArray(u)||typeof u!="object")throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let[y,_]of Object.entries(u)){if(_===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: map value null`);let w;switch(f.V.kind){case"message":w=f.V.T.fromJson(_,i);break;case"enum":if(w=oT(f.V.T,_,i.ignoreUnknownFields),w===void 0)continue;break;case"scalar":try{w=ky(f.V.T,_)}catch(I){let T=`cannot decode map value for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw I instanceof Error&&I.message.length>0&&(T+=`: ${I.message}`),new Error(T)}break}try{g[ky(f.K,f.K==qe.ScalarType.BOOL?y=="true"?!0:y=="false"?!1:y:y).toString()]=w}catch(I){let T=`cannot decode map key for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw I instanceof Error&&I.message.length>0&&(T+=`: ${I.message}`),new Error(T)}}}else switch(f.kind){case"message":let g=f.T;if(u===null&&g.typeName!="google.protobuf.Value"){if(f.oneof)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: null is invalid for oneof field "${s}"`);continue}l[c]instanceof xfe.Message?l[c].fromJson(u,i):(l[c]=g.fromJson(u,i),g.fieldWrapper&&!f.oneof&&(l[c]=g.fieldWrapper.unwrapField(l[c])));break;case"enum":let y=oT(f.T,u,i.ignoreUnknownFields);y!==void 0&&(l[c]=y);break;case"scalar":try{l[c]=ky(f.T,u)}catch(_){let w=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw _ instanceof Error&&_.message.length>0&&(w+=`: ${_.message}`),new Error(w)}break}}return a},writeMessage(t,n){let i=t.getType(),a={},o;try{for(let s of i.fields.byMember()){let u;if(s.kind=="oneof"){let f=t[s.localName];if(f.value===void 0)continue;if(o=s.findField(f.case),!o)throw"oneof case not found: "+f.case;u=e(o,f.value,n)}else o=s,u=e(o,t[o.localName],n);u!==void 0&&(a[n.useProtoFieldName?o.name:o.jsonName]=u)}}catch(s){let u=o?`cannot encode field ${i.typeName}.${o.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,f=s instanceof Error?s.message:String(s);throw new Error(u+(f.length>0?`: ${f}`:""))}return a},readScalar:ky,writeScalar:rk,debug:ik}}eb.makeJsonFormatCommon=Efe;function ik(r){if(r===null)return"null";switch(typeof r){case"object":return Array.isArray(r)?"array":"object";case"string":return r.length>100?"string":`"${r.split('"').join('\\"')}"`;default:return r.toString()}}function ky(r,e){switch(r){case qe.ScalarType.DOUBLE:case qe.ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;let t=Number(e);if(Number.isNaN(t)||!Number.isFinite(t))break;return r==qe.ScalarType.FLOAT&&(0,vf.assertFloat32)(t),t;case qe.ScalarType.INT32:case qe.ScalarType.FIXED32:case qe.ScalarType.SFIXED32:case qe.ScalarType.SINT32:case qe.ScalarType.UINT32:if(e===null)return 0;let n;if(typeof e=="number"?n=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(n=Number(e)),n===void 0)break;return r==qe.ScalarType.UINT32?(0,vf.assertUInt32)(n):(0,vf.assertInt32)(n),n;case qe.ScalarType.INT64:case qe.ScalarType.SFIXED64:case qe.ScalarType.SINT64:if(e===null)return Qx.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return Qx.protoInt64.parse(e);case qe.ScalarType.FIXED64:case qe.ScalarType.UINT64:if(e===null)return Qx.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return Qx.protoInt64.uParse(e);case qe.ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case qe.ScalarType.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case qe.ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return nk.protoBase64.dec(e)}throw new Error}function oT(r,e,t){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":let n=r.findName(e);if(n||t)return n?.no;break}throw new Error(`cannot decode enum ${r.typeName} from JSON: ${ik(e)}`)}function Ife(r,e,t,n){var i;if(e===void 0)return e;if(e===0&&!t)return;if(n)return e;if(r.typeName=="google.protobuf.NullValue")return null;let a=r.findNumber(e);return(i=a?.name)!==null&&i!==void 0?i:e}function rk(r,e,t){if(e!==void 0)switch(r){case qe.ScalarType.INT32:case qe.ScalarType.SFIXED32:case qe.ScalarType.SINT32:case qe.ScalarType.FIXED32:case qe.ScalarType.UINT32:return(0,vf.assert)(typeof e=="number"),e!=0||t?e:void 0;case qe.ScalarType.FLOAT:case qe.ScalarType.DOUBLE:return(0,vf.assert)(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||t?e:void 0;case qe.ScalarType.STRING:return(0,vf.assert)(typeof e=="string"),e.length>0||t?e:void 0;case qe.ScalarType.BOOL:return(0,vf.assert)(typeof e=="boolean"),e||t?e:void 0;case qe.ScalarType.UINT64:case qe.ScalarType.FIXED64:case qe.ScalarType.INT64:case qe.ScalarType.SFIXED64:case qe.ScalarType.SINT64:return(0,vf.assert)(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),t||e!=0?e.toString(10):void 0;case qe.ScalarType.BYTES:return(0,vf.assert)(e instanceof Uint8Array),t||e.byteLength>0?nk.protoBase64.enc(e):void 0}}});var ok=E(tb=>{"use strict";h();p();Object.defineProperty(tb,"__esModule",{value:!0});tb.makeJsonFormatProto3=void 0;var ak=Fy(),uT=ls(),Sfe=sT();function Tfe(){return(0,Sfe.makeJsonFormatCommon)((r,e)=>function(n,i,a){if(n.kind=="map"){let o={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,uT.assert)(c!==void 0),o[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))o[u.toString()]=f.toJson(a);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,uT.assert)(f===void 0||typeof f=="number");let c=r(s,f,!0,a.enumAsInteger);(0,uT.assert)(c!==void 0),o[u.toString()]=c}break}return a.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(n.repeated){let o=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)o.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)o.push(r(n.T,i[s],!0,a.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)o.push((0,ak.wrapField)(n.T,i[s]).toJson(a));break}return a.emitDefaultValues||o.length>0?o:void 0}else switch(n.kind){case"scalar":return e(n.T,i,!!n.oneof||n.opt||a.emitDefaultValues);case"enum":return r(n.T,i,!!n.oneof||n.opt||a.emitDefaultValues,a.enumAsInteger);case"message":return i!==void 0?(0,ak.wrapField)(n.T,i).toJson(a):void 0}})}tb.makeJsonFormatProto3=Tfe});var fT=E(ib=>{"use strict";h();p();Object.defineProperty(ib,"__esModule",{value:!0});ib.makeUtilCommon=void 0;var Cfe=Ux(),Afe=vr(),rb=pa(),$c=Ly();function Ofe(){return{setEnumType:Cfe.setEnumType,initPartial(r,e){if(r===void 0)return;let t=e.getType();for(let n of t.fields.byMember()){let i=n.localName,a=e,o=r;if(o[i]!==void 0)switch(n.kind){case"oneof":let s=o[i].case;if(s===void 0)continue;let u=n.findField(s),f=o[i].value;u&&u.kind=="message"&&!(f instanceof u.T)&&(f=new u.T(f)),a[i]={case:s,value:f};break;case"scalar":case"enum":a[i]=o[i];break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(a[i],o[i]);break;case"message":let l=n.V.T;for(let g of Object.keys(o[i])){let y=o[i][g];l.fieldWrapper||(y=new l(y)),a[i][g]=y}break}break;case"message":let c=n.T;if(n.repeated)a[i]=o[i].map(l=>l instanceof c?l:new c(l));else if(o[i]!==void 0){let l=o[i];c.fieldWrapper?a[i]=l:a[i]=l instanceof c?l:new c(l)}break}}},equals(r,e,t){return e===t?!0:!e||!t?!1:r.fields.byMember().every(n=>{let i=e[n.localName],a=t[n.localName];if(n.repeated){if(i.length!==a.length)return!1;switch(n.kind){case"message":return i.every((o,s)=>n.T.equals(o,a[s]));case"scalar":return i.every((o,s)=>(0,$c.scalarEquals)(n.T,o,a[s]));case"enum":return i.every((o,s)=>(0,$c.scalarEquals)(rb.ScalarType.INT32,o,a[s]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(i,a);case"enum":return(0,$c.scalarEquals)(rb.ScalarType.INT32,i,a);case"scalar":return(0,$c.scalarEquals)(n.T,i,a);case"oneof":if(i.case!==a.case)return!1;let o=n.findField(i.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(i.value,a.value);case"enum":return(0,$c.scalarEquals)(rb.ScalarType.INT32,i.value,a.value);case"scalar":return(0,$c.scalarEquals)(o.T,i.value,a.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":let s=Object.keys(i).concat(Object.keys(a));switch(n.V.kind){case"message":let u=n.V.T;return s.every(c=>u.equals(i[c],a[c]));case"enum":return s.every(c=>(0,$c.scalarEquals)(rb.ScalarType.INT32,i[c],a[c]));case"scalar":let f=n.V.T;return s.every(c=>(0,$c.scalarEquals)(f,i[c],a[c]))}break}})},clone(r){let e=r.getType(),t=new e,n=t;for(let i of e.fields.byMember()){let a=r[i.localName],o;if(i.repeated)o=a.map(s=>nb(i,s));else if(i.kind=="map"){o=n[i.localName];for(let[s,u]of Object.entries(a))o[s]=nb(i.V,u)}else if(i.kind=="oneof"){let s=i.findField(a.case);o=s?{case:a.case,value:nb(s,a.value)}:{case:void 0}}else o=nb(i,a);n[i.localName]=o}return t}}}ib.makeUtilCommon=Ofe;function nb(r,e){if(e===void 0)return e;if(e instanceof Afe.Message)return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}});var dT=E(ab=>{"use strict";h();p();Object.defineProperty(ab,"__esModule",{value:!0});ab.InternalFieldList=void 0;var cT=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){let t={};for(let n of this.list())t[n.jsonName]=t[n.name]=n;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){let t={};for(let n of this.list())t[n.no]=n;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let e=this.members,t;for(let n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}};ab.InternalFieldList=cT});var fl=E(qt=>{"use strict";h();p();Object.defineProperty(qt,"__esModule",{value:!0});qt.safeIdentifier=qt.safeObjectProperty=qt.findEnumSharedPrefix=qt.fieldJsonName=qt.localOneofName=qt.localFieldName=qt.localName=void 0;function Dfe(r){switch(r.kind){case"field":return lT(r.name,r.oneof!==void 0);case"oneof":return sk(r.name);case"enum":case"message":case"service":{let e=r.file.proto.package,t=e===void 0?0:e.length+1,n=r.typeName.substring(t).replace(/\./g,"_");return(0,qt.safeObjectProperty)((0,qt.safeIdentifier)(n))}case"enum_value":{let e=r.parent.sharedPrefix;if(e===void 0)return r.name;let t=r.name.substring(e.length);return(0,qt.safeObjectProperty)(t)}case"rpc":{let e=r.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),(0,qt.safeObjectProperty)(e))}}}qt.localName=Dfe;function lT(r,e){let t=uk(r);return e?t:(0,qt.safeObjectProperty)(qfe(t))}qt.localFieldName=lT;function sk(r){return lT(r,!1)}qt.localOneofName=sk;qt.fieldJsonName=uk;function Rfe(r,e){let t=Pfe(r)+"_";for(let n of e){if(!n.toLowerCase().startsWith(t))return;let i=n.substring(t.length);if(i.length==0||/^\d/.test(i))return}return t}qt.findEnumSharedPrefix=Rfe;function Pfe(r){return(r.substring(0,1)+r.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function uk(r){let e=!1,t=[];for(let n=0;n<r.length;n++){let i=r.charAt(n);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),t.push(i);break}}return t.join("")}var Bfe=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),Mfe=new Set(["constructor","toString","toJSON","valueOf"]),Nfe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),hT=r=>`${r}$`,qfe=r=>Nfe.has(r)?hT(r):r,Ffe=r=>Mfe.has(r)?hT(r):r;qt.safeObjectProperty=Ffe;var Lfe=r=>Bfe.has(r)?hT(r):r;qt.safeIdentifier=Lfe});var gT=E(ob=>{"use strict";h();p();Object.defineProperty(ob,"__esModule",{value:!0});ob.InternalOneofInfo=void 0;var Ufe=fl(),kfe=ls(),pT=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=(0,Ufe.localOneofName)(e)}addField(e){(0,kfe.assert)(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};ob.InternalOneofInfo=pT});var ga=E(sb=>{"use strict";h();p();Object.defineProperty(sb,"__esModule",{value:!0});sb.proto3=void 0;var jfe=eT(),Hfe=QU(),Kfe=ok(),Vfe=fT(),Gfe=dT(),Yfe=Ly(),fk=pa(),zfe=gT(),ck=fl();sb.proto3=(0,jfe.makeProtoRuntime)("proto3",(0,Kfe.makeJsonFormatProto3)(),(0,Hfe.makeBinaryFormatProto3)(),Object.assign(Object.assign({},(0,Vfe.makeUtilCommon)()),{newFieldList(r){return new Gfe.InternalFieldList(r,Wfe)},initFields(r){for(let e of r.getType().fields.byMember()){if(e.opt)continue;let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"enum":n[t]=0;break;case"map":n[t]={};break;case"scalar":n[t]=(0,Yfe.scalarDefaultValue)(e.T);break;case"message":break}}}}));function Wfe(r){var e,t,n;let i=[],a;for(let o of typeof r=="function"?r():r){let s=o;if(s.localName=(0,ck.localFieldName)(o.name,o.oneof!==void 0),s.jsonName=(e=o.jsonName)!==null&&e!==void 0?e:(0,ck.fieldJsonName)(o.name),s.repeated=(t=o.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=o.packed)!==null&&n!==void 0?n:o.kind=="enum"||o.kind=="scalar"&&o.T!=fk.ScalarType.BYTES&&o.T!=fk.ScalarType.STRING,o.oneof!==void 0){let u=typeof o.oneof=="string"?o.oneof:o.oneof.name;(!a||a.name!=u)&&(a=new zfe.InternalOneofInfo(u)),s.oneof=a,a.addField(s)}i.push(s)}return i}});var dk=E(ub=>{"use strict";h();p();Object.defineProperty(ub,"__esModule",{value:!0});ub.makeBinaryFormatProto2=void 0;var Xfe=pa(),cl=Xx();function Jfe(){return Object.assign(Object.assign({},(0,cl.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType(),i;try{for(i of n.fields.byNumber()){let a,o=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;a=u.value}else if(a=r[s],a===void 0&&!i.oneof&&!i.opt)throw new Error(`cannot encode field ${n.typeName}.${i.name} to binary: required field not set`);switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?Xfe.ScalarType.INT32:i.T;if(o)if(i.packed)(0,cl.writePacked)(e,u,i.no,a);else for(let f of a)(0,cl.writeScalar)(e,u,i.no,f,!0);else a!==void 0&&(0,cl.writeScalar)(e,u,i.no,a,!0);break;case"message":if(o)for(let f of a)(0,cl.writeMessageField)(e,t,i.T,i.no,f);else(0,cl.writeMessageField)(e,t,i.T,i.no,a);break;case"map":for(let[f,c]of Object.entries(a))(0,cl.writeMapEntry)(e,t,i,f,c);break}}}catch(a){let o=i?`cannot encode field ${n.typeName}.${i?.name} to binary`:`cannot encode message ${n.typeName} to binary`,s=a instanceof Error?a.message:String(a);throw new Error(o+(s.length>0?`: ${s}`:""))}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}ub.makeBinaryFormatProto2=Jfe});var lk=E(fb=>{"use strict";h();p();Object.defineProperty(fb,"__esModule",{value:!0});fb.makeJsonFormatProto2=void 0;var $fe=Fy(),yT=ls(),Zfe=sT();function Qfe(){return(0,Zfe.makeJsonFormatCommon)((r,e)=>function(n,i,a){if(n.kind=="map"){let o={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,yT.assert)(c!==void 0),o[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))o[u.toString()]=f.toJson(a);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,yT.assert)(f===void 0||typeof f=="number");let c=r(s,f,!0,a.enumAsInteger);(0,yT.assert)(c!==void 0),o[u.toString()]=c}break}return a.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(n.repeated){let o=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)o.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)o.push(r(n.T,i[s],!0,a.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)o.push(i[s].toJson(a));break}return a.emitDefaultValues||o.length>0?o:void 0}else{if(i===void 0){if(!n.oneof&&!n.opt)throw"required field not set";return}switch(n.kind){case"scalar":return e(n.T,i,!0);case"enum":return r(n.T,i,!0,a.enumAsInteger);case"message":return(0,$fe.wrapField)(n.T,i).toJson(a)}}})}fb.makeJsonFormatProto2=Qfe});var jy=E(cb=>{"use strict";h();p();Object.defineProperty(cb,"__esModule",{value:!0});cb.proto2=void 0;var ece=eT(),tce=dk(),rce=fT(),nce=dT(),ice=gT(),hk=fl(),ace=lk();cb.proto2=(0,ece.makeProtoRuntime)("proto2",(0,ace.makeJsonFormatProto2)(),(0,tce.makeBinaryFormatProto2)(),Object.assign(Object.assign({},(0,rce.makeUtilCommon)()),{newFieldList(r){return new nce.InternalFieldList(r,oce)},initFields(r){for(let e of r.getType().fields.byMember()){let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"map":n[t]={};break;case"scalar":case"enum":case"message":break}}}}));function oce(r){var e,t,n;let i=[],a;for(let o of typeof r=="function"?r():r){let s=o;if(s.localName=(0,hk.localFieldName)(o.name,o.oneof!==void 0),s.jsonName=(e=o.jsonName)!==null&&e!==void 0?e:(0,hk.fieldJsonName)(o.name),s.repeated=(t=o.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=o.packed)!==null&&n!==void 0?n:!1,o.oneof!==void 0){let u=typeof o.oneof=="string"?o.oneof:o.oneof.name;(!a||a.name!=u)&&(a=new ice.InternalOneofInfo(u)),s.oneof=a,a.addField(s)}i.push(s)}return i}});var gk=E(Qa=>{"use strict";h();p();var sce=Qa&&Qa.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(s,u){o=r[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(f){a({value:f,done:s})},o)}},W1=Qa&&Qa.__await||function(r){return this instanceof W1?(this.v=r,this):new W1(r)},uce=Qa&&Qa.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(y){return new Promise(function(_,w){a.push([g,y,_,w])>1||s(g,y)})})}function s(g,y){try{u(n[g](y))}catch(_){l(a[0][3],_)}}function u(g){g.value instanceof W1?Promise.resolve(g.value.v).then(f,c):l(a[0][2],g)}function f(g){s("next",g)}function c(g){s("throw",g)}function l(g,y){g(y),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.protoDelimited=void 0;var pk=Xx(),fce=qy();Qa.protoDelimited={enc(r,e){let t=(0,pk.makeBinaryFormatCommon)().makeWriteOptions(e);return t.writerFactory().bytes(r.toBinary(t)).finish()},dec(r,e,t){let n=(0,pk.makeBinaryFormatCommon)().makeReadOptions(t);return r.fromBinary(n.readerFactory(e).bytes(),n)},decStream(r,e){return uce(this,arguments,function*(){var n,i,a,o;function s(g,y){let _=new Uint8Array(g.byteLength+y.byteLength);return _.set(g),_.set(y,g.length),_}let u=new Uint8Array(0);try{for(var f=!0,c=sce(e),l;l=yield W1(c.next()),n=l.done,!n;){o=l.value,f=!1;try{for(u=s(u,o);;){let y=Qa.protoDelimited.peekSize(u);if(y.eof||y.offset+y.size>u.byteLength)break;yield yield W1(Qa.protoDelimited.dec(r,u)),u=u.subarray(y.offset+y.size)}}finally{f=!0}}}catch(g){i={error:g}}finally{try{!f&&!n&&(a=c.return)&&(yield W1(a.call(c)))}finally{if(i)throw i.error}}if(u.byteLength>0)throw new Error("incomplete data")})},peekSize(r){let e={eof:!0,size:null,offset:null};for(let t=0;t<10;t++){if(t>r.byteLength)return e;if((r[t]&128)==0){let n=new fce.BinaryReader(r),i;try{i=n.uint32()}catch(a){if(a instanceof RangeError)return e;throw a}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}}});var yk=E(db=>{"use strict";h();p();Object.defineProperty(db,"__esModule",{value:!0});db.reifyWkt=void 0;var pu=pa();function cce(r){switch(r.typeName){case"google.protobuf.Any":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.STRING),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.BYTES);if(e&&t)return{typeName:r.typeName,typeUrl:e,value:t};break}case"google.protobuf.Timestamp":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Duration":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===pu.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Struct":{let e=r.fields.find(t=>t.number==1&&!t.repeated);if(e?.fieldKind!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,fields:e}}case"google.protobuf.Value":{let e=r.oneofs.find(u=>u.name==="kind"),t=r.fields.find(u=>u.number==1&&u.oneof===e);if(t?.fieldKind!=="enum"||t.enum.typeName!=="google.protobuf.NullValue")return;let n=r.fields.find(u=>u.number==2&&u.fieldKind=="scalar"&&u.scalar===pu.ScalarType.DOUBLE&&u.oneof===e),i=r.fields.find(u=>u.number==3&&u.fieldKind=="scalar"&&u.scalar===pu.ScalarType.STRING&&u.oneof===e),a=r.fields.find(u=>u.number==4&&u.fieldKind=="scalar"&&u.scalar===pu.ScalarType.BOOL&&u.oneof===e),o=r.fields.find(u=>u.number==5&&u.oneof===e);if(o?.fieldKind!=="message"||o.message.typeName!=="google.protobuf.Struct")return;let s=r.fields.find(u=>u.number==6&&u.oneof===e);if(s?.fieldKind!=="message"||s.message.typeName!=="google.protobuf.ListValue")return;if(e&&n&&i&&a)return{typeName:r.typeName,kind:e,nullValue:t,numberValue:n,stringValue:i,boolValue:a,structValue:o,listValue:s};break}case"google.protobuf.ListValue":{let e=r.fields.find(t=>t.number==1&&t.repeated);if(e?.fieldKind!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,values:e}}case"google.protobuf.FieldMask":{let e=r.fields.find(t=>t.number==1&&t.fieldKind=="scalar"&&t.scalar===pu.ScalarType.STRING&&t.repeated);if(e)return{typeName:r.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{let e=r.fields.find(t=>t.number==1&&t.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:r.typeName,value:e}}}}db.reifyWkt=cce});var vk=E(lb=>{"use strict";h();p();Object.defineProperty(lb,"__esModule",{value:!0});lb.codegenInfo=void 0;var vT=fl(),dce=Fy(),lce=Ly(),hce=yk(),mr="@bufbuild/protobuf";lb.codegenInfo={packageName:mr,localName:vT.localName,reifyWkt:hce.reifyWkt,getUnwrappedFieldType:dce.getUnwrappedFieldType,scalarDefaultValue:lce.scalarDefaultValue,safeIdentifier:vT.safeIdentifier,safeObjectProperty:vT.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:mr},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:mr},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:mr},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:mr},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:mr},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:mr},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:mr},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:mr},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:mr},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:mr},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:mr},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:mr},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:mr},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:mr},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:mr},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:mr},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:mr},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:mr}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]}});var mT=E(Zc=>{"use strict";h();p();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.MethodIdempotency=Zc.MethodKind=void 0;var pce;(function(r){r[r.Unary=0]="Unary",r[r.ServerStreaming=1]="ServerStreaming",r[r.ClientStreaming=2]="ClientStreaming",r[r.BiDiStreaming=3]="BiDiStreaming"})(pce=Zc.MethodKind||(Zc.MethodKind={}));var gce;(function(r){r[r.NoSideEffects=1]="NoSideEffects",r[r.Idempotent=2]="Idempotent"})(gce=Zc.MethodIdempotency||(Zc.MethodIdempotency={}))});var Hy=E(ae=>{"use strict";h();p();Object.defineProperty(ae,"__esModule",{value:!0});ae.GeneratedCodeInfo_Annotation_Semantic=ae.GeneratedCodeInfo_Annotation=ae.GeneratedCodeInfo=ae.SourceCodeInfo_Location=ae.SourceCodeInfo=ae.UninterpretedOption_NamePart=ae.UninterpretedOption=ae.MethodOptions_IdempotencyLevel=ae.MethodOptions=ae.ServiceOptions=ae.EnumValueOptions=ae.EnumOptions=ae.OneofOptions=ae.FieldOptions_OptionTargetType=ae.FieldOptions_OptionRetention=ae.FieldOptions_JSType=ae.FieldOptions_CType=ae.FieldOptions=ae.MessageOptions=ae.FileOptions_OptimizeMode=ae.FileOptions=ae.MethodDescriptorProto=ae.ServiceDescriptorProto=ae.EnumValueDescriptorProto=ae.EnumDescriptorProto_EnumReservedRange=ae.EnumDescriptorProto=ae.OneofDescriptorProto=ae.FieldDescriptorProto_Label=ae.FieldDescriptorProto_Type=ae.FieldDescriptorProto=ae.ExtensionRangeOptions_Declaration=ae.ExtensionRangeOptions_VerificationState=ae.ExtensionRangeOptions=ae.DescriptorProto_ReservedRange=ae.DescriptorProto_ExtensionRange=ae.DescriptorProto=ae.FileDescriptorProto=ae.FileDescriptorSet=void 0;var tt=vr(),J=jy(),hs=class extends tt.Message{constructor(e){super(),this.file=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new hs().fromBinary(e,t)}static fromJson(e,t){return new hs().fromJson(e,t)}static fromJsonString(e,t){return new hs().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(hs,e,t)}};hs.runtime=J.proto2;hs.typeName="google.protobuf.FileDescriptorSet";hs.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:eo,repeated:!0}]);ae.FileDescriptorSet=hs;var eo=class extends tt.Message{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new eo().fromBinary(e,t)}static fromJson(e,t){return new eo().fromJson(e,t)}static fromJsonString(e,t){return new eo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(eo,e,t)}};eo.runtime=J.proto2;eo.typeName="google.protobuf.FileDescriptorProto";eo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:ya,repeated:!0},{no:5,name:"enum_type",kind:"message",T:va,repeated:!0},{no:6,name:"service",kind:"message",T:uo,repeated:!0},{no:7,name:"extension",kind:"message",T:Ji,repeated:!0},{no:8,name:"options",kind:"message",T:co,opt:!0},{no:9,name:"source_code_info",kind:"message",T:xo,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:13,name:"edition",kind:"scalar",T:9,opt:!0}]);ae.FileDescriptorProto=eo;var ya=class extends tt.Message{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ya().fromBinary(e,t)}static fromJson(e,t){return new ya().fromJson(e,t)}static fromJsonString(e,t){return new ya().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ya,e,t)}};ya.runtime=J.proto2;ya.typeName="google.protobuf.DescriptorProto";ya.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:Ji,repeated:!0},{no:6,name:"extension",kind:"message",T:Ji,repeated:!0},{no:3,name:"nested_type",kind:"message",T:ya,repeated:!0},{no:4,name:"enum_type",kind:"message",T:va,repeated:!0},{no:5,name:"extension_range",kind:"message",T:to,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:ao,repeated:!0},{no:7,name:"options",kind:"message",T:lo,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ro,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);ae.DescriptorProto=ya;var to=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new to().fromBinary(e,t)}static fromJson(e,t){return new to().fromJson(e,t)}static fromJsonString(e,t){return new to().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(to,e,t)}};to.runtime=J.proto2;to.typeName="google.protobuf.DescriptorProto.ExtensionRange";to.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:no,opt:!0}]);ae.DescriptorProto_ExtensionRange=to;var ro=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ro().fromBinary(e,t)}static fromJson(e,t){return new ro().fromJson(e,t)}static fromJsonString(e,t){return new ro().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ro,e,t)}};ro.runtime=J.proto2;ro.typeName="google.protobuf.DescriptorProto.ReservedRange";ro.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);ae.DescriptorProto_ReservedRange=ro;var no=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new no().fromBinary(e,t)}static fromJson(e,t){return new no().fromJson(e,t)}static fromJsonString(e,t){return new no().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(no,e,t)}};no.runtime=J.proto2;no.typeName="google.protobuf.ExtensionRangeOptions";no.fields=J.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0},{no:2,name:"declaration",kind:"message",T:io,repeated:!0},{no:3,name:"verification",kind:"enum",T:J.proto2.getEnumType(hb),opt:!0,default:hb.UNVERIFIED}]);ae.ExtensionRangeOptions=no;var hb;(function(r){r[r.DECLARATION=0]="DECLARATION",r[r.UNVERIFIED=1]="UNVERIFIED"})(hb=ae.ExtensionRangeOptions_VerificationState||(ae.ExtensionRangeOptions_VerificationState={}));J.proto2.util.setEnumType(hb,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);var io=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new io().fromBinary(e,t)}static fromJson(e,t){return new io().fromJson(e,t)}static fromJsonString(e,t){return new io().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(io,e,t)}};io.runtime=J.proto2;io.typeName="google.protobuf.ExtensionRangeOptions.Declaration";io.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:4,name:"is_repeated",kind:"scalar",T:8,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);ae.ExtensionRangeOptions_Declaration=io;var Ji=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ji().fromBinary(e,t)}static fromJson(e,t){return new Ji().fromJson(e,t)}static fromJsonString(e,t){return new Ji().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(Ji,e,t)}};Ji.runtime=J.proto2;Ji.typeName="google.protobuf.FieldDescriptorProto";Ji.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:J.proto2.getEnumType(xT),opt:!0},{no:5,name:"type",kind:"enum",T:J.proto2.getEnumType(_T),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:ho,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);ae.FieldDescriptorProto=Ji;var _T;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.GROUP=10]="GROUP",r[r.MESSAGE=11]="MESSAGE",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.ENUM=14]="ENUM",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(_T=ae.FieldDescriptorProto_Type||(ae.FieldDescriptorProto_Type={}));J.proto2.util.setEnumType(_T,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var xT;(function(r){r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(xT=ae.FieldDescriptorProto_Label||(ae.FieldDescriptorProto_Label={}));J.proto2.util.setEnumType(xT,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:2,name:"LABEL_REQUIRED"},{no:3,name:"LABEL_REPEATED"}]);var ao=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ao().fromBinary(e,t)}static fromJson(e,t){return new ao().fromJson(e,t)}static fromJsonString(e,t){return new ao().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ao,e,t)}};ao.runtime=J.proto2;ao.typeName="google.protobuf.OneofDescriptorProto";ao.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:po,opt:!0}]);ae.OneofDescriptorProto=ao;var va=class extends tt.Message{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new va().fromBinary(e,t)}static fromJson(e,t){return new va().fromJson(e,t)}static fromJsonString(e,t){return new va().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(va,e,t)}};va.runtime=J.proto2;va.typeName="google.protobuf.EnumDescriptorProto";va.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:so,repeated:!0},{no:3,name:"options",kind:"message",T:go,opt:!0},{no:4,name:"reserved_range",kind:"message",T:oo,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);ae.EnumDescriptorProto=va;var oo=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new oo().fromBinary(e,t)}static fromJson(e,t){return new oo().fromJson(e,t)}static fromJsonString(e,t){return new oo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(oo,e,t)}};oo.runtime=J.proto2;oo.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange";oo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);ae.EnumDescriptorProto_EnumReservedRange=oo;var so=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new so().fromBinary(e,t)}static fromJson(e,t){return new so().fromJson(e,t)}static fromJsonString(e,t){return new so().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(so,e,t)}};so.runtime=J.proto2;so.typeName="google.protobuf.EnumValueDescriptorProto";so.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:yo,opt:!0}]);ae.EnumValueDescriptorProto=so;var uo=class extends tt.Message{constructor(e){super(),this.method=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new uo().fromBinary(e,t)}static fromJson(e,t){return new uo().fromJson(e,t)}static fromJsonString(e,t){return new uo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(uo,e,t)}};uo.runtime=J.proto2;uo.typeName="google.protobuf.ServiceDescriptorProto";uo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:fo,repeated:!0},{no:3,name:"options",kind:"message",T:vo,opt:!0}]);ae.ServiceDescriptorProto=uo;var fo=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new fo().fromBinary(e,t)}static fromJson(e,t){return new fo().fromJson(e,t)}static fromJsonString(e,t){return new fo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(fo,e,t)}};fo.runtime=J.proto2;fo.typeName="google.protobuf.MethodDescriptorProto";fo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:mo,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);ae.MethodDescriptorProto=fo;var co=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new co().fromBinary(e,t)}static fromJson(e,t){return new co().fromJson(e,t)}static fromJsonString(e,t){return new co().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(co,e,t)}};co.runtime=J.proto2;co.typeName="google.protobuf.FileOptions";co.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:J.proto2.getEnumType(pb),opt:!0,default:pb.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.FileOptions=co;var pb;(function(r){r[r.SPEED=1]="SPEED",r[r.CODE_SIZE=2]="CODE_SIZE",r[r.LITE_RUNTIME=3]="LITE_RUNTIME"})(pb=ae.FileOptions_OptimizeMode||(ae.FileOptions_OptimizeMode={}));J.proto2.util.setEnumType(pb,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);var lo=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new lo().fromBinary(e,t)}static fromJson(e,t){return new lo().fromJson(e,t)}static fromJsonString(e,t){return new lo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(lo,e,t)}};lo.runtime=J.proto2;lo.typeName="google.protobuf.MessageOptions";lo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.MessageOptions=lo;var ho=class extends tt.Message{constructor(e){super(),this.targets=[],this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ho().fromBinary(e,t)}static fromJson(e,t){return new ho().fromJson(e,t)}static fromJsonString(e,t){return new ho().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ho,e,t)}};ho.runtime=J.proto2;ho.typeName="google.protobuf.FieldOptions";ho.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:J.proto2.getEnumType(gb),opt:!0,default:gb.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:J.proto2.getEnumType(yb),opt:!0,default:yb.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:J.proto2.getEnumType(bT),opt:!0},{no:18,name:"target",kind:"enum",T:J.proto2.getEnumType(vb),opt:!0},{no:19,name:"targets",kind:"enum",T:J.proto2.getEnumType(vb),repeated:!0},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.FieldOptions=ho;var gb;(function(r){r[r.STRING=0]="STRING",r[r.CORD=1]="CORD",r[r.STRING_PIECE=2]="STRING_PIECE"})(gb=ae.FieldOptions_CType||(ae.FieldOptions_CType={}));J.proto2.util.setEnumType(gb,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var yb;(function(r){r[r.JS_NORMAL=0]="JS_NORMAL",r[r.JS_STRING=1]="JS_STRING",r[r.JS_NUMBER=2]="JS_NUMBER"})(yb=ae.FieldOptions_JSType||(ae.FieldOptions_JSType={}));J.proto2.util.setEnumType(yb,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var bT;(function(r){r[r.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",r[r.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",r[r.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(bT=ae.FieldOptions_OptionRetention||(ae.FieldOptions_OptionRetention={}));J.proto2.util.setEnumType(bT,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var vb;(function(r){r[r.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",r[r.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",r[r.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",r[r.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",r[r.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",r[r.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",r[r.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",r[r.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",r[r.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",r[r.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(vb=ae.FieldOptions_OptionTargetType||(ae.FieldOptions_OptionTargetType={}));J.proto2.util.setEnumType(vb,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);var po=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new po().fromBinary(e,t)}static fromJson(e,t){return new po().fromJson(e,t)}static fromJsonString(e,t){return new po().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(po,e,t)}};po.runtime=J.proto2;po.typeName="google.protobuf.OneofOptions";po.fields=J.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.OneofOptions=po;var go=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new go().fromBinary(e,t)}static fromJson(e,t){return new go().fromJson(e,t)}static fromJsonString(e,t){return new go().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(go,e,t)}};go.runtime=J.proto2;go.typeName="google.protobuf.EnumOptions";go.fields=J.proto2.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.EnumOptions=go;var yo=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new yo().fromBinary(e,t)}static fromJson(e,t){return new yo().fromJson(e,t)}static fromJsonString(e,t){return new yo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(yo,e,t)}};yo.runtime=J.proto2;yo.typeName="google.protobuf.EnumValueOptions";yo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.EnumValueOptions=yo;var vo=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new vo().fromBinary(e,t)}static fromJson(e,t){return new vo().fromJson(e,t)}static fromJsonString(e,t){return new vo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(vo,e,t)}};vo.runtime=J.proto2;vo.typeName="google.protobuf.ServiceOptions";vo.fields=J.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.ServiceOptions=vo;var mo=class extends tt.Message{constructor(e){super(),this.uninterpretedOption=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new mo().fromBinary(e,t)}static fromJson(e,t){return new mo().fromJson(e,t)}static fromJsonString(e,t){return new mo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(mo,e,t)}};mo.runtime=J.proto2;mo.typeName="google.protobuf.MethodOptions";mo.fields=J.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:J.proto2.getEnumType(mb),opt:!0,default:mb.IDEMPOTENCY_UNKNOWN},{no:999,name:"uninterpreted_option",kind:"message",T:ar,repeated:!0}]);ae.MethodOptions=mo;var mb;(function(r){r[r.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",r[r.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",r[r.IDEMPOTENT=2]="IDEMPOTENT"})(mb=ae.MethodOptions_IdempotencyLevel||(ae.MethodOptions_IdempotencyLevel={}));J.proto2.util.setEnumType(mb,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);var ar=class extends tt.Message{constructor(e){super(),this.name=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ar().fromBinary(e,t)}static fromJson(e,t){return new ar().fromJson(e,t)}static fromJsonString(e,t){return new ar().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ar,e,t)}};ar.runtime=J.proto2;ar.typeName="google.protobuf.UninterpretedOption";ar.fields=J.proto2.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:_o,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);ae.UninterpretedOption=ar;var _o=class extends tt.Message{constructor(e){super(),J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new _o().fromBinary(e,t)}static fromJson(e,t){return new _o().fromJson(e,t)}static fromJsonString(e,t){return new _o().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(_o,e,t)}};_o.runtime=J.proto2;_o.typeName="google.protobuf.UninterpretedOption.NamePart";_o.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);ae.UninterpretedOption_NamePart=_o;var xo=class extends tt.Message{constructor(e){super(),this.location=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new xo().fromBinary(e,t)}static fromJson(e,t){return new xo().fromJson(e,t)}static fromJsonString(e,t){return new xo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(xo,e,t)}};xo.runtime=J.proto2;xo.typeName="google.protobuf.SourceCodeInfo";xo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:bo,repeated:!0}]);ae.SourceCodeInfo=xo;var bo=class extends tt.Message{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new bo().fromBinary(e,t)}static fromJson(e,t){return new bo().fromJson(e,t)}static fromJsonString(e,t){return new bo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(bo,e,t)}};bo.runtime=J.proto2;bo.typeName="google.protobuf.SourceCodeInfo.Location";bo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);ae.SourceCodeInfo_Location=bo;var ps=class extends tt.Message{constructor(e){super(),this.annotation=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ps().fromBinary(e,t)}static fromJson(e,t){return new ps().fromJson(e,t)}static fromJsonString(e,t){return new ps().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(ps,e,t)}};ps.runtime=J.proto2;ps.typeName="google.protobuf.GeneratedCodeInfo";ps.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:wo,repeated:!0}]);ae.GeneratedCodeInfo=ps;var wo=class extends tt.Message{constructor(e){super(),this.path=[],J.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new wo().fromBinary(e,t)}static fromJson(e,t){return new wo().fromJson(e,t)}static fromJsonString(e,t){return new wo().fromJsonString(e,t)}static equals(e,t){return J.proto2.util.equals(wo,e,t)}};wo.runtime=J.proto2;wo.typeName="google.protobuf.GeneratedCodeInfo.Annotation";wo.fields=J.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:J.proto2.getEnumType(wT),opt:!0}]);ae.GeneratedCodeInfo_Annotation=wo;var wT;(function(r){r[r.NONE=0]="NONE",r[r.SET=1]="SET",r[r.ALIAS=2]="ALIAS"})(wT=ae.GeneratedCodeInfo_Annotation_Semantic||(ae.GeneratedCodeInfo_Annotation_Semantic={}));J.proto2.util.setEnumType(wT,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}])});var TT=E($1=>{"use strict";h();p();Object.defineProperty($1,"__esModule",{value:!0});$1.isPackedFieldByDefault=$1.createDescriptorSet=void 0;var Ee=Hy(),Fe=ls(),Oe=pa(),X1=mT(),xk=fl(),ET=lf();function yce(r){let e={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},n=(r instanceof Ee.FileDescriptorSet?r.file:r instanceof Uint8Array?Ee.FileDescriptorSet.fromBinary(r).file:r).map(i=>vce(i,e));return Object.assign({files:n},e)}$1.createDescriptorSet=yce;function vce(r,e){var t,n,i;(0,Fe.assert)(r.name,"invalid FileDescriptorProto: missing name"),(0,Fe.assert)(r.syntax===void 0||r.syntax==="proto3",`invalid FileDescriptorProto: unsupported syntax: ${(t=r.syntax)!==null&&t!==void 0?t:"undefined"}`);let a={kind:"file",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,syntax:r.syntax==="proto3"?"proto3":"proto2",name:r.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return gu(this.proto.sourceCodeInfo,[Si.FileDescriptorProto_Syntax])},getPackageComments(){return gu(this.proto.sourceCodeInfo,[Si.FileDescriptorProto_Package])}};e.mapEntries.clear();for(let o of r.enumType)bk(o,a,void 0,e);for(let o of r.messageType)wk(o,a,void 0,e);for(let o of r.service)mce(o,a,e);IT(a,e);for(let o of e.mapEntries.values())ST(o,e);for(let o of a.messages)ST(o,e),IT(o,e);return e.mapEntries.clear(),a}function IT(r,e){switch(r.kind){case"file":for(let t of r.proto.extension){let n=mk(t,r,void 0,e);r.extensions.push(n),e.extensions.set(n.typeName,n)}break;case"message":for(let t of r.proto.extension){let n=mk(t,r.file,r,e);r.nestedExtensions.push(n),e.extensions.set(n.typeName,n)}for(let t of r.nestedMessages)IT(t,e);break}}function ST(r,e){let t=r.proto.oneofDecl.map(i=>xce(i,r)),n=new Set;for(let i of r.proto.field){let a=wce(i,t),o=Ek(i,r.file,r,a,e);r.fields.push(o),a===void 0?r.members.push(o):(a.fields.push(o),n.has(a)||(n.add(a),r.members.push(a)))}for(let i of t.filter(a=>n.has(a)))r.oneofs.push(i);for(let i of r.nestedMessages)ST(i,e)}function bk(r,e,t,n){var i,a,o;(0,Fe.assert)(r.name,"invalid EnumDescriptorProto: missing name");let s={kind:"enum",proto:r,deprecated:(a=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:t,name:r.name,typeName:_b(r,t,e),values:[],sharedPrefix:(0,xk.findEnumSharedPrefix)(r.name,r.value.map(u=>{var f;return(f=u.name)!==null&&f!==void 0?f:""})),toString(){return`enum ${this.typeName}`},getComments(){let u=this.parent?[...this.parent.getComments().sourcePath,Si.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[Si.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return gu(e.proto.sourceCodeInfo,u)}};n.enums.set(s.typeName,s),r.value.forEach(u=>{var f,c;(0,Fe.assert)(u.name,"invalid EnumValueDescriptorProto: missing name"),(0,Fe.assert)(u.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),s.values.push({kind:"enum_value",proto:u,deprecated:(c=(f=u.options)===null||f===void 0?void 0:f.deprecated)!==null&&c!==void 0?c:!1,parent:s,name:u.name,number:u.number,toString(){return`enum value ${s.typeName}.${this.name}`},declarationString(){var l;let g=`${this.name} = ${this.number}`;return((l=this.proto.options)===null||l===void 0?void 0:l.deprecated)===!0&&(g+=" [deprecated = true]"),g},getComments(){let l=[...this.parent.getComments().sourcePath,Si.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return gu(e.proto.sourceCodeInfo,l)}})}),((o=t?.nestedEnums)!==null&&o!==void 0?o:e.enums).push(s)}function wk(r,e,t,n){var i,a,o,s;(0,Fe.assert)(r.name,"invalid DescriptorProto: missing name");let u={kind:"message",proto:r,deprecated:(a=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:t,name:r.name,typeName:_b(r,t,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){let f=this.parent?[...this.parent.getComments().sourcePath,Si.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[Si.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return gu(e.proto.sourceCodeInfo,f)}};((o=r.options)===null||o===void 0?void 0:o.mapEntry)===!0?n.mapEntries.set(u.typeName,u):(((s=t?.nestedMessages)!==null&&s!==void 0?s:e.messages).push(u),n.messages.set(u.typeName,u));for(let f of r.enumType)bk(f,e,u,n);for(let f of r.nestedType)wk(f,e,u,n)}function mce(r,e,t){var n,i;(0,Fe.assert)(r.name,"invalid ServiceDescriptorProto: missing name");let a={kind:"service",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,file:e,name:r.name,typeName:_b(r,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){let o=[Si.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return gu(e.proto.sourceCodeInfo,o)}};e.services.push(a),t.services.set(a.typeName,a);for(let o of r.method)a.methods.push(_ce(o,a,t))}function _ce(r,e,t){var n,i,a;(0,Fe.assert)(r.name,"invalid MethodDescriptorProto: missing name"),(0,Fe.assert)(r.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,Fe.assert)(r.outputType,"invalid MethodDescriptorProto: missing output_type");let o;r.clientStreaming===!0&&r.serverStreaming===!0?o=X1.MethodKind.BiDiStreaming:r.clientStreaming===!0?o=X1.MethodKind.ClientStreaming:r.serverStreaming===!0?o=X1.MethodKind.ServerStreaming:o=X1.MethodKind.Unary;let s;switch((n=r.options)===null||n===void 0?void 0:n.idempotencyLevel){case Ee.MethodOptions_IdempotencyLevel.IDEMPOTENT:s=X1.MethodIdempotency.Idempotent;break;case Ee.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:s=X1.MethodIdempotency.NoSideEffects;break;case Ee.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:s=void 0;break}let u=t.messages.get(J1(r.inputType)),f=t.messages.get(J1(r.outputType));(0,Fe.assert)(u,`invalid MethodDescriptorProto: input_type ${r.inputType} not found`),(0,Fe.assert)(f,`invalid MethodDescriptorProto: output_type ${r.inputType} not found`);let c=r.name;return{kind:"rpc",proto:r,deprecated:(a=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,parent:e,name:c,methodKind:o,input:u,output:f,idempotency:s,toString(){return`rpc ${e.typeName}.${c}`},getComments(){let l=[...this.parent.getComments().sourcePath,Si.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return gu(e.file.proto.sourceCodeInfo,l)}}}function xce(r,e){return(0,Fe.assert)(r.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:r,deprecated:!1,parent:e,fields:[],name:r.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){let t=[...this.parent.getComments().sourcePath,Si.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return gu(e.file.proto.sourceCodeInfo,t)}}}function Ek(r,e,t,n,i){var a,o,s,u;(0,Fe.assert)(r.name,"invalid FieldDescriptorProto: missing name"),(0,Fe.assert)(r.number,"invalid FieldDescriptorProto: missing number"),(0,Fe.assert)(r.type,"invalid FieldDescriptorProto: missing type");let f=Ik(r,e.syntax),c={proto:r,deprecated:(o=(a=r.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,name:r.name,number:r.number,parent:t,oneof:n,optional:Ece(r,e.syntax),packed:(u=(s=r.options)===null||s===void 0?void 0:s.packed)!==null&&u!==void 0?u:f,packedByDefault:f,jsonName:r.jsonName===(0,xk.fieldJsonName)(r.name)?void 0:r.jsonName,scalar:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,toString(){return`field ${this.parent.typeName}.${this.name}`},declarationString:Sce,getComments(){let g=[...this.parent.getComments().sourcePath,Si.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return gu(e.proto.sourceCodeInfo,g)}},l=r.label===Ee.FieldDescriptorProto_Label.REPEATED;switch(r.type){case Ee.FieldDescriptorProto_Type.MESSAGE:case Ee.FieldDescriptorProto_Type.GROUP:{(0,Fe.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.mapEntries.get(J1(r.typeName));if(g!==void 0)return(0,Fe.assert)(l,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},c),{kind:"field",fieldKind:"map",repeated:!1}),bce(g));let y=i.messages.get(J1(r.typeName));return(0,Fe.assert)(y!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"message",repeated:l,message:y})}case Ee.FieldDescriptorProto_Type.ENUM:{(0,Fe.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.enums.get(J1(r.typeName));return(0,Fe.assert)(g!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"enum",getDefaultValue:_k,repeated:l,enum:g})}default:{let g=Ice[r.type];return(0,Fe.assert)(g,`invalid FieldDescriptorProto: unknown type ${r.type}`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"scalar",getDefaultValue:_k,repeated:l,scalar:g})}}}function mk(r,e,t,n){(0,Fe.assert)(r.extendee,"invalid FieldDescriptorProto: missing extendee");let i=Ek(r,e,null,void 0,n),a=n.messages.get(J1(r.extendee));return(0,Fe.assert)(a,`invalid FieldDescriptorProto: extendee ${r.extendee} not found`),Object.assign(Object.assign({},i),{kind:"extension",typeName:_b(r,t,e),parent:t,file:e,extendee:a,toString(){return`extension ${this.typeName}`},getComments(){let o=this.parent?[...this.parent.getComments().sourcePath,Si.DescriptorProto_Extension,this.parent.proto.extension.indexOf(r)]:[Si.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(r)];return gu(e.proto.sourceCodeInfo,o)}})}function _b(r,e,t){(0,Fe.assert)(r.name,`invalid ${r.getType().typeName}: missing name`);let n;return e?n=`${e.typeName}.${r.name}`:t.proto.package!==void 0?n=`${t.proto.package}.${r.name}`:n=`${r.name}`,n}function J1(r){return r.startsWith(".")?r.substring(1):r}function bce(r){var e,t;(0,Fe.assert)((e=r.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${r.toString()} to be a map entry`),(0,Fe.assert)(r.fields.length===2,`invalid DescriptorProto: map entry ${r.toString()} has ${r.fields.length} fields`);let n=r.fields.find(o=>o.proto.number===1);(0,Fe.assert)(n,`invalid DescriptorProto: map entry ${r.toString()} is missing key field`);let i=n.scalar;(0,Fe.assert)(i!==void 0&&i!==Oe.ScalarType.BYTES&&i!==Oe.ScalarType.FLOAT&&i!==Oe.ScalarType.DOUBLE,`invalid DescriptorProto: map entry ${r.toString()} has unexpected key type ${(t=n.proto.type)!==null&&t!==void 0?t:-1}`);let a=r.fields.find(o=>o.proto.number===2);switch((0,Fe.assert)(a,`invalid DescriptorProto: map entry ${r.toString()} is missing value field`),a.fieldKind){case"scalar":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"scalar"})};case"message":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"message"})};case"enum":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function wce(r,e){var t;let n=r.oneofIndex;if(n===void 0)return;let i;return r.proto3Optional!==!0&&(i=e[n],(0,Fe.assert)(i,`invalid FieldDescriptorProto: oneof #${n} for field #${(t=r.number)!==null&&t!==void 0?t:-1} not found`)),i}function Ece(r,e){switch(e){case"proto2":return r.oneofIndex===void 0&&r.label===Ee.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return r.proto3Optional===!0}}function Ik(r,e){if((0,Fe.assert)(r.type,"invalid FieldDescriptorProto: missing type"),e==="proto3")switch(r.type){case Ee.FieldDescriptorProto_Type.DOUBLE:case Ee.FieldDescriptorProto_Type.FLOAT:case Ee.FieldDescriptorProto_Type.INT64:case Ee.FieldDescriptorProto_Type.UINT64:case Ee.FieldDescriptorProto_Type.INT32:case Ee.FieldDescriptorProto_Type.FIXED64:case Ee.FieldDescriptorProto_Type.FIXED32:case Ee.FieldDescriptorProto_Type.UINT32:case Ee.FieldDescriptorProto_Type.SFIXED32:case Ee.FieldDescriptorProto_Type.SFIXED64:case Ee.FieldDescriptorProto_Type.SINT32:case Ee.FieldDescriptorProto_Type.SINT64:case Ee.FieldDescriptorProto_Type.BOOL:case Ee.FieldDescriptorProto_Type.ENUM:return!0;default:return!1}return!1}$1.isPackedFieldByDefault=Ik;var Ice={[Ee.FieldDescriptorProto_Type.DOUBLE]:Oe.ScalarType.DOUBLE,[Ee.FieldDescriptorProto_Type.FLOAT]:Oe.ScalarType.FLOAT,[Ee.FieldDescriptorProto_Type.INT64]:Oe.ScalarType.INT64,[Ee.FieldDescriptorProto_Type.UINT64]:Oe.ScalarType.UINT64,[Ee.FieldDescriptorProto_Type.INT32]:Oe.ScalarType.INT32,[Ee.FieldDescriptorProto_Type.FIXED64]:Oe.ScalarType.FIXED64,[Ee.FieldDescriptorProto_Type.FIXED32]:Oe.ScalarType.FIXED32,[Ee.FieldDescriptorProto_Type.BOOL]:Oe.ScalarType.BOOL,[Ee.FieldDescriptorProto_Type.STRING]:Oe.ScalarType.STRING,[Ee.FieldDescriptorProto_Type.GROUP]:void 0,[Ee.FieldDescriptorProto_Type.MESSAGE]:void 0,[Ee.FieldDescriptorProto_Type.BYTES]:Oe.ScalarType.BYTES,[Ee.FieldDescriptorProto_Type.UINT32]:Oe.ScalarType.UINT32,[Ee.FieldDescriptorProto_Type.ENUM]:void 0,[Ee.FieldDescriptorProto_Type.SFIXED32]:Oe.ScalarType.SFIXED32,[Ee.FieldDescriptorProto_Type.SFIXED64]:Oe.ScalarType.SFIXED64,[Ee.FieldDescriptorProto_Type.SINT32]:Oe.ScalarType.SINT32,[Ee.FieldDescriptorProto_Type.SINT64]:Oe.ScalarType.SINT64};function gu(r,e){if(!r)return{leadingDetached:[],sourcePath:e};for(let t of r.location)if(t.path.length===e.length&&!t.path.some((n,i)=>e[i]!==n))return{leadingDetached:t.leadingDetachedComments,leading:t.leadingComments,trailing:t.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var Si;(function(r){r[r.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",r[r.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",r[r.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",r[r.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",r[r.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",r[r.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",r[r.DescriptorProto_Field=2]="DescriptorProto_Field",r[r.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",r[r.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",r[r.DescriptorProto_Extension=6]="DescriptorProto_Extension",r[r.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",r[r.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",r[r.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(Si||(Si={}));function Sce(){var r,e;let t=[];this.repeated&&t.push("repeated"),this.optional&&t.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===Ee.FieldDescriptorProto_Label.REQUIRED&&t.push("required");let i;switch(this.fieldKind){case"scalar":i=Oe.ScalarType[this.scalar].toLowerCase();break;case"enum":i=this.enum.typeName;break;case"message":i=this.message.typeName;break;case"map":{let s=Oe.ScalarType[this.mapKey].toLowerCase(),u;switch(this.mapValue.kind){case"scalar":u=Oe.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":u=this.mapValue.enum.typeName;break;case"message":u=this.mapValue.message.typeName;break}i=`map<${s}, ${u}>`;break}}t.push(`${i} ${this.name} = ${this.number}`);let a=[];((r=this.proto.options)===null||r===void 0?void 0:r.packed)!==void 0&&a.push(`packed = ${this.proto.options.packed.toString()}`);let o=this.proto.defaultValue;return o!==void 0&&((this.proto.type==Ee.FieldDescriptorProto_Type.BYTES||this.proto.type==Ee.FieldDescriptorProto_Type.STRING)&&(o='"'+o.replace('"','\\"')+'"'),a.push(`default = ${o}`)),this.jsonName!==void 0&&a.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.deprecated)===!0&&a.push("deprecated = true"),a.length>0&&t.push("["+a.join(", ")+"]"),t.join(" ")}function _k(){let r=this.proto.defaultValue;if(r!==void 0)switch(this.fieldKind){case"enum":{let e=this.enum.values.find(t=>t.name===r);return(0,Fe.assert)(e,`cannot parse ${this.toString()} default value: ${r}`),e.number}case"scalar":switch(this.scalar){case Oe.ScalarType.STRING:return r;case Oe.ScalarType.BYTES:{let e=Tce(r);if(e===!1)throw new Error(`cannot parse ${this.toString()} default value: ${r}`);return e}case Oe.ScalarType.INT64:case Oe.ScalarType.SFIXED64:case Oe.ScalarType.SINT64:return ET.protoInt64.parse(r);case Oe.ScalarType.UINT64:case Oe.ScalarType.FIXED64:return ET.protoInt64.uParse(r);case Oe.ScalarType.DOUBLE:case Oe.ScalarType.FLOAT:switch(r){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(r)}case Oe.ScalarType.BOOL:return r==="true";case Oe.ScalarType.INT32:case Oe.ScalarType.UINT32:case Oe.ScalarType.SINT32:case Oe.ScalarType.FIXED32:case Oe.ScalarType.SFIXED32:return parseInt(r,10)}break;default:return}}function Tce(r){let e=[],t={tail:r,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){let i=this.tail.substring(0,n);return this.tail=this.tail.substring(n),i}return!1}};for(;t.next();)switch(t.c){case"\\":if(t.next())switch(t.c){case"\\":e.push(t.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let n=t.c,i=t.take(2);if(i===!1)return!1;let a=parseInt(n+i,8);if(isNaN(a))return!1;e.push(a);break}case"x":{let n=t.c,i=t.take(2);if(i===!1)return!1;let a=parseInt(n+i,16);if(isNaN(a))return!1;e.push(a);break}case"u":{let n=t.c,i=t.take(4);if(i===!1)return!1;let a=parseInt(n+i,16);if(isNaN(a))return!1;let o=new Uint8Array(4);new DataView(o.buffer).setInt32(0,a,!0),e.push(o[0],o[1],o[2],o[3]);break}case"U":{let n=t.c,i=t.take(8);if(i===!1)return!1;let a=ET.protoInt64.uEnc(n+i),o=new Uint8Array(8),s=new DataView(o.buffer);s.setInt32(0,a.lo,!0),s.setInt32(4,a.hi,!0),e.push(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);break}}break;default:e.push(t.c.charCodeAt(0))}return new Uint8Array(e)}});var Sk=E(xb=>{"use strict";h();p();Object.defineProperty(xb,"__esModule",{value:!0});xb.createRegistry=void 0;function Cce(...r){let e={},t={},n={},i={add(a){if("fields"in a){if(!this.findMessage(a.typeName)){e[a.typeName]=a;for(let o of a.fields.list())o.kind=="message"?this.add(o.T):o.kind=="map"&&o.V.kind=="message"?this.add(o.V.T):o.kind=="enum"&&this.add(o.T)}}else if("methods"in a){if(!this.findService(a.typeName)){n[a.typeName]=a;for(let o of Object.values(a.methods))this.add(o.I),this.add(o.O)}}else t[a.typeName]=a},findMessage(a){return e[a]},findEnum(a){return t[a]},findService(a){return n[a]}};for(let a of r)i.add(a);return i}xb.createRegistry=Cce});var AT=E(bb=>{"use strict";h();p();Object.defineProperty(bb,"__esModule",{value:!0});bb.Timestamp=void 0;var Ace=vr(),CT=lf(),Ky=ga(),ma=class extends Ace.Message{constructor(e){super(),this.seconds=CT.protoInt64.zero,this.nanos=0,Ky.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${Ky.proto3.json.debug(e)}`);let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=CT.protoInt64.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){let t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){let i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ma.fromDate(new Date)}static fromDate(e){let t=e.getTime();return new ma({seconds:CT.protoInt64.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new ma().fromBinary(e,t)}static fromJson(e,t){return new ma().fromJson(e,t)}static fromJsonString(e,t){return new ma().fromJsonString(e,t)}static equals(e,t){return Ky.proto3.util.equals(ma,e,t)}};ma.runtime=Ky.proto3;ma.typeName="google.protobuf.Timestamp";ma.fields=Ky.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);bb.Timestamp=ma});var DT=E(wb=>{"use strict";h();p();Object.defineProperty(wb,"__esModule",{value:!0});wb.Duration=void 0;var Oce=vr(),OT=lf(),dl=ga(),gs=class extends Oce.Message{constructor(e){super(),this.seconds=OT.protoInt64.zero,this.nanos=0,dl.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${dl.proto3.json.debug(e)}`);let n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${dl.proto3.json.debug(e)}`);let i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${dl.proto3.json.debug(e)}`);if(this.seconds=OT.protoInt64.parse(i),typeof n[2]=="string"){let a=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(a),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),t+="."+n,this.nanos<0&&this.seconds===OT.protoInt64.zero&&(t="-"+t)}return t+"s"}static fromBinary(e,t){return new gs().fromBinary(e,t)}static fromJson(e,t){return new gs().fromJson(e,t)}static fromJsonString(e,t){return new gs().fromJsonString(e,t)}static equals(e,t){return dl.proto3.util.equals(gs,e,t)}};gs.runtime=dl.proto3;gs.typeName="google.protobuf.Duration";gs.fields=dl.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);wb.Duration=gs});var Sb=E(Ib=>{"use strict";h();p();Object.defineProperty(Ib,"__esModule",{value:!0});Ib.Any=void 0;var Dce=vr(),Eb=ga(),Eo=class extends Dce.Message{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),Eb.proto3.util.initPartial(e,this)}toJson(e){var t;if(this.typeUrl==="")return{};let n=this.typeUrlToName(this.typeUrl),i=(t=e?.typeRegistry)===null||t===void 0?void 0:t.findMessage(n);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let o=i.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||o===null||Array.isArray(o)||typeof o!="object")&&(o={value:o}),o["@type"]=this.typeUrl,o}fromJson(e,t){var n;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;let i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let a=this.typeUrlToName(i),o=(n=t?.typeRegistry)===null||n===void 0?void 0:n.findMessage(a);if(!o)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let s;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))s=o.fromJson(e.value,t);else{let u=Object.assign({},e);delete u["@type"],s=o.fromJson(u,t)}return this.packFrom(s),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;let t=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!t)return t.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;let t=this.typeUrlToName(this.typeUrl),n="";return typeof e=="string"?n=e:n=e.typeName,t===n}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);let t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}static pack(e){let t=new Eo;return t.packFrom(e),t}static fromBinary(e,t){return new Eo().fromBinary(e,t)}static fromJson(e,t){return new Eo().fromJson(e,t)}static fromJsonString(e,t){return new Eo().fromJsonString(e,t)}static equals(e,t){return Eb.proto3.util.equals(Eo,e,t)}};Eo.runtime=Eb.proto3;Eo.typeName="google.protobuf.Any";Eo.fields=Eb.proto3.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);Ib.Any=Eo});var RT=E(Cb=>{"use strict";h();p();Object.defineProperty(Cb,"__esModule",{value:!0});Cb.Empty=void 0;var Rce=vr(),Tb=ga(),ys=class extends Rce.Message{constructor(e){super(),Tb.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ys().fromBinary(e,t)}static fromJson(e,t){return new ys().fromJson(e,t)}static fromJsonString(e,t){return new ys().fromJsonString(e,t)}static equals(e,t){return Tb.proto3.util.equals(ys,e,t)}};ys.runtime=Tb.proto3;ys.typeName="google.protobuf.Empty";ys.fields=Tb.proto3.util.newFieldList(()=>[]);Cb.Empty=ys});var PT=E(Ab=>{"use strict";h();p();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.FieldMask=void 0;var Pce=vr(),Vy=ga(),vs=class extends Pce.Message{constructor(e){super(),this.paths=[],Vy.proto3.util.initPartial(e,this)}toJson(e){function t(n){let i=!1,a=[];for(let o=0;o<n.length;o++){let s=n.charAt(o);switch(s){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(s),i=!1;break;default:i&&(i=!1,s=s.toUpperCase()),a.push(s);break}}return a.join("")}return this.paths.map(n=>{if(n.match(/_[0-9]?_/g)||n.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+n+'" is irreversible');return t(n)}).join(",")}fromJson(e,t){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+Vy.proto3.json.debug(e));if(e==="")return this;function n(i){if(i.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");let a=i.replace(/[A-Z]/g,o=>"_"+o.toLowerCase());return a[0]==="_"?a.substring(1):a}return this.paths=e.split(",").map(n),this}static fromBinary(e,t){return new vs().fromBinary(e,t)}static fromJson(e,t){return new vs().fromJson(e,t)}static fromJsonString(e,t){return new vs().fromJsonString(e,t)}static equals(e,t){return Vy.proto3.util.equals(vs,e,t)}};vs.runtime=Vy.proto3;vs.typeName="google.protobuf.FieldMask";vs.fields=Vy.proto3.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);Ab.FieldMask=vs});var MT=E(ms=>{"use strict";h();p();Object.defineProperty(ms,"__esModule",{value:!0});ms.ListValue=ms.Value=ms.Struct=ms.NullValue=void 0;var Wr=ga(),BT=vr(),Ob;(function(r){r[r.NULL_VALUE=0]="NULL_VALUE"})(Ob=ms.NullValue||(ms.NullValue={}));Wr.proto3.util.setEnumType(Ob,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);var _a=class extends BT.Message{constructor(e){super(),this.fields={},Wr.proto3.util.initPartial(e,this)}toJson(e){let t={};for(let[n,i]of Object.entries(this.fields))t[n]=i.toJson(e);return t}fromJson(e,t){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+Wr.proto3.json.debug(e));for(let[n,i]of Object.entries(e))this.fields[n]=Ti.fromJson(i);return this}static fromBinary(e,t){return new _a().fromBinary(e,t)}static fromJson(e,t){return new _a().fromJson(e,t)}static fromJsonString(e,t){return new _a().fromJsonString(e,t)}static equals(e,t){return Wr.proto3.util.equals(_a,e,t)}};_a.runtime=Wr.proto3;_a.typeName="google.protobuf.Struct";_a.fields=Wr.proto3.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:Ti}}]);ms.Struct=_a;var Ti=class extends BT.Message{constructor(e){super(),this.kind={case:void 0},Wr.proto3.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,t){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:Ob.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:xa.fromJson(e)}:this.kind={case:"structValue",value:_a.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+Wr.proto3.json.debug(e))}return this}static fromBinary(e,t){return new Ti().fromBinary(e,t)}static fromJson(e,t){return new Ti().fromJson(e,t)}static fromJsonString(e,t){return new Ti().fromJsonString(e,t)}static equals(e,t){return Wr.proto3.util.equals(Ti,e,t)}};Ti.runtime=Wr.proto3;Ti.typeName="google.protobuf.Value";Ti.fields=Wr.proto3.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:Wr.proto3.getEnumType(Ob),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:_a,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:xa,oneof:"kind"}]);ms.Value=Ti;var xa=class extends BT.Message{constructor(e){super(),this.values=[],Wr.proto3.util.initPartial(e,this)}toJson(e){return this.values.map(t=>t.toJson())}fromJson(e,t){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+Wr.proto3.json.debug(e));for(let n of e)this.values.push(Ti.fromJson(n));return this}static fromBinary(e,t){return new xa().fromBinary(e,t)}static fromJson(e,t){return new xa().fromJson(e,t)}static fromJsonString(e,t){return new xa().fromJsonString(e,t)}static equals(e,t){return Wr.proto3.util.equals(xa,e,t)}};xa.runtime=Wr.proto3;xa.typeName="google.protobuf.ListValue";xa.fields=Wr.proto3.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:Ti,repeated:!0}]);ms.ListValue=xa});var NT=E(or=>{"use strict";h();p();Object.defineProperty(or,"__esModule",{value:!0});or.BytesValue=or.StringValue=or.BoolValue=or.UInt32Value=or.Int32Value=or.UInt64Value=or.Int64Value=or.FloatValue=or.DoubleValue=void 0;var mf=vr(),ve=ga(),Pr=pa(),Tk=lf(),ba=class extends mf.Message{constructor(e){super(),this.value=0,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.DOUBLE,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.DOUBLE,e)}catch(n){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new ba().fromBinary(e,t)}static fromJson(e,t){return new ba().fromJson(e,t)}static fromJsonString(e,t){return new ba().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(ba,e,t)}};ba.runtime=ve.proto3;ba.typeName="google.protobuf.DoubleValue";ba.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);ba.fieldWrapper={wrapField(r){return new ba({value:r})},unwrapField(r){return r.value}};or.DoubleValue=ba;var wa=class extends mf.Message{constructor(e){super(),this.value=0,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.FLOAT,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.FLOAT,e)}catch(n){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new wa().fromBinary(e,t)}static fromJson(e,t){return new wa().fromJson(e,t)}static fromJsonString(e,t){return new wa().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(wa,e,t)}};wa.runtime=ve.proto3;wa.typeName="google.protobuf.FloatValue";wa.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);wa.fieldWrapper={wrapField(r){return new wa({value:r})},unwrapField(r){return r.value}};or.FloatValue=wa;var Ea=class extends mf.Message{constructor(e){super(),this.value=Tk.protoInt64.zero,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.INT64,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.INT64,e)}catch(n){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ea().fromBinary(e,t)}static fromJson(e,t){return new Ea().fromJson(e,t)}static fromJsonString(e,t){return new Ea().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Ea,e,t)}};Ea.runtime=ve.proto3;Ea.typeName="google.protobuf.Int64Value";Ea.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Ea.fieldWrapper={wrapField(r){return new Ea({value:r})},unwrapField(r){return r.value}};or.Int64Value=Ea;var Ia=class extends mf.Message{constructor(e){super(),this.value=Tk.protoInt64.zero,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.UINT64,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.UINT64,e)}catch(n){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ia().fromBinary(e,t)}static fromJson(e,t){return new Ia().fromJson(e,t)}static fromJsonString(e,t){return new Ia().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Ia,e,t)}};Ia.runtime=ve.proto3;Ia.typeName="google.protobuf.UInt64Value";Ia.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Ia.fieldWrapper={wrapField(r){return new Ia({value:r})},unwrapField(r){return r.value}};or.UInt64Value=Ia;var Sa=class extends mf.Message{constructor(e){super(),this.value=0,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.INT32,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.INT32,e)}catch(n){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Sa().fromBinary(e,t)}static fromJson(e,t){return new Sa().fromJson(e,t)}static fromJsonString(e,t){return new Sa().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Sa,e,t)}};Sa.runtime=ve.proto3;Sa.typeName="google.protobuf.Int32Value";Sa.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Sa.fieldWrapper={wrapField(r){return new Sa({value:r})},unwrapField(r){return r.value}};or.Int32Value=Sa;var Ta=class extends mf.Message{constructor(e){super(),this.value=0,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.UINT32,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.UINT32,e)}catch(n){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ta().fromBinary(e,t)}static fromJson(e,t){return new Ta().fromJson(e,t)}static fromJsonString(e,t){return new Ta().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Ta,e,t)}};Ta.runtime=ve.proto3;Ta.typeName="google.protobuf.UInt32Value";Ta.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Ta.fieldWrapper={wrapField(r){return new Ta({value:r})},unwrapField(r){return r.value}};or.UInt32Value=Ta;var Ca=class extends mf.Message{constructor(e){super(),this.value=!1,ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.BOOL,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.BOOL,e)}catch(n){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ca().fromBinary(e,t)}static fromJson(e,t){return new Ca().fromJson(e,t)}static fromJsonString(e,t){return new Ca().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Ca,e,t)}};Ca.runtime=ve.proto3;Ca.typeName="google.protobuf.BoolValue";Ca.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Ca.fieldWrapper={wrapField(r){return new Ca({value:r})},unwrapField(r){return r.value}};or.BoolValue=Ca;var Aa=class extends mf.Message{constructor(e){super(),this.value="",ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.STRING,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.STRING,e)}catch(n){let i='cannot decode message google.protobuf.StringValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Aa().fromBinary(e,t)}static fromJson(e,t){return new Aa().fromJson(e,t)}static fromJsonString(e,t){return new Aa().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Aa,e,t)}};Aa.runtime=ve.proto3;Aa.typeName="google.protobuf.StringValue";Aa.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Aa.fieldWrapper={wrapField(r){return new Aa({value:r})},unwrapField(r){return r.value}};or.StringValue=Aa;var Oa=class extends mf.Message{constructor(e){super(),this.value=new Uint8Array(0),ve.proto3.util.initPartial(e,this)}toJson(e){return ve.proto3.json.writeScalar(Pr.ScalarType.BYTES,this.value,!0)}fromJson(e,t){try{this.value=ve.proto3.json.readScalar(Pr.ScalarType.BYTES,e)}catch(n){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Oa().fromBinary(e,t)}static fromJson(e,t){return new Oa().fromJson(e,t)}static fromJsonString(e,t){return new Oa().fromJsonString(e,t)}static equals(e,t){return ve.proto3.util.equals(Oa,e,t)}};Oa.runtime=ve.proto3;Oa.typeName="google.protobuf.BytesValue";Oa.fields=ve.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Oa.fieldWrapper={wrapField(r){return new Oa({value:r})},unwrapField(r){return r.value}};or.BytesValue=Oa});var Dk=E(Rb=>{"use strict";h();p();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.createRegistryFromDescriptors=void 0;var Z1=ls(),Ck=ga(),Ak=jy(),qT=fl(),Bce=AT(),Ok=DT(),Mce=Sb(),Nce=RT(),qce=PT(),Db=MT(),Fce=Ux(),_f=NT(),Lce=Hy(),Uce=TT(),kce=[Mce.Any,Ok.Duration,Nce.Empty,qce.FieldMask,Db.Struct,Db.Value,Db.ListValue,Bce.Timestamp,Ok.Duration,_f.DoubleValue,_f.FloatValue,_f.Int64Value,_f.Int32Value,_f.UInt32Value,_f.UInt64Value,_f.BoolValue,_f.StringValue,_f.BytesValue],jce=[(0,Fce.getEnumType)(Db.NullValue)];function Hce(r,e=!0){let t=r instanceof Uint8Array||r instanceof Lce.FileDescriptorSet?(0,Uce.createDescriptorSet)(r):r,n={},i={},a={};if(e){for(let o of kce)i[o.typeName]=o;for(let o of jce)n[o.typeName]=o}return{findEnum(o){let s=n[o];if(s)return s;let u=t.enums.get(o);if(!u)return;let c=(u.file.syntax=="proto3"?Ck.proto3:Ak.proto2).makeEnumType(o,u.values.map(l=>({no:l.number,name:l.name,localName:(0,qT.localName)(l)})),{});return n[o]=c,c},findMessage(o){let s=i[o];if(s)return s;let u=t.messages.get(o);if(!u)return;let f=u.file.syntax=="proto3"?Ck.proto3:Ak.proto2,c=[],l=f.makeMessageType(o,()=>c,{localName:(0,qT.localName)(u)});i[o]=l;for(let g of u.fields){let y=Kce(g,this);c.push(y)}return l},findService(o){let s=a[o];if(s)return s;let u=t.services.get(o);if(!u)return;let f={};for(let c of u.methods){let l=this.findMessage(c.input.typeName),g=this.findMessage(c.output.typeName);(0,Z1.assert)(l,`message "${c.input.typeName}" for ${c.toString()} not found`),(0,Z1.assert)(g,`output message "${c.output.typeName}" for ${c.toString()} not found`),f[(0,qT.localName)(c)]={name:c.name,I:l,O:g,kind:c.methodKind,idempotency:c.idempotency}}return a[o]={typeName:u.typeName,methods:f}}}}Rb.createRegistryFromDescriptors=Hce;function Kce(r,e){switch(r.fieldKind){case"map":return Vce(r,e);case"message":return Yce(r,e);case"enum":{let t=zce(r,e);return t.default=r.getDefaultValue(),t}case"scalar":{let t=Gce(r);return t.default=r.getDefaultValue(),t}}}function Vce(r,e){let t={kind:"map",no:r.number,name:r.name,jsonName:r.jsonName,K:r.mapKey};if(r.mapValue.message){let n=e.findMessage(r.mapValue.message.typeName);return(0,Z1.assert)(n,`message "${r.mapValue.message.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"message",T:n}})}if(r.mapValue.enum){let n=e.findEnum(r.mapValue.enum.typeName);return(0,Z1.assert)(n,`enum "${r.mapValue.enum.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"enum",T:n}})}return Object.assign(Object.assign({},t),{V:{kind:"scalar",T:r.mapValue.scalar}})}function Gce(r){let e={kind:"scalar",no:r.number,name:r.name,jsonName:r.jsonName,T:r.scalar};return r.repeated?Object.assign(Object.assign({},e),{repeated:!0,packed:r.packed,oneof:void 0,T:r.scalar}):r.oneof?Object.assign(Object.assign({},e),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},e),{opt:!0}):e}function Yce(r,e){let t=e.findMessage(r.message.typeName);(0,Z1.assert)(t,`message "${r.message.typeName}" for ${r.toString()} not found`);let n={kind:"message",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function zce(r,e){let t=e.findEnum(r.enum.typeName);(0,Z1.assert)(t,`enum "${r.enum.typeName}" for ${r.toString()} not found`);let n={kind:"enum",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}});var Bk=E(Da=>{"use strict";h();p();Object.defineProperty(Da,"__esModule",{value:!0});Da.CodeGeneratorResponse_File=Da.CodeGeneratorResponse_Feature=Da.CodeGeneratorResponse=Da.CodeGeneratorRequest=Da.Version=void 0;var Pb=vr(),Xr=jy(),Rk=Hy(),Io=class extends Pb.Message{constructor(e){super(),Xr.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Io().fromBinary(e,t)}static fromJson(e,t){return new Io().fromJson(e,t)}static fromJsonString(e,t){return new Io().fromJsonString(e,t)}static equals(e,t){return Xr.proto2.util.equals(Io,e,t)}};Io.runtime=Xr.proto2;Io.typeName="google.protobuf.compiler.Version";Io.fields=Xr.proto2.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);Da.Version=Io;var _s=class extends Pb.Message{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],Xr.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new _s().fromBinary(e,t)}static fromJson(e,t){return new _s().fromJson(e,t)}static fromJsonString(e,t){return new _s().fromJsonString(e,t)}static equals(e,t){return Xr.proto2.util.equals(_s,e,t)}};_s.runtime=Xr.proto2;_s.typeName="google.protobuf.compiler.CodeGeneratorRequest";_s.fields=Xr.proto2.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Rk.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Io,opt:!0}]);Da.CodeGeneratorRequest=_s;var xs=class extends Pb.Message{constructor(e){super(),this.file=[],Xr.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new xs().fromBinary(e,t)}static fromJson(e,t){return new xs().fromJson(e,t)}static fromJsonString(e,t){return new xs().fromJsonString(e,t)}static equals(e,t){return Xr.proto2.util.equals(xs,e,t)}};xs.runtime=Xr.proto2;xs.typeName="google.protobuf.compiler.CodeGeneratorResponse";xs.fields=Xr.proto2.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:So,repeated:!0}]);Da.CodeGeneratorResponse=xs;var Pk;(function(r){r[r.NONE=0]="NONE",r[r.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL"})(Pk=Da.CodeGeneratorResponse_Feature||(Da.CodeGeneratorResponse_Feature={}));Xr.proto2.util.setEnumType(Pk,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"}]);var So=class extends Pb.Message{constructor(e){super(),Xr.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new So().fromBinary(e,t)}static fromJson(e,t){return new So().fromJson(e,t)}static fromJsonString(e,t){return new So().fromJsonString(e,t)}static equals(e,t){return Xr.proto2.util.equals(So,e,t)}};So.runtime=Xr.proto2;So.typeName="google.protobuf.compiler.CodeGeneratorResponse.File";So.fields=Xr.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Rk.GeneratedCodeInfo,opt:!0}]);Da.CodeGeneratorResponse_File=So});var Nb=E(Mb=>{"use strict";h();p();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.SourceContext=void 0;var Wce=vr(),Bb=ga(),bs=class extends Wce.Message{constructor(e){super(),this.fileName="",Bb.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new bs().fromBinary(e,t)}static fromJson(e,t){return new bs().fromJson(e,t)}static fromJsonString(e,t){return new bs().fromJsonString(e,t)}static equals(e,t){return Bb.proto3.util.equals(bs,e,t)}};bs.runtime=Bb.proto3;bs.typeName="google.protobuf.SourceContext";bs.fields=Bb.proto3.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);Mb.SourceContext=bs});var FT=E(Ft=>{"use strict";h();p();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.Option=Ft.EnumValue=Ft.Enum=Ft.Field_Cardinality=Ft.Field_Kind=Ft.Field=Ft.Type=Ft.Syntax=void 0;var ut=ga(),Gy=vr(),Mk=Nb(),Xce=Sb(),Q1;(function(r){r[r.PROTO2=0]="PROTO2",r[r.PROTO3=1]="PROTO3",r[r.EDITIONS=2]="EDITIONS"})(Q1=Ft.Syntax||(Ft.Syntax={}));ut.proto3.util.setEnumType(Q1,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);var ws=class extends Gy.Message{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Q1.PROTO2,this.edition="",ut.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ws().fromBinary(e,t)}static fromJson(e,t){return new ws().fromJson(e,t)}static fromJsonString(e,t){return new ws().fromJsonString(e,t)}static equals(e,t){return ut.proto3.util.equals(ws,e,t)}};ws.runtime=ut.proto3;ws.typeName="google.protobuf.Type";ws.fields=ut.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:To,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:Ci,repeated:!0},{no:5,name:"source_context",kind:"message",T:Mk.SourceContext},{no:6,name:"syntax",kind:"enum",T:ut.proto3.getEnumType(Q1)},{no:7,name:"edition",kind:"scalar",T:9}]);Ft.Type=ws;var To=class extends Gy.Message{constructor(e){super(),this.kind=qb.TYPE_UNKNOWN,this.cardinality=Fb.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",ut.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new To().fromBinary(e,t)}static fromJson(e,t){return new To().fromJson(e,t)}static fromJsonString(e,t){return new To().fromJsonString(e,t)}static equals(e,t){return ut.proto3.util.equals(To,e,t)}};To.runtime=ut.proto3;To.typeName="google.protobuf.Field";To.fields=ut.proto3.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:ut.proto3.getEnumType(qb)},{no:2,name:"cardinality",kind:"enum",T:ut.proto3.getEnumType(Fb)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:Ci,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);Ft.Field=To;var qb;(function(r){r[r.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",r[r.TYPE_DOUBLE=1]="TYPE_DOUBLE",r[r.TYPE_FLOAT=2]="TYPE_FLOAT",r[r.TYPE_INT64=3]="TYPE_INT64",r[r.TYPE_UINT64=4]="TYPE_UINT64",r[r.TYPE_INT32=5]="TYPE_INT32",r[r.TYPE_FIXED64=6]="TYPE_FIXED64",r[r.TYPE_FIXED32=7]="TYPE_FIXED32",r[r.TYPE_BOOL=8]="TYPE_BOOL",r[r.TYPE_STRING=9]="TYPE_STRING",r[r.TYPE_GROUP=10]="TYPE_GROUP",r[r.TYPE_MESSAGE=11]="TYPE_MESSAGE",r[r.TYPE_BYTES=12]="TYPE_BYTES",r[r.TYPE_UINT32=13]="TYPE_UINT32",r[r.TYPE_ENUM=14]="TYPE_ENUM",r[r.TYPE_SFIXED32=15]="TYPE_SFIXED32",r[r.TYPE_SFIXED64=16]="TYPE_SFIXED64",r[r.TYPE_SINT32=17]="TYPE_SINT32",r[r.TYPE_SINT64=18]="TYPE_SINT64"})(qb=Ft.Field_Kind||(Ft.Field_Kind={}));ut.proto3.util.setEnumType(qb,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var Fb;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(Fb=Ft.Field_Cardinality||(Ft.Field_Cardinality={}));ut.proto3.util.setEnumType(Fb,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);var Es=class extends Gy.Message{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Q1.PROTO2,this.edition="",ut.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Es().fromBinary(e,t)}static fromJson(e,t){return new Es().fromJson(e,t)}static fromJsonString(e,t){return new Es().fromJsonString(e,t)}static equals(e,t){return ut.proto3.util.equals(Es,e,t)}};Es.runtime=ut.proto3;Es.typeName="google.protobuf.Enum";Es.fields=ut.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Co,repeated:!0},{no:3,name:"options",kind:"message",T:Ci,repeated:!0},{no:4,name:"source_context",kind:"message",T:Mk.SourceContext},{no:5,name:"syntax",kind:"enum",T:ut.proto3.getEnumType(Q1)},{no:6,name:"edition",kind:"scalar",T:9}]);Ft.Enum=Es;var Co=class extends Gy.Message{constructor(e){super(),this.name="",this.number=0,this.options=[],ut.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Co().fromBinary(e,t)}static fromJson(e,t){return new Co().fromJson(e,t)}static fromJsonString(e,t){return new Co().fromJsonString(e,t)}static equals(e,t){return ut.proto3.util.equals(Co,e,t)}};Co.runtime=ut.proto3;Co.typeName="google.protobuf.EnumValue";Co.fields=ut.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:Ci,repeated:!0}]);Ft.EnumValue=Co;var Ci=class extends Gy.Message{constructor(e){super(),this.name="",ut.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ci().fromBinary(e,t)}static fromJson(e,t){return new Ci().fromJson(e,t)}static fromJsonString(e,t){return new Ci().fromJsonString(e,t)}static equals(e,t){return ut.proto3.util.equals(Ci,e,t)}};Ci.runtime=ut.proto3;Ci.typeName="google.protobuf.Option";Ci.fields=ut.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Xce.Any}]);Ft.Option=Ci});var Nk=E(Qc=>{"use strict";h();p();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Mixin=Qc.Method=Qc.Api=void 0;var LT=vr(),ep=FT(),Jce=Nb(),$i=ga(),Is=class extends LT.Message{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=ep.Syntax.PROTO2,$i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Is().fromBinary(e,t)}static fromJson(e,t){return new Is().fromJson(e,t)}static fromJsonString(e,t){return new Is().fromJsonString(e,t)}static equals(e,t){return $i.proto3.util.equals(Is,e,t)}};Is.runtime=$i.proto3;Is.typeName="google.protobuf.Api";Is.fields=$i.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:Ao,repeated:!0},{no:3,name:"options",kind:"message",T:ep.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Jce.SourceContext},{no:6,name:"mixins",kind:"message",T:Oo,repeated:!0},{no:7,name:"syntax",kind:"enum",T:$i.proto3.getEnumType(ep.Syntax)}]);Qc.Api=Is;var Ao=class extends LT.Message{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=ep.Syntax.PROTO2,$i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ao().fromBinary(e,t)}static fromJson(e,t){return new Ao().fromJson(e,t)}static fromJsonString(e,t){return new Ao().fromJsonString(e,t)}static equals(e,t){return $i.proto3.util.equals(Ao,e,t)}};Ao.runtime=$i.proto3;Ao.typeName="google.protobuf.Method";Ao.fields=$i.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:ep.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:$i.proto3.getEnumType(ep.Syntax)}]);Qc.Method=Ao;var Oo=class extends LT.Message{constructor(e){super(),this.name="",this.root="",$i.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Oo().fromBinary(e,t)}static fromJson(e,t){return new Oo().fromJson(e,t)}static fromJsonString(e,t){return new Oo().fromJsonString(e,t)}static equals(e,t){return $i.proto3.util.equals(Oo,e,t)}};Oo.runtime=$i.proto3;Oo.typeName="google.protobuf.Mixin";Oo.fields=$i.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);Qc.Mixin=Oo});var Ro=E(me=>{"use strict";h();p();var $ce=me&&me.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Do=me&&me.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$ce(e,r,t)};Object.defineProperty(me,"__esModule",{value:!0});me.createRegistryFromDescriptors=me.createRegistry=me.createDescriptorSet=me.BinaryReader=me.BinaryWriter=me.WireType=me.MethodIdempotency=me.MethodKind=me.ScalarType=me.Message=me.codegenInfo=me.protoDelimited=me.protoBase64=me.protoInt64=me.proto2=me.proto3=void 0;var Zce=ga();Object.defineProperty(me,"proto3",{enumerable:!0,get:function(){return Zce.proto3}});var Qce=jy();Object.defineProperty(me,"proto2",{enumerable:!0,get:function(){return Qce.proto2}});var e0e=lf();Object.defineProperty(me,"protoInt64",{enumerable:!0,get:function(){return e0e.protoInt64}});var t0e=aT();Object.defineProperty(me,"protoBase64",{enumerable:!0,get:function(){return t0e.protoBase64}});var r0e=gk();Object.defineProperty(me,"protoDelimited",{enumerable:!0,get:function(){return r0e.protoDelimited}});var n0e=vk();Object.defineProperty(me,"codegenInfo",{enumerable:!0,get:function(){return n0e.codegenInfo}});var i0e=vr();Object.defineProperty(me,"Message",{enumerable:!0,get:function(){return i0e.Message}});var a0e=pa();Object.defineProperty(me,"ScalarType",{enumerable:!0,get:function(){return a0e.ScalarType}});var qk=mT();Object.defineProperty(me,"MethodKind",{enumerable:!0,get:function(){return qk.MethodKind}});Object.defineProperty(me,"MethodIdempotency",{enumerable:!0,get:function(){return qk.MethodIdempotency}});var UT=qy();Object.defineProperty(me,"WireType",{enumerable:!0,get:function(){return UT.WireType}});Object.defineProperty(me,"BinaryWriter",{enumerable:!0,get:function(){return UT.BinaryWriter}});Object.defineProperty(me,"BinaryReader",{enumerable:!0,get:function(){return UT.BinaryReader}});var o0e=TT();Object.defineProperty(me,"createDescriptorSet",{enumerable:!0,get:function(){return o0e.createDescriptorSet}});var s0e=Sk();Object.defineProperty(me,"createRegistry",{enumerable:!0,get:function(){return s0e.createRegistry}});var u0e=Dk();Object.defineProperty(me,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return u0e.createRegistryFromDescriptors}});Do(Bk(),me);Do(Nk(),me);Do(Sb(),me);Do(Hy(),me);Do(DT(),me);Do(RT(),me);Do(PT(),me);Do(Nb(),me);Do(MT(),me);Do(AT(),me);Do(FT(),me);Do(NT(),me)});var Fk=E(e0=>{"use strict";h();p();Object.defineProperty(e0,"__esModule",{value:!0});e0.TriggerSmartContract=e0.TransferAssetContract=e0.TransferContract=void 0;var sr=Ro(),Ss=class extends sr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=sr.protoInt64.zero,sr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ss().fromBinary(e,t)}static fromJson(e,t){return new Ss().fromJson(e,t)}static fromJsonString(e,t){return new Ss().fromJsonString(e,t)}static equals(e,t){return sr.proto3.util.equals(Ss,e,t)}};Ss.runtime=sr.proto3;Ss.typeName="protocol.TransferContract";Ss.fields=sr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}]);e0.TransferContract=Ss;var Ts=class extends sr.Message{constructor(e){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=sr.protoInt64.zero,sr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ts().fromBinary(e,t)}static fromJson(e,t){return new Ts().fromJson(e,t)}static fromJsonString(e,t){return new Ts().fromJsonString(e,t)}static equals(e,t){return sr.proto3.util.equals(Ts,e,t)}};Ts.runtime=sr.proto3;Ts.typeName="protocol.TransferAssetContract";Ts.fields=sr.proto3.util.newFieldList(()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}]);e0.TransferAssetContract=Ts;var Cs=class extends sr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=sr.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=sr.protoInt64.zero,this.tokenId=sr.protoInt64.zero,sr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Cs().fromBinary(e,t)}static fromJson(e,t){return new Cs().fromJson(e,t)}static fromJsonString(e,t){return new Cs().fromJsonString(e,t)}static equals(e,t){return sr.proto3.util.equals(Cs,e,t)}};Cs.runtime=sr.proto3;Cs.typeName="protocol.TriggerSmartContract";Cs.fields=sr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}]);e0.TriggerSmartContract=Cs});var kT=E(Ai=>{"use strict";h();p();Object.defineProperty(Ai,"__esModule",{value:!0});Ai.Transaction_raw=Ai.Transaction_Contract_ContractType=Ai.Transaction_Contract=Ai.Transaction=Ai.authority=Ai.AccountId=void 0;var je=Ro(),Po=class extends je.Message{constructor(e){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),je.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Po().fromBinary(e,t)}static fromJson(e,t){return new Po().fromJson(e,t)}static fromJsonString(e,t){return new Po().fromJsonString(e,t)}static equals(e,t){return je.proto3.util.equals(Po,e,t)}};Po.runtime=je.proto3;Po.typeName="protocol.AccountId";Po.fields=je.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}]);Ai.AccountId=Po;var Bo=class extends je.Message{constructor(e){super(),this.permissionName=new Uint8Array(0),je.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Bo().fromBinary(e,t)}static fromJson(e,t){return new Bo().fromJson(e,t)}static fromJsonString(e,t){return new Bo().fromJsonString(e,t)}static equals(e,t){return je.proto3.util.equals(Bo,e,t)}};Bo.runtime=je.proto3;Bo.typeName="protocol.authority";Bo.fields=je.proto3.util.newFieldList(()=>[{no:1,name:"account",kind:"message",T:Po},{no:2,name:"permission_name",kind:"scalar",T:12}]);Ai.authority=Bo;var As=class extends je.Message{constructor(e){super(),this.signature=[],je.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new As().fromBinary(e,t)}static fromJson(e,t){return new As().fromJson(e,t)}static fromJsonString(e,t){return new As().fromJsonString(e,t)}static equals(e,t){return je.proto3.util.equals(As,e,t)}};As.runtime=je.proto3;As.typeName="protocol.Transaction";As.fields=je.proto3.util.newFieldList(()=>[{no:1,name:"raw_data",kind:"message",T:No},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}]);Ai.Transaction=As;var Mo=class extends je.Message{constructor(e){super(),this.type=Lb.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,je.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Mo().fromBinary(e,t)}static fromJson(e,t){return new Mo().fromJson(e,t)}static fromJsonString(e,t){return new Mo().fromJsonString(e,t)}static equals(e,t){return je.proto3.util.equals(Mo,e,t)}};Mo.runtime=je.proto3;Mo.typeName="protocol.Transaction.Contract";Mo.fields=je.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:je.proto3.getEnumType(Lb)},{no:2,name:"parameter",kind:"message",T:je.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}]);Ai.Transaction_Contract=Mo;var Lb;(function(r){r[r.AccountCreateContract=0]="AccountCreateContract",r[r.TransferContract=1]="TransferContract",r[r.TransferAssetContract=2]="TransferAssetContract",r[r.TriggerSmartContract=31]="TriggerSmartContract"})(Lb=Ai.Transaction_Contract_ContractType||(Ai.Transaction_Contract_ContractType={}));je.proto3.util.setEnumType(Lb,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);var No=class extends je.Message{constructor(e){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=je.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=je.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=je.protoInt64.zero,this.feeLimit=je.protoInt64.zero,je.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new No().fromBinary(e,t)}static fromJson(e,t){return new No().fromJson(e,t)}static fromJsonString(e,t){return new No().fromJsonString(e,t)}static equals(e,t){return je.proto3.util.equals(No,e,t)}};No.runtime=je.proto3;No.typeName="protocol.Transaction.raw";No.fields=je.proto3.util.newFieldList(()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:Bo,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:Mo,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}]);Ai.Transaction_raw=No});var jT=E(t0=>{"use strict";h();p();Object.defineProperty(t0,"__esModule",{value:!0});t0.TronTx=t0.Override=t0.LatestBlock=void 0;var Ln=Ro(),qo=class extends Ln.Message{constructor(e){super(),this.hash="",this.number=0,this.timestamp=Ln.protoInt64.zero,Ln.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qo().fromBinary(e,t)}static fromJson(e,t){return new qo().fromJson(e,t)}static fromJsonString(e,t){return new qo().fromJsonString(e,t)}static equals(e,t){return Ln.proto3.util.equals(qo,e,t)}};qo.runtime=Ln.proto3;qo.typeName="protoc.LatestBlock";qo.fields=Ln.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}]);t0.LatestBlock=qo;var Fo=class extends Ln.Message{constructor(e){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,Ln.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Fo().fromBinary(e,t)}static fromJson(e,t){return new Fo().fromJson(e,t)}static fromJsonString(e,t){return new Fo().fromJsonString(e,t)}static equals(e,t){return Ln.proto3.util.equals(Fo,e,t)}};Fo.runtime=Ln.proto3;Fo.typeName="protoc.Override";Fo.fields=Ln.proto3.util.newFieldList(()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}]);t0.Override=Fo;var Os=class extends Ln.Message{constructor(e){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,Ln.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Os().fromBinary(e,t)}static fromJson(e,t){return new Os().fromJson(e,t)}static fromJsonString(e,t){return new Os().fromJsonString(e,t)}static equals(e,t){return Ln.proto3.util.equals(Os,e,t)}};Os.runtime=Ln.proto3;Os.typeName="protoc.TronTx";Os.fields=Ln.proto3.util.newFieldList(()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:qo},{no:8,name:"override",kind:"message",T:Fo},{no:9,name:"fee",kind:"scalar",T:5}]);t0.TronTx=Os});var Uk=E(tp=>{"use strict";h();p();var f0e=tp&&tp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tp,"__esModule",{value:!0});tp.raw2tx=void 0;var c0e=f0e(kU()),HT=Fk(),Ub=kT(),Lk=Lr(),kb=jT();function ll(r){return c0e.default.encode(r)}function d0e(r,e){let t;try{t=Ub.Transaction_raw.fromBinary(r)}catch{throw new Error("Sign data is invalid")}let n=e!==void 0?{decimals:e.decimals,tokenFullName:e.name,tokenShortName:e.symbol}:null,i=v.Buffer.from([...new Uint8Array(8).fill(0),...t.refBlockHash,...new Uint8Array(16).fill(0)]),a=new kb.LatestBlock({hash:(0,Lk.toHex)(i),number:Number(`0x${(0,Lk.toHex)(t.refBlockBytes.slice(0,2))}`),timestamp:BigInt(Number(t.expiration)-600*5*1e3)}),o=t.contract[0];if(o.parameter===void 0)throw new Error("contract is invalid");let s;switch(o.type){case Ub.Transaction_Contract_ContractType.TransferContract:try{s=HT.TransferContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}return new kb.TronTx({fee:Number(t.feeLimit),from:ll(s.ownerAddress),latestBlock:a,to:ll(s.toAddress),token:"TRX",value:s.amount.toString()});case Ub.Transaction_Contract_ContractType.TransferAssetContract:try{s=HT.TransferAssetContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new kb.TronTx({fee:Number(t.feeLimit),from:ll(s.ownerAddress),latestBlock:a,override:n,to:ll(s.toAddress),token:v.Buffer.from(s.assetName).toString(),value:s.amount.toString()});case Ub.Transaction_Contract_ContractType.TriggerSmartContract:try{s=HT.TriggerSmartContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new kb.TronTx({contractAddress:ll(s.contractAddress),fee:Number(t.feeLimit),from:ll(s.ownerAddress),latestBlock:a,override:n,to:ll(v.Buffer.from([65,...s.data.slice(16,36)])),value:BigInt(`0x${v.Buffer.from(s.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}tp.raw2tx=d0e});var jb=E(Lo=>{"use strict";h();p();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Output=Lo.utxo=Lo.Input=Lo.Omni=Lo.BtcTx=void 0;var Ze=Ro(),Ds=class extends Ze.Message{constructor(e){super(),this.fee=Ze.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Ze.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ds().fromBinary(e,t)}static fromJson(e,t){return new Ds().fromJson(e,t)}static fromJsonString(e,t){return new Ds().fromJsonString(e,t)}static equals(e,t){return Ze.proto3.util.equals(Ds,e,t)}};Ds.runtime=Ze.proto3;Ds.typeName="protoc.BtcTx";Ds.fields=Ze.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:ko,repeated:!0},{no:5,name:"outputs",kind:"message",T:Ho,repeated:!0},{no:6,name:"omni",kind:"message",T:Uo}]);Lo.BtcTx=Ds;var Uo=class extends Ze.Message{constructor(e){super(),this.to="",this.changeAddress="",this.omniAmount=Ze.protoInt64.zero,this.propertyId=0,Ze.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Uo().fromBinary(e,t)}static fromJson(e,t){return new Uo().fromJson(e,t)}static fromJsonString(e,t){return new Uo().fromJsonString(e,t)}static equals(e,t){return Ze.proto3.util.equals(Uo,e,t)}};Uo.runtime=Ze.proto3;Uo.typeName="protoc.Omni";Uo.fields=Ze.proto3.util.newFieldList(()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}]);Lo.Omni=Uo;var ko=class extends Ze.Message{constructor(e){super(),this.hash="",this.index=0,this.ownerKeyPath="",Ze.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ko().fromBinary(e,t)}static fromJson(e,t){return new ko().fromJson(e,t)}static fromJsonString(e,t){return new ko().fromJsonString(e,t)}static equals(e,t){return Ze.proto3.util.equals(ko,e,t)}};ko.runtime=Ze.proto3;ko.typeName="protoc.Input";ko.fields=Ze.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:jo},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}]);Lo.Input=ko;var jo=class extends Ze.Message{constructor(e){super(),this.publicKey="",this.script="",this.value=Ze.protoInt64.zero,Ze.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new jo().fromBinary(e,t)}static fromJson(e,t){return new jo().fromJson(e,t)}static fromJsonString(e,t){return new jo().fromJsonString(e,t)}static equals(e,t){return Ze.proto3.util.equals(jo,e,t)}};jo.runtime=Ze.proto3;jo.typeName="protoc.utxo";jo.fields=Ze.proto3.util.newFieldList(()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}]);Lo.utxo=jo;var Ho=class extends Ze.Message{constructor(e){super(),this.address="",this.value=Ze.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",Ze.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ho().fromBinary(e,t)}static fromJson(e,t){return new Ho().fromJson(e,t)}static fromJsonString(e,t){return new Ho().fromJsonString(e,t)}static equals(e,t){return Ze.proto3.util.equals(Ho,e,t)}};Ho.runtime=Ze.proto3;Ho.typeName="protoc.Output";Ho.fields=Ze.proto3.util.newFieldList(()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}]);Lo.Output=Ho});var KT=E(rp=>{"use strict";h();p();Object.defineProperty(rp,"__esModule",{value:!0});rp.BchTx_Input=rp.BchTx=void 0;var Ko=Ro(),l0e=jb(),Rs=class extends Ko.Message{constructor(e){super(),this.fee=Ko.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Ko.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Rs().fromBinary(e,t)}static fromJson(e,t){return new Rs().fromJson(e,t)}static fromJsonString(e,t){return new Rs().fromJsonString(e,t)}static equals(e,t){return Ko.proto3.util.equals(Rs,e,t)}};Rs.runtime=Ko.proto3;Rs.typeName="protoc.BchTx";Rs.fields=Ko.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Vo,repeated:!0},{no:5,name:"outputs",kind:"message",T:l0e.Output,repeated:!0}]);rp.BchTx=Rs;var Vo=class extends Ko.Message{constructor(e){super(),this.hash="",this.index=0,this.value=Ko.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Ko.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Vo().fromBinary(e,t)}static fromJson(e,t){return new Vo().fromJson(e,t)}static fromJsonString(e,t){return new Vo().fromJsonString(e,t)}static equals(e,t){return Ko.proto3.util.equals(Vo,e,t)}};Vo.runtime=Ko.proto3;Vo.typeName="protoc.BchTx.Input";Vo.fields=Ko.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);rp.BchTx_Input=Vo});var VT=E(np=>{"use strict";h();p();Object.defineProperty(np,"__esModule",{value:!0});np.DashTx_Input=np.DashTx=void 0;var Go=Ro(),h0e=jb(),Ps=class extends Go.Message{constructor(e){super(),this.fee=Go.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Go.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ps().fromBinary(e,t)}static fromJson(e,t){return new Ps().fromJson(e,t)}static fromJsonString(e,t){return new Ps().fromJsonString(e,t)}static equals(e,t){return Go.proto3.util.equals(Ps,e,t)}};Ps.runtime=Go.proto3;Ps.typeName="protoc.DashTx";Ps.fields=Go.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Yo,repeated:!0},{no:5,name:"outputs",kind:"message",T:h0e.Output,repeated:!0}]);np.DashTx=Ps;var Yo=class extends Go.Message{constructor(e){super(),this.hash="",this.index=0,this.value=Go.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Go.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Yo().fromBinary(e,t)}static fromJson(e,t){return new Yo().fromJson(e,t)}static fromJsonString(e,t){return new Yo().fromJsonString(e,t)}static equals(e,t){return Go.proto3.util.equals(Yo,e,t)}};Yo.runtime=Go.proto3;Yo.typeName="protoc.DashTx.Input";Yo.fields=Go.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);np.DashTx_Input=Yo});var GT=E(Hb=>{"use strict";h();p();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.LtcTx=void 0;var ip=Ro(),kk=jb(),Bs=class extends ip.Message{constructor(e){super(),this.fee=ip.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],ip.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Bs().fromBinary(e,t)}static fromJson(e,t){return new Bs().fromJson(e,t)}static fromJsonString(e,t){return new Bs().fromJsonString(e,t)}static equals(e,t){return ip.proto3.util.equals(Bs,e,t)}};Bs.runtime=ip.proto3;Bs.typeName="protoc.LtcTx";Bs.fields=ip.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:kk.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:kk.Output,repeated:!0}]);Hb.LtcTx=Bs});var Vb=E(Kb=>{"use strict";h();p();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.SignTransaction=void 0;var ap=Ro(),p0e=jT(),g0e=KT(),y0e=VT(),v0e=GT(),Ms=class extends ap.Message{constructor(e){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=ap.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},ap.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ms().fromBinary(e,t)}static fromJson(e,t){return new Ms().fromJson(e,t)}static fromJsonString(e,t){return new Ms().fromJsonString(e,t)}static equals(e,t){return ap.proto3.util.equals(Ms,e,t)}};Ms.runtime=ap.proto3;Ms.typeName="protoc.SignTransaction";Ms.fields=ap.proto3.util.newFieldList(()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:p0e.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:g0e.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:y0e.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:v0e.LtcTx,oneof:"Transaction"}]);Kb.SignTransaction=Ms});var jk=E(Gb=>{"use strict";h();p();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.SignTransactionResult=void 0;var Yy=Ro(),Ns=class extends Yy.Message{constructor(e){super(),this.signId="",this.txId="",this.rawTx="",Yy.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ns().fromBinary(e,t)}static fromJson(e,t){return new Ns().fromJson(e,t)}static fromJsonString(e,t){return new Ns().fromJsonString(e,t)}static equals(e,t){return Yy.proto3.util.equals(Ns,e,t)}};Ns.runtime=Yy.proto3;Ns.typeName="protoc.SignTransactionResult";Ns.fields=Yy.proto3.util.newFieldList(()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}]);Gb.SignTransactionResult=Ns});var zb=E(pl=>{"use strict";h();p();Object.defineProperty(pl,"__esModule",{value:!0});pl.Payload_Type=pl.Payload=void 0;var hl=Ro(),m0e=Vb(),_0e=jk(),qs=class extends hl.Message{constructor(e){super(),this.type=Yb.RESERVE,this.xfp="",this.Content={case:void 0},hl.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qs().fromBinary(e,t)}static fromJson(e,t){return new qs().fromJson(e,t)}static fromJsonString(e,t){return new qs().fromJsonString(e,t)}static equals(e,t){return hl.proto3.util.equals(qs,e,t)}};qs.runtime=hl.proto3;qs.typeName="protoc.Payload";qs.fields=hl.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:hl.proto3.getEnumType(Yb)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:m0e.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:_0e.SignTransactionResult,oneof:"Content"}]);pl.Payload=qs;var Yb;(function(r){r[r.RESERVE=0]="RESERVE",r[r.SYNC=1]="SYNC",r[r.SIGN_TX=2]="SIGN_TX",r[r.SIGN_MSG=3]="SIGN_MSG",r[r.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",r[r.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",r[r.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",r[r.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",r[r.STAKING=8]="STAKING",r[r.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"})(Yb=pl.Payload_Type||(pl.Payload_Type={}));hl.proto3.util.setEnumType(Yb,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])});var YT=E(Wb=>{"use strict";h();p();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.Base=void 0;var zy=Ro(),x0e=zb(),Fs=class extends zy.Message{constructor(e){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",zy.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Fs().fromBinary(e,t)}static fromJson(e,t){return new Fs().fromJson(e,t)}static fromJsonString(e,t){return new Fs().fromJsonString(e,t)}static equals(e,t){return zy.proto3.util.equals(Fs,e,t)}};Fs.runtime=zy.proto3;Fs.typeName="protoc.Base";Fs.fields=zy.proto3.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:x0e.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}]);Wb.Base=Fs});var Hk=E(Wy=>{"use strict";h();p();Object.defineProperty(Wy,"__esModule",{value:!0});var Ls=tu(),zT={KEYSTONE_SIGN_REQUEST:new Ls.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new Ls.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:b0e}=Ls.extend,op;(function(r){r[r.signData=1]="signData",r[r.origin=2]="origin"})(op||(op={}));var xf=class extends Ls.RegistryItem{constructor(e){super(),this.getRegistryType=()=>zT.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[op.signData]=this.signData,this.origin&&(t[op.origin]=this.origin),new Ls.DataItem(t)},this.signData=e.signData,this.origin=e.origin}static constructKeystoneRequest(e,t){return new xf({signData:e,origin:t})}};xf.fromDataItem=r=>{let e=r.getData();return new xf({signData:e[op.signData],origin:e[op.origin]})},xf.fromCBOR=r=>{let e=b0e(r);return xf.fromDataItem(e)};var{decodeToDataItem:w0e}=Ls.extend,Xb;(function(r){r[r.signResult=1]="signResult"})(Xb||(Xb={}));var gl=class extends Ls.RegistryItem{constructor(e){super(),this.getRegistryType=()=>zT.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{let t={};return t[Xb.signResult]=this.signResult,new Ls.DataItem(t)},this.signResult=e}};gl.fromDataItem=r=>{let e=r.getData();return new gl(e[Xb.signResult])},gl.fromCBOR=r=>{let e=w0e(r);return gl.fromDataItem(e)},Ls.patchTags(Object.values(zT).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Ls).forEach(function(r){r!=="default"&&Object.defineProperty(Wy,r,{enumerable:!0,get:function(){return Ls[r]}})}),Wy.KeystoneSignRequest=xf,Wy.KeystoneSignResult=gl});var WT=E((hKe,Kk)=>{"use strict";h();p();Kk.exports=Hk()});var Wk=E(sp=>{"use strict";h();p();var E0e=sp&&sp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sp,"__esModule",{value:!0});sp.KeystoneTronSDK=void 0;var I0e=Lr(),S0e=Yi(),T0e=Uk(),C0e=kT(),Vk=E0e(yR()),Gk=YT(),Yk=zb(),A0e=Vb(),zk=WT(),XT=class{parseSignature(e){var t,n;if(e.type!==S0e.URType.KeystoneSignResult)throw new Error("type not match");let i=zk.KeystoneSignResult.fromCBOR(e.cbor),a=Gk.Base.fromBinary(Vk.default.ungzip(i.getSignResult()));if(((t=a.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let{signId:o,rawTx:s}=(n=a.data)===null||n===void 0?void 0:n.Content.value,u=C0e.Transaction.fromBinary(v.Buffer.from(s,"hex")),f=v.Buffer.from(u.signature[0]).toString("hex");return{requestId:o,signature:f}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,tokenInfo:a,origin:o}){let s=(0,T0e.raw2tx)((0,I0e.toBuffer)(t),a),u=Vk.default.gzip(new Gk.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new Yk.Payload({xfp:i,type:Yk.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new A0e.SignTransaction({coinCode:"TRON",hdPath:n,signId:e,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:s}})}})}).toBinary());return new zk.KeystoneSignRequest({signData:v.Buffer.from(u),origin:o}).toUR()}};sp.KeystoneTronSDK=XT});function Xy(){if(!Jb&&(Jb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Jb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jb(O0e)}var Jb,O0e,JT=te(()=>{h();p();O0e=new Uint8Array(16)});var Xk,Jk=te(()=>{h();p();Xk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function D0e(r){return typeof r=="string"&&Xk.test(r)}var r0,Jy=te(()=>{h();p();Jk();r0=D0e});function R0e(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Jr[r[e+0]]+Jr[r[e+1]]+Jr[r[e+2]]+Jr[r[e+3]]+"-"+Jr[r[e+4]]+Jr[r[e+5]]+"-"+Jr[r[e+6]]+Jr[r[e+7]]+"-"+Jr[r[e+8]]+Jr[r[e+9]]+"-"+Jr[r[e+10]]+Jr[r[e+11]]+Jr[r[e+12]]+Jr[r[e+13]]+Jr[r[e+14]]+Jr[r[e+15]]).toLowerCase();if(!r0(t))throw TypeError("Stringified UUID is invalid");return t}var Jr,$b,n0,$y=te(()=>{h();p();Jy();Jr=[];for($b=0;$b<256;++$b)Jr.push(($b+256).toString(16).substr(1));n0=R0e});function P0e(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||$k,o=r.clockseq!==void 0?r.clockseq:$T;if(a==null||o==null){var s=r.random||(r.rng||Xy)();a==null&&(a=$k=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=$T=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:QT+1,c=u-ZT+(f-QT)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>ZT)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ZT=u,QT=f,$T=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||n0(i)}var $k,$T,ZT,QT,Zk,Qk=te(()=>{h();p();JT();$y();ZT=0,QT=0;Zk=P0e});function B0e(r){if(!r0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Zb,e7=te(()=>{h();p();Jy();Zb=B0e});function M0e(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Qb(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=M0e(i)),typeof a=="string"&&(a=Zb(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return n0(u)}try{n.name=r}catch{}return n.DNS=N0e,n.URL=q0e,n}var N0e,q0e,t7=te(()=>{h();p();$y();e7();N0e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",q0e="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function F0e(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return L0e(U0e(k0e(r),r.length*8))}function L0e(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function ej(r){return(r+64>>>9<<4)+14+1}function U0e(r,e){r[e>>5]|=128<<e%32,r[ej(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Un(t,n,i,a,r[o],7,-680876936),a=Un(a,t,n,i,r[o+1],12,-389564586),i=Un(i,a,t,n,r[o+2],17,606105819),n=Un(n,i,a,t,r[o+3],22,-1044525330),t=Un(t,n,i,a,r[o+4],7,-176418897),a=Un(a,t,n,i,r[o+5],12,1200080426),i=Un(i,a,t,n,r[o+6],17,-1473231341),n=Un(n,i,a,t,r[o+7],22,-45705983),t=Un(t,n,i,a,r[o+8],7,1770035416),a=Un(a,t,n,i,r[o+9],12,-1958414417),i=Un(i,a,t,n,r[o+10],17,-42063),n=Un(n,i,a,t,r[o+11],22,-1990404162),t=Un(t,n,i,a,r[o+12],7,1804603682),a=Un(a,t,n,i,r[o+13],12,-40341101),i=Un(i,a,t,n,r[o+14],17,-1502002290),n=Un(n,i,a,t,r[o+15],22,1236535329),t=kn(t,n,i,a,r[o+1],5,-165796510),a=kn(a,t,n,i,r[o+6],9,-1069501632),i=kn(i,a,t,n,r[o+11],14,643717713),n=kn(n,i,a,t,r[o],20,-373897302),t=kn(t,n,i,a,r[o+5],5,-701558691),a=kn(a,t,n,i,r[o+10],9,38016083),i=kn(i,a,t,n,r[o+15],14,-660478335),n=kn(n,i,a,t,r[o+4],20,-405537848),t=kn(t,n,i,a,r[o+9],5,568446438),a=kn(a,t,n,i,r[o+14],9,-1019803690),i=kn(i,a,t,n,r[o+3],14,-187363961),n=kn(n,i,a,t,r[o+8],20,1163531501),t=kn(t,n,i,a,r[o+13],5,-1444681467),a=kn(a,t,n,i,r[o+2],9,-51403784),i=kn(i,a,t,n,r[o+7],14,1735328473),n=kn(n,i,a,t,r[o+12],20,-1926607734),t=jn(t,n,i,a,r[o+5],4,-378558),a=jn(a,t,n,i,r[o+8],11,-2022574463),i=jn(i,a,t,n,r[o+11],16,1839030562),n=jn(n,i,a,t,r[o+14],23,-35309556),t=jn(t,n,i,a,r[o+1],4,-1530992060),a=jn(a,t,n,i,r[o+4],11,1272893353),i=jn(i,a,t,n,r[o+7],16,-155497632),n=jn(n,i,a,t,r[o+10],23,-1094730640),t=jn(t,n,i,a,r[o+13],4,681279174),a=jn(a,t,n,i,r[o],11,-358537222),i=jn(i,a,t,n,r[o+3],16,-722521979),n=jn(n,i,a,t,r[o+6],23,76029189),t=jn(t,n,i,a,r[o+9],4,-640364487),a=jn(a,t,n,i,r[o+12],11,-421815835),i=jn(i,a,t,n,r[o+15],16,530742520),n=jn(n,i,a,t,r[o+2],23,-995338651),t=Hn(t,n,i,a,r[o],6,-198630844),a=Hn(a,t,n,i,r[o+7],10,1126891415),i=Hn(i,a,t,n,r[o+14],15,-1416354905),n=Hn(n,i,a,t,r[o+5],21,-57434055),t=Hn(t,n,i,a,r[o+12],6,1700485571),a=Hn(a,t,n,i,r[o+3],10,-1894986606),i=Hn(i,a,t,n,r[o+10],15,-1051523),n=Hn(n,i,a,t,r[o+1],21,-2054922799),t=Hn(t,n,i,a,r[o+8],6,1873313359),a=Hn(a,t,n,i,r[o+15],10,-30611744),i=Hn(i,a,t,n,r[o+6],15,-1560198380),n=Hn(n,i,a,t,r[o+13],21,1309151649),t=Hn(t,n,i,a,r[o+4],6,-145523070),a=Hn(a,t,n,i,r[o+11],10,-1120210379),i=Hn(i,a,t,n,r[o+2],15,718787259),n=Hn(n,i,a,t,r[o+9],21,-343485551),t=i0(t,s),n=i0(n,u),i=i0(i,f),a=i0(a,c)}return[t,n,i,a]}function k0e(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(ej(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function i0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function j0e(r,e){return r<<e|r>>>32-e}function e4(r,e,t,n,i,a){return i0(j0e(i0(i0(e,r),i0(n,a)),i),t)}function Un(r,e,t,n,i,a,o){return e4(e&t|~e&n,r,e,i,a,o)}function kn(r,e,t,n,i,a,o){return e4(e&n|t&~n,r,e,i,a,o)}function jn(r,e,t,n,i,a,o){return e4(e^t^n,r,e,i,a,o)}function Hn(r,e,t,n,i,a,o){return e4(t^(e|~n),r,e,i,a,o)}var tj,rj=te(()=>{h();p();tj=F0e});var H0e,nj,ij=te(()=>{h();p();t7();rj();H0e=Qb("v3",48,tj),nj=H0e});function K0e(r,e,t){r=r||{};var n=r.random||(r.rng||Xy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return n0(n)}var aj,oj=te(()=>{h();p();JT();$y();aj=K0e});function V0e(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function r7(r,e){return r<<e|r>>>32-e}function G0e(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=r7(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=r7(w,5)+V0e(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=r7(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var sj,uj=te(()=>{h();p();sj=G0e});var Y0e,fj,cj=te(()=>{h();p();t7();uj();Y0e=Qb("v5",80,sj),fj=Y0e});var dj,lj=te(()=>{h();p();dj="00000000-0000-0000-0000-000000000000"});function z0e(r){if(!r0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var hj,pj=te(()=>{h();p();Jy();hj=z0e});var gj={};Qf(gj,{NIL:()=>dj,parse:()=>Zb,stringify:()=>n0,v1:()=>Zk,v3:()=>nj,v4:()=>aj,v5:()=>fj,validate:()=>r0,version:()=>hj});var yj=te(()=>{h();p();Qk();ij();oj();cj();lj();pj();Jy();$y();e7()});var vj=E(o0=>{"use strict";h();p();Object.defineProperty(o0,"__esModule",{value:!0});var Kn=tu(),W0e=(yj(),ec(gj)),n7={APTOS_SIGN_REQUEST:new Kn.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new Kn.RegistryType("aptos-signature",3102)},{decodeToDataItem:X0e,RegistryTypes:J0e}=Kn.extend,t4,$r;(t4=o0.SignType||(o0.SignType={}))[t4.SingleSign=1]="SingleSign",t4[t4.MultiSign=2]="MultiSign",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",r[r.accounts=4]="accounts",r[r.origin=5]="origin",r[r.signType=6]="signType"}($r||($r={}));var bf=class extends Kn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>n7.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map(t=>t.getPath()),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};return t[$r.requestId]=new Kn.DataItem(this.requestId,J0e.UUID.getTag()),this.accounts&&(t[$r.accounts]=this.accounts),this.origin&&(t[$r.origin]=this.origin),t[$r.signData]=this.signData,t[$r.signType]=this.signType,t[$r.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new Kn.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.authenticationKeyDerivationPaths=e.authenticationKeyDerivationPaths,this.accounts=e.accounts,this.origin=e.origin,this.signType=e.signType}static constructAptosRequest(e,t,n,i,a,o,s){let u=t.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new Kn.PathComponent({index:y,hardened:_})});return new Kn.CryptoKeypath(l,v.Buffer.from(n[c],"hex"))});return new bf({requestId:v.Buffer.from(W0e.parse(a)),signData:e,authenticationKeyDerivationPaths:u,accounts:o||void 0,origin:s||void 0,signType:i||o0.SignType.SingleSign})}};bf.fromDataItem=r=>{let e=r.getData(),t=e[$r.signData],n=e[$r.signType],i=e[$r.authenticationKeyDerivationPaths].map(s=>Kn.CryptoKeypath.fromDataItem(s)),a=e[$r.accounts]?e[$r.accounts]:void 0,o=e[$r.requestId]?e[$r.requestId].getData():void 0;return new bf({requestId:o,signData:t,authenticationKeyDerivationPaths:i,accounts:a,origin:e[$r.origin]?e[$r.origin]:void 0,signType:n})},bf.fromCBOR=r=>{let e=X0e(r);return bf.fromDataItem(e)};var{RegistryTypes:$0e,decodeToDataItem:Z0e}=Kn.extend,a0;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.authenticationPublicKey=3]="authenticationPublicKey"})(a0||(a0={}));var yl=class extends Kn.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>n7.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{let i={};return i[a0.requestId]=new Kn.DataItem(this.requestId,$0e.UUID.getTag()),i[a0.signature]=this.signature,i[a0.authenticationPublicKey]=this.authenticationPublicKey,new Kn.DataItem(i)},this.signature=e,this.requestId=t,this.authenticationPublicKey=n}};yl.fromDataItem=r=>{let e=r.getData(),t=e[a0.signature],n=e[a0.requestId].getData();return new yl(t,n,e[a0.authenticationPublicKey])},yl.fromCBOR=r=>{let e=Z0e(r);return yl.fromDataItem(e)},Kn.patchTags(Object.values(n7).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Kn).forEach(function(r){r!=="default"&&Object.defineProperty(o0,r,{enumerable:!0,get:function(){return Kn[r]}})}),o0.AptosSignRequest=bf,o0.AptosSignature=yl});var _j=E((NVe,mj)=>{"use strict";h();p();mj.exports=vj()});var xj=E(n4=>{"use strict";h();p();Object.defineProperty(n4,"__esModule",{value:!0});n4.KeystoneAptosSDK=void 0;var Zy=_j(),s0=Lr(),Q0e=Yi(),r4=class{parseSignature(e){if(e.type!==Q0e.URType.AptosSignature)throw new Error("type not match");let t=Zy.AptosSignature.fromCBOR(e.cbor);return{requestId:(0,s0.uuidStringify)(t.getRequestId()),signature:(0,s0.toHex)(t.getSignature()),authenticationPublicKey:(0,s0.toHex)(t.getAuthenticationPublicKey())}}generateSignRequest({requestId:e,signData:t,signType:n,accounts:i,origin:a}){let o=[],s=[];if(i.forEach(u=>{o.push(new Zy.CryptoKeypath((0,s0.parsePath)(u.path).map(f=>new Zy.PathComponent(f)),(0,s0.toBuffer)(u.xfp))),u.key!==void 0&&s.push((0,s0.toBuffer)(u.key))}),s.length>0&&s.length!==o.length)throw new Error("account and path count must match");return new Zy.AptosSignRequest({requestId:(0,s0.uuidParse)(e),signData:(0,s0.toBuffer)(t),signType:n,authenticationKeyDerivationPaths:o,accounts:s,origin:a}).toUR()}};r4.SignType=Zy.SignType;n4.KeystoneAptosSDK=r4});var a4=E(zo=>{"use strict";h();p();var ede=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});zo.Keystone=zo.TXCase=zo.Chain=void 0;var bj=ede(yR()),tde=Yi(),wj=WT(),Ej=YT(),Ij=zb(),rde=Vb(),nde=GT(),ide=KT(),ade=VT(),vl;(function(r){r.LTC="LTC",r.BCH="BCH",r.DASH="DASH"})(vl=zo.Chain||(zo.Chain={}));var i4;(function(r){r.LTC="ltcTx",r.BCH="bchTx",r.DASH="dashTx"})(i4=zo.TXCase||(zo.TXCase={}));var i7=class{generateSignData({chain:e,requestId:t,signData:n,xfp:i}){let a,o,s;switch(e){case vl.LTC:a=new nde.LtcTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:5460})),s=vl.LTC,o=i4.LTC;break;case vl.BCH:a=new ide.BchTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=vl.BCH,o=i4.BCH;break;case vl.DASH:a=new ade.DashTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=vl.DASH,o=i4.DASH;break;default:throw new Error("chain not support")}return bj.default.gzip(new Ej.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new Ij.Payload({xfp:i,type:Ij.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new rde.SignTransaction({coinCode:s,hdPath:"",signId:t,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:o,value:a}})}})}).toBinary())}generateSignRequest(e){let t=v.Buffer.from(this.generateSignData(e));return new wj.KeystoneSignRequest({signData:t,origin:e.origin}).toUR()}parseSignResult(e){var t,n;if(e.type!==tde.URType.KeystoneSignResult)throw new Error("type not match");let i=wj.KeystoneSignResult.fromCBOR(e.cbor),a=Ej.Base.fromBinary(bj.default.ungzip(i.getSignResult()));if(((t=a.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let o=(n=a.data)===null||n===void 0?void 0:n.Content.value;return{requestId:o.signId,rawData:o.rawTx}}};zo.Keystone=i7});var Tj=E(o4=>{"use strict";h();p();Object.defineProperty(o4,"__esModule",{value:!0});o4.KeystoneBitcoinCashSDK=void 0;var Sj=a4(),a7=class extends Sj.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:Sj.Chain.BCH},e))}};o4.KeystoneBitcoinCashSDK=a7});var Aj=E(s4=>{"use strict";h();p();Object.defineProperty(s4,"__esModule",{value:!0});s4.KeystoneDashSDK=void 0;var Cj=a4(),o7=class extends Cj.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:Cj.Chain.DASH},e))}};s4.KeystoneDashSDK=o7});var Dj=E(u4=>{"use strict";h();p();Object.defineProperty(u4,"__esModule",{value:!0});u4.KeystoneLitecoinSDK=void 0;var Oj=a4(),s7=class extends Oj.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:Oj.Chain.LTC},e))}};u4.KeystoneLitecoinSDK=s7});function Qy(){if(!f4&&(f4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f4(ode)}var f4,ode,u7=te(()=>{h();p();ode=new Uint8Array(16)});var Rj,Pj=te(()=>{h();p();Rj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function sde(r){return typeof r=="string"&&Rj.test(r)}var u0,ev=te(()=>{h();p();Pj();u0=sde});function ude(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Zr[r[e+0]]+Zr[r[e+1]]+Zr[r[e+2]]+Zr[r[e+3]]+"-"+Zr[r[e+4]]+Zr[r[e+5]]+"-"+Zr[r[e+6]]+Zr[r[e+7]]+"-"+Zr[r[e+8]]+Zr[r[e+9]]+"-"+Zr[r[e+10]]+Zr[r[e+11]]+Zr[r[e+12]]+Zr[r[e+13]]+Zr[r[e+14]]+Zr[r[e+15]]).toLowerCase();if(!u0(t))throw TypeError("Stringified UUID is invalid");return t}var Zr,c4,f0,tv=te(()=>{h();p();ev();Zr=[];for(c4=0;c4<256;++c4)Zr.push((c4+256).toString(16).substr(1));f0=ude});function fde(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||Bj,o=r.clockseq!==void 0?r.clockseq:f7;if(a==null||o==null){var s=r.random||(r.rng||Qy)();a==null&&(a=Bj=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=f7=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:d7+1,c=u-c7+(f-d7)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>c7)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c7=u,d7=f,f7=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||f0(i)}var Bj,f7,c7,d7,Mj,Nj=te(()=>{h();p();u7();tv();c7=0,d7=0;Mj=fde});function cde(r){if(!u0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var d4,l7=te(()=>{h();p();ev();d4=cde});function dde(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function l4(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=dde(i)),typeof a=="string"&&(a=d4(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return f0(u)}try{n.name=r}catch{}return n.DNS=lde,n.URL=hde,n}var lde,hde,h7=te(()=>{h();p();tv();l7();lde="6ba7b810-9dad-11d1-80b4-00c04fd430c8",hde="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function pde(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return gde(yde(vde(r),r.length*8))}function gde(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function qj(r){return(r+64>>>9<<4)+14+1}function yde(r,e){r[e>>5]|=128<<e%32,r[qj(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Vn(t,n,i,a,r[o],7,-680876936),a=Vn(a,t,n,i,r[o+1],12,-389564586),i=Vn(i,a,t,n,r[o+2],17,606105819),n=Vn(n,i,a,t,r[o+3],22,-1044525330),t=Vn(t,n,i,a,r[o+4],7,-176418897),a=Vn(a,t,n,i,r[o+5],12,1200080426),i=Vn(i,a,t,n,r[o+6],17,-1473231341),n=Vn(n,i,a,t,r[o+7],22,-45705983),t=Vn(t,n,i,a,r[o+8],7,1770035416),a=Vn(a,t,n,i,r[o+9],12,-1958414417),i=Vn(i,a,t,n,r[o+10],17,-42063),n=Vn(n,i,a,t,r[o+11],22,-1990404162),t=Vn(t,n,i,a,r[o+12],7,1804603682),a=Vn(a,t,n,i,r[o+13],12,-40341101),i=Vn(i,a,t,n,r[o+14],17,-1502002290),n=Vn(n,i,a,t,r[o+15],22,1236535329),t=Gn(t,n,i,a,r[o+1],5,-165796510),a=Gn(a,t,n,i,r[o+6],9,-1069501632),i=Gn(i,a,t,n,r[o+11],14,643717713),n=Gn(n,i,a,t,r[o],20,-373897302),t=Gn(t,n,i,a,r[o+5],5,-701558691),a=Gn(a,t,n,i,r[o+10],9,38016083),i=Gn(i,a,t,n,r[o+15],14,-660478335),n=Gn(n,i,a,t,r[o+4],20,-405537848),t=Gn(t,n,i,a,r[o+9],5,568446438),a=Gn(a,t,n,i,r[o+14],9,-1019803690),i=Gn(i,a,t,n,r[o+3],14,-187363961),n=Gn(n,i,a,t,r[o+8],20,1163531501),t=Gn(t,n,i,a,r[o+13],5,-1444681467),a=Gn(a,t,n,i,r[o+2],9,-51403784),i=Gn(i,a,t,n,r[o+7],14,1735328473),n=Gn(n,i,a,t,r[o+12],20,-1926607734),t=Yn(t,n,i,a,r[o+5],4,-378558),a=Yn(a,t,n,i,r[o+8],11,-2022574463),i=Yn(i,a,t,n,r[o+11],16,1839030562),n=Yn(n,i,a,t,r[o+14],23,-35309556),t=Yn(t,n,i,a,r[o+1],4,-1530992060),a=Yn(a,t,n,i,r[o+4],11,1272893353),i=Yn(i,a,t,n,r[o+7],16,-155497632),n=Yn(n,i,a,t,r[o+10],23,-1094730640),t=Yn(t,n,i,a,r[o+13],4,681279174),a=Yn(a,t,n,i,r[o],11,-358537222),i=Yn(i,a,t,n,r[o+3],16,-722521979),n=Yn(n,i,a,t,r[o+6],23,76029189),t=Yn(t,n,i,a,r[o+9],4,-640364487),a=Yn(a,t,n,i,r[o+12],11,-421815835),i=Yn(i,a,t,n,r[o+15],16,530742520),n=Yn(n,i,a,t,r[o+2],23,-995338651),t=zn(t,n,i,a,r[o],6,-198630844),a=zn(a,t,n,i,r[o+7],10,1126891415),i=zn(i,a,t,n,r[o+14],15,-1416354905),n=zn(n,i,a,t,r[o+5],21,-57434055),t=zn(t,n,i,a,r[o+12],6,1700485571),a=zn(a,t,n,i,r[o+3],10,-1894986606),i=zn(i,a,t,n,r[o+10],15,-1051523),n=zn(n,i,a,t,r[o+1],21,-2054922799),t=zn(t,n,i,a,r[o+8],6,1873313359),a=zn(a,t,n,i,r[o+15],10,-30611744),i=zn(i,a,t,n,r[o+6],15,-1560198380),n=zn(n,i,a,t,r[o+13],21,1309151649),t=zn(t,n,i,a,r[o+4],6,-145523070),a=zn(a,t,n,i,r[o+11],10,-1120210379),i=zn(i,a,t,n,r[o+2],15,718787259),n=zn(n,i,a,t,r[o+9],21,-343485551),t=c0(t,s),n=c0(n,u),i=c0(i,f),a=c0(a,c)}return[t,n,i,a]}function vde(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(qj(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function c0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function mde(r,e){return r<<e|r>>>32-e}function h4(r,e,t,n,i,a){return c0(mde(c0(c0(e,r),c0(n,a)),i),t)}function Vn(r,e,t,n,i,a,o){return h4(e&t|~e&n,r,e,i,a,o)}function Gn(r,e,t,n,i,a,o){return h4(e&n|t&~n,r,e,i,a,o)}function Yn(r,e,t,n,i,a,o){return h4(e^t^n,r,e,i,a,o)}function zn(r,e,t,n,i,a,o){return h4(t^(e|~n),r,e,i,a,o)}var Fj,Lj=te(()=>{h();p();Fj=pde});var _de,Uj,kj=te(()=>{h();p();h7();Lj();_de=l4("v3",48,Fj),Uj=_de});function xde(r,e,t){r=r||{};var n=r.random||(r.rng||Qy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return f0(n)}var jj,Hj=te(()=>{h();p();u7();tv();jj=xde});function bde(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function p7(r,e){return r<<e|r>>>32-e}function wde(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=p7(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=p7(w,5)+bde(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=p7(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Kj,Vj=te(()=>{h();p();Kj=wde});var Ede,Gj,Yj=te(()=>{h();p();h7();Vj();Ede=l4("v5",80,Kj),Gj=Ede});var zj,Wj=te(()=>{h();p();zj="00000000-0000-0000-0000-000000000000"});function Ide(r){if(!u0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Xj,Jj=te(()=>{h();p();ev();Xj=Ide});var $j={};Qf($j,{NIL:()=>zj,parse:()=>d4,stringify:()=>f0,v1:()=>Mj,v3:()=>Uj,v4:()=>jj,v5:()=>Gj,validate:()=>u0,version:()=>Xj});var Zj=te(()=>{h();p();Nj();kj();Hj();Yj();Wj();Jj();ev();tv();l7()});var Qj=E(rv=>{"use strict";h();p();Object.defineProperty(rv,"__esModule",{value:!0});var Qr=tu(),Sde=(Zj(),ec($j)),g7={NEAR_SIGN_REQUEST:new Qr.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new Qr.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new Qr.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:Tde,RegistryTypes:Cde}=Qr.extend,Oi;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.account=4]="account",r[r.origin=5]="origin"})(Oi||(Oi={}));var wf=class extends Qr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>g7.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[Oi.requestId]=new Qr.DataItem(this.requestId,Cde.UUID.getTag())),this.account&&(t[Oi.account]=this.account),this.origin&&(t[Oi.origin]=this.origin),t[Oi.signData]=this.signData;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Oi.derivationPath]=n,new Qr.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.account=e.account,this.origin=e.origin}static constructNearRequest(e,t,n,i,a,o){let s=t.replace(/[m|M]\//,"").split("/"),u=new Qr.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=!1;return f.endsWith("'")&&(l=!0),new Qr.PathComponent({index:c,hardened:l})}),v.Buffer.from(n,"hex"));return new wf({requestId:i?v.Buffer.from(Sde.parse(i)):void 0,signData:e,derivationPath:u,account:a||void 0,origin:o||void 0})}};wf.fromDataItem=r=>{let e=r.getData(),t=e[Oi.signData],n=Qr.CryptoKeypath.fromDataItem(e[Oi.derivationPath]),i=e[Oi.account]?e[Oi.account]:void 0,a=e[Oi.requestId]?e[Oi.requestId].getData():void 0;return new wf({requestId:a,signData:t,derivationPath:n,account:i,origin:e[Oi.origin]?e[Oi.origin]:void 0})},wf.fromCBOR=r=>{let e=Tde(r);return wf.fromDataItem(e)};var{RegistryTypes:Ade,decodeToDataItem:Ode}=Qr.extend,_l;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(_l||(_l={}));var ml=class extends Qr.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>g7.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[_l.requestId]=new Qr.DataItem(this.requestId,Ade.UUID.getTag())),n[_l.signature]=this.signature,new Qr.DataItem(n)},this.signature=e,this.requestId=t}};ml.fromDataItem=r=>{let e=r.getData(),t=e[_l.signature],n=e[_l.requestId]?e[_l.requestId].getData():void 0;return new ml(t,n)},ml.fromCBOR=r=>{let e=Ode(r);return ml.fromDataItem(e)},Qr.patchTags(Object.values(g7).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Qr).forEach(function(r){r!=="default"&&Object.defineProperty(rv,r,{enumerable:!0,get:function(){return Qr[r]}})}),rv.NearSignRequest=wf,rv.NearSignature=ml});var tH=E((gYe,eH)=>{"use strict";h();p();eH.exports=Qj()});var rH=E(g4=>{"use strict";h();p();Object.defineProperty(g4,"__esModule",{value:!0});g4.KeystoneNearSDK=void 0;var up=Lr(),Dde=Yi(),p4=tH(),y7=class{parseSignature(e){if(e.type!==Dde.URType.NearSignature)throw new Error("type not match");let t=p4.NearSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,up.uuidStringify)(n),signature:t.getSignature().map(i=>(0,up.toHex)(i))}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,account:a,origin:o}){return new p4.NearSignRequest({requestId:(0,up.uuidParse)(e),signData:t.map(s=>(0,up.toBuffer)(s)),derivationPath:new p4.CryptoKeypath((0,up.parsePath)(n).map(s=>new p4.PathComponent(s)),(0,up.toBuffer)(i)),account:a,origin:o}).toUR()}};g4.KeystoneNearSDK=y7});var IH=E((bYe,m4)=>{h();p();var nH,iH,aH,oH,sH,uH,fH,cH,dH,y4,v7,lH,hH,pH,fp,gH,yH,vH,mH,_H,xH,bH,wH,EH,v4;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof m4=="object"&&typeof m4.exports=="object"?r(t(e,t(m4.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};nH=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},iH=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},aH=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},oH=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},sH=function(n,i){return function(a,o){i(a,o,n)}},uH=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},fH=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},cH=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},dH=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&v4(i,n,a)},v4=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},y4=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},v7=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},lH=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(v7(arguments[i]));return n},hH=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},pH=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},fp=function(n){return this instanceof fp?(this.v=n,this):new fp(n)},gH=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(I){return new Promise(function(T,O){u.push([w,I,T,O])>1||c(w,I)})})}function c(w,I){try{l(o[w](I))}catch(T){_(u[0][3],T)}}function l(w){w.value instanceof fp?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,I){w(I),u.shift(),u.length&&c(u[0][0],u[0][1])}},yH=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:fp(n[s](f)),done:s==="return"}:u?u(f):f}:u}},vH=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof y4=="function"?y4(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},mH=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};_H=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&v4(i,n,a);return t(i,n),i},xH=function(n){return n&&n.__esModule?n:{default:n}},bH=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},wH=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},EH=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",nH),r("__assign",iH),r("__rest",aH),r("__decorate",oH),r("__param",sH),r("__metadata",uH),r("__awaiter",fH),r("__generator",cH),r("__exportStar",dH),r("__createBinding",v4),r("__values",y4),r("__read",v7),r("__spread",lH),r("__spreadArrays",hH),r("__spreadArray",pH),r("__await",fp),r("__asyncGenerator",gH),r("__asyncDelegator",yH),r("__asyncValues",vH),r("__makeTemplateObject",mH),r("__importStar",_H),r("__importDefault",xH),r("__classPrivateFieldGet",bH),r("__classPrivateFieldSet",wH),r("__classPrivateFieldIn",EH)})});var x4=E(_4=>{"use strict";h();p();Object.defineProperty(_4,"__esModule",{value:!0});_4.DataItem=void 0;var m7=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};_4.DataItem=m7});var TH=E((SH,b4)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof b4<"u"&&b4.exports?b4.exports=e():r.CBOR=e()})(SH,function(){let{DataItem:r}=x4();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var en=E(Wn=>{"use strict";h();p();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.DataItem=Wn.addWriter=Wn.addReader=Wn.addSemanticEncode=Wn.addSemanticDecode=Wn.decodeToDataItem=Wn.encodeDataItem=void 0;var cp=TH();Object.defineProperty(Wn,"encodeDataItem",{enumerable:!0,get:function(){return cp.encodeDataItem}});Object.defineProperty(Wn,"decodeToDataItem",{enumerable:!0,get:function(){return cp.decodeToDataItem}});Object.defineProperty(Wn,"addSemanticDecode",{enumerable:!0,get:function(){return cp.addSemanticDecode}});Object.defineProperty(Wn,"addSemanticEncode",{enumerable:!0,get:function(){return cp.addSemanticEncode}});Object.defineProperty(Wn,"addReader",{enumerable:!0,get:function(){return cp.addReader}});Object.defineProperty(Wn,"addWriter",{enumerable:!0,get:function(){return cp.addWriter}});var Rde=x4();Object.defineProperty(Wn,"DataItem",{enumerable:!0,get:function(){return Rde.DataItem}})});var I4=E(E4=>{"use strict";h();p();Object.defineProperty(E4,"__esModule",{value:!0});E4.patchTags=void 0;var w4=en(),CH=[],Pde=r=>{r.forEach(e=>{CH.find(t=>t===e)||(w4.addSemanticEncode(e,t=>{if(t instanceof w4.DataItem&&t.getTag()===e)return t.getData()}),w4.addSemanticDecode(e,t=>new w4.DataItem(t,e)),CH.push(e))})};E4.patchTags=Pde});var tn=E(dp=>{"use strict";h();p();Object.defineProperty(dp,"__esModule",{value:!0});dp.RegistryTypes=dp.RegistryType=void 0;var Di=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};dp.RegistryType=Di;dp.RegistryTypes={UUID:new Di("uuid",37),BYTES:new Di("bytes",void 0),CRYPTO_HDKEY:new Di("crypto-hdkey",303),CRYPTO_KEYPATH:new Di("crypto-keypath",304),CRYPTO_COIN_INFO:new Di("crypto-coin-info",305),CRYPTO_ECKEY:new Di("crypto-eckey",306),CRYPTO_OUTPUT:new Di("crypto-output",308),CRYPTO_PSBT:new Di("crypto-psbt",310),CRYPTO_ACCOUNT:new Di("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Di("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Di("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Di("key-derivation-call",1301)}});var S4=E(xl=>{"use strict";h();p();Object.defineProperty(xl,"__esModule",{value:!0});xl.ScriptExpressions=xl.ScriptExpression=void 0;var Zi=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};xl.ScriptExpression=Zi;Zi.fromTag=r=>Object.values(xl.ScriptExpressions).find(t=>t.getTag()===r);xl.ScriptExpressions={SCRIPT_HASH:new Zi(400,"sh"),WITNESS_SCRIPT_HASH:new Zi(401,"wsh"),PUBLIC_KEY:new Zi(402,"pk"),PUBLIC_KEY_HASH:new Zi(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Zi(404,"wpkh"),COMBO:new Zi(405,"combo"),MULTISIG:new Zi(406,"multi"),SORTED_MULTISIG:new Zi(407,"sortedmulti"),ADDRESS:new Zi(307,"addr"),RAW_SCRIPT:new Zi(408,"raw")}});var _7=E(AH=>{"use strict";h();p();Object.defineProperty(AH,"__esModule",{value:!0});var Bde=I4(),Mde=tn(),Nde=S4(),qde=Object.values(Mde.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),Fde=Object.values(Nde.ScriptExpressions).map(r=>r.getTag());Bde.patchTags(qde.concat(Fde))});var Ri=E(T4=>{"use strict";h();p();Object.defineProperty(T4,"__esModule",{value:!0});T4.RegistryItem=void 0;var OH=Cr(),Lde=en(),x7=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return Lde.encodeDataItem(this.toDataItem())},this.toUR=()=>new OH.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new OH.UREncoder(i,e,t,n)}}};T4.RegistryItem=x7});var C4=E(yu=>{"use strict";h();p();Object.defineProperty(yu,"__esModule",{value:!0});yu.CryptoCoinInfo=yu.Network=yu.Type=void 0;var DH=en(),Ude=Ri(),kde=tn(),lp;(function(r){r.type="1",r.network="2"})(lp||(lp={}));var RH;(function(r){r[r.bitcoin=0]="bitcoin"})(RH=yu.Type||(yu.Type={}));var PH;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(PH=yu.Network||(yu.Network={}));var bl=class extends Ude.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>kde.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||RH.bitcoin,this.getNetwork=()=>this.network||PH.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[lp.type]=this.type),this.network&&(n[lp.network]=this.network),new DH.DataItem(n)}}};yu.CryptoCoinInfo=bl;bl.fromDataItem=r=>{let e=r.getData(),t=e[lp.type],n=e[lp.network];return new bl(t,n)};bl.fromCBOR=r=>{let e=DH.decodeToDataItem(r);return bl.fromDataItem(e)}});var O4=E(A4=>{"use strict";h();p();Object.defineProperty(A4,"__esModule",{value:!0});A4.PathComponent=void 0;var hp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&hp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};A4.PathComponent=hp;hp.HARDENED_BIT=2147483648});var nv=E(D4=>{"use strict";h();p();Object.defineProperty(D4,"__esModule",{value:!0});D4.CryptoKeypath=void 0;var MH=en(),BH=O4(),jde=Ri(),Hde=tn(),d0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(d0||(d0={}));var wl=class extends jde.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Hde.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[d0.components]=a,this.sourceFingerprint&&(i[d0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[d0.depth]=this.depth),new MH.DataItem(i)}}};D4.CryptoKeypath=wl;wl.fromDataItem=r=>{let e=r.getData(),t=[],n=e[d0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new BH.PathComponent({index:f,hardened:u})):t.push(new BH.PathComponent({hardened:u}))}let i=e[d0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[d0.depth];return new wl(t,a,o)};wl.fromCBOR=r=>{let e=MH.decodeToDataItem(r);return wl.fromDataItem(e)}});var pp=E(R4=>{"use strict";h();p();Object.defineProperty(R4,"__esModule",{value:!0});R4.CryptoHDKey=void 0;var Kde=Vh(),Vde=C4(),NH=nv(),qH=en(),Gde=Ri(),Yde=tn(),ft;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(ft||(ft={}));var El=class extends Gde.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return Kde.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>Yde.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,a,o,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[ft.is_master]=!0,t[ft.key_data]=this.key,t[ft.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[ft.is_private]=this.privateKey),t[ft.key_data]=this.key,this.chainCode&&(t[ft.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[ft.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[ft.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[ft.children]=n}this.parentFingerprint&&(t[ft.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[ft.name]=this.name),this.note!==void 0&&(t[ft.note]=this.note)}return new qH.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};R4.CryptoHDKey=El;El.fromDataItem=r=>{let e=r.getData(),t=!!e[ft.is_master],n=e[ft.is_private],i=e[ft.key_data],a=e[ft.chain_code],o=e[ft.use_info]?Vde.CryptoCoinInfo.fromDataItem(e[ft.use_info]):void 0,s=e[ft.origin]?NH.CryptoKeypath.fromDataItem(e[ft.origin]):void 0,u=e[ft.children]?NH.CryptoKeypath.fromDataItem(e[ft.children]):void 0,f=e[ft.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[ft.name],g=e[ft.note];return new El({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};El.fromCBOR=r=>{let e=qH.decodeToDataItem(r);return El.fromDataItem(e)}});var iv=E(P4=>{"use strict";h();p();Object.defineProperty(P4,"__esModule",{value:!0});P4.CryptoECKey=void 0;var FH=en(),zde=Ri(),Wde=tn(),l0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(l0||(l0={}));var Il=class extends zde.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Wde.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[l0.curve]=this.curve),this.privateKey!==void 0&&(t[l0.private]=this.privateKey),t[l0.data]=this.data,new FH.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};P4.CryptoECKey=Il;Il.fromDataItem=r=>{let e=r.getData(),t=e[l0.curve],n=e[l0.private],i=e[l0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Il({data:i,curve:t,privateKey:n})};Il.fromCBOR=r=>{let e=FH.decodeToDataItem(r);return Il.fromDataItem(e)}});var UH=E(B4=>{"use strict";h();p();Object.defineProperty(B4,"__esModule",{value:!0});B4.Bytes=void 0;var LH=en(),Xde=Ri(),Jde=tn(),Sl=class extends Xde.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Jde.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new LH.DataItem(this.bytes)}};B4.Bytes=Sl;Sl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Sl(e)};Sl.fromCBOR=r=>{let e=LH.decodeToDataItem(r);return Sl.fromDataItem(e)}});var N4=E(M4=>{"use strict";h();p();Object.defineProperty(M4,"__esModule",{value:!0});M4.MultiKey=void 0;var $de=iv(),Zde=pp(),Qde=x4(),ele=Ri(),kH=tn(),gp;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(gp||(gp={}));var av=class extends ele.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[gp.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[gp.keys]=i,new Qde.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};M4.MultiKey=av;av.fromDataItem=r=>{let e=r.getData(),t=e[gp.threshold],n=e[gp.keys],i=[];return n.forEach(a=>{a.getTag()===kH.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Zde.CryptoHDKey.fromDataItem(a)):a.getTag()===kH.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push($de.CryptoECKey.fromDataItem(a))}),new av(t,i)}});var S7=E(q4=>{"use strict";h();p();Object.defineProperty(q4,"__esModule",{value:!0});q4.CryptoOutput=void 0;var w7=iv(),E7=pp(),I7=en(),jH=N4(),tle=Ri(),HH=tn(),b7=S4(),Ef=class extends tle.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>HH.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof E7.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof w7.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof jH.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof w7.CryptoECKey||this.cryptoKey instanceof E7.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new I7.DataItem(n,o)}),n}}};q4.CryptoOutput=Ef;Ef.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag(),o=b7.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof I7.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===b7.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===b7.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=jH.MultiKey.fromDataItem(t);return new Ef(e,a)}if(t.getTag()===HH.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=E7.CryptoHDKey.fromDataItem(t);return new Ef(e,a)}else{let a=w7.CryptoECKey.fromDataItem(t);return new Ef(e,a)}};Ef.fromCBOR=r=>{let e=I7.decodeToDataItem(r);return Ef.fromDataItem(e)}});var T7=E(F4=>{"use strict";h();p();Object.defineProperty(F4,"__esModule",{value:!0});F4.CryptoPSBT=void 0;var KH=en(),rle=Ri(),nle=tn(),Tl=class extends rle.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>nle.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new KH.DataItem(this.psbt)}};F4.CryptoPSBT=Tl;Tl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Tl(e)};Tl.fromCBOR=r=>{let e=KH.decodeToDataItem(r);return Tl.fromDataItem(e)}});var C7=E(L4=>{"use strict";h();p();Object.defineProperty(L4,"__esModule",{value:!0});L4.CryptoAccount=void 0;var ile=U4(),VH=en(),ale=Ri(),ole=tn(),yp;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(yp||(yp={}));var Cl=class extends ale.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>ole.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[yp.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[yp.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new VH.DataItem(n)}}};L4.CryptoAccount=Cl;Cl.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[yp.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[yp.outputDescriptors].map(o=>ile.CryptoOutput.fromDataItem(o));return new Cl(t,a)};Cl.fromCBOR=r=>{let e=VH.decodeToDataItem(r);return Cl.fromDataItem(e)}});var O7=E(k4=>{"use strict";h();p();Object.defineProperty(k4,"__esModule",{value:!0});k4.UnknownURTypeError=void 0;var A7=class extends Error{constructor(e){super(e)}};k4.UnknownURTypeError=A7});var R7=E(j4=>{"use strict";h();p();Object.defineProperty(j4,"__esModule",{value:!0});j4.URRegistryDecoder=void 0;var sle=Cr(),h0=U4(),p0=tn(),ule=O7(),D7=class extends sle.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case p0.RegistryTypes.BYTES.getType():return h0.Bytes.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_HDKEY.getType():return h0.CryptoHDKey.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_KEYPATH.getType():return h0.CryptoKeypath.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_COIN_INFO.getType():return h0.CryptoCoinInfo.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_ECKEY.getType():return h0.CryptoECKey.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_OUTPUT.getType():return h0.CryptoOutput.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_PSBT.getType():return h0.CryptoPSBT.fromCBOR(e.cbor);case p0.RegistryTypes.CRYPTO_ACCOUNT.getType():return h0.CryptoAccount.fromCBOR(e.cbor);default:throw new ule.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};j4.URRegistryDecoder=D7});var P7=E(H4=>{"use strict";h();p();Object.defineProperty(H4,"__esModule",{value:!0});H4.CryptoMultiAccounts=void 0;var fle=tn(),cle=pp(),dle=Ri(),GH=en(),g0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(g0||(g0={}));var Al=class extends dle.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>fle.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[g0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[g0.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[g0.device]=this.device),new GH.DataItem(i)}}};H4.CryptoMultiAccounts=Al;Al.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[g0.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[g0.keys].map(s=>cle.CryptoHDKey.fromDataItem(s)),o=e[g0.device];return new Al(t,a,o)};Al.fromCBOR=r=>{let e=GH.decodeToDataItem(r);return Al.fromDataItem(e)}});var B7=E(mu=>{"use strict";h();p();Object.defineProperty(mu,"__esModule",{value:!0});mu.KeyDerivation=mu.DerivationAlgorithm=mu.Curve=void 0;var lle=tn(),hle=Ri(),YH=en(),ple=nv(),vu;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(vu||(vu={}));var zH;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(zH=mu.Curve||(mu.Curve={}));var WH;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(WH=mu.DerivationAlgorithm||(mu.DerivationAlgorithm={}));var Ol=class extends hle.RegistryItem{constructor(e,t=zH.secp256k1,n=WH.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>lle.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[vu.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[vu.curve]=this.curve,a[vu.algo]=this.algo,this.origin&&(a[vu.origin]=this.origin),new YH.DataItem(a)}}};mu.KeyDerivation=Ol;Ol.fromDataItem=r=>{let e=r.getData(),t=e[vu.keyPaths].map(o=>ple.CryptoKeypath.fromDataItem(o)),n=e[vu.curve],i=e[vu.algo],a=e[vu.origin];return new Ol(t,n,i,a)};Ol.fromCBOR=r=>{let e=YH.decodeToDataItem(r);return Ol.fromDataItem(e)}});var JH=E(Rl=>{"use strict";h();p();Object.defineProperty(Rl,"__esModule",{value:!0});Rl.QRHardwareCall=Rl.QRHardwareCallName=void 0;var gle=tn(),yle=Ri(),XH=en(),vle=B7(),vp;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(vp||(vp={}));var M7;(function(r){r.KeyDerivation="key-derivation"})(M7=Rl.QRHardwareCallName||(Rl.QRHardwareCallName={}));var Dl=class extends yle.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>gle.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[vp.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[vp.params]=i,new XH.DataItem(n)}}};Rl.QRHardwareCall=Dl;Dl.fromDataItem=r=>{let e=r.getData(),t=e[vp.name]||M7.KeyDerivation,n;switch(t){case M7.KeyDerivation:n=vle.KeyDerivation.fromDataItem(e[vp.params])}return new Dl(t,n)};Dl.fromCBOR=r=>{let e=XH.decodeToDataItem(r);return Dl.fromDataItem(e)}});var ZH=E($H=>{"use strict";h();p();Object.defineProperty($H,"__esModule",{value:!0})});var U4=E(he=>{"use strict";h();p();Object.defineProperty(he,"__esModule",{value:!0});he.Buffer=he.extend=he.PathComponent=he.ScriptExpressions=he.MultiKey=he.CryptoPSBT=he.CryptoOutput=he.CryptoECKey=he.CryptoCoinInfoNetwork=he.CryptoCoinInfoType=he.CryptoCoinInfo=he.CryptoKeypath=he.CryptoMultiAccounts=he.CryptoHDKey=he.CryptoAccount=he.Bytes=he.URRegistryDecoder=he.DataItem=void 0;var ur=IH();_7();var mle=Zh();Object.defineProperty(he,"Buffer",{enumerable:!0,get:function(){return mle.Buffer}});var eK=pp();Object.defineProperty(he,"CryptoHDKey",{enumerable:!0,get:function(){return eK.CryptoHDKey}});var tK=nv();Object.defineProperty(he,"CryptoKeypath",{enumerable:!0,get:function(){return tK.CryptoKeypath}});var _p=C4();Object.defineProperty(he,"CryptoCoinInfo",{enumerable:!0,get:function(){return _p.CryptoCoinInfo}});Object.defineProperty(he,"CryptoCoinInfoType",{enumerable:!0,get:function(){return _p.Type}});Object.defineProperty(he,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return _p.Network}});var rK=iv();Object.defineProperty(he,"CryptoECKey",{enumerable:!0,get:function(){return rK.CryptoECKey}});var nK=UH();Object.defineProperty(he,"Bytes",{enumerable:!0,get:function(){return nK.Bytes}});var iK=S7();Object.defineProperty(he,"CryptoOutput",{enumerable:!0,get:function(){return iK.CryptoOutput}});var aK=T7();Object.defineProperty(he,"CryptoPSBT",{enumerable:!0,get:function(){return aK.CryptoPSBT}});var oK=C7();Object.defineProperty(he,"CryptoAccount",{enumerable:!0,get:function(){return oK.CryptoAccount}});var sK=R7();Object.defineProperty(he,"URRegistryDecoder",{enumerable:!0,get:function(){return sK.URRegistryDecoder}});var uK=N4();Object.defineProperty(he,"MultiKey",{enumerable:!0,get:function(){return uK.MultiKey}});var fK=S4();Object.defineProperty(he,"ScriptExpressions",{enumerable:!0,get:function(){return fK.ScriptExpressions}});var cK=O4();Object.defineProperty(he,"PathComponent",{enumerable:!0,get:function(){return cK.PathComponent}});var _le=Ri(),QH=tn(),mp=en(),xle=en();Object.defineProperty(he,"DataItem",{enumerable:!0,get:function(){return xle.DataItem}});var ble=I4(),dK=P7();Object.defineProperty(he,"CryptoMultiAccounts",{enumerable:!0,get:function(){return dK.CryptoMultiAccounts}});var wle={URRegistryDecoder:sK.URRegistryDecoder,Bytes:nK.Bytes,CryptoAccount:oK.CryptoAccount,CryptoHDKey:eK.CryptoHDKey,CryptoMultiAccounts:dK.CryptoMultiAccounts,CryptoKeypath:tK.CryptoKeypath,CryptoCoinInfo:_p.CryptoCoinInfo,CryptoCoinInfoType:_p.Type,CryptoCoinInfoNetwork:_p.Network,CryptoECKey:rK.CryptoECKey,CryptoOutput:iK.CryptoOutput,CryptoPSBT:aK.CryptoPSBT,MultiKey:uK.MultiKey,ScriptExpressions:fK.ScriptExpressions,PathComponent:cK.PathComponent},Ele={addReader:mp.addReader,addSemanticDecode:mp.addSemanticDecode,addSemanticEncode:mp.addSemanticEncode,addWriter:mp.addWriter,patchTags:ble.patchTags},Ile={RegistryTypes:QH.RegistryTypes,RegistryItem:_le.RegistryItem,RegistryType:QH.RegistryType,decodeToDataItem:mp.decodeToDataItem,encodeDataItem:mp.encodeDataItem,cbor:Ele};he.extend=Ile;ur.__exportStar(O7(),he);ur.__exportStar(R7(),he);ur.__exportStar(en(),he);ur.__exportStar(C7(),he);ur.__exportStar(T7(),he);ur.__exportStar(pp(),he);ur.__exportStar(P7(),he);ur.__exportStar(JH(),he);ur.__exportStar(B7(),he);ur.__exportStar(S7(),he);ur.__exportStar(C4(),he);ur.__exportStar(iv(),he);ur.__exportStar(N4(),he);ur.__exportStar(nv(),he);ur.__exportStar(_7(),he);ur.__exportStar(O4(),he);ur.__exportStar(Ri(),he);ur.__exportStar(tn(),he);ur.__exportStar(ZH(),he);ur.__exportStar(I4(),he);he.default=wle});function ov(){if(!K4&&(K4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!K4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K4(Sle)}var K4,Sle,N7=te(()=>{h();p();Sle=new Uint8Array(16)});var lK,hK=te(()=>{h();p();lK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Tle(r){return typeof r=="string"&&lK.test(r)}var y0,sv=te(()=>{h();p();hK();y0=Tle});function Cle(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(rn[r[e+0]]+rn[r[e+1]]+rn[r[e+2]]+rn[r[e+3]]+"-"+rn[r[e+4]]+rn[r[e+5]]+"-"+rn[r[e+6]]+rn[r[e+7]]+"-"+rn[r[e+8]]+rn[r[e+9]]+"-"+rn[r[e+10]]+rn[r[e+11]]+rn[r[e+12]]+rn[r[e+13]]+rn[r[e+14]]+rn[r[e+15]]).toLowerCase();if(!y0(t))throw TypeError("Stringified UUID is invalid");return t}var rn,V4,v0,uv=te(()=>{h();p();sv();rn=[];for(V4=0;V4<256;++V4)rn.push((V4+256).toString(16).substr(1));v0=Cle});function Ale(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||pK,o=r.clockseq!==void 0?r.clockseq:q7;if(a==null||o==null){var s=r.random||(r.rng||ov)();a==null&&(a=pK=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=q7=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:L7+1,c=u-F7+(f-L7)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>F7)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");F7=u,L7=f,q7=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||v0(i)}var pK,q7,F7,L7,gK,yK=te(()=>{h();p();N7();uv();F7=0,L7=0;gK=Ale});function Ole(r){if(!y0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var G4,U7=te(()=>{h();p();sv();G4=Ole});function Dle(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Y4(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=Dle(i)),typeof a=="string"&&(a=G4(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return v0(u)}try{n.name=r}catch{}return n.DNS=Rle,n.URL=Ple,n}var Rle,Ple,k7=te(()=>{h();p();uv();U7();Rle="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ple="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Ble(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Mle(Nle(qle(r),r.length*8))}function Mle(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function vK(r){return(r+64>>>9<<4)+14+1}function Nle(r,e){r[e>>5]|=128<<e%32,r[vK(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Xn(t,n,i,a,r[o],7,-680876936),a=Xn(a,t,n,i,r[o+1],12,-389564586),i=Xn(i,a,t,n,r[o+2],17,606105819),n=Xn(n,i,a,t,r[o+3],22,-1044525330),t=Xn(t,n,i,a,r[o+4],7,-176418897),a=Xn(a,t,n,i,r[o+5],12,1200080426),i=Xn(i,a,t,n,r[o+6],17,-1473231341),n=Xn(n,i,a,t,r[o+7],22,-45705983),t=Xn(t,n,i,a,r[o+8],7,1770035416),a=Xn(a,t,n,i,r[o+9],12,-1958414417),i=Xn(i,a,t,n,r[o+10],17,-42063),n=Xn(n,i,a,t,r[o+11],22,-1990404162),t=Xn(t,n,i,a,r[o+12],7,1804603682),a=Xn(a,t,n,i,r[o+13],12,-40341101),i=Xn(i,a,t,n,r[o+14],17,-1502002290),n=Xn(n,i,a,t,r[o+15],22,1236535329),t=Jn(t,n,i,a,r[o+1],5,-165796510),a=Jn(a,t,n,i,r[o+6],9,-1069501632),i=Jn(i,a,t,n,r[o+11],14,643717713),n=Jn(n,i,a,t,r[o],20,-373897302),t=Jn(t,n,i,a,r[o+5],5,-701558691),a=Jn(a,t,n,i,r[o+10],9,38016083),i=Jn(i,a,t,n,r[o+15],14,-660478335),n=Jn(n,i,a,t,r[o+4],20,-405537848),t=Jn(t,n,i,a,r[o+9],5,568446438),a=Jn(a,t,n,i,r[o+14],9,-1019803690),i=Jn(i,a,t,n,r[o+3],14,-187363961),n=Jn(n,i,a,t,r[o+8],20,1163531501),t=Jn(t,n,i,a,r[o+13],5,-1444681467),a=Jn(a,t,n,i,r[o+2],9,-51403784),i=Jn(i,a,t,n,r[o+7],14,1735328473),n=Jn(n,i,a,t,r[o+12],20,-1926607734),t=$n(t,n,i,a,r[o+5],4,-378558),a=$n(a,t,n,i,r[o+8],11,-2022574463),i=$n(i,a,t,n,r[o+11],16,1839030562),n=$n(n,i,a,t,r[o+14],23,-35309556),t=$n(t,n,i,a,r[o+1],4,-1530992060),a=$n(a,t,n,i,r[o+4],11,1272893353),i=$n(i,a,t,n,r[o+7],16,-155497632),n=$n(n,i,a,t,r[o+10],23,-1094730640),t=$n(t,n,i,a,r[o+13],4,681279174),a=$n(a,t,n,i,r[o],11,-358537222),i=$n(i,a,t,n,r[o+3],16,-722521979),n=$n(n,i,a,t,r[o+6],23,76029189),t=$n(t,n,i,a,r[o+9],4,-640364487),a=$n(a,t,n,i,r[o+12],11,-421815835),i=$n(i,a,t,n,r[o+15],16,530742520),n=$n(n,i,a,t,r[o+2],23,-995338651),t=Zn(t,n,i,a,r[o],6,-198630844),a=Zn(a,t,n,i,r[o+7],10,1126891415),i=Zn(i,a,t,n,r[o+14],15,-1416354905),n=Zn(n,i,a,t,r[o+5],21,-57434055),t=Zn(t,n,i,a,r[o+12],6,1700485571),a=Zn(a,t,n,i,r[o+3],10,-1894986606),i=Zn(i,a,t,n,r[o+10],15,-1051523),n=Zn(n,i,a,t,r[o+1],21,-2054922799),t=Zn(t,n,i,a,r[o+8],6,1873313359),a=Zn(a,t,n,i,r[o+15],10,-30611744),i=Zn(i,a,t,n,r[o+6],15,-1560198380),n=Zn(n,i,a,t,r[o+13],21,1309151649),t=Zn(t,n,i,a,r[o+4],6,-145523070),a=Zn(a,t,n,i,r[o+11],10,-1120210379),i=Zn(i,a,t,n,r[o+2],15,718787259),n=Zn(n,i,a,t,r[o+9],21,-343485551),t=m0(t,s),n=m0(n,u),i=m0(i,f),a=m0(a,c)}return[t,n,i,a]}function qle(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(vK(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function m0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Fle(r,e){return r<<e|r>>>32-e}function z4(r,e,t,n,i,a){return m0(Fle(m0(m0(e,r),m0(n,a)),i),t)}function Xn(r,e,t,n,i,a,o){return z4(e&t|~e&n,r,e,i,a,o)}function Jn(r,e,t,n,i,a,o){return z4(e&n|t&~n,r,e,i,a,o)}function $n(r,e,t,n,i,a,o){return z4(e^t^n,r,e,i,a,o)}function Zn(r,e,t,n,i,a,o){return z4(t^(e|~n),r,e,i,a,o)}var mK,_K=te(()=>{h();p();mK=Ble});var Lle,xK,bK=te(()=>{h();p();k7();_K();Lle=Y4("v3",48,mK),xK=Lle});function Ule(r,e,t){r=r||{};var n=r.random||(r.rng||ov)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return v0(n)}var wK,EK=te(()=>{h();p();N7();uv();wK=Ule});function kle(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function j7(r,e){return r<<e|r>>>32-e}function jle(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=j7(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=j7(w,5)+kle(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=j7(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var IK,SK=te(()=>{h();p();IK=jle});var Hle,TK,CK=te(()=>{h();p();k7();SK();Hle=Y4("v5",80,IK),TK=Hle});var AK,OK=te(()=>{h();p();AK="00000000-0000-0000-0000-000000000000"});function Kle(r){if(!y0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var DK,RK=te(()=>{h();p();sv();DK=Kle});var PK={};Qf(PK,{NIL:()=>AK,parse:()=>G4,stringify:()=>v0,v1:()=>gK,v3:()=>xK,v4:()=>wK,v5:()=>TK,validate:()=>y0,version:()=>DK});var BK=te(()=>{h();p();yK();bK();EK();CK();OK();RK();sv();uv();U7()});var MK=E(xp=>{"use strict";h();p();Object.defineProperty(xp,"__esModule",{value:!0});var ct=U4(),Vle=(BK(),ec(PK)),fv={CARDANO_UTXO:new ct.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new ct.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new ct.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new ct.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:Gle}=ct.extend,Wo;(function(r){r[r.transactionHash=1]="transactionHash",r[r.index=2]="index",r[r.amount=3]="amount",r[r.keyPath=4]="keyPath",r[r.address=5]="address"})(Wo||(Wo={}));var _u=class extends ct.RegistryItem{constructor(e){super(),this.getRegistryType=()=>fv.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{let t={};this.transactionHash&&(t[Wo.transactionHash]=this.transactionHash),t[Wo.index]=this.index,t[Wo.amount]=this.amount;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[Wo.keyPath]=n,t[Wo.address]=this.address,new ct.DataItem(t)},this.transactionHash=e.transactionHash,this.index=e.index,this.amount=e.amount,this.keyPath=e.keyPath,this.address=e.address}static constructCardanoUtxo({transactionHash:e,index:t,amount:n,xfp:i,hdPath:a,address:o}){let s=a.replace(/[m|M]\//,"").split("/"),u=new ct.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=f.endsWith("'");return new ct.PathComponent({index:c,hardened:l})}),v.Buffer.from(i,"hex"));return new _u({transactionHash:v.Buffer.from(e,"hex"),index:t,amount:n,keyPath:u,address:o})}};_u.fromDataItem=r=>{let e=r.getData(),t=e[Wo.transactionHash],n=e[Wo.index],i=ct.CryptoKeypath.fromDataItem(e[Wo.keyPath]);return new _u({transactionHash:t,index:n,amount:e[Wo.amount],keyPath:i,address:e[Wo.address]})},_u.fromCBOR=r=>{let e=Gle(r);return _u.fromDataItem(e)};var{decodeToDataItem:Yle}=ct.extend,bp;(function(r){r[r.keyHash=1]="keyHash",r[r.keyPath=2]="keyPath"})(bp||(bp={}));var Us=class extends ct.RegistryItem{constructor(e){super(),this.getRegistryType=()=>fv.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{let t={};t[bp.keyHash]=this.keyHash;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[bp.keyPath]=n,new ct.DataItem(t)},this.keyHash=e.keyHash,this.keyPath=e.keyPath}static constructCardanoCertKey({keyHash:e,xfp:t,keyPath:n}){let i=n.replace(/[m|M]\//,"").split("/"),a=new ct.CryptoKeypath(i.map(o=>{let s=parseInt(o.replace("'","")),u=o.endsWith("'");return new ct.PathComponent({index:s,hardened:u})}),v.Buffer.from(t,"hex"));return new Us({keyHash:v.Buffer.from(e,"hex"),keyPath:a})}};Us.fromDataItem=r=>{let e=r.getData(),t=e[bp.keyHash],n=ct.CryptoKeypath.fromDataItem(e[bp.keyPath]);return new Us({keyHash:t,keyPath:n})},Us.fromCBOR=r=>{let e=Yle(r);return Us.fromDataItem(e)};var{decodeToDataItem:zle,RegistryTypes:Wle}=ct.extend,Qi;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.utxos=3]="utxos",r[r.extraSigners=4]="extraSigners",r[r.origin=5]="origin"})(Qi||(Qi={}));var If=class extends ct.RegistryItem{constructor(e){super(),this.getRegistryType=()=>fv.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[Qi.requestId]=new ct.DataItem(this.requestId,Wle.UUID.getTag())),t[Qi.signData]=this.signData,t[Qi.utxos]=this.utxos.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),t[Qi.extraSigners]=this.extraSigners.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.origin&&(t[Qi.origin]=this.origin),new ct.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.utxos=e.utxos,this.extraSigners=e.extraSigners,this.origin=e.origin}static constructCardanoSignRequest(e,t,n,i,a){let o=t.map(u=>_u.constructCardanoUtxo(u)),s=n.map(u=>Us.constructCardanoCertKey(u));return new If({requestId:i?v.Buffer.from(Vle.parse(i)):void 0,signData:e,utxos:o,extraSigners:s,origin:a||void 0})}};If.fromDataItem=r=>{let e=r.getData(),t=e[Qi.signData],n=e[Qi.utxos].map(o=>_u.fromDataItem(o)),i=e[Qi.extraSigners].map(o=>Us.fromDataItem(o)),a=e[Qi.requestId]?e[Qi.requestId].getData():void 0;return new If({requestId:a,signData:t,utxos:n,extraSigners:i,origin:e[Qi.origin]?e[Qi.origin]:void 0})},If.fromCBOR=r=>{let e=zle(r);return If.fromDataItem(e)};var{RegistryTypes:Xle,decodeToDataItem:Jle}=ct.extend,Bl;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(Bl||(Bl={}));var Pl=class extends ct.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>fv.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{let n={};return this.requestId&&(n[Bl.requestId]=new ct.DataItem(this.requestId,Xle.UUID.getTag())),n[Bl.signature]=this.witnessSet,new ct.DataItem(n)},this.witnessSet=e,this.requestId=t}};Pl.fromDataItem=r=>{let e=r.getData(),t=e[Bl.signature],n=e[Bl.requestId]?e[Bl.requestId].getData():void 0;return new Pl(t,n)},Pl.fromCBOR=r=>{let e=Jle(r);return Pl.fromDataItem(e)},ct.patchTags(Object.values(fv).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ct).forEach(function(r){r!=="default"&&Object.defineProperty(xp,r,{enumerable:!0,get:function(){return ct[r]}})}),xp.CardanoCertKey=Us,xp.CardanoSignRequest=If,xp.CardanoSignature=Pl});var qK=E((oXe,NK)=>{"use strict";h();p();NK.exports=MK()});var UK=E(W4=>{"use strict";h();p();Object.defineProperty(W4,"__esModule",{value:!0});W4.KeystoneCardanoSDK=void 0;var FK=qK(),LK=Lr(),$le=Yi(),H7=class{parseSignature(e){if(e.type!==$le.URType.CardanoSignature)throw new Error("type not match");let t=FK.CardanoSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:v.Buffer.isBuffer(n)?(0,LK.uuidStringify)(n):"",witnessSet:(0,LK.toHex)(t.getWitnessSet())}}generateSignRequest({signData:e,utxos:t,extraSigners:n,requestId:i,origin:a}){return FK.CardanoSignRequest.constructCardanoSignRequest(e,t,n,i,a).toUR()}};W4.KeystoneCardanoSDK=H7});function cv(){if(!X4&&(X4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!X4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return X4(Zle)}var X4,Zle,K7=te(()=>{h();p();Zle=new Uint8Array(16)});var kK,jK=te(()=>{h();p();kK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Qle(r){return typeof r=="string"&&kK.test(r)}var _0,dv=te(()=>{h();p();jK();_0=Qle});function ehe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(nn[r[e+0]]+nn[r[e+1]]+nn[r[e+2]]+nn[r[e+3]]+"-"+nn[r[e+4]]+nn[r[e+5]]+"-"+nn[r[e+6]]+nn[r[e+7]]+"-"+nn[r[e+8]]+nn[r[e+9]]+"-"+nn[r[e+10]]+nn[r[e+11]]+nn[r[e+12]]+nn[r[e+13]]+nn[r[e+14]]+nn[r[e+15]]).toLowerCase();if(!_0(t))throw TypeError("Stringified UUID is invalid");return t}var nn,J4,x0,lv=te(()=>{h();p();dv();nn=[];for(J4=0;J4<256;++J4)nn.push((J4+256).toString(16).substr(1));x0=ehe});function the(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||HK,o=r.clockseq!==void 0?r.clockseq:V7;if(a==null||o==null){var s=r.random||(r.rng||cv)();a==null&&(a=HK=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=V7=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Y7+1,c=u-G7+(f-Y7)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>G7)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");G7=u,Y7=f,V7=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||x0(i)}var HK,V7,G7,Y7,KK,VK=te(()=>{h();p();K7();lv();G7=0,Y7=0;KK=the});function rhe(r){if(!_0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var $4,z7=te(()=>{h();p();dv();$4=rhe});function nhe(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Z4(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=nhe(i)),typeof a=="string"&&(a=$4(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return x0(u)}try{n.name=r}catch{}return n.DNS=ihe,n.URL=ahe,n}var ihe,ahe,W7=te(()=>{h();p();lv();z7();ihe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ahe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function ohe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return she(uhe(fhe(r),r.length*8))}function she(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function GK(r){return(r+64>>>9<<4)+14+1}function uhe(r,e){r[e>>5]|=128<<e%32,r[GK(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=Qn(t,n,i,a,r[o],7,-680876936),a=Qn(a,t,n,i,r[o+1],12,-389564586),i=Qn(i,a,t,n,r[o+2],17,606105819),n=Qn(n,i,a,t,r[o+3],22,-1044525330),t=Qn(t,n,i,a,r[o+4],7,-176418897),a=Qn(a,t,n,i,r[o+5],12,1200080426),i=Qn(i,a,t,n,r[o+6],17,-1473231341),n=Qn(n,i,a,t,r[o+7],22,-45705983),t=Qn(t,n,i,a,r[o+8],7,1770035416),a=Qn(a,t,n,i,r[o+9],12,-1958414417),i=Qn(i,a,t,n,r[o+10],17,-42063),n=Qn(n,i,a,t,r[o+11],22,-1990404162),t=Qn(t,n,i,a,r[o+12],7,1804603682),a=Qn(a,t,n,i,r[o+13],12,-40341101),i=Qn(i,a,t,n,r[o+14],17,-1502002290),n=Qn(n,i,a,t,r[o+15],22,1236535329),t=ei(t,n,i,a,r[o+1],5,-165796510),a=ei(a,t,n,i,r[o+6],9,-1069501632),i=ei(i,a,t,n,r[o+11],14,643717713),n=ei(n,i,a,t,r[o],20,-373897302),t=ei(t,n,i,a,r[o+5],5,-701558691),a=ei(a,t,n,i,r[o+10],9,38016083),i=ei(i,a,t,n,r[o+15],14,-660478335),n=ei(n,i,a,t,r[o+4],20,-405537848),t=ei(t,n,i,a,r[o+9],5,568446438),a=ei(a,t,n,i,r[o+14],9,-1019803690),i=ei(i,a,t,n,r[o+3],14,-187363961),n=ei(n,i,a,t,r[o+8],20,1163531501),t=ei(t,n,i,a,r[o+13],5,-1444681467),a=ei(a,t,n,i,r[o+2],9,-51403784),i=ei(i,a,t,n,r[o+7],14,1735328473),n=ei(n,i,a,t,r[o+12],20,-1926607734),t=ti(t,n,i,a,r[o+5],4,-378558),a=ti(a,t,n,i,r[o+8],11,-2022574463),i=ti(i,a,t,n,r[o+11],16,1839030562),n=ti(n,i,a,t,r[o+14],23,-35309556),t=ti(t,n,i,a,r[o+1],4,-1530992060),a=ti(a,t,n,i,r[o+4],11,1272893353),i=ti(i,a,t,n,r[o+7],16,-155497632),n=ti(n,i,a,t,r[o+10],23,-1094730640),t=ti(t,n,i,a,r[o+13],4,681279174),a=ti(a,t,n,i,r[o],11,-358537222),i=ti(i,a,t,n,r[o+3],16,-722521979),n=ti(n,i,a,t,r[o+6],23,76029189),t=ti(t,n,i,a,r[o+9],4,-640364487),a=ti(a,t,n,i,r[o+12],11,-421815835),i=ti(i,a,t,n,r[o+15],16,530742520),n=ti(n,i,a,t,r[o+2],23,-995338651),t=ri(t,n,i,a,r[o],6,-198630844),a=ri(a,t,n,i,r[o+7],10,1126891415),i=ri(i,a,t,n,r[o+14],15,-1416354905),n=ri(n,i,a,t,r[o+5],21,-57434055),t=ri(t,n,i,a,r[o+12],6,1700485571),a=ri(a,t,n,i,r[o+3],10,-1894986606),i=ri(i,a,t,n,r[o+10],15,-1051523),n=ri(n,i,a,t,r[o+1],21,-2054922799),t=ri(t,n,i,a,r[o+8],6,1873313359),a=ri(a,t,n,i,r[o+15],10,-30611744),i=ri(i,a,t,n,r[o+6],15,-1560198380),n=ri(n,i,a,t,r[o+13],21,1309151649),t=ri(t,n,i,a,r[o+4],6,-145523070),a=ri(a,t,n,i,r[o+11],10,-1120210379),i=ri(i,a,t,n,r[o+2],15,718787259),n=ri(n,i,a,t,r[o+9],21,-343485551),t=b0(t,s),n=b0(n,u),i=b0(i,f),a=b0(a,c)}return[t,n,i,a]}function fhe(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(GK(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function b0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function che(r,e){return r<<e|r>>>32-e}function Q4(r,e,t,n,i,a){return b0(che(b0(b0(e,r),b0(n,a)),i),t)}function Qn(r,e,t,n,i,a,o){return Q4(e&t|~e&n,r,e,i,a,o)}function ei(r,e,t,n,i,a,o){return Q4(e&n|t&~n,r,e,i,a,o)}function ti(r,e,t,n,i,a,o){return Q4(e^t^n,r,e,i,a,o)}function ri(r,e,t,n,i,a,o){return Q4(t^(e|~n),r,e,i,a,o)}var YK,zK=te(()=>{h();p();YK=ohe});var dhe,WK,XK=te(()=>{h();p();W7();zK();dhe=Z4("v3",48,YK),WK=dhe});function lhe(r,e,t){r=r||{};var n=r.random||(r.rng||cv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return x0(n)}var JK,$K=te(()=>{h();p();K7();lv();JK=lhe});function hhe(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function X7(r,e){return r<<e|r>>>32-e}function phe(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=X7(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=X7(w,5)+hhe(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=X7(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var ZK,QK=te(()=>{h();p();ZK=phe});var ghe,eV,tV=te(()=>{h();p();W7();QK();ghe=Z4("v5",80,ZK),eV=ghe});var rV,nV=te(()=>{h();p();rV="00000000-0000-0000-0000-000000000000"});function yhe(r){if(!_0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var iV,aV=te(()=>{h();p();dv();iV=yhe});var oV={};Qf(oV,{NIL:()=>rV,parse:()=>$4,stringify:()=>x0,v1:()=>KK,v3:()=>WK,v4:()=>JK,v5:()=>eV,validate:()=>_0,version:()=>iV});var sV=te(()=>{h();p();VK();XK();$K();tV();nV();aV();dv();lv();z7()});var uV=E(xu=>{"use strict";h();p();Object.defineProperty(xu,"__esModule",{value:!0});var an=tu(),vhe=(sV(),ec(oV)),t6={ARWEAVE_CRYPTO_ACCOUNT:new an.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new an.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new an.RegistryType("arweave-signature",5103)},{decodeToDataItem:mhe,RegistryTypes:_he}=an.extend,wp,e6,_r;(wp=xu.SignType||(xu.SignType={}))[wp.Transaction=1]="Transaction",wp[wp.DataItem=2]="DataItem",wp[wp.Message=3]="Message",(e6=xu.SaltLen||(xu.SaltLen={}))[e6.Zero=0]="Zero",e6[e6.Digest=32]="Digest",function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.requestId=2]="requestId",r[r.signData=3]="signData",r[r.signType=4]="signType",r[r.saltLen=5]="saltLen",r[r.origin=6]="origin",r[r.account=7]="account"}(_r||(_r={}));var Sf=class extends an.RegistryItem{constructor(e){super(),this.getRegistryType=()=>t6.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{let t={};return this.requestId&&(t[_r.requestId]=new an.DataItem(this.requestId,_he.UUID.getTag())),this.account&&(t[_r.account]=this.account),this.origin&&(t[_r.origin]=this.origin),t[_r.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),t[_r.signData]=this.signData,t[_r.signType]=this.signType,t[_r.saltLen]=this.saltLen,new an.DataItem(t)},this.masterFingerprint=e.masterFingerprint,this.requestId=e.requestId,this.signData=e.signData,this.signType=e.signType,this.saltLen=e.saltLen,this.origin=e.origin,this.account=e.account}static constructArweaveRequest(e,t,n,i,a,o,s){return new Sf({masterFingerprint:v.Buffer.from(t,"hex"),requestId:a?v.Buffer.from(vhe.parse(a)):void 0,signData:e,signType:n,saltLen:i,account:o,origin:s})}};Sf.fromDataItem=r=>{let e=r.getData(),t=e[_r.signData],n=e[_r.account]?e[_r.account]:void 0,i=e[_r.requestId]?e[_r.requestId].getData():void 0,a=e[_r.origin]?e[_r.origin]:void 0,o=e[_r.signType],s=e[_r.saltLen],u=v.Buffer.alloc(4);return u.writeUInt32BE(e[_r.masterFingerprint],0),new Sf({masterFingerprint:u,requestId:i,signData:t,signType:o,saltLen:s,origin:a,account:n})},Sf.fromCBOR=r=>{let e=mhe(r);return Sf.fromDataItem(e)};var{RegistryTypes:xhe,decodeToDataItem:bhe}=an.extend,ql;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(ql||(ql={}));var Nl=class extends an.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>t6.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[ql.requestId]=new an.DataItem(this.requestId,xhe.UUID.getTag())),n[ql.signature]=this.signature,new an.DataItem(n)},this.signature=e,this.requestId=t}};Nl.fromDataItem=r=>{let e=r.getData(),t=e[ql.signature],n=e[ql.requestId]?e[ql.requestId].getData():void 0;return new Nl(t,n)},Nl.fromCBOR=r=>{let e=bhe(r);return Nl.fromDataItem(e)};var{decodeToDataItem:whe}=an.extend,Tf;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keyData=2]="keyData",r[r.device=3]="device"})(Tf||(Tf={}));var Ml=class extends an.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keyData=t,this.device=n,this.getRegistryType=()=>t6.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return i[Tf.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),i[Tf.keyData]=this.keyData,this.device&&(i[Tf.device]=this.device),new an.DataItem(i)}}};Ml.fromDataItem=r=>{let e=r.getData(),t=e[Tf.keyData],n=v.Buffer.alloc(4);return n.writeUInt32BE(e[Tf.masterFingerprint],0),new Ml(n,t,e[Tf.device]?e[Tf.device]:void 0)},Ml.fromCBOR=r=>{let e=whe(r);return Ml.fromDataItem(e)},an.patchTags(Object.values(t6).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(an).forEach(function(r){r!=="default"&&Object.defineProperty(xu,r,{enumerable:!0,get:function(){return an[r]}})}),xu.ArweaveCryptoAccount=Ml,xu.ArweaveSignRequest=Sf,xu.ArweaveSignature=Nl});var cV=E((AJe,fV)=>{"use strict";h();p();fV.exports=uV()});var lV=E(r6=>{"use strict";h();p();Object.defineProperty(r6,"__esModule",{value:!0});r6.KeystoneArweaveSDK=void 0;var w0=Lr(),dV=Yi(),hv=cV(),pv=class{parseAccount(e){if(e.type!==dV.URType.ArweaveCryptoAccount)throw new Error("type not match");let t=hv.ArweaveCryptoAccount.fromCBOR(e.cbor);return{masterFingerprint:(0,w0.toHex)(t.getMasterFingerprint()),keyData:(0,w0.toHex)(t.getKeyData()),device:t.getDevice()}}parseSignature(e){if(e.type!==dV.URType.ArweaveSignature)throw new Error("type not match");let t=hv.ArweaveSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:(0,w0.uuidStringify)(n),signature:(0,w0.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,signType:n,saltLen:i,masterFingerprint:a,account:o,origin:s}){return new hv.ArweaveSignRequest({requestId:(0,w0.uuidParse)(e),signData:(0,w0.toBuffer)(t),signType:n,saltLen:i,masterFingerprint:(0,w0.toBuffer)(a),account:o!==void 0?(0,w0.toBuffer)(o):void 0,origin:s}).toUR()}};pv.SignType=hv.SignType;pv.SaltLen=hv.SaltLen;r6.KeystoneArweaveSDK=pv});var MV=E((MJe,a6)=>{h();p();var hV,pV,gV,yV,vV,mV,_V,xV,bV,n6,J7,wV,EV,IV,Ep,SV,TV,CV,AV,OV,DV,RV,PV,BV,i6;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof a6=="object"&&typeof a6.exports=="object"?r(t(e,t(a6.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};hV=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},pV=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},gV=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},yV=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},vV=function(n,i){return function(a,o){i(a,o,n)}},mV=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},_V=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},xV=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},bV=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&i6(i,n,a)},i6=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},n6=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},J7=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},wV=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(J7(arguments[i]));return n},EV=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},IV=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},Ep=function(n){return this instanceof Ep?(this.v=n,this):new Ep(n)},SV=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(I){return new Promise(function(T,O){u.push([w,I,T,O])>1||c(w,I)})})}function c(w,I){try{l(o[w](I))}catch(T){_(u[0][3],T)}}function l(w){w.value instanceof Ep?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,I){w(I),u.shift(),u.length&&c(u[0][0],u[0][1])}},TV=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:Ep(n[s](f)),done:s==="return"}:u?u(f):f}:u}},CV=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof n6=="function"?n6(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},AV=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var t=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};OV=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&i6(i,n,a);return t(i,n),i},DV=function(n){return n&&n.__esModule?n:{default:n}},RV=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},PV=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},BV=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},r("__extends",hV),r("__assign",pV),r("__rest",gV),r("__decorate",yV),r("__param",vV),r("__metadata",mV),r("__awaiter",_V),r("__generator",xV),r("__exportStar",bV),r("__createBinding",i6),r("__values",n6),r("__read",J7),r("__spread",wV),r("__spreadArrays",EV),r("__spreadArray",IV),r("__await",Ep),r("__asyncGenerator",SV),r("__asyncDelegator",TV),r("__asyncValues",CV),r("__makeTemplateObject",AV),r("__importStar",OV),r("__importDefault",DV),r("__classPrivateFieldGet",RV),r("__classPrivateFieldSet",PV),r("__classPrivateFieldIn",BV)})});var s6=E(o6=>{"use strict";h();p();Object.defineProperty(o6,"__esModule",{value:!0});o6.DataItem=void 0;var $7=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};o6.DataItem=$7});var qV=E((NV,u6)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof u6<"u"&&u6.exports?u6.exports=e():r.CBOR=e()})(NV,function(){let{DataItem:r}=s6();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var on=E(ni=>{"use strict";h();p();Object.defineProperty(ni,"__esModule",{value:!0});ni.DataItem=ni.addWriter=ni.addReader=ni.addSemanticEncode=ni.addSemanticDecode=ni.decodeToDataItem=ni.encodeDataItem=void 0;var Ip=qV();Object.defineProperty(ni,"encodeDataItem",{enumerable:!0,get:function(){return Ip.encodeDataItem}});Object.defineProperty(ni,"decodeToDataItem",{enumerable:!0,get:function(){return Ip.decodeToDataItem}});Object.defineProperty(ni,"addSemanticDecode",{enumerable:!0,get:function(){return Ip.addSemanticDecode}});Object.defineProperty(ni,"addSemanticEncode",{enumerable:!0,get:function(){return Ip.addSemanticEncode}});Object.defineProperty(ni,"addReader",{enumerable:!0,get:function(){return Ip.addReader}});Object.defineProperty(ni,"addWriter",{enumerable:!0,get:function(){return Ip.addWriter}});var Ehe=s6();Object.defineProperty(ni,"DataItem",{enumerable:!0,get:function(){return Ehe.DataItem}})});var d6=E(c6=>{"use strict";h();p();Object.defineProperty(c6,"__esModule",{value:!0});c6.patchTags=void 0;var f6=on(),FV=[],Ihe=r=>{r.forEach(e=>{FV.find(t=>t===e)||(f6.addSemanticEncode(e,t=>{if(t instanceof f6.DataItem&&t.getTag()===e)return t.getData()}),f6.addSemanticDecode(e,t=>new f6.DataItem(t,e)),FV.push(e))})};c6.patchTags=Ihe});var sn=E(Sp=>{"use strict";h();p();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.RegistryTypes=Sp.RegistryType=void 0;var Pi=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Sp.RegistryType=Pi;Sp.RegistryTypes={UUID:new Pi("uuid",37),BYTES:new Pi("bytes",void 0),CRYPTO_HDKEY:new Pi("crypto-hdkey",303),CRYPTO_KEYPATH:new Pi("crypto-keypath",304),CRYPTO_COIN_INFO:new Pi("crypto-coin-info",305),CRYPTO_ECKEY:new Pi("crypto-eckey",306),CRYPTO_OUTPUT:new Pi("crypto-output",308),CRYPTO_PSBT:new Pi("crypto-psbt",310),CRYPTO_ACCOUNT:new Pi("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Pi("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Pi("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Pi("key-derivation-call",1301)}});var l6=E(Fl=>{"use strict";h();p();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.ScriptExpressions=Fl.ScriptExpression=void 0;var ea=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Fl.ScriptExpression=ea;ea.fromTag=r=>Object.values(Fl.ScriptExpressions).find(t=>t.getTag()===r);Fl.ScriptExpressions={SCRIPT_HASH:new ea(400,"sh"),WITNESS_SCRIPT_HASH:new ea(401,"wsh"),PUBLIC_KEY:new ea(402,"pk"),PUBLIC_KEY_HASH:new ea(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ea(404,"wpkh"),COMBO:new ea(405,"combo"),MULTISIG:new ea(406,"multi"),SORTED_MULTISIG:new ea(407,"sortedmulti"),ADDRESS:new ea(307,"addr"),RAW_SCRIPT:new ea(408,"raw")}});var Z7=E(LV=>{"use strict";h();p();Object.defineProperty(LV,"__esModule",{value:!0});var She=d6(),The=sn(),Che=l6(),Ahe=Object.values(The.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),Ohe=Object.values(Che.ScriptExpressions).map(r=>r.getTag());She.patchTags(Ahe.concat(Ohe))});var Bi=E(h6=>{"use strict";h();p();Object.defineProperty(h6,"__esModule",{value:!0});h6.RegistryItem=void 0;var UV=Cr(),Dhe=on(),Q7=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return Dhe.encodeDataItem(this.toDataItem())},this.toUR=()=>new UV.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new UV.UREncoder(i,e,t,n)}}};h6.RegistryItem=Q7});var p6=E(bu=>{"use strict";h();p();Object.defineProperty(bu,"__esModule",{value:!0});bu.CryptoCoinInfo=bu.Network=bu.Type=void 0;var kV=on(),Rhe=Bi(),Phe=sn(),Tp;(function(r){r.type="1",r.network="2"})(Tp||(Tp={}));var jV;(function(r){r[r.bitcoin=0]="bitcoin"})(jV=bu.Type||(bu.Type={}));var HV;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(HV=bu.Network||(bu.Network={}));var Ll=class extends Rhe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Phe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||jV.bitcoin,this.getNetwork=()=>this.network||HV.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Tp.type]=this.type),this.network&&(n[Tp.network]=this.network),new kV.DataItem(n)}}};bu.CryptoCoinInfo=Ll;Ll.fromDataItem=r=>{let e=r.getData(),t=e[Tp.type],n=e[Tp.network];return new Ll(t,n)};Ll.fromCBOR=r=>{let e=kV.decodeToDataItem(r);return Ll.fromDataItem(e)}});var y6=E(g6=>{"use strict";h();p();Object.defineProperty(g6,"__esModule",{value:!0});g6.PathComponent=void 0;var Cp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Cp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};g6.PathComponent=Cp;Cp.HARDENED_BIT=2147483648});var gv=E(v6=>{"use strict";h();p();Object.defineProperty(v6,"__esModule",{value:!0});v6.CryptoKeypath=void 0;var VV=on(),KV=y6(),Bhe=Bi(),Mhe=sn(),E0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(E0||(E0={}));var Ul=class extends Bhe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Mhe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[E0.components]=a,this.sourceFingerprint&&(i[E0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[E0.depth]=this.depth),new VV.DataItem(i)}}};v6.CryptoKeypath=Ul;Ul.fromDataItem=r=>{let e=r.getData(),t=[],n=e[E0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new KV.PathComponent({index:f,hardened:u})):t.push(new KV.PathComponent({hardened:u}))}let i=e[E0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[E0.depth];return new Ul(t,a,o)};Ul.fromCBOR=r=>{let e=VV.decodeToDataItem(r);return Ul.fromDataItem(e)}});var Ap=E(m6=>{"use strict";h();p();Object.defineProperty(m6,"__esModule",{value:!0});m6.CryptoHDKey=void 0;var Nhe=Vh(),qhe=p6(),GV=gv(),YV=on(),Fhe=Bi(),Lhe=sn(),dt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(dt||(dt={}));var kl=class extends Fhe.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return Nhe.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>Lhe.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,a,o,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[dt.is_master]=!0,t[dt.key_data]=this.key,t[dt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[dt.is_private]=this.privateKey),t[dt.key_data]=this.key,this.chainCode&&(t[dt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[dt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[dt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[dt.children]=n}this.parentFingerprint&&(t[dt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[dt.name]=this.name),this.note!==void 0&&(t[dt.note]=this.note)}return new YV.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};m6.CryptoHDKey=kl;kl.fromDataItem=r=>{let e=r.getData(),t=!!e[dt.is_master],n=e[dt.is_private],i=e[dt.key_data],a=e[dt.chain_code],o=e[dt.use_info]?qhe.CryptoCoinInfo.fromDataItem(e[dt.use_info]):void 0,s=e[dt.origin]?GV.CryptoKeypath.fromDataItem(e[dt.origin]):void 0,u=e[dt.children]?GV.CryptoKeypath.fromDataItem(e[dt.children]):void 0,f=e[dt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[dt.name],g=e[dt.note];return new kl({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};kl.fromCBOR=r=>{let e=YV.decodeToDataItem(r);return kl.fromDataItem(e)}});var yv=E(_6=>{"use strict";h();p();Object.defineProperty(_6,"__esModule",{value:!0});_6.CryptoECKey=void 0;var zV=on(),Uhe=Bi(),khe=sn(),I0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(I0||(I0={}));var jl=class extends Uhe.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>khe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[I0.curve]=this.curve),this.privateKey!==void 0&&(t[I0.private]=this.privateKey),t[I0.data]=this.data,new zV.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};_6.CryptoECKey=jl;jl.fromDataItem=r=>{let e=r.getData(),t=e[I0.curve],n=e[I0.private],i=e[I0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new jl({data:i,curve:t,privateKey:n})};jl.fromCBOR=r=>{let e=zV.decodeToDataItem(r);return jl.fromDataItem(e)}});var XV=E(x6=>{"use strict";h();p();Object.defineProperty(x6,"__esModule",{value:!0});x6.Bytes=void 0;var WV=on(),jhe=Bi(),Hhe=sn(),Hl=class extends jhe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Hhe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new WV.DataItem(this.bytes)}};x6.Bytes=Hl;Hl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Hl(e)};Hl.fromCBOR=r=>{let e=WV.decodeToDataItem(r);return Hl.fromDataItem(e)}});var w6=E(b6=>{"use strict";h();p();Object.defineProperty(b6,"__esModule",{value:!0});b6.MultiKey=void 0;var Khe=yv(),Vhe=Ap(),Ghe=s6(),Yhe=Bi(),JV=sn(),Op;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(Op||(Op={}));var vv=class extends Yhe.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[Op.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[Op.keys]=i,new Ghe.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};b6.MultiKey=vv;vv.fromDataItem=r=>{let e=r.getData(),t=e[Op.threshold],n=e[Op.keys],i=[];return n.forEach(a=>{a.getTag()===JV.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Vhe.CryptoHDKey.fromDataItem(a)):a.getTag()===JV.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Khe.CryptoECKey.fromDataItem(a))}),new vv(t,i)}});var i9=E(E6=>{"use strict";h();p();Object.defineProperty(E6,"__esModule",{value:!0});E6.CryptoOutput=void 0;var t9=yv(),r9=Ap(),n9=on(),$V=w6(),zhe=Bi(),ZV=sn(),e9=l6(),Cf=class extends zhe.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>ZV.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof r9.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof t9.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof $V.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof t9.CryptoECKey||this.cryptoKey instanceof r9.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new n9.DataItem(n,o)}),n}}};E6.CryptoOutput=Cf;Cf.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag(),o=e9.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof n9.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===e9.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===e9.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=$V.MultiKey.fromDataItem(t);return new Cf(e,a)}if(t.getTag()===ZV.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=r9.CryptoHDKey.fromDataItem(t);return new Cf(e,a)}else{let a=t9.CryptoECKey.fromDataItem(t);return new Cf(e,a)}};Cf.fromCBOR=r=>{let e=n9.decodeToDataItem(r);return Cf.fromDataItem(e)}});var a9=E(I6=>{"use strict";h();p();Object.defineProperty(I6,"__esModule",{value:!0});I6.CryptoPSBT=void 0;var QV=on(),Whe=Bi(),Xhe=sn(),Kl=class extends Whe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Xhe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new QV.DataItem(this.psbt)}};I6.CryptoPSBT=Kl;Kl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Kl(e)};Kl.fromCBOR=r=>{let e=QV.decodeToDataItem(r);return Kl.fromDataItem(e)}});var o9=E(S6=>{"use strict";h();p();Object.defineProperty(S6,"__esModule",{value:!0});S6.CryptoAccount=void 0;var Jhe=T6(),eG=on(),$he=Bi(),Zhe=sn(),Dp;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(Dp||(Dp={}));var Vl=class extends $he.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Zhe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Dp.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Dp.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new eG.DataItem(n)}}};S6.CryptoAccount=Vl;Vl.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[Dp.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[Dp.outputDescriptors].map(o=>Jhe.CryptoOutput.fromDataItem(o));return new Vl(t,a)};Vl.fromCBOR=r=>{let e=eG.decodeToDataItem(r);return Vl.fromDataItem(e)}});var u9=E(C6=>{"use strict";h();p();Object.defineProperty(C6,"__esModule",{value:!0});C6.UnknownURTypeError=void 0;var s9=class extends Error{constructor(e){super(e)}};C6.UnknownURTypeError=s9});var c9=E(A6=>{"use strict";h();p();Object.defineProperty(A6,"__esModule",{value:!0});A6.URRegistryDecoder=void 0;var Qhe=Cr(),S0=T6(),T0=sn(),e1e=u9(),f9=class extends Qhe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case T0.RegistryTypes.BYTES.getType():return S0.Bytes.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_HDKEY.getType():return S0.CryptoHDKey.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_KEYPATH.getType():return S0.CryptoKeypath.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_COIN_INFO.getType():return S0.CryptoCoinInfo.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_ECKEY.getType():return S0.CryptoECKey.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_OUTPUT.getType():return S0.CryptoOutput.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_PSBT.getType():return S0.CryptoPSBT.fromCBOR(e.cbor);case T0.RegistryTypes.CRYPTO_ACCOUNT.getType():return S0.CryptoAccount.fromCBOR(e.cbor);default:throw new e1e.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};A6.URRegistryDecoder=f9});var d9=E(O6=>{"use strict";h();p();Object.defineProperty(O6,"__esModule",{value:!0});O6.CryptoMultiAccounts=void 0;var t1e=sn(),r1e=Ap(),n1e=Bi(),tG=on(),C0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(C0||(C0={}));var Gl=class extends n1e.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>t1e.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[C0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[C0.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[C0.device]=this.device),new tG.DataItem(i)}}};O6.CryptoMultiAccounts=Gl;Gl.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[C0.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[C0.keys].map(s=>r1e.CryptoHDKey.fromDataItem(s)),o=e[C0.device];return new Gl(t,a,o)};Gl.fromCBOR=r=>{let e=tG.decodeToDataItem(r);return Gl.fromDataItem(e)}});var l9=E(Eu=>{"use strict";h();p();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.KeyDerivation=Eu.DerivationAlgorithm=Eu.Curve=void 0;var i1e=sn(),a1e=Bi(),rG=on(),o1e=gv(),wu;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(wu||(wu={}));var nG;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(nG=Eu.Curve||(Eu.Curve={}));var iG;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(iG=Eu.DerivationAlgorithm||(Eu.DerivationAlgorithm={}));var Yl=class extends a1e.RegistryItem{constructor(e,t=nG.secp256k1,n=iG.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>i1e.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[wu.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[wu.curve]=this.curve,a[wu.algo]=this.algo,this.origin&&(a[wu.origin]=this.origin),new rG.DataItem(a)}}};Eu.KeyDerivation=Yl;Yl.fromDataItem=r=>{let e=r.getData(),t=e[wu.keyPaths].map(o=>o1e.CryptoKeypath.fromDataItem(o)),n=e[wu.curve],i=e[wu.algo],a=e[wu.origin];return new Yl(t,n,i,a)};Yl.fromCBOR=r=>{let e=rG.decodeToDataItem(r);return Yl.fromDataItem(e)}});var oG=E(Wl=>{"use strict";h();p();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.QRHardwareCall=Wl.QRHardwareCallName=void 0;var s1e=sn(),u1e=Bi(),aG=on(),f1e=l9(),Rp;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(Rp||(Rp={}));var h9;(function(r){r.KeyDerivation="key-derivation"})(h9=Wl.QRHardwareCallName||(Wl.QRHardwareCallName={}));var zl=class extends u1e.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>s1e.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[Rp.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[Rp.params]=i,new aG.DataItem(n)}}};Wl.QRHardwareCall=zl;zl.fromDataItem=r=>{let e=r.getData(),t=e[Rp.name]||h9.KeyDerivation,n;switch(t){case h9.KeyDerivation:n=f1e.KeyDerivation.fromDataItem(e[Rp.params])}return new zl(t,n)};zl.fromCBOR=r=>{let e=aG.decodeToDataItem(r);return zl.fromDataItem(e)}});var uG=E(sG=>{"use strict";h();p();Object.defineProperty(sG,"__esModule",{value:!0})});var T6=E(pe=>{"use strict";h();p();Object.defineProperty(pe,"__esModule",{value:!0});pe.Buffer=pe.extend=pe.PathComponent=pe.ScriptExpressions=pe.MultiKey=pe.CryptoPSBT=pe.CryptoOutput=pe.CryptoECKey=pe.CryptoCoinInfoNetwork=pe.CryptoCoinInfoType=pe.CryptoCoinInfo=pe.CryptoKeypath=pe.CryptoMultiAccounts=pe.CryptoHDKey=pe.CryptoAccount=pe.Bytes=pe.URRegistryDecoder=pe.DataItem=void 0;var fr=MV();Z7();var c1e=Zh();Object.defineProperty(pe,"Buffer",{enumerable:!0,get:function(){return c1e.Buffer}});var cG=Ap();Object.defineProperty(pe,"CryptoHDKey",{enumerable:!0,get:function(){return cG.CryptoHDKey}});var dG=gv();Object.defineProperty(pe,"CryptoKeypath",{enumerable:!0,get:function(){return dG.CryptoKeypath}});var Bp=p6();Object.defineProperty(pe,"CryptoCoinInfo",{enumerable:!0,get:function(){return Bp.CryptoCoinInfo}});Object.defineProperty(pe,"CryptoCoinInfoType",{enumerable:!0,get:function(){return Bp.Type}});Object.defineProperty(pe,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return Bp.Network}});var lG=yv();Object.defineProperty(pe,"CryptoECKey",{enumerable:!0,get:function(){return lG.CryptoECKey}});var hG=XV();Object.defineProperty(pe,"Bytes",{enumerable:!0,get:function(){return hG.Bytes}});var pG=i9();Object.defineProperty(pe,"CryptoOutput",{enumerable:!0,get:function(){return pG.CryptoOutput}});var gG=a9();Object.defineProperty(pe,"CryptoPSBT",{enumerable:!0,get:function(){return gG.CryptoPSBT}});var yG=o9();Object.defineProperty(pe,"CryptoAccount",{enumerable:!0,get:function(){return yG.CryptoAccount}});var vG=c9();Object.defineProperty(pe,"URRegistryDecoder",{enumerable:!0,get:function(){return vG.URRegistryDecoder}});var mG=w6();Object.defineProperty(pe,"MultiKey",{enumerable:!0,get:function(){return mG.MultiKey}});var _G=l6();Object.defineProperty(pe,"ScriptExpressions",{enumerable:!0,get:function(){return _G.ScriptExpressions}});var xG=y6();Object.defineProperty(pe,"PathComponent",{enumerable:!0,get:function(){return xG.PathComponent}});var d1e=Bi(),fG=sn(),Pp=on(),l1e=on();Object.defineProperty(pe,"DataItem",{enumerable:!0,get:function(){return l1e.DataItem}});var h1e=d6(),bG=d9();Object.defineProperty(pe,"CryptoMultiAccounts",{enumerable:!0,get:function(){return bG.CryptoMultiAccounts}});var p1e={URRegistryDecoder:vG.URRegistryDecoder,Bytes:hG.Bytes,CryptoAccount:yG.CryptoAccount,CryptoHDKey:cG.CryptoHDKey,CryptoMultiAccounts:bG.CryptoMultiAccounts,CryptoKeypath:dG.CryptoKeypath,CryptoCoinInfo:Bp.CryptoCoinInfo,CryptoCoinInfoType:Bp.Type,CryptoCoinInfoNetwork:Bp.Network,CryptoECKey:lG.CryptoECKey,CryptoOutput:pG.CryptoOutput,CryptoPSBT:gG.CryptoPSBT,MultiKey:mG.MultiKey,ScriptExpressions:_G.ScriptExpressions,PathComponent:xG.PathComponent},g1e={addReader:Pp.addReader,addSemanticDecode:Pp.addSemanticDecode,addSemanticEncode:Pp.addSemanticEncode,addWriter:Pp.addWriter,patchTags:h1e.patchTags},y1e={RegistryTypes:fG.RegistryTypes,RegistryItem:d1e.RegistryItem,RegistryType:fG.RegistryType,decodeToDataItem:Pp.decodeToDataItem,encodeDataItem:Pp.encodeDataItem,cbor:g1e};pe.extend=y1e;fr.__exportStar(u9(),pe);fr.__exportStar(c9(),pe);fr.__exportStar(on(),pe);fr.__exportStar(o9(),pe);fr.__exportStar(a9(),pe);fr.__exportStar(Ap(),pe);fr.__exportStar(d9(),pe);fr.__exportStar(oG(),pe);fr.__exportStar(l9(),pe);fr.__exportStar(i9(),pe);fr.__exportStar(p6(),pe);fr.__exportStar(yv(),pe);fr.__exportStar(w6(),pe);fr.__exportStar(gv(),pe);fr.__exportStar(Z7(),pe);fr.__exportStar(y6(),pe);fr.__exportStar(Bi(),pe);fr.__exportStar(sn(),pe);fr.__exportStar(uG(),pe);fr.__exportStar(d6(),pe);pe.default=p1e});var wG=E(mv=>{"use strict";h();p();Object.defineProperty(mv,"__esModule",{value:!0});var ii=T6(),v1e=a_(),p9={SUI_SIGN_REQUEST:new ii.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new ii.RegistryType("sui-signature",7102)},{decodeToDataItem:m1e,RegistryTypes:_1e}=ii.extend,Mi;(function(r){r[r.requestId=1]="requestId",r[r.intentMessage=2]="intentMessage",r[r.derivationPaths=3]="derivationPaths",r[r.addresses=4]="addresses",r[r.origin=5]="origin"})(Mi||(Mi={}));var Af=class extends ii.RegistryItem{constructor(e){super(),this.getRegistryType=()=>p9.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[Mi.requestId]=new ii.DataItem(this.requestId,_1e.UUID.getTag())),this.addresses&&(t[Mi.addresses]=this.addresses),this.origin&&(t[Mi.origin]=this.origin),t[Mi.intentMessage]=this.intentMessage,t[Mi.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new ii.DataItem(t)},this.requestId=e.requestId,this.intentMessage=e.intentMessage,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructSuiRequest(e,t,n,i,a,o){let s=t.map((u,f)=>{let c=u.replace(/[m|M]\//,"").split("/").map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new ii.PathComponent({index:g,hardened:y})});return new ii.CryptoKeypath(c,v.Buffer.from(n[f],"hex"))});return new Af({requestId:v.Buffer.from(v1e.parse(i)),intentMessage:e,derivationPaths:s,addresses:a||void 0,origin:o||void 0})}};Af.fromDataItem=r=>{let e=r.getData(),t=e[Mi.intentMessage],n=e[Mi.derivationPaths].map(o=>ii.CryptoKeypath.fromDataItem(o)),i=e[Mi.addresses]?e[Mi.addresses]:void 0,a=e[Mi.requestId]?e[Mi.requestId].getData():void 0;return new Af({requestId:a,intentMessage:t,derivationPaths:n,addresses:i,origin:e[Mi.origin]?e[Mi.origin]:void 0})},Af.fromCBOR=r=>{let e=m1e(r);return Af.fromDataItem(e)};var{RegistryTypes:x1e,decodeToDataItem:b1e}=ii.extend,A0;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})(A0||(A0={}));var Xl=class extends ii.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>p9.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return this.requestId&&(i[A0.requestId]=new ii.DataItem(this.requestId,x1e.UUID.getTag())),i[A0.signature]=this.signature,this.publicKey&&(i[A0.publicKey]=this.publicKey),new ii.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};Xl.fromDataItem=r=>{let e=r.getData(),t=e[A0.signature],n=e[A0.requestId].getData();return new Xl(t,n,e[A0.publicKey])},Xl.fromCBOR=r=>{let e=b1e(r);return Xl.fromDataItem(e)},ii.patchTags(Object.values(p9).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ii).forEach(function(r){r!=="default"&&Object.defineProperty(mv,r,{enumerable:!0,get:function(){return ii[r]}})}),mv.SuiSignRequest=Af,mv.SuiSignature=Xl});var IG=E((oZe,EG)=>{"use strict";h();p();EG.exports=wG()});var SG=E(R6=>{"use strict";h();p();Object.defineProperty(R6,"__esModule",{value:!0});R6.KeystoneSuiSDK=void 0;var D6=IG(),O0=Lr(),w1e=Yi(),g9=class{parseSignature(e){if(e.type!==w1e.URType.SuiSignature)throw new Error("type not match");let t=D6.SuiSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:v.Buffer.isBuffer(n)?(0,O0.uuidStringify)(n):"",signature:(0,O0.toHex)(t.getSignature()),publicKey:(0,O0.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,intentMessage:t,accounts:n,origin:i}){let a=[],o=[];if(n.forEach(s=>{a.push(new D6.CryptoKeypath((0,O0.parsePath)(s.path).map(u=>new D6.PathComponent(u)),(0,O0.toBuffer)(s.xfp))),s.address!==void 0&&o.push((0,O0.toBuffer)(s.address.startsWith("0x")?s.address.substring(2):s.address))}),o.length>0&&o.length!==a.length)throw new Error("address and path count must match");return new D6.SuiSignRequest({requestId:(0,O0.uuidParse)(e),intentMessage:(0,O0.toBuffer)(t),derivationPaths:a,addresses:o,origin:i}).toUR()}};R6.KeystoneSuiSDK=g9});var y9=E(cr=>{"use strict";h();p();var E1e=cr&&cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ta=cr&&cr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&E1e(e,r,t)};Object.defineProperty(cr,"__esModule",{value:!0});ta(jM(),cr);ta(vq(),cr);ta(DF(),cr);ta(eU(),cr);ta(TU(),cr);ta(Wk(),cr);ta(xj(),cr);ta(Tj(),cr);ta(Aj(),cr);ta(Dj(),cr);ta(rH(),cr);ta(UK(),cr);ta(lV(),cr);ta(SG(),cr)});var v9=E(D0=>{"use strict";h();p();Object.defineProperty(D0,"__esModule",{value:!0});D0.generateKeyDerivationCall=D0.DerivationAlgorithm=D0.Curve=void 0;var Iu=hc();Object.defineProperty(D0,"Curve",{enumerable:!0,get:function(){return Iu.Curve}});Object.defineProperty(D0,"DerivationAlgorithm",{enumerable:!0,get:function(){return Iu.DerivationAlgorithm}});var I1e=Lr(),S1e=({schemas:r,origin:e})=>{let t=r.map(({path:a,curve:o=Iu.Curve.secp256k1,algo:s=Iu.DerivationAlgorithm.slip10})=>{if(o===Iu.Curve.secp256k1&&s===Iu.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new Iu.KeyDerivationSchema((0,I1e.pathToKeypath)(a),o,s)}),n=new Iu.KeyDerivation(t);return new Iu.QRHardwareCall(Iu.QRHardwareCallType.KeyDerivation,n,e).toUR()};D0.generateKeyDerivationCall=S1e});var TG=E(_v=>{"use strict";h();p();Object.defineProperty(_v,"__esModule",{value:!0});_v.AccountNote=void 0;var T1e;(function(r){r.Standard="account.standard",r.LedgerLegacy="account.ledger_legacy",r.LedgerLive="account.ledger_live"})(T1e=_v.AccountNote||(_v.AccountNote={}))});var AG=E(CG=>{"use strict";h();p();Object.defineProperty(CG,"__esModule",{value:!0})});var DG=E(OG=>{"use strict";h();p();Object.defineProperty(OG,"__esModule",{value:!0})});var PG=E(RG=>{"use strict";h();p();Object.defineProperty(RG,"__esModule",{value:!0})});var P6=E(ks=>{"use strict";h();p();var C1e=ks&&ks.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xv=ks&&ks.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&C1e(e,r,t)};Object.defineProperty(ks,"__esModule",{value:!0});xv(TG(),ks);xv(AG(),ks);xv(DG(),ks);xv(PG(),ks);xv(Yi(),ks)});var m9=E(B6=>{"use strict";h();p();Object.defineProperty(B6,"__esModule",{value:!0});B6.generateExtraData=void 0;var A1e={60:1},O1e=r=>{var e;return{okx:{chainId:(e=A1e[r])!==null&&e!==void 0?e:r}}};B6.generateExtraData=O1e});var BG=E(M6=>{"use strict";h();p();Object.defineProperty(M6,"__esModule",{value:!0});M6.parseMultiAccounts=void 0;var D1e=P6(),R1e=hc(),bv=Lr(),P1e=m9(),B1e=r=>{if(r.type!==D1e.URType.CryptoMultiAccounts)throw new Error("type not match");let e=R1e.CryptoMultiAccounts.fromCBOR(r.cbor),t=(0,bv.toHex)(e.getMasterFingerprint());return{device:e.getDevice(),masterFingerprint:t,keys:e.getKeys().map(n=>{let i=(0,bv.toHex)(n.getChainCode()),a=(0,bv.toHex)(n.getParentFingerprint()),o=n.getOrigin();if(o===void 0)throw new Error("multi accounts is invalid");let s;i.length!==0&&a.length!==0&&(s=n.getBip32Key());let u=o.getComponents()[1].getIndex();return{chain:(0,bv.getCoinSymbol)(u),path:`m/${o.getPath()}`,publicKey:(0,bv.toHex)(n.getKey()),name:n.getName(),chainCode:i,extendedPublicKey:s,note:n.getNote(),extra:(0,P1e.generateExtraData)(u)}}),deviceId:e.getDeviceId(),deviceVersion:e.getVersion()}};M6.parseMultiAccounts=B1e});var MG=E(q6=>{"use strict";h();p();Object.defineProperty(q6,"__esModule",{value:!0});q6.parseHDKey=void 0;var M1e=P6(),N1e=hc(),N6=Lr(),q1e=m9(),F1e=r=>{var e;if(r.type!==M1e.URType.CryptoHDKey)throw new Error("type not match");let t=N1e.CryptoHDKey.fromCBOR(r.cbor),n=(0,N6.toHex)(t.getChainCode()),i=(0,N6.toHex)(t.getParentFingerprint()),a=t.getOrigin();if(((e=t.getOrigin().getSourceFingerprint())===null||e===void 0?void 0:e.toString("hex"))===void 0)throw new Error("HDKey is invalid");let s;n.length!==0&&i.length!==0&&(s=t.getBip32Key());let u=a.getComponents()[1].getIndex();return{chain:(0,N6.getCoinSymbol)(u),path:`m/${a.getPath()}`,publicKey:(0,N6.toHex)(t.getKey()),name:t.getName(),xfp:a.getSourceFingerprint().toString("hex"),chainCode:n,extendedPublicKey:s,note:t.getNote(),extra:(0,q1e.generateExtraData)(u)}};q6.parseHDKey=F1e});var NG=E(Of=>{"use strict";h();p();var L1e=Of&&Of.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_9=Of&&Of.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&L1e(e,r,t)};Object.defineProperty(Of,"__esModule",{value:!0});_9(v9(),Of);_9(BG(),Of);_9(MG(),Of)});var qG=E((GZe,U1e)=>{U1e.exports={TYPES:{Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},LEDGER_ENTRY_TYPES:{Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,LedgerHashes:104,Amendments:102,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},FIELDS:[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"LedgerEntry"}],["Transaction",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Transaction"}],["Validation",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Validation"}],["Metadata",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],TRANSACTION_RESULTS:{telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161},TRANSACTION_TYPES:{Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,EnableAmendment:100,SetFee:101,UNLModify:102}}});var mt=E(Np=>{"use strict";h();p();var x9=hR(),Mp=pI(),FG=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Np.Buffer=ne;Np.SlowBuffer=V1e;Np.INSPECT_MAX_BYTES=50;var F6=2147483647;Np.kMaxLength=F6;ne.TYPED_ARRAY_SUPPORT=k1e();!ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function k1e(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(!!ne.isBuffer(this))return this.buffer}});Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(!!ne.isBuffer(this))return this.byteOffset}});function Df(r){if(r>F6)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,ne.prototype),e}function ne(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E9(r)}return jG(r,e,t)}ne.poolSize=8192;function jG(r,e,t){if(typeof r=="string")return H1e(r,e);if(ArrayBuffer.isView(r))return b9(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Rf(r,ArrayBuffer)||r&&Rf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Rf(r,SharedArrayBuffer)||r&&Rf(r.buffer,SharedArrayBuffer)))return LG(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return ne.from(n,e,t);var i=K1e(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ne.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ne.from=function(r,e,t){return jG(r,e,t)};Object.setPrototypeOf(ne.prototype,Uint8Array.prototype);Object.setPrototypeOf(ne,Uint8Array);function HG(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function j1e(r,e,t){return HG(r),r<=0?Df(r):e!==void 0?typeof t=="string"?Df(r).fill(e,t):Df(r).fill(e):Df(r)}ne.alloc=function(r,e,t){return j1e(r,e,t)};function E9(r){return HG(r),Df(r<0?0:I9(r)|0)}ne.allocUnsafe=function(r){return E9(r)};ne.allocUnsafeSlow=function(r){return E9(r)};function H1e(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ne.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=KG(r,e)|0,n=Df(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function b9(r){for(var e=r.length<0?0:I9(r.length)|0,t=Df(e),n=0;n<e;n+=1)t[n]=r[n]&255;return t}function LG(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,ne.prototype),n}function K1e(r){if(ne.isBuffer(r)){var e=I9(r.length)|0,t=Df(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||S9(r.length)?Df(0):b9(r);if(r.type==="Buffer"&&Array.isArray(r.data))return b9(r.data)}function I9(r){if(r>=F6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F6.toString(16)+" bytes");return r|0}function V1e(r){return+r!=r&&(r=0),ne.alloc(+r)}ne.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ne.prototype};ne.compare=function(e,t){if(Rf(e,Uint8Array)&&(e=ne.from(e,e.offset,e.byteLength)),Rf(t,Uint8Array)&&(t=ne.from(t,t.offset,t.byteLength)),!ne.isBuffer(e)||!ne.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0};ne.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ne.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ne.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=ne.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(Rf(o,Uint8Array)&&(o=ne.from(o)),!ne.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i};function KG(r,e){if(ne.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Rf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return w9(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return JG(r).length;default:if(i)return n?-1:w9(r).length;e=(""+e).toLowerCase(),i=!0}}ne.byteLength=KG;function G1e(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return tpe(this,e,t);case"utf8":case"utf-8":return YG(this,e,t);case"ascii":return Q1e(this,e,t);case"latin1":case"binary":return epe(this,e,t);case"base64":return $1e(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rpe(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}ne.prototype._isBuffer=!0;function Jl(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}ne.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Jl(this,t,t+1);return this};ne.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Jl(this,t,t+3),Jl(this,t+1,t+2);return this};ne.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Jl(this,t,t+7),Jl(this,t+1,t+6),Jl(this,t+2,t+5),Jl(this,t+3,t+4);return this};ne.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?YG(this,0,e):G1e.apply(this,arguments)};ne.prototype.toLocaleString=ne.prototype.toString;ne.prototype.equals=function(e){if(!ne.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ne.compare(this,e)===0};ne.prototype.inspect=function(){var e="",t=Np.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};FG&&(ne.prototype[FG]=ne.prototype.inspect);ne.prototype.compare=function(e,t,n,i,a){if(Rf(e,Uint8Array)&&(e=ne.from(e,e.offset,e.byteLength)),!ne.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),t<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var o=a-i,s=n-t,u=Math.min(o,s),f=this.slice(i,a),c=e.slice(t,n),l=0;l<u;++l)if(f[l]!==c[l]){o=f[l],s=c[l];break}return o<s?-1:s<o?1:0};function VG(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,S9(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=ne.from(e,n)),ne.isBuffer(e))return e.length===0?-1:UG(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):UG(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function UG(r,e,t,n,i){var a=1,o=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;a=2,o/=2,s/=2,t/=2}function u(y,_){return a===1?y[_]:y.readUInt16BE(_*a)}var f;if(i){var c=-1;for(f=t;f<o;f++)if(u(r,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*a}else c!==-1&&(f-=f-c),c=-1}else for(t+s>o&&(t=o-s),f=t;f>=0;f--){for(var l=!0,g=0;g<s;g++)if(u(r,f+g)!==u(e,g)){l=!1;break}if(l)return f}return-1}ne.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};ne.prototype.indexOf=function(e,t,n){return VG(this,e,t,n,!0)};ne.prototype.lastIndexOf=function(e,t,n){return VG(this,e,t,n,!1)};function Y1e(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(o*2,2),16);if(S9(s))return o;r[t+o]=s}return o}function z1e(r,e,t,n){return L6(w9(e,r.length-t),r,t,n)}function GG(r,e,t,n){return L6(ape(e),r,t,n)}function W1e(r,e,t,n){return GG(r,e,t,n)}function X1e(r,e,t,n){return L6(JG(e),r,t,n)}function J1e(r,e,t,n){return L6(ope(e,r.length-t),r,t,n)}ne.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-t;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Y1e(this,e,t,n);case"utf8":case"utf-8":return z1e(this,e,t,n);case"ascii":return GG(this,e,t,n);case"latin1":case"binary":return W1e(this,e,t,n);case"base64":return X1e(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J1e(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $1e(r,e,t){return e===0&&t===r.length?x9.fromByteArray(r):x9.fromByteArray(r.slice(e,t))}function YG(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var a=r[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=t){var u,f,c,l;switch(s){case 1:a<128&&(o=a);break;case 2:u=r[i+1],(u&192)===128&&(l=(a&31)<<6|u&63,l>127&&(o=l));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(l=(a&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=r[i+1],f=r[i+2],c=r[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(a&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return Z1e(n)}var kG=4096;function Z1e(r){var e=r.length;if(e<=kG)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=kG));return t}function Q1e(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function epe(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function tpe(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",a=e;a<t;++a)i+=spe[r[a]];return i}function rpe(r,e,t){for(var n=r.slice(e,t),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}ne.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,ne.prototype),i};function Br(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ne.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Br(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return i};ne.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Br(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i};ne.prototype.readUInt8=function(e,t){return e=e>>>0,t||Br(e,1,this.length),this[e]};ne.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Br(e,2,this.length),this[e]|this[e+1]<<8};ne.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Br(e,2,this.length),this[e]<<8|this[e+1]};ne.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ne.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ne.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Br(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i};ne.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Br(e,t,this.length);for(var i=t,a=1,o=this[e+--i];i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o};ne.prototype.readInt8=function(e,t){return e=e>>>0,t||Br(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ne.prototype.readInt16LE=function(e,t){e=e>>>0,t||Br(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ne.prototype.readInt16BE=function(e,t){e=e>>>0,t||Br(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ne.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ne.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ne.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),Mp.read(this,e,!0,23,4)};ne.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Br(e,4,this.length),Mp.read(this,e,!1,23,4)};ne.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Br(e,8,this.length),Mp.read(this,e,!0,52,8)};ne.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Br(e,8,this.length),Mp.read(this,e,!1,52,8)};function ra(r,e,t,n,i,a){if(!ne.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}ne.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;ra(this,e,t,n,a,0)}var o=1,s=0;for(this[t]=e&255;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n};ne.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;ra(this,e,t,n,a,0)}var o=n-1,s=1;for(this[t+o]=e&255;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n};ne.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,1,255,0),this[t]=e&255,t+1};ne.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ne.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ne.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ne.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ne.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var a=Math.pow(2,8*n-1);ra(this,e,t,n,a-1,-a)}var o=0,s=1,u=0;for(this[t]=e&255;++o<n&&(s*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/s>>0)-u&255;return t+n};ne.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var a=Math.pow(2,8*n-1);ra(this,e,t,n,a-1,-a)}var o=n-1,s=1,u=0;for(this[t+o]=e&255;--o>=0&&(s*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/s>>0)-u&255;return t+n};ne.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ne.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ne.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ne.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ne.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ra(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function zG(r,e,t,n,i,a){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function WG(r,e,t,n,i){return e=+e,t=t>>>0,i||zG(r,e,t,4,34028234663852886e22,-34028234663852886e22),Mp.write(r,e,t,n,23,4),t+4}ne.prototype.writeFloatLE=function(e,t,n){return WG(this,e,t,!0,n)};ne.prototype.writeFloatBE=function(e,t,n){return WG(this,e,t,!1,n)};function XG(r,e,t,n,i){return e=+e,t=t>>>0,i||zG(r,e,t,8,17976931348623157e292,-17976931348623157e292),Mp.write(r,e,t,n,52,8),t+8}ne.prototype.writeDoubleLE=function(e,t,n){return XG(this,e,t,!0,n)};ne.prototype.writeDoubleBE=function(e,t,n){return XG(this,e,t,!1,n)};ne.prototype.copy=function(e,t,n,i){if(!ne.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var a=i-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var o=a-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return a};ne.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ne.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{var s=ne.isBuffer(e)?e:ne.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var npe=/[^+/0-9A-Za-z-_]/g;function ipe(r){if(r=r.split("=")[0],r=r.trim().replace(npe,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function w9(r,e){e=e||1/0;for(var t,n=r.length,i=null,a=[],o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function ape(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function ope(r,e){for(var t,n,i,a=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,i=t%256,a.push(i),a.push(n);return a}function JG(r){return x9.toByteArray(ipe(r))}function L6(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Rf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function S9(r){return r!==r}var spe=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var n=t*16,i=0;i<16;++i)e[n+i]=r[t]+r[i];return e}()});var qp=E(Xo=>{"use strict";h();p();var upe=Xo&&Xo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fpe=Xo&&Xo.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cpe=Xo&&Xo.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&upe(e,r,t);return fpe(e,r),e};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.BinarySerializer=Xo.BytesList=void 0;var $G=cpe(ka()),U6=mt(),wv=class{constructor(){this.bytesArray=[]}getLength(){return U6.Buffer.concat(this.bytesArray).byteLength}put(e){let t=U6.Buffer.from(e);return this.bytesArray.push(t),this}toBytesSink(e){e.put(this.toBytes())}toBytes(){return U6.Buffer.concat(this.bytesArray)}toHex(){return this.toBytes().toString("hex").toUpperCase()}};Xo.BytesList=wv;var T9=class{constructor(e){this.sink=new wv,this.sink=e}write(e){e.toBytesSink(this.sink)}put(e){this.sink.put(e)}writeType(e,t){this.write(e.from(t))}writeBytesList(e){e.toBytesSink(this.sink)}encodeVariableLength(e){let t=U6.Buffer.alloc(3);if(e<=192)return t[0]=e,t.slice(0,1);if(e<=12480)return e-=193,t[0]=193+(e>>>8),t[1]=e&255,t.slice(0,2);if(e<=918744)return e-=12481,t[0]=241+(e>>>16),t[1]=e>>8&255,t[2]=e&255,t.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(e,t,n=!1){let i=e.associatedType.from(t);$G.ok(i.toBytesSink!==void 0),$G.ok(e.name!==void 0),this.sink.put(e.header),e.isVariableLengthEncoded?this.writeLengthEncoded(i,n):i.toBytesSink(this.sink)}writeLengthEncoded(e,t=!1){let n=new wv;t||e.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}};Xo.BinarySerializer=T9});var Su=E(Fp=>{"use strict";h();p();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.Comparable=Fp.SerializedType=void 0;var dpe=qp(),ZG=mt(),k6=class{constructor(e){this.bytes=ZG.Buffer.alloc(0),this.bytes=e??ZG.Buffer.alloc(0)}static fromParser(e,t){throw new Error("fromParser not implemented")}static from(e){throw new Error("from not implemented")}toBytesSink(e){e.put(this.bytes)}toHex(){return this.toBytes().toString("hex").toUpperCase()}toBytes(){if(this.bytes)return this.bytes;let e=new dpe.BytesList;return this.toBytesSink(e),e.toBytes()}toJSON(){return this.toHex()}toString(){return this.toHex()}};Fp.SerializedType=k6;var C9=class extends k6{lt(e){return this.compareTo(e)<0}eq(e){return this.compareTo(e)===0}gt(e){return this.compareTo(e)>0}gte(e){return this.compareTo(e)>-1}lte(e){return this.compareTo(e)<1}compareTo(e){throw new Error(`cannot compare ${this.toString()} and ${e.toString()}`)}};Fp.Comparable=C9});var kp=E(Dt=>{"use strict";h();p();var lpe=Dt&&Dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hpe=Dt&&Dt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ppe=Dt&&Dt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lpe(e,r,t);return hpe(e,r),e};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.TransactionType=Dt.TransactionResult=Dt.LedgerEntryType=Dt.Type=Dt.Field=Dt.Bytes=Dt.TRANSACTION_TYPES=void 0;var $l=ppe(qG()),gpe=Su(),QG=mt();Dt.TRANSACTION_TYPES=Object.entries($l.TRANSACTION_TYPES).filter(([r,e])=>e>=0).map(([r,e])=>r);var eY=2,ype=2,vpe=2,mpe=1;function _pe(r,e){let t=[];return r<16?e<16?t.push(r<<4|e):t.push(r<<4,e):e<16?t.push(e,r):t.push(0,r,e),QG.Buffer.from(t)}var Lp=class{constructor(e,t,n){this.name=e,this.ordinal=t,this.ordinalWidth=n,this.bytes=QG.Buffer.alloc(n);for(let i=0;i<n;i++)this.bytes[n-i-1]=t>>>i*8&255}toJSON(){return this.name}toBytesSink(e){e.put(this.bytes)}toBytes(){return this.bytes}};Dt.Bytes=Lp;var Up=class{constructor(e,t){this.ordinalWidth=t,Object.entries(e).forEach(([n,i])=>{this[n]=new Lp(n,i,t),this[i.toString()]=this[n]})}from(e){return e instanceof Lp?e:this[e]}fromParser(e){return this.from(e.readUIntN(this.ordinalWidth).toString())}};function xpe([r,e]){let t=$l.TYPES[e.type],n=_pe(t,e.nth);return{name:r,nth:e.nth,isVariableLengthEncoded:e.isVLEncoded,isSerialized:e.isSerialized,isSigningField:e.isSigningField,ordinal:t<<16|e.nth,type:new Lp(e.type,t,eY),header:n,associatedType:gpe.SerializedType}}var A9=class{constructor(e){e.forEach(([t,n])=>{this[t]=xpe([t,n]),this[this[t].ordinal.toString()]=this[t]})}fromString(e){return this[e]}},bpe=new Up($l.TYPES,eY);Dt.Type=bpe;var wpe=new Up($l.LEDGER_ENTRY_TYPES,ype);Dt.LedgerEntryType=wpe;var Epe=new Up($l.TRANSACTION_TYPES,vpe);Dt.TransactionType=Epe;var Ipe=new Up($l.TRANSACTION_RESULTS,mpe);Dt.TransactionResult=Ipe;var Spe=new A9($l.FIELDS);Dt.Field=Spe});var H6=E(j6=>{"use strict";h();p();Object.defineProperty(j6,"__esModule",{value:!0});j6.Hash=void 0;var Tpe=Su(),Cpe=mt(),O9=class extends Tpe.Comparable{constructor(e){if(super(e),this.bytes.byteLength!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(e){if(e instanceof this)return e;if(typeof e=="string")return new this(Cpe.Buffer.from(e,"hex"));throw new Error("Cannot construct Hash from given value")}static fromParser(e,t){return new this(e.read(t??this.width))}compareTo(e){return this.bytes.compare(this.constructor.from(e).bytes)}toString(){return this.toHex()}nibblet(e){let t=e>0?e/2|0:0,n=this.bytes[t];return e%2===0?n=(n&240)>>>4:n=n&15,n}};j6.Hash=O9});var V6=E(K6=>{"use strict";h();p();Object.defineProperty(K6,"__esModule",{value:!0});K6.Hash160=void 0;var Ape=H6(),Ope=mt(),Tu=class extends Ape.Hash{constructor(e){e&&e.byteLength===0&&(e=Tu.ZERO_160.bytes),super(e??Tu.ZERO_160.bytes)}};K6.Hash160=Tu;Tu.width=20;Tu.ZERO_160=new Tu(Ope.Buffer.alloc(Tu.width))});var z6=E(Y6=>{"use strict";h();p();Object.defineProperty(Y6,"__esModule",{value:!0});Y6.AccountID=void 0;var G6=bR(),Dpe=V6(),D9=mt(),Rpe=/^[A-F0-9]{40}$/,js=class extends Dpe.Hash160{constructor(e){super(e??js.defaultAccountID.bytes)}static from(e){if(e instanceof js)return e;if(typeof e=="string")return e===""?new js:Rpe.test(e)?new js(D9.Buffer.from(e,"hex")):this.fromBase58(e);throw new Error("Cannot construct AccountID from value given")}static fromBase58(e){if((0,G6.isValidXAddress)(e)){let t=(0,G6.xAddressToClassicAddress)(e);if(t.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");e=t.classicAddress}return new js(D9.Buffer.from((0,G6.decodeAccountID)(e)))}toJSON(){return this.toBase58()}toBase58(){return(0,G6.encodeAccountID)(this.bytes)}};Y6.AccountID=js;js.defaultAccountID=new js(D9.Buffer.alloc(20))});var Zl=E(Cu=>{"use strict";h();p();var Ppe=Cu&&Cu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bpe=Cu&&Cu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mpe=Cu&&Cu.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ppe(e,r,t);return Bpe(e,r),e};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.BinaryParser=void 0;var W6=Mpe(ka()),Npe=kp(),qpe=mt(),R9=class{constructor(e){this.bytes=qpe.Buffer.from(e,"hex")}peek(){return W6.ok(this.bytes.byteLength!==0),this.bytes[0]}skip(e){W6.ok(e<=this.bytes.byteLength),this.bytes=this.bytes.slice(e)}read(e){W6.ok(e<=this.bytes.byteLength);let t=this.bytes.slice(0,e);return this.skip(e),t}readUIntN(e){return W6.ok(0<e&&e<=4,"invalid n"),this.read(e).reduce((t,n)=>t<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(e){let t=this.bytes.byteLength;return t===0||e!==void 0&&t<=e}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){let e=this.readUInt8();if(e<=192)return e;if(e<=240){let t=this.readUInt8();return 193+(e-193)*256+t}else if(e<=254){let t=this.readUInt8(),n=this.readUInt8();return 12481+(e-241)*65536+t*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let e=this.readUInt8(),t=e&15;if(e>>=4,e===0&&(e=this.readUInt8(),e===0||e<16))throw new Error("Cannot read FieldOrdinal, type_code out of range");if(t===0&&(t=this.readUInt8(),t===0||t<16))throw new Error("Cannot read FieldOrdinal, field_code out of range");return e<<16|t}readField(){return Npe.Field.fromString(this.readFieldOrdinal().toString())}readType(e){return e.fromParser(this)}typeForField(e){return e.associatedType}readFieldValue(e){let t=this.typeForField(e);if(!t)throw new Error(`unsupported: (${e.name}, ${e.type.name})`);let n=e.isVariableLengthEncoded?this.readVariableLengthLength():void 0,i=t.fromParser(this,n);if(i===void 0)throw new Error(`fromParser for (${e.name}, ${e.type.name}) -> undefined `);return i}readFieldAndValue(){let e=this.readField();return[e,this.readFieldValue(e)]}};Cu.BinaryParser=R9});var $6=E(J6=>{"use strict";h();p();Object.defineProperty(J6,"__esModule",{value:!0});J6.Currency=void 0;var Fpe=V6(),X6=mt(),Lpe=/^0{40}$/,Upe=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,kpe=/^[A-F0-9]{40}$/,jpe=/^0{24}[\x00-\x7F]{6}0{10}$/;function Hpe(r){let e=X6.Buffer.alloc(20);if(r!=="XRP"){let t=r.split("").map(n=>n.charCodeAt(0));e.set(t,12)}return e}function Kpe(r){return Upe.test(r)}function Vpe(r){let e=r.toString();return e==="XRP"?null:Kpe(e)?e:null}function Gpe(r){return kpe.test(r)}function Ype(r){return r.length===3||Gpe(r)}function zpe(r){return r.byteLength===20}function Wpe(r){return r instanceof X6.Buffer?zpe(r):Ype(r)}function Xpe(r){if(!Wpe(r))throw new Error(`Unsupported Currency representation: ${r}`);return r.length===3?Hpe(r):X6.Buffer.from(r,"hex")}var Pf=class extends Fpe.Hash160{constructor(e){super(e??Pf.XRP.bytes);let t=this.bytes.toString("hex");Lpe.test(t)?this._iso="XRP":jpe.test(t)?this._iso=Vpe(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(e){if(e instanceof Pf)return e;if(typeof e=="string")return new Pf(Xpe(e));throw new Error("Cannot construct Currency from value given")}toJSON(){let e=this.iso();return e!==null?e:this.bytes.toString("hex").toUpperCase()}};J6.Currency=Pf;Pf.XRP=new Pf(X6.Buffer.alloc(20))});var Ql=E((_Qe,Z6)=>{h();p();var xr=function(r){"use strict";var e=1e7,t=7,n=9007199254740992,i=g(n),a="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function s(P,N,K,G){return typeof P>"u"?s[0]:typeof N<"u"?+N==10&&!K?se(P):j2(P,N,K,G):se(P)}function u(P,N){this.value=P,this.sign=N,this.isSmall=!1}u.prototype=Object.create(s.prototype);function f(P){this.value=P,this.sign=P<0,this.isSmall=!0}f.prototype=Object.create(s.prototype);function c(P){this.value=P}c.prototype=Object.create(s.prototype);function l(P){return-n<P&&P<n}function g(P){return P<1e7?[P]:P<1e14?[P%1e7,Math.floor(P/1e7)]:[P%1e7,Math.floor(P/1e7)%1e7,Math.floor(P/1e14)]}function y(P){_(P);var N=P.length;if(N<4&&V(P,i)<0)switch(N){case 0:return 0;case 1:return P[0];case 2:return P[0]+P[1]*e;default:return P[0]+(P[1]+P[2]*e)*e}return P}function _(P){for(var N=P.length;P[--N]===0;);P.length=N+1}function w(P){for(var N=new Array(P),K=-1;++K<P;)N[K]=0;return N}function I(P){return P>0?Math.floor(P):Math.ceil(P)}function T(P,N){var K=P.length,G=N.length,X=new Array(K),z=0,re=e,$,ee;for(ee=0;ee<G;ee++)$=P[ee]+N[ee]+z,z=$>=re?1:0,X[ee]=$-z*re;for(;ee<K;)$=P[ee]+z,z=$===re?1:0,X[ee++]=$-z*re;return z>0&&X.push(z),X}function O(P,N){return P.length>=N.length?T(P,N):T(N,P)}function B(P,N){var K=P.length,G=new Array(K),X=e,z,re;for(re=0;re<K;re++)z=P[re]-X+N,N=Math.floor(z/X),G[re]=z-N*X,N+=1;for(;N>0;)G[re++]=N%X,N=Math.floor(N/X);return G}u.prototype.add=function(P){var N=se(P);if(this.sign!==N.sign)return this.subtract(N.negate());var K=this.value,G=N.value;return N.isSmall?new u(B(K,Math.abs(G)),this.sign):new u(O(K,G),this.sign)},u.prototype.plus=u.prototype.add,f.prototype.add=function(P){var N=se(P),K=this.value;if(K<0!==N.sign)return this.subtract(N.negate());var G=N.value;if(N.isSmall){if(l(K+G))return new f(K+G);G=g(Math.abs(G))}return new u(B(G,Math.abs(K)),K<0)},f.prototype.plus=f.prototype.add,c.prototype.add=function(P){return new c(this.value+se(P).value)},c.prototype.plus=c.prototype.add;function q(P,N){var K=P.length,G=N.length,X=new Array(K),z=0,re=e,$,ee;for($=0;$<G;$++)ee=P[$]-z-N[$],ee<0?(ee+=re,z=1):z=0,X[$]=ee;for($=G;$<K;$++){if(ee=P[$]-z,ee<0)ee+=re;else{X[$++]=ee;break}X[$]=ee}for(;$<K;$++)X[$]=P[$];return _(X),X}function C(P,N,K){var G;return V(P,N)>=0?G=q(P,N):(G=q(N,P),K=!K),G=y(G),typeof G=="number"?(K&&(G=-G),new f(G)):new u(G,K)}function d(P,N,K){var G=P.length,X=new Array(G),z=-N,re=e,$,ee;for($=0;$<G;$++)ee=P[$]+z,z=Math.floor(ee/re),ee%=re,X[$]=ee<0?ee+re:ee;return X=y(X),typeof X=="number"?(K&&(X=-X),new f(X)):new u(X,K)}u.prototype.subtract=function(P){var N=se(P);if(this.sign!==N.sign)return this.add(N.negate());var K=this.value,G=N.value;return N.isSmall?d(K,Math.abs(G),this.sign):C(K,G,this.sign)},u.prototype.minus=u.prototype.subtract,f.prototype.subtract=function(P){var N=se(P),K=this.value;if(K<0!==N.sign)return this.add(N.negate());var G=N.value;return N.isSmall?new f(K-G):d(G,Math.abs(K),K>=0)},f.prototype.minus=f.prototype.subtract,c.prototype.subtract=function(P){return new c(this.value-se(P).value)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},f.prototype.negate=function(){var P=this.sign,N=new f(-this.value);return N.sign=!P,N},c.prototype.negate=function(){return new c(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))},c.prototype.abs=function(){return new c(this.value>=0?this.value:-this.value)};function m(P,N){var K=P.length,G=N.length,X=K+G,z=w(X),re=e,$,ee,xe,ye,ue;for(xe=0;xe<K;++xe){ye=P[xe];for(var Ne=0;Ne<G;++Ne)ue=N[Ne],$=ye*ue+z[xe+Ne],ee=Math.floor($/re),z[xe+Ne]=$-ee*re,z[xe+Ne+1]+=ee}return _(z),z}function x(P,N){var K=P.length,G=new Array(K),X=e,z=0,re,$;for($=0;$<K;$++)re=P[$]*N+z,z=Math.floor(re/X),G[$]=re-z*X;for(;z>0;)G[$++]=z%X,z=Math.floor(z/X);return G}function D(P,N){for(var K=[];N-- >0;)K.push(0);return K.concat(P)}function M(P,N){var K=Math.max(P.length,N.length);if(K<=30)return m(P,N);K=Math.ceil(K/2);var G=P.slice(K),X=P.slice(0,K),z=N.slice(K),re=N.slice(0,K),$=M(X,re),ee=M(G,z),xe=M(O(X,G),O(re,z)),ye=O(O($,D(q(q(xe,$),ee),K)),D(ee,2*K));return _(ye),ye}function Q(P,N){return-.012*P-.012*N+15e-6*P*N>0}u.prototype.multiply=function(P){var N=se(P),K=this.value,G=N.value,X=this.sign!==N.sign,z;if(N.isSmall){if(G===0)return s[0];if(G===1)return this;if(G===-1)return this.negate();if(z=Math.abs(G),z<e)return new u(x(K,z),X);G=g(z)}return Q(K.length,G.length)?new u(M(K,G),X):new u(m(K,G),X)},u.prototype.times=u.prototype.multiply;function L(P,N,K){return P<e?new u(x(N,P),K):new u(m(N,g(P)),K)}f.prototype._multiplyBySmall=function(P){return l(P.value*this.value)?new f(P.value*this.value):L(Math.abs(P.value),g(Math.abs(this.value)),this.sign!==P.sign)},u.prototype._multiplyBySmall=function(P){return P.value===0?s[0]:P.value===1?this:P.value===-1?this.negate():L(Math.abs(P.value),this.value,this.sign!==P.sign)},f.prototype.multiply=function(P){return se(P)._multiplyBySmall(this)},f.prototype.times=f.prototype.multiply,c.prototype.multiply=function(P){return new c(this.value*se(P).value)},c.prototype.times=c.prototype.multiply;function b(P){var N=P.length,K=w(N+N),G=e,X,z,re,$,ee;for(re=0;re<N;re++){$=P[re],z=0-$*$;for(var xe=re;xe<N;xe++)ee=P[xe],X=2*($*ee)+K[re+xe]+z,z=Math.floor(X/G),K[re+xe]=X-z*G;K[re+N]=z}return _(K),K}u.prototype.square=function(){return new u(b(this.value),!1)},f.prototype.square=function(){var P=this.value*this.value;return l(P)?new f(P):new u(b(g(Math.abs(this.value))),!1)},c.prototype.square=function(P){return new c(this.value*this.value)};function A(P,N){var K=P.length,G=N.length,X=e,z=w(N.length),re=N[G-1],$=Math.ceil(X/(2*re)),ee=x(P,$),xe=x(N,$),ye,ue,Ne,Be,De,Hh,vt;for(ee.length<=K&&ee.push(0),xe.push(0),re=xe[G-1],ue=K-G;ue>=0;ue--){for(ye=X-1,ee[ue+G]!==re&&(ye=Math.floor((ee[ue+G]*X+ee[ue+G-1])/re)),Ne=0,Be=0,Hh=xe.length,De=0;De<Hh;De++)Ne+=ye*xe[De],vt=Math.floor(Ne/X),Be+=ee[ue+De]-(Ne-vt*X),Ne=vt,Be<0?(ee[ue+De]=Be+X,Be=-1):(ee[ue+De]=Be,Be=0);for(;Be!==0;){for(ye-=1,Ne=0,De=0;De<Hh;De++)Ne+=ee[ue+De]-X+xe[De],Ne<0?(ee[ue+De]=Ne+X,Ne=0):(ee[ue+De]=Ne,Ne=1);Be+=Ne}z[ue]=ye}return ee=F(ee,$)[0],[y(z),y(ee)]}function R(P,N){for(var K=P.length,G=N.length,X=[],z=[],re=e,$,ee,xe,ye,ue;K;){if(z.unshift(P[--K]),_(z),V(z,N)<0){X.push(0);continue}ee=z.length,xe=z[ee-1]*re+z[ee-2],ye=N[G-1]*re+N[G-2],ee>G&&(xe=(xe+1)*re),$=Math.ceil(xe/ye);do{if(ue=x(N,$),V(ue,z)<=0)break;$--}while($);X.push($),z=q(z,ue)}return X.reverse(),[y(X),y(z)]}function F(P,N){var K=P.length,G=w(K),X=e,z,re,$,ee;for($=0,z=K-1;z>=0;--z)ee=$*X+P[z],re=I(ee/N),$=ee-re*N,G[z]=re|0;return[G,$|0]}function k(P,N){var K,G=se(N);if(o)return[new c(P.value/G.value),new c(P.value%G.value)];var X=P.value,z=G.value,re;if(z===0)throw new Error("Cannot divide by zero");if(P.isSmall)return G.isSmall?[new f(I(X/z)),new f(X%z)]:[s[0],P];if(G.isSmall){if(z===1)return[P,s[0]];if(z==-1)return[P.negate(),s[0]];var $=Math.abs(z);if($<e){K=F(X,$),re=y(K[0]);var ee=K[1];return P.sign&&(ee=-ee),typeof re=="number"?(P.sign!==G.sign&&(re=-re),[new f(re),new f(ee)]):[new u(re,P.sign!==G.sign),new f(ee)]}z=g($)}var xe=V(X,z);if(xe===-1)return[s[0],P];if(xe===0)return[s[P.sign===G.sign?1:-1],s[0]];X.length+z.length<=200?K=A(X,z):K=R(X,z),re=K[0];var ye=P.sign!==G.sign,ue=K[1],Ne=P.sign;return typeof re=="number"?(ye&&(re=-re),re=new f(re)):re=new u(re,ye),typeof ue=="number"?(Ne&&(ue=-ue),ue=new f(ue)):ue=new u(ue,Ne),[re,ue]}u.prototype.divmod=function(P){var N=k(this,P);return{quotient:N[0],remainder:N[1]}},c.prototype.divmod=f.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(P){return k(this,P)[0]},c.prototype.over=c.prototype.divide=function(P){return new c(this.value/se(P).value)},f.prototype.over=f.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(P){return k(this,P)[1]},c.prototype.mod=c.prototype.remainder=function(P){return new c(this.value%se(P).value)},f.prototype.remainder=f.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(P){var N=se(P),K=this.value,G=N.value,X,z,re;if(G===0)return s[1];if(K===0)return s[0];if(K===1)return s[1];if(K===-1)return N.isEven()?s[1]:s[-1];if(N.sign)return s[0];if(!N.isSmall)throw new Error("The exponent "+N.toString()+" is too large.");if(this.isSmall&&l(X=Math.pow(K,G)))return new f(I(X));for(z=this,re=s[1];G&!0&&(re=re.times(z),--G),G!==0;)G/=2,z=z.square();return re},f.prototype.pow=u.prototype.pow,c.prototype.pow=function(P){var N=se(P),K=this.value,G=N.value,X=BigInt(0),z=BigInt(1),re=BigInt(2);if(G===X)return s[1];if(K===X)return s[0];if(K===z)return s[1];if(K===BigInt(-1))return N.isEven()?s[1]:s[-1];if(N.isNegative())return new c(X);for(var $=this,ee=s[1];(G&z)===z&&(ee=ee.times($),--G),G!==X;)G/=re,$=$.square();return ee},u.prototype.modPow=function(P,N){if(P=se(P),N=se(N),N.isZero())throw new Error("Cannot take modPow with modulus 0");var K=s[1],G=this.mod(N);for(P.isNegative()&&(P=P.multiply(s[-1]),G=G.modInv(N));P.isPositive();){if(G.isZero())return s[0];P.isOdd()&&(K=K.multiply(G).mod(N)),P=P.divide(2),G=G.square().mod(N)}return K},c.prototype.modPow=f.prototype.modPow=u.prototype.modPow;function V(P,N){if(P.length!==N.length)return P.length>N.length?1:-1;for(var K=P.length-1;K>=0;K--)if(P[K]!==N[K])return P[K]>N[K]?1:-1;return 0}u.prototype.compareAbs=function(P){var N=se(P),K=this.value,G=N.value;return N.isSmall?1:V(K,G)},f.prototype.compareAbs=function(P){var N=se(P),K=Math.abs(this.value),G=N.value;return N.isSmall?(G=Math.abs(G),K===G?0:K>G?1:-1):-1},c.prototype.compareAbs=function(P){var N=this.value,K=se(P).value;return N=N>=0?N:-N,K=K>=0?K:-K,N===K?0:N>K?1:-1},u.prototype.compare=function(P){if(P===1/0)return-1;if(P===-1/0)return 1;var N=se(P),K=this.value,G=N.value;return this.sign!==N.sign?N.sign?1:-1:N.isSmall?this.sign?-1:1:V(K,G)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,f.prototype.compare=function(P){if(P===1/0)return-1;if(P===-1/0)return 1;var N=se(P),K=this.value,G=N.value;return N.isSmall?K==G?0:K>G?1:-1:K<0!==N.sign?K<0?-1:1:K<0?1:-1},f.prototype.compareTo=f.prototype.compare,c.prototype.compare=function(P){if(P===1/0)return-1;if(P===-1/0)return 1;var N=this.value,K=se(P).value;return N===K?0:N>K?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(P){return this.compare(P)===0},c.prototype.eq=c.prototype.equals=f.prototype.eq=f.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(P){return this.compare(P)!==0},c.prototype.neq=c.prototype.notEquals=f.prototype.neq=f.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(P){return this.compare(P)>0},c.prototype.gt=c.prototype.greater=f.prototype.gt=f.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(P){return this.compare(P)<0},c.prototype.lt=c.prototype.lesser=f.prototype.lt=f.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(P){return this.compare(P)>=0},c.prototype.geq=c.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(P){return this.compare(P)<=0},c.prototype.leq=c.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},f.prototype.isEven=function(){return(this.value&1)===0},c.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},f.prototype.isOdd=function(){return(this.value&1)===1},c.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return this.value>0},c.prototype.isPositive=f.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},c.prototype.isNegative=f.prototype.isNegative,u.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return Math.abs(this.value)===1},c.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return this.value===0},c.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(P){var N=se(P);return N.isZero()?!1:N.isUnit()?!0:N.compareAbs(2)===0?this.isEven():this.mod(N).isZero()},c.prototype.isDivisibleBy=f.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function Y(P){var N=P.abs();if(N.isUnit())return!1;if(N.equals(2)||N.equals(3)||N.equals(5))return!0;if(N.isEven()||N.isDivisibleBy(3)||N.isDivisibleBy(5))return!1;if(N.lesser(49))return!0}function j(P,N){for(var K=P.prev(),G=K,X=0,z,re,$,ee;G.isEven();)G=G.divide(2),X++;e:for($=0;$<N.length;$++)if(!P.lesser(N[$])&&(ee=xr(N[$]).modPow(G,P),!(ee.isUnit()||ee.equals(K)))){for(z=X-1;z!=0;z--){if(ee=ee.square().mod(P),ee.isUnit())return!1;if(ee.equals(K))continue e}return!1}return!0}u.prototype.isPrime=function(P){var N=Y(this);if(N!==r)return N;var K=this.abs(),G=K.bitLength();if(G<=64)return j(K,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var X=Math.log(2)*G.toJSNumber(),z=Math.ceil(P===!0?2*Math.pow(X,2):X),re=[],$=0;$<z;$++)re.push(xr($+2));return j(K,re)},c.prototype.isPrime=f.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(P,N){var K=Y(this);if(K!==r)return K;for(var G=this.abs(),X=P===r?5:P,z=[],re=0;re<X;re++)z.push(xr.randBetween(2,G.minus(2),N));return j(G,z)},c.prototype.isProbablePrime=f.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(P){for(var N=xr.zero,K=xr.one,G=se(P),X=this.abs(),z,re,$;!X.isZero();)z=G.divide(X),re=N,$=G,N=K,G=X,K=re.subtract(z.multiply(K)),X=$.subtract(z.multiply(X));if(!G.isUnit())throw new Error(this.toString()+" and "+P.toString()+" are not co-prime");return N.compare(0)===-1&&(N=N.add(P)),this.isNegative()?N.negate():N},c.prototype.modInv=f.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var P=this.value;return this.sign?d(P,1,this.sign):new u(B(P,1),this.sign)},f.prototype.next=function(){var P=this.value;return P+1<n?new f(P+1):new u(i,!1)},c.prototype.next=function(){return new c(this.value+BigInt(1))},u.prototype.prev=function(){var P=this.value;return this.sign?new u(B(P,1),!0):d(P,1,this.sign)},f.prototype.prev=function(){var P=this.value;return P-1>-n?new f(P-1):new u(i,!0)},c.prototype.prev=function(){return new c(this.value-BigInt(1))};for(var S=[1];2*S[S.length-1]<=e;)S.push(2*S[S.length-1]);var H=S.length,oe=S[H-1];function fe(P){return Math.abs(P)<=e}u.prototype.shiftLeft=function(P){var N=se(P).toJSNumber();if(!fe(N))throw new Error(String(N)+" is too large for shifting.");if(N<0)return this.shiftRight(-N);var K=this;if(K.isZero())return K;for(;N>=H;)K=K.multiply(oe),N-=H-1;return K.multiply(S[N])},c.prototype.shiftLeft=f.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(P){var N,K=se(P).toJSNumber();if(!fe(K))throw new Error(String(K)+" is too large for shifting.");if(K<0)return this.shiftLeft(-K);for(var G=this;K>=H;){if(G.isZero()||G.isNegative()&&G.isUnit())return G;N=k(G,oe),G=N[1].isNegative()?N[0].prev():N[0],K-=H-1}return N=k(G,S[K]),N[1].isNegative()?N[0].prev():N[0]},c.prototype.shiftRight=f.prototype.shiftRight=u.prototype.shiftRight;function de(P,N,K){N=se(N);for(var G=P.isNegative(),X=N.isNegative(),z=G?P.not():P,re=X?N.not():N,$=0,ee=0,xe=null,ye=null,ue=[];!z.isZero()||!re.isZero();)xe=k(z,oe),$=xe[1].toJSNumber(),G&&($=oe-1-$),ye=k(re,oe),ee=ye[1].toJSNumber(),X&&(ee=oe-1-ee),z=xe[0],re=ye[0],ue.push(K($,ee));for(var Ne=K(G?1:0,X?1:0)!==0?xr(-1):xr(0),Be=ue.length-1;Be>=0;Be-=1)Ne=Ne.multiply(oe).add(xr(ue[Be]));return Ne}u.prototype.not=function(){return this.negate().prev()},c.prototype.not=f.prototype.not=u.prototype.not,u.prototype.and=function(P){return de(this,P,function(N,K){return N&K})},c.prototype.and=f.prototype.and=u.prototype.and,u.prototype.or=function(P){return de(this,P,function(N,K){return N|K})},c.prototype.or=f.prototype.or=u.prototype.or,u.prototype.xor=function(P){return de(this,P,function(N,K){return N^K})},c.prototype.xor=f.prototype.xor=u.prototype.xor;var we=1<<30,Ue=(e&-e)*(e&-e)|we;function Ve(P){var N=P.value,K=typeof N=="number"?N|we:typeof N=="bigint"?N|BigInt(we):N[0]+N[1]*e|Ue;return K&-K}function os(P,N){if(N.compareTo(P)<=0){var K=os(P,N.square(N)),G=K.p,X=K.e,z=G.multiply(N);return z.compareTo(P)<=0?{p:z,e:X*2+1}:{p:G,e:X*2}}return{p:xr(1),e:0}}u.prototype.bitLength=function(){var P=this;return P.compareTo(xr(0))<0&&(P=P.negate().subtract(xr(1))),P.compareTo(xr(0))===0?xr(0):xr(os(P,xr(2)).e).add(xr(1))},c.prototype.bitLength=f.prototype.bitLength=u.prototype.bitLength;function Je(P,N){return P=se(P),N=se(N),P.greater(N)?P:N}function Qe(P,N){return P=se(P),N=se(N),P.lesser(N)?P:N}function Xg(P,N){if(P=se(P).abs(),N=se(N).abs(),P.equals(N))return P;if(P.isZero())return N;if(N.isZero())return P;for(var K=s[1],G,X;P.isEven()&&N.isEven();)G=Qe(Ve(P),Ve(N)),P=P.divide(G),N=N.divide(G),K=K.multiply(G);for(;P.isEven();)P=P.divide(Ve(P));do{for(;N.isEven();)N=N.divide(Ve(N));P.greater(N)&&(X=N,N=P,P=X),N=N.subtract(P)}while(!N.isZero());return K.isUnit()?P:P.multiply(K)}function St(P,N){return P=se(P).abs(),N=se(N).abs(),P.divide(Xg(P,N)).multiply(N)}function Tt(P,N,K){P=se(P),N=se(N);var G=K||Math.random,X=Qe(P,N),z=Je(P,N),re=z.subtract(X).add(1);if(re.isSmall)return X.add(Math.floor(G()*re));for(var $=Zf(re,e).value,ee=[],xe=!0,ye=0;ye<$.length;ye++){var ue=xe?$[ye]+(ye+1<$.length?$[ye+1]/e:0):e,Ne=I(G()*ue);ee.push(Ne),Ne<$[ye]&&(xe=!1)}return X.add(s.fromArray(ee,e,!1))}var j2=function(P,N,K,G){K=K||a,P=String(P),G||(P=P.toLowerCase(),K=K.toLowerCase());var X=P.length,z,re=Math.abs(N),$={};for(z=0;z<K.length;z++)$[K[z]]=z;for(z=0;z<X;z++){var ee=P[z];if(ee!=="-"&&ee in $&&$[ee]>=re){if(ee==="1"&&re===1)continue;throw new Error(ee+" is not a valid digit in base "+N+".")}}N=se(N);var xe=[],ye=P[0]==="-";for(z=ye?1:0;z<P.length;z++){var ee=P[z];if(ee in $)xe.push(se($[ee]));else if(ee==="<"){var ue=z;do z++;while(P[z]!==">"&&z<P.length);xe.push(se(P.slice(ue+1,z)))}else throw new Error(ee+" is not a valid character")}return xt(xe,N,ye)};function xt(P,N,K){var G=s[0],X=s[1],z;for(z=P.length-1;z>=0;z--)G=G.add(P[z].times(X)),X=X.times(N);return K?G.negate():G}function Ct(P,N){return N=N||a,P<N.length?N[P]:"<"+P+">"}function Zf(P,N){if(N=xr(N),N.isZero()){if(P.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(N.equals(-1)){if(P.isZero())return{value:[0],isNegative:!1};if(P.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-P.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var K=Array.apply(null,Array(P.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return K.unshift([1]),{value:[].concat.apply([],K),isNegative:!1}}var G=!1;if(P.isNegative()&&N.isPositive()&&(G=!0,P=P.abs()),N.isUnit())return P.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(P.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:G};for(var X=[],z=P,re;z.isNegative()||z.compareAbs(N)>=0;){re=z.divmod(N),z=re.quotient;var $=re.remainder;$.isNegative()&&($=N.minus($).abs(),z=z.next()),X.push($.toJSNumber())}return X.push(z.toJSNumber()),{value:X.reverse(),isNegative:G}}function bt(P,N,K){var G=Zf(P,N);return(G.isNegative?"-":"")+G.value.map(function(X){return Ct(X,K)}).join("")}u.prototype.toArray=function(P){return Zf(this,P)},f.prototype.toArray=function(P){return Zf(this,P)},c.prototype.toArray=function(P){return Zf(this,P)},u.prototype.toString=function(P,N){if(P===r&&(P=10),P!==10)return bt(this,P,N);for(var K=this.value,G=K.length,X=String(K[--G]),z="0000000",re;--G>=0;)re=String(K[G]),X+=z.slice(re.length)+re;var $=this.sign?"-":"";return $+X},f.prototype.toString=function(P,N){return P===r&&(P=10),P!=10?bt(this,P,N):String(this.value)},c.prototype.toString=f.prototype.toString,c.prototype.toJSON=u.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,f.prototype.valueOf=function(){return this.value},f.prototype.toJSNumber=f.prototype.valueOf,c.prototype.valueOf=c.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function wt(P){if(l(+P)){var N=+P;if(N===I(N))return o?new c(BigInt(N)):new f(N);throw new Error("Invalid integer: "+P)}var K=P[0]==="-";K&&(P=P.slice(1));var G=P.split(/e/i);if(G.length>2)throw new Error("Invalid integer: "+G.join("e"));if(G.length===2){var X=G[1];if(X[0]==="+"&&(X=X.slice(1)),X=+X,X!==I(X)||!l(X))throw new Error("Invalid integer: "+X+" is not a valid exponent.");var z=G[0],re=z.indexOf(".");if(re>=0&&(X-=z.length-re-1,z=z.slice(0,re)+z.slice(re+1)),X<0)throw new Error("Cannot include negative exponent part for integers");z+=new Array(X+1).join("0"),P=z}var $=/^([0-9][0-9]*)$/.test(P);if(!$)throw new Error("Invalid integer: "+P);if(o)return new c(BigInt(K?"-"+P:P));for(var ee=[],xe=P.length,ye=t,ue=xe-ye;xe>0;)ee.push(+P.slice(ue,xe)),ue-=ye,ue<0&&(ue=0),xe-=ye;return _(ee),new u(ee,K)}function H2(P){if(o)return new c(BigInt(P));if(l(P)){if(P!==I(P))throw new Error(P+" is not an integer.");return new f(P)}return wt(P.toString())}function se(P){return typeof P=="number"?H2(P):typeof P=="string"?wt(P):typeof P=="bigint"?new c(P):P}for(var et=0;et<1e3;et++)s[et]=se(et),et>0&&(s[-et]=se(-et));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=Je,s.min=Qe,s.gcd=Xg,s.lcm=St,s.isInstance=function(P){return P instanceof u||P instanceof f||P instanceof c},s.randBetween=Tt,s.fromArray=function(P,N,K){return xt(P.map(se),se(N||10),K)},s}();typeof Z6<"u"&&Z6.hasOwnProperty("exports")&&(Z6.exports=xr);typeof define=="function"&&define.amd&&define(function(){return xr})});var oY=E(Q6=>{"use strict";h();p();Object.defineProperty(Q6,"__esModule",{value:!0});Q6.Amount=void 0;var eh=gR(),Jpe=Zl(),tY=z6(),rY=$6(),$pe=Su(),Ev=Ql(),Bf=mt(),iY=-96,aY=80,P9=16,Zpe=new eh.Decimal("1e17"),Qpe=new eh.Decimal("1e-6"),nY=Ev(4294967295);eh.Decimal.config({toExpPos:aY+P9,toExpNeg:iY-P9});function ege(r){let e=Object.keys(r).sort();return e.length===3&&e[0]==="currency"&&e[1]==="issuer"&&e[2]==="value"}var na=class extends $pe.SerializedType{constructor(e){super(e??na.defaultAmount.bytes)}static from(e){if(e instanceof na)return e;let t=Bf.Buffer.alloc(8);if(typeof e=="string"){na.assertXrpIsValid(e);let n=Ev(e),i=[Bf.Buffer.alloc(4),Bf.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(nY)),0),t=Bf.Buffer.concat(i),t[0]|=64,new na(t)}if(ege(e)){let n=new eh.Decimal(e.value);if(na.assertIouIsValid(n),n.isZero())t[0]|=128;else{let o=n.times(`1e${-(n.e-15)}`).abs().toString(),s=Ev(o),u=[Bf.Buffer.alloc(4),Bf.Buffer.alloc(4)];u[0].writeUInt32BE(Number(s.shiftRight(32)),0),u[1].writeUInt32BE(Number(s.and(nY)),0),t=Bf.Buffer.concat(u),t[0]|=128,n.gt(new eh.Decimal(0))&&(t[0]|=64);let c=97+(n.e-15);t[0]|=c>>>2,t[1]|=(c&3)<<6}let i=rY.Currency.from(e.currency).toBytes(),a=tY.AccountID.from(e.issuer).toBytes();return new na(Bf.Buffer.concat([t,i,a]))}throw new Error("Invalid type to construct an Amount")}static fromParser(e){let n=e.peek()&128?48:8;return new na(e.read(n))}toJSON(){if(this.isNative()){let e=this.bytes,n=e[0]&64?"":"-";e[0]&=63;let i=Ev(e.slice(0,4).readUInt32BE(0)),a=Ev(e.slice(4).readUInt32BE(0)),o=i.shiftLeft(32).or(a);return`${n}${o.toString()}`}else{let e=new Jpe.BinaryParser(this.toString()),t=e.read(8),n=rY.Currency.fromParser(e),i=tY.AccountID.fromParser(e),a=t[0],o=t[1],u=a&64?"":"-",f=((a&63)<<2)+((o&255)>>6)-97;t[0]=0,t[1]&=63;let c=new eh.Decimal(`${u}0x${t.toString("hex")}`).times(`1e${f}`);return na.assertIouIsValid(c),{value:c.toString(),currency:n.toJSON(),issuer:i.toJSON()}}}static assertXrpIsValid(e){if(e.indexOf(".")!==-1)throw new Error(`${e.toString()} is an illegal amount`);let t=new eh.Decimal(e);if(!t.isZero()&&(t.lt(Qpe)||t.gt(Zpe)))throw new Error(`${e.toString()} is an illegal amount`)}static assertIouIsValid(e){if(!e.isZero()){let t=e.precision(),n=e.e-15;if(t>P9||n>aY||n<iY)throw new Error("Decimal precision out of range");this.verifyNoDecimal(e)}}static verifyNoDecimal(e){if(e.times(`1e${-(e.e-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}};Q6.Amount=na;na.defaultAmount=new na(Bf.Buffer.from("4000000000000000","hex"))});var sY=E(ew=>{"use strict";h();p();Object.defineProperty(ew,"__esModule",{value:!0});ew.Blob=void 0;var tge=Su(),rge=mt(),th=class extends tge.SerializedType{constructor(e){super(e)}static fromParser(e,t){return new th(e.read(t))}static from(e){if(e instanceof th)return e;if(typeof e=="string")return new th(rge.Buffer.from(e,"hex"));throw new Error("Cannot construct Blob from value given")}};ew.Blob=th});var uY=E(tw=>{"use strict";h();p();Object.defineProperty(tw,"__esModule",{value:!0});tw.Hash128=void 0;var nge=H6(),ige=mt(),Au=class extends nge.Hash{constructor(e){e&&e.byteLength===0&&(e=Au.ZERO_128.bytes),super(e??Au.ZERO_128.bytes)}toHex(){let e=this.toBytes().toString("hex").toUpperCase();return/^0+$/.exec(e)?"":e}};tw.Hash128=Au;Au.width=16;Au.ZERO_128=new Au(ige.Buffer.alloc(Au.width))});var Iv=E(rw=>{"use strict";h();p();Object.defineProperty(rw,"__esModule",{value:!0});rw.Hash256=void 0;var age=H6(),oge=mt(),Mf=class extends age.Hash{constructor(e){super(e??Mf.ZERO_256.bytes)}};rw.Hash256=Mf;Mf.width=32;Mf.ZERO_256=new Mf(oge.Buffer.alloc(Mf.width))});var cY=E(nw=>{"use strict";h();p();Object.defineProperty(nw,"__esModule",{value:!0});nw.PathSet=void 0;var jp=z6(),B9=$6(),L9=Zl(),U9=Su(),Ou=mt(),F9=0,fY=255,M9=1,N9=16,q9=32;function sge(r){return r.issuer!==void 0||r.account!==void 0||r.currency!==void 0}function uge(r){return Array.isArray(r)&&r.length===0||Array.isArray(r)&&Array.isArray(r[0])&&r[0].length===0||Array.isArray(r)&&Array.isArray(r[0])&&sge(r[0][0])}var Nf=class extends U9.SerializedType{static from(e){if(e instanceof Nf)return e;let t=[Ou.Buffer.from([0])];return e.account&&(t.push(jp.AccountID.from(e.account).toBytes()),t[0][0]|=M9),e.currency&&(t.push(B9.Currency.from(e.currency).toBytes()),t[0][0]|=N9),e.issuer&&(t.push(jp.AccountID.from(e.issuer).toBytes()),t[0][0]|=q9),new Nf(Ou.Buffer.concat(t))}static fromParser(e){let t=e.readUInt8(),n=[Ou.Buffer.from([t])];return t&M9&&n.push(e.read(jp.AccountID.width)),t&N9&&n.push(e.read(B9.Currency.width)),t&q9&&n.push(e.read(jp.AccountID.width)),new Nf(Ou.Buffer.concat(n))}toJSON(){let e=new L9.BinaryParser(this.bytes.toString("hex")),t=e.readUInt8(),n,i,a;t&M9&&(n=jp.AccountID.fromParser(e).toJSON()),t&N9&&(i=B9.Currency.fromParser(e).toJSON()),t&q9&&(a=jp.AccountID.fromParser(e).toJSON());let o={};return n&&(o.account=n),a&&(o.issuer=a),i&&(o.currency=i),o}type(){return this.bytes[0]}},qf=class extends U9.SerializedType{static from(e){if(e instanceof qf)return e;let t=[];return e.forEach(n=>{t.push(Nf.from(n).toBytes())}),new qf(Ou.Buffer.concat(t))}static fromParser(e){let t=[];for(;!e.end()&&(t.push(Nf.fromParser(e).toBytes()),!(e.peek()===F9||e.peek()===fY)););return new qf(Ou.Buffer.concat(t))}toJSON(){let e=[],t=new L9.BinaryParser(this.toString());for(;!t.end();)e.push(Nf.fromParser(t).toJSON());return e}},rh=class extends U9.SerializedType{static from(e){if(e instanceof rh)return e;if(uge(e)){let t=[];return e.forEach(n=>{t.push(qf.from(n).toBytes()),t.push(Ou.Buffer.from([fY]))}),t[t.length-1]=Ou.Buffer.from([F9]),new rh(Ou.Buffer.concat(t))}throw new Error("Cannot construct PathSet from given value")}static fromParser(e){let t=[];for(;!e.end()&&(t.push(qf.fromParser(e).toBytes()),t.push(e.read(1)),t[t.length-1][0]!=F9););return new rh(Ou.Buffer.concat(t))}toJSON(){let e=[],t=new L9.BinaryParser(this.toString());for(;!t.end();)e.push(qf.fromParser(t).toJSON()),t.skip(1);return e}};nw.PathSet=rh});var ow=E(aw=>{"use strict";h();p();Object.defineProperty(aw,"__esModule",{value:!0});aw.STObject=void 0;var fge=kp(),cge=Su(),pY=bR(),dge=Zl(),iw=qp(),lge=mt(),dY=lge.Buffer.from([225]),lY="ObjectEndMarker",hY="STObject",hge="Destination",pge="Account",k9="SourceTag",j9="DestinationTag";function gge(r,e){let t=(0,pY.xAddressToClassicAddress)(e),n;if(r===hge)n=j9;else if(r===pge)n=k9;else if(t.tag!==!1)throw new Error(`${r} cannot have an associated tag`);return t.tag!==!1?{[r]:t.classicAddress,[n]:t.tag}:{[r]:t.classicAddress}}function yge(r,e){if(!(r[k9]===void 0||e[k9]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(r[j9]===void 0||e[j9]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}var nh=class extends cge.SerializedType{static fromParser(e){let t=new iw.BytesList,n=new iw.BinarySerializer(t);for(;!e.end();){let i=e.readField();if(i.name===lY)break;let a=e.readFieldValue(i);n.writeFieldAndValue(i,a),i.type.name===hY&&n.put(dY)}return new nh(t.toBytes())}static from(e,t){if(e instanceof nh)return e;let n=new iw.BytesList,i=new iw.BinarySerializer(n),a=!1,o=Object.entries(e).reduce((u,[f,c])=>{let l;return c&&(0,pY.isValidXAddress)(c.toString())&&(l=gge(f,c.toString()),yge(l,e)),Object.assign(u,l??{[f]:c})},{}),s=Object.keys(o).map(u=>fge.Field[u]).filter(u=>u!==void 0&&o[u.name]!==void 0&&u.isSerialized).sort((u,f)=>u.ordinal-f.ordinal);return t!==void 0&&(s=s.filter(t)),s.forEach(u=>{let f=u.associatedType.from(o[u.name]);if(f==null)throw new TypeError(`Unable to interpret "${u.name}: ${o[u.name]}".`);f.name==="UNLModify"&&(a=!0);let c=u.name=="Account"&&a;i.writeFieldAndValue(u,f,c),u.type.name===hY&&i.put(dY)}),new nh(n.toBytes())}toJSON(){let e=new dge.BinaryParser(this.toString()),t={};for(;!e.end();){let n=e.readField();if(n.name===lY)break;t[n.name]=e.readFieldValue(n).toJSON()}return t}};aw.STObject=nh});var mY=E(uw=>{"use strict";h();p();Object.defineProperty(uw,"__esModule",{value:!0});uw.STArray=void 0;var vge=Su(),gY=ow(),mge=Zl(),sw=mt(),yY=sw.Buffer.from([241]),vY="ArrayEndMarker",_ge=sw.Buffer.from([225]);function xge(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="object")}var ih=class extends vge.SerializedType{static fromParser(e){let t=[];for(;!e.end();){let n=e.readField();if(n.name===vY)break;t.push(n.header,e.readFieldValue(n).toBytes(),_ge)}return t.push(yY),new ih(sw.Buffer.concat(t))}static from(e){if(e instanceof ih)return e;if(xge(e)){let t=[];return e.forEach(n=>{t.push(gY.STObject.from(n).toBytes())}),t.push(yY),new ih(sw.Buffer.concat(t))}throw new Error("Cannot construct STArray from value given")}toJSON(){let e=[],t=new mge.BinaryParser(this.toString());for(;!t.end();){let n=t.readField();if(n.name===vY)break;let i={};i[n.name]=gY.STObject.fromParser(t).toJSON(),e.push(i)}return e}};uw.STArray=ih});var Sv=E(fw=>{"use strict";h();p();Object.defineProperty(fw,"__esModule",{value:!0});fw.UInt=void 0;var bge=Su();function wge(r,e){return r<e?-1:r==e?0:1}var H9=class extends bge.Comparable{constructor(e){super(e)}compareTo(e){return wge(this.valueOf(),e.valueOf())}toJSON(){let e=this.valueOf();return typeof e=="number"?e:e.toString()}};fw.UInt=H9});var xY=E(cw=>{"use strict";h();p();Object.defineProperty(cw,"__esModule",{value:!0});cw.UInt16=void 0;var Ege=Sv(),_Y=mt(),ia=class extends Ege.UInt{constructor(e){super(e??ia.defaultUInt16.bytes)}static fromParser(e){return new ia(e.read(ia.width))}static from(e){if(e instanceof ia)return e;if(typeof e=="number"){let t=_Y.Buffer.alloc(ia.width);return t.writeUInt16BE(e,0),new ia(t)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return this.bytes.readUInt16BE(0)}};cw.UInt16=ia;ia.width=16/8;ia.defaultUInt16=new ia(_Y.Buffer.alloc(ia.width))});var K9=E(dw=>{"use strict";h();p();Object.defineProperty(dw,"__esModule",{value:!0});dw.UInt32=void 0;var Ige=Sv(),bY=mt(),Ni=class extends Ige.UInt{constructor(e){super(e??Ni.defaultUInt32.bytes)}static fromParser(e){return new Ni(e.read(Ni.width))}static from(e){if(e instanceof Ni)return e;let t=bY.Buffer.alloc(Ni.width);if(typeof e=="string"){let n=Number.parseInt(e);return t.writeUInt32BE(n,0),new Ni(t)}if(typeof e=="number")return t.writeUInt32BE(e,0),new Ni(t);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return this.bytes.readUInt32BE(0)}};dw.UInt32=Ni;Ni.width=32/8;Ni.defaultUInt32=new Ni(bY.Buffer.alloc(Ni.width))});var V9=E(lw=>{"use strict";h();p();Object.defineProperty(lw,"__esModule",{value:!0});lw.UInt64=void 0;var Sge=Sv(),Hp=Ql(),Tge=Ql(),Ff=mt(),Cge=/^[a-fA-F0-9]{1,16}$/,wY=Hp(4294967295),ai=class extends Sge.UInt{constructor(e){super(e??ai.defaultUInt64.bytes)}static fromParser(e){return new ai(e.read(ai.width))}static from(e){if(e instanceof ai)return e;let t=Ff.Buffer.alloc(ai.width);if(typeof e=="number"){if(e<0)throw new Error("value must be an unsigned integer");let n=Hp(e),i=[Ff.Buffer.alloc(4),Ff.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(wY)),0),new ai(Ff.Buffer.concat(i))}if(typeof e=="string"){if(!Cge.test(e))throw new Error(`${e} is not a valid hex-string`);let n=e.padStart(16,"0");return t=Ff.Buffer.from(n,"hex"),new ai(t)}if((0,Tge.isInstance)(e)){let n=[Ff.Buffer.alloc(4),Ff.Buffer.alloc(4)];return n[0].writeUInt32BE(Number(e.shiftRight(Hp(32))),0),n[1].writeUInt32BE(Number(e.and(wY)),0),new ai(Ff.Buffer.concat(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return this.bytes.toString("hex").toUpperCase()}valueOf(){let e=Hp(this.bytes.slice(0,4).readUInt32BE(0)),t=Hp(this.bytes.slice(4).readUInt32BE(0));return e.shiftLeft(Hp(32)).or(t)}toBytes(){return this.bytes}};lw.UInt64=ai;ai.width=64/8;ai.defaultUInt64=new ai(Ff.Buffer.alloc(ai.width))});var G9=E(hw=>{"use strict";h();p();Object.defineProperty(hw,"__esModule",{value:!0});hw.UInt8=void 0;var Age=Sv(),EY=mt(),aa=class extends Age.UInt{constructor(e){super(e??aa.defaultUInt8.bytes)}static fromParser(e){return new aa(e.read(aa.width))}static from(e){if(e instanceof aa)return e;if(typeof e=="number"){let t=EY.Buffer.alloc(aa.width);return t.writeUInt8(e,0),new aa(t)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return this.bytes.readUInt8(0)}};hw.UInt8=aa;aa.width=8/8;aa.defaultUInt8=new aa(EY.Buffer.alloc(aa.width))});var TY=E(pw=>{"use strict";h();p();Object.defineProperty(pw,"__esModule",{value:!0});pw.Vector256=void 0;var Oge=Su(),IY=Iv(),SY=qp();function Dge(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="string")}var ah=class extends Oge.SerializedType{constructor(e){super(e)}static fromParser(e,t){let n=new SY.BytesList,a=(t??e.size())/32;for(let o=0;o<a;o++)IY.Hash256.fromParser(e).toBytesSink(n);return new ah(n.toBytes())}static from(e){if(e instanceof ah)return e;if(Dge(e)){let t=new SY.BytesList;return e.forEach(n=>{IY.Hash256.from(n).toBytesSink(t)}),new ah(t.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");let e=[];for(let t=0;t<this.bytes.byteLength;t+=32)e.push(this.bytes.slice(t,t+32).toString("hex").toUpperCase());return e}};pw.Vector256=ah});var Tv=E(gw=>{"use strict";h();p();Object.defineProperty(gw,"__esModule",{value:!0});gw.coreTypes=void 0;var oh=kp(),Rge=z6(),Pge=oY(),Bge=sY(),Mge=$6(),Nge=uY(),qge=V6(),Fge=Iv(),Lge=cY(),Uge=mY(),kge=ow(),jge=xY(),Hge=K9(),Kge=V9(),Vge=G9(),Gge=TY(),CY={AccountID:Rge.AccountID,Amount:Pge.Amount,Blob:Bge.Blob,Currency:Mge.Currency,Hash128:Nge.Hash128,Hash160:qge.Hash160,Hash256:Fge.Hash256,PathSet:Lge.PathSet,STArray:Uge.STArray,STObject:kge.STObject,UInt8:Vge.UInt8,UInt16:jge.UInt16,UInt32:Hge.UInt32,UInt64:Kge.UInt64,Vector256:Gge.Vector256};gw.coreTypes=CY;Object.values(oh.Field).forEach(r=>{r.associatedType=CY[r.type.name]});oh.Field.TransactionType.associatedType=oh.TransactionType;oh.Field.TransactionResult.associatedType=oh.TransactionResult;oh.Field.LedgerEntryType.associatedType=oh.LedgerEntryType});var Kp=E(yw=>{"use strict";h();p();Object.defineProperty(yw,"__esModule",{value:!0});yw.HashPrefix=void 0;var Yge=mt();function Du(r){let e=Yge.Buffer.alloc(4);return e.writeUInt32BE(r,0),e}var zge={transactionID:Du(1415073280),transaction:Du(1397638144),accountStateEntry:Du(1296846336),innerNode:Du(1296649728),ledgerHeader:Du(1280791040),transactionSig:Du(1398036480),transactionMultiSig:Du(1397576704),validation:Du(1447119872),proposal:Du(1347571712),paymentChannelClaim:Du(1129073920)};yw.HashPrefix=zge});var Cv=E(R0=>{"use strict";h();p();Object.defineProperty(R0,"__esModule",{value:!0});R0.transactionID=R0.sha512Half=R0.Sha512Half=void 0;var Wge=Kp(),Xge=WE(),AY=Iv(),Jge=qp(),$ge=mt(),Vp=class extends Jge.BytesList{constructor(){super(...arguments),this.hash=Xge("sha512")}static put(e){return new Vp().put(e)}put(e){return this.hash.update(e),this}finish256(){return $ge.Buffer.from(this.hash.digest().slice(0,32))}finish(){return new AY.Hash256(this.finish256())}};R0.Sha512Half=Vp;function OY(...r){let e=new Vp;return r.forEach(t=>e.put(t)),e.finish256()}R0.sha512Half=OY;function Zge(r){return new AY.Hash256(OY(Wge.HashPrefix.transactionID,r))}R0.transactionID=Zge});var W9=E(gt=>{"use strict";h();p();Object.defineProperty(gt,"__esModule",{value:!0});gt.transactionID=gt.sha512Half=gt.binaryToJSON=gt.signingClaimData=gt.signingData=gt.multiSigningData=gt.readJSON=gt.serializeObject=gt.makeParser=gt.BytesList=gt.BinarySerializer=gt.BinaryParser=void 0;var Av=Tv(),DY=Zl();Object.defineProperty(gt,"BinaryParser",{enumerable:!0,get:function(){return DY.BinaryParser}});var Y9=Kp(),vw=qp();Object.defineProperty(gt,"BinarySerializer",{enumerable:!0,get:function(){return vw.BinarySerializer}});Object.defineProperty(gt,"BytesList",{enumerable:!0,get:function(){return vw.BytesList}});var RY=Cv();Object.defineProperty(gt,"sha512Half",{enumerable:!0,get:function(){return RY.sha512Half}});Object.defineProperty(gt,"transactionID",{enumerable:!0,get:function(){return RY.transactionID}});var Qge=Ql(),PY=r=>new DY.BinaryParser(r);gt.makeParser=PY;var BY=r=>r.readType(Av.coreTypes.STObject).toJSON();gt.readJSON=BY;var eye=r=>BY(PY(r));gt.binaryToJSON=eye;function z9(r,e={}){let{prefix:t,suffix:n,signingFieldsOnly:i=!1}=e,a=new vw.BytesList;t&&a.put(t);let o=i?s=>s.isSigningField:void 0;return Av.coreTypes.STObject.from(r,o).toBytesSink(a),n&&a.put(n),a.toBytes()}gt.serializeObject=z9;function tye(r,e=Y9.HashPrefix.transactionSig){return z9(r,{prefix:e,signingFieldsOnly:!0})}gt.signingData=tye;function rye(r){let e=Qge(String(r.amount)),t=Y9.HashPrefix.paymentChannelClaim,n=Av.coreTypes.Hash256.from(r.channel).toBytes(),i=Av.coreTypes.UInt64.from(e).toBytes(),a=new vw.BytesList;return a.put(t),a.put(n),a.put(i),a.toBytes()}gt.signingClaimData=rye;function nye(r,e){let t=Y9.HashPrefix.transactionMultiSig,n=Av.coreTypes.AccountID.from(e).toBytes();return z9(r,{prefix:t,suffix:n,signingFieldsOnly:!0})}gt.multiSigningData=nye});var J9=E(P0=>{"use strict";h();p();Object.defineProperty(P0,"__esModule",{value:!0});P0.ShaMapLeaf=P0.ShaMapNode=P0.ShaMap=void 0;var iye=ka(),MY=Tv(),aye=Kp(),NY=Cv(),oye=mt(),Ov=class{};P0.ShaMapNode=Ov;var Dv=class extends Ov{constructor(e,t){super(),this.index=e,this.item=t}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?oye.Buffer.alloc(0):this.item.hashPrefix()}hash(){let e=NY.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){this.item!==void 0&&this.item.toBytesSink(e),this.index.toBytesSink(e)}};P0.ShaMapLeaf=Dv;var Gp=class extends Ov{constructor(e=0){super(),this.depth=e,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return aye.HashPrefix.innerNode}setBranch(e,t){this.slotBits=this.slotBits|1<<e,this.branches[e]=t}empty(){return this.slotBits===0}hash(){if(this.empty())return MY.coreTypes.Hash256.ZERO_256;let e=NY.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){for(let t=0;t<this.branches.length;t++){let n=this.branches[t];(n?n.hash():MY.coreTypes.Hash256.ZERO_256).toBytesSink(e)}}addItem(e,t,n){if(iye.strict.ok(e!==void 0),e!==void 0){let i=e.nibblet(this.depth),a=this.branches[i];if(a===void 0)this.setBranch(i,n||new Dv(e,t));else if(a instanceof Dv){let o=new Gp(this.depth+1);o.addItem(a.index,void 0,a),o.addItem(e,t,n),this.setBranch(i,o)}else if(a instanceof Gp)a.addItem(e,t,n);else throw new Error("invalid ShaMap.addItem call")}}},X9=class extends Gp{};P0.ShaMap=X9});var Q9=E(oi=>{"use strict";h();p();var sye=oi&&oi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uye=oi&&oi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fye=oi&&oi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sye(e,r,t);return uye(e,r),e};Object.defineProperty(oi,"__esModule",{value:!0});oi.decodeLedgerData=oi.ledgerHash=oi.transactionTreeHash=oi.accountStateHash=void 0;var mw=fye(ka()),cye=J9(),Z9=Kp(),dye=Cv(),LY=W9(),B0=Iv(),qY=ow(),UY=V9(),$9=K9(),FY=G9(),lye=Zl(),hye=Ql();function kY(r,e){let t=new cye.ShaMap;return e.forEach(n=>t.addItem(...r(n))),t.hash()}function pye(r){return mw.ok(r.hash),[B0.Hash256.from(r.hash),{hashPrefix(){return Z9.HashPrefix.transaction},toBytesSink(n){let i=new LY.BinarySerializer(n);i.writeLengthEncoded(qY.STObject.from(r)),i.writeLengthEncoded(qY.STObject.from(r.metaData))}},void 0]}function gye(r){let e=B0.Hash256.from(r.index),t=(0,LY.serializeObject)(r);return[e,{hashPrefix(){return Z9.HashPrefix.accountStateEntry},toBytesSink(i){i.put(t)}},void 0]}function yye(r){return kY(pye,r)}oi.transactionTreeHash=yye;function vye(r){return kY(gye,r)}oi.accountStateHash=vye;function mye(r){let e=new dye.Sha512Half;return e.put(Z9.HashPrefix.ledgerHeader),mw.ok(r.parent_close_time!==void 0),mw.ok(r.close_flags!==void 0),$9.UInt32.from(r.ledger_index).toBytesSink(e),UY.UInt64.from(hye(String(r.total_coins))).toBytesSink(e),B0.Hash256.from(r.parent_hash).toBytesSink(e),B0.Hash256.from(r.transaction_hash).toBytesSink(e),B0.Hash256.from(r.account_hash).toBytesSink(e),$9.UInt32.from(r.parent_close_time).toBytesSink(e),$9.UInt32.from(r.close_time).toBytesSink(e),FY.UInt8.from(r.close_time_resolution).toBytesSink(e),FY.UInt8.from(r.close_flags).toBytesSink(e),e.finish()}oi.ledgerHash=mye;function _ye(r){mw.ok(typeof r=="string","binary must be a hex string");let e=new lye.BinaryParser(r);return{ledger_index:e.readUInt32(),total_coins:e.readType(UY.UInt64).valueOf().toString(),parent_hash:e.readType(B0.Hash256).toHex(),transaction_hash:e.readType(B0.Hash256).toHex(),account_hash:e.readType(B0.Hash256).toHex(),parent_close_time:e.readUInt32(),close_time:e.readUInt32(),close_time_resolution:e.readUInt8(),close_flags:e.readUInt8()}}oi.decodeLedgerData=_ye});var HY=E(_w=>{"use strict";h();p();Object.defineProperty(_w,"__esModule",{value:!0});_w.quality=void 0;var xye=Tv(),jY=gR(),bye=Ql(),wye=mt(),eC=class{static encode(e){let t=new jY.Decimal(e),n=t.e-15,i=t.times(`1e${-n}`).abs().toString(),a=xye.coreTypes.UInt64.from(bye(i)).toBytes();return a[0]=n+100,a}static decode(e){let t=wye.Buffer.from(e,"hex").slice(-8),n=t[0]-100;return new jY.Decimal(`0x${t.slice(1).toString("hex")}`).times(`1e${n}`)}};_w.quality=eC});var KY=E(He=>{"use strict";h();p();var Eye=He&&He.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Iye=He&&He.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xw=He&&He.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Eye(e,r,t);return Iye(e,r),e};Object.defineProperty(He,"__esModule",{value:!0});He.types=He.ShaMap=He.HashPrefix=He.quality=He.TransactionResult=He.Type=He.LedgerEntryType=He.TransactionType=He.Field=He.ledgerHashes=He.binary=He.hashes=void 0;var Rv=kp();Object.defineProperty(He,"Field",{enumerable:!0,get:function(){return Rv.Field}});Object.defineProperty(He,"TransactionType",{enumerable:!0,get:function(){return Rv.TransactionType}});Object.defineProperty(He,"LedgerEntryType",{enumerable:!0,get:function(){return Rv.LedgerEntryType}});Object.defineProperty(He,"Type",{enumerable:!0,get:function(){return Rv.Type}});Object.defineProperty(He,"TransactionResult",{enumerable:!0,get:function(){return Rv.TransactionResult}});var Sye=xw(Tv());He.types=Sye;var Tye=xw(W9());He.binary=Tye;var Cye=J9();Object.defineProperty(He,"ShaMap",{enumerable:!0,get:function(){return Cye.ShaMap}});var Aye=xw(Q9());He.ledgerHashes=Aye;var Oye=xw(Cv());He.hashes=Oye;var Dye=HY();Object.defineProperty(He,"quality",{enumerable:!0,get:function(){return Dye.quality}});var Rye=Kp();Object.defineProperty(He,"HashPrefix",{enumerable:!0,get:function(){return Rye.HashPrefix}})});var VY=E(yt=>{"use strict";h();p();var Pye=yt&&yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bye=yt&&yt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mye=yt&&yt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pye(e,r,t);return Bye(e,r),e};Object.defineProperty(yt,"__esModule",{value:!0});yt.TRANSACTION_TYPES=yt.decodeLedgerData=yt.decodeQuality=yt.encodeQuality=yt.encodeForMultisigning=yt.encodeForSigningClaim=yt.encodeForSigning=yt.encode=yt.decode=void 0;var M0=Mye(ka()),tC=KY(),Nye=Q9();Object.defineProperty(yt,"decodeLedgerData",{enumerable:!0,get:function(){return Nye.decodeLedgerData}});var qye=kp();Object.defineProperty(yt,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return qye.TRANSACTION_TYPES}});var{signingData:Fye,signingClaimData:Lye,multiSigningData:Uye,binaryToJSON:kye,serializeObject:jye}=tC.binary;function Hye(r){return M0.ok(typeof r=="string","binary must be a hex string"),kye(r)}yt.decode=Hye;function Kye(r){return M0.ok(typeof r=="object"),jye(r).toString("hex").toUpperCase()}yt.encode=Kye;function Vye(r){return M0.ok(typeof r=="object"),Fye(r).toString("hex").toUpperCase()}yt.encodeForSigning=Vye;function Gye(r){return M0.ok(typeof r=="object"),Lye(r).toString("hex").toUpperCase()}yt.encodeForSigningClaim=Gye;function Yye(r,e){return M0.ok(typeof r=="object"),M0.equal(r.SigningPubKey,""),Uye(r,e).toString("hex").toUpperCase()}yt.encodeForMultisigning=Yye;function zye(r){return M0.ok(typeof r=="string"),tC.quality.encode(r).toString("hex").toUpperCase()}yt.encodeQuality=zye;function Wye(r){return M0.ok(typeof r=="string"),tC.quality.decode(r).toString()}yt.decodeQuality=Wye});var GY=E(bw=>{"use strict";h();p();Object.defineProperty(bw,"__esModule",{value:!0});bw.KeystoneXrpSDK=void 0;var Xye=Cr(),Jye=VY(),rC=class{parseAccount(e){let t=e.decodeCBOR().toString();return JSON.parse(t)}parseSignature(e){if(e.type!=="bytes")throw new Error("type not match");try{let t=e.decodeCBOR().toString("hex");return(0,Jye.decode)(t).TxnSignature}catch{throw new Error("signature is invalid")}}generateSignRequest(e){let t=JSON.stringify(e);return Xye.UR.fromBuffer(v.Buffer.from(t))}};bw.KeystoneXrpSDK=rC});var YY=E(sh=>{"use strict";h();p();var $ye=sh&&sh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zye=sh&&sh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$ye(e,r,t)};Object.defineProperty(sh,"__esModule",{value:!0});Zye(GY(),sh)});var zY=E(ww=>{"use strict";h();p();Object.defineProperty(ww,"__esModule",{value:!0});ww.KeystoneSDK=void 0;var oa=y9(),Yp=NG(),Qye=YY(),zp=class{constructor(e){this.parseMultiAccounts=Yp.parseMultiAccounts,this.parseHDKey=Yp.parseHDKey,this.generateKeyDerivationCall=Yp.generateKeyDerivationCall,this.config=e}get btc(){return this._btc===void 0&&(this._btc=new oa.KeystoneBitcoinSDK),this._btc}get eth(){return this._eth===void 0&&(this._eth=new oa.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return this._sol===void 0&&(this._sol=new oa.KeystoneSolanaSDK),this._sol}get cosmos(){return this._cosmos===void 0&&(this._cosmos=new oa.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return this._evm===void 0&&(this._evm=new oa.KeystoneEvmSDK(this.config)),this._evm}get tron(){return this._tron===void 0&&(this._tron=new oa.KeystoneTronSDK),this._tron}get ltc(){return this._ltc===void 0&&(this._ltc=new oa.KeystoneLitecoinSDK),this._ltc}get bch(){return this._bch===void 0&&(this._bch=new oa.KeystoneBitcoinCashSDK),this._bch}get dash(){return this._dash===void 0&&(this._dash=new oa.KeystoneDashSDK),this._dash}get aptos(){return this._aptos===void 0&&(this._aptos=new oa.KeystoneAptosSDK),this._aptos}get near(){return this._near===void 0&&(this._near=new oa.KeystoneNearSDK),this._near}get arweave(){return this._arweave===void 0&&(this._arweave=new oa.KeystoneArweaveSDK),this._arweave}get sui(){return this._sui===void 0&&(this._sui=new oa.KeystoneSuiSDK),this._sui}get cardano(){return this._cardano===void 0&&(this._cardano=new oa.KeystoneCardanoSDK),this._cardano}get xrp(){return this._xrp===void 0&&(this._xrp=new Qye.KeystoneXrpSDK),this._xrp}};zp.parseMultiAccounts=Yp.parseMultiAccounts;zp.parseHDKey=Yp.parseHDKey;zp.generateKeyDerivationCall=Yp.generateKeyDerivationCall;ww.KeystoneSDK=zp});var Ew=E(Rt=>{"use strict";h();p();var WY=Rt&&Rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),eve=Rt&&Rt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tve=Rt&&Rt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WY(e,r,t);return eve(e,r),e},nC=Rt&&Rt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WY(e,r,t)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.utils=Rt.KeystoneSDK=Rt.DerivationAlgorithm=Rt.Curve=void 0;var rve=tve(Lr());Rt.utils=rve;var XY=zY();Object.defineProperty(Rt,"KeystoneSDK",{enumerable:!0,get:function(){return XY.KeystoneSDK}});nC(Cr(),Rt);nC(P6(),Rt);nC(y9(),Rt);var JY=v9();Object.defineProperty(Rt,"Curve",{enumerable:!0,get:function(){return JY.Curve}});Object.defineProperty(Rt,"DerivationAlgorithm",{enumerable:!0,get:function(){return JY.DerivationAlgorithm}});Rt.default=XY.KeystoneSDK});var pz=E((stt,hz)=>{h();p();var ive=Object.create,Bv=Object.defineProperty,ave=Object.getOwnPropertyDescriptor,ove=Object.getOwnPropertyNames,Iw=Object.getOwnPropertySymbols,sve=Object.getPrototypeOf,iC=Object.prototype.hasOwnProperty,QY=Object.prototype.propertyIsEnumerable,ZY=(r,e,t)=>e in r?Bv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pv=(r,e)=>{for(var t in e||(e={}))iC.call(e,t)&&ZY(r,t,e[t]);if(Iw)for(var t of Iw(e))QY.call(e,t)&&ZY(r,t,e[t]);return r},aC=(r,e)=>{var t={};for(var n in r)iC.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Iw)for(var n of Iw(r))e.indexOf(n)<0&&QY.call(r,n)&&(t[n]=r[n]);return t},uve=(r,e)=>{for(var t in e)Bv(r,t,{get:e[t],enumerable:!0})},ez=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ove(e))!iC.call(r,i)&&i!==t&&Bv(r,i,{get:()=>e[i],enumerable:!(n=ave(e,i))||n.enumerable});return r},fve=(r,e,t)=>(t=r!=null?ive(sve(r)):{},ez(e||!r||!r.__esModule?Bv(t,"default",{value:r,enumerable:!0}):t,r)),cve=r=>ez(Bv({},"__esModule",{value:!0}),r),tz={};uve(tz,{QRCodeCanvas:()=>dz,QRCodeSVG:()=>lz,default:()=>hve});hz.exports=cve(tz);var qi=fve(Ju());var uh;(r=>{let e=class{constructor(u,f,c,l){if(this.version=u,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(l<-1||l>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let _=0;_<this.size;_++)g.push(!1);for(let _=0;_<this.size;_++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let y=this.addEccAndInterleave(c);if(this.drawCodewords(y),l==-1){let _=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);let I=this.getPenaltyScore();I<_&&(l=w,_=I),this.applyMask(w)}}a(0<=l&&l<=7),this.mask=l,this.applyMask(l),this.drawFormatBits(l),this.isFunction=[]}static encodeText(u,f){let c=r.QrSegment.makeSegments(u);return e.encodeSegments(c,f)}static encodeBinary(u,f){let c=r.QrSegment.makeBytes(u);return e.encodeSegments([c],f)}static encodeSegments(u,f,c=1,l=40,g=-1,y=!0){if(!(e.MIN_VERSION<=c&&c<=l&&l<=e.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let _,w;for(_=c;;_++){let B=e.getNumDataCodewords(_,f)*8,q=s.getTotalBits(u,_);if(q<=B){w=q;break}if(_>=l)throw new RangeError("Data too long")}for(let B of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])y&&w<=e.getNumDataCodewords(_,B)*8&&(f=B);let I=[];for(let B of u){n(B.mode.modeBits,4,I),n(B.numChars,B.mode.numCharCountBits(_),I);for(let q of B.getData())I.push(q)}a(I.length==w);let T=e.getNumDataCodewords(_,f)*8;a(I.length<=T),n(0,Math.min(4,T-I.length),I),n(0,(8-I.length%8)%8,I),a(I.length%8==0);for(let B=236;I.length<T;B^=253)n(B,8,I);let O=[];for(;O.length*8<I.length;)O.push(0);return I.forEach((B,q)=>O[q>>>3]|=B<<7-(q&7)),new e(_,f,O,g)}getModule(u,f){return 0<=u&&u<this.size&&0<=f&&f<this.size&&this.modules[f][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let u=this.getAlignmentPatternPositions(),f=u.length;for(let c=0;c<f;c++)for(let l=0;l<f;l++)c==0&&l==0||c==0&&l==f-1||c==f-1&&l==0||this.drawAlignmentPattern(u[c],u[l]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){let f=this.errorCorrectionLevel.formatBits<<3|u,c=f;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;let l=(f<<10|c)^21522;a(l>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,i(l,g));this.setFunctionModule(8,7,i(l,6)),this.setFunctionModule(8,8,i(l,7)),this.setFunctionModule(7,8,i(l,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,i(l,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,i(l,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,i(l,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let c=0;c<12;c++)u=u<<1^(u>>>11)*7973;let f=this.version<<12|u;a(f>>>18==0);for(let c=0;c<18;c++){let l=i(f,c),g=this.size-11+c%3,y=Math.floor(c/3);this.setFunctionModule(g,y,l),this.setFunctionModule(y,g,l)}}drawFinderPattern(u,f){for(let c=-4;c<=4;c++)for(let l=-4;l<=4;l++){let g=Math.max(Math.abs(l),Math.abs(c)),y=u+l,_=f+c;0<=y&&y<this.size&&0<=_&&_<this.size&&this.setFunctionModule(y,_,g!=2&&g!=4)}}drawAlignmentPattern(u,f){for(let c=-2;c<=2;c++)for(let l=-2;l<=2;l++)this.setFunctionModule(u+l,f+c,Math.max(Math.abs(l),Math.abs(c))!=1)}setFunctionModule(u,f,c){this.modules[f][u]=c,this.isFunction[f][u]=!0}addEccAndInterleave(u){let f=this.version,c=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(f,c))throw new RangeError("Invalid argument");let l=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][f],g=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][f],y=Math.floor(e.getNumRawDataModules(f)/8),_=l-y%l,w=Math.floor(y/l),I=[],T=e.reedSolomonComputeDivisor(g);for(let B=0,q=0;B<l;B++){let C=u.slice(q,q+w-g+(B<_?0:1));q+=C.length;let d=e.reedSolomonComputeRemainder(C,T);B<_&&C.push(0),I.push(C.concat(d))}let O=[];for(let B=0;B<I[0].length;B++)I.forEach((q,C)=>{(B!=w-g||C>=_)&&O.push(q[B])});return a(O.length==y),O}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let l=0;l<this.size;l++)for(let g=0;g<2;g++){let y=c-g,w=(c+1&2)==0?this.size-1-l:l;!this.isFunction[w][y]&&f<u.length*8&&(this.modules[w][y]=i(u[f>>>3],7-(f&7)),f++)}}a(f==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let c=0;c<this.size;c++){let l;switch(u){case 0:l=(c+f)%2==0;break;case 1:l=f%2==0;break;case 2:l=c%3==0;break;case 3:l=(c+f)%3==0;break;case 4:l=(Math.floor(c/3)+Math.floor(f/2))%2==0;break;case 5:l=c*f%2+c*f%3==0;break;case 6:l=(c*f%2+c*f%3)%2==0;break;case 7:l=((c+f)%2+c*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][c]&&l&&(this.modules[f][c]=!this.modules[f][c])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let y=!1,_=0,w=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[g][I]==y?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,w),y||(u+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),y=this.modules[g][I],_=1);u+=this.finderPenaltyTerminateAndCount(y,_,w)*e.PENALTY_N3}for(let g=0;g<this.size;g++){let y=!1,_=0,w=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][g]==y?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,w),y||(u+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),y=this.modules[I][g],_=1);u+=this.finderPenaltyTerminateAndCount(y,_,w)*e.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let y=0;y<this.size-1;y++){let _=this.modules[g][y];_==this.modules[g][y+1]&&_==this.modules[g+1][y]&&_==this.modules[g+1][y+1]&&(u+=e.PENALTY_N2)}let f=0;for(let g of this.modules)f=g.reduce((y,_)=>y+(_?1:0),f);let c=this.size*this.size,l=Math.ceil(Math.abs(f*20-c*10)/c)-1;return a(0<=l&&l<=9),u+=l*e.PENALTY_N4,a(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{let u=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2,c=[6];for(let l=this.size-7;c.length<u;l-=f)c.splice(1,0,l);return c}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*u+128)*u+64;if(u>=2){let c=Math.floor(u/7)+2;f-=(25*c-10)*c-55,u>=7&&(f-=36)}return a(208<=f&&f<=29648),f}static getNumDataCodewords(u,f){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let f=[];for(let l=0;l<u-1;l++)f.push(0);f.push(1);let c=1;for(let l=0;l<u;l++){for(let g=0;g<f.length;g++)f[g]=e.reedSolomonMultiply(f[g],c),g+1<f.length&&(f[g]^=f[g+1]);c=e.reedSolomonMultiply(c,2)}return f}static reedSolomonComputeRemainder(u,f){let c=f.map(l=>0);for(let l of u){let g=l^c.shift();c.push(0),f.forEach((y,_)=>c[_]^=e.reedSolomonMultiply(y,g))}return c}static reedSolomonMultiply(u,f){if(u>>>8!=0||f>>>8!=0)throw new RangeError("Byte out of range");let c=0;for(let l=7;l>=0;l--)c=c<<1^(c>>>7)*285,c^=(f>>>l&1)*u;return a(c>>>8==0),c}finderPenaltyCountPatterns(u){let f=u[1];a(f<=this.size*3);let c=f>0&&u[2]==f&&u[3]==f*3&&u[4]==f&&u[5]==f;return(c&&u[0]>=f*4&&u[6]>=f?1:0)+(c&&u[6]>=f*4&&u[0]>=f?1:0)}finderPenaltyTerminateAndCount(u,f,c){return u&&(this.finderPenaltyAddHistory(f,c),f=0),f+=this.size,this.finderPenaltyAddHistory(f,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(u,f){f[0]==0&&(u+=this.size),f.pop(),f.unshift(u)}},t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=t;function n(u,f,c){if(f<0||f>31||u>>>f!=0)throw new RangeError("Value out of range");for(let l=f-1;l>=0;l--)c.push(u>>>l&1)}function i(u,f){return(u>>>f&1)!=0}function a(u){if(!u)throw new Error("Assertion error")}let o=class{constructor(u,f,c){if(this.mode=u,this.numChars=f,this.bitData=c,f<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(u){let f=[];for(let c of u)n(c,8,f);return new o(o.Mode.BYTE,u.length,f)}static makeNumeric(u){if(!o.isNumeric(u))throw new RangeError("String contains non-numeric characters");let f=[];for(let c=0;c<u.length;){let l=Math.min(u.length-c,3);n(parseInt(u.substr(c,l),10),l*3+1,f),c+=l}return new o(o.Mode.NUMERIC,u.length,f)}static makeAlphanumeric(u){if(!o.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],c;for(c=0;c+2<=u.length;c+=2){let l=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c))*45;l+=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c+1)),n(l,11,f)}return c<u.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c)),6,f),new o(o.Mode.ALPHANUMERIC,u.length,f)}static makeSegments(u){return u==""?[]:o.isNumeric(u)?[o.makeNumeric(u)]:o.isAlphanumeric(u)?[o.makeAlphanumeric(u)]:[o.makeBytes(o.toUtf8ByteArray(u))]}static makeEci(u){let f=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<1<<7)n(u,8,f);else if(u<1<<14)n(2,2,f),n(u,14,f);else if(u<1e6)n(6,3,f),n(u,21,f);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,f)}static isNumeric(u){return o.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return o.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,f){let c=0;for(let l of u){let g=l.mode.numCharCountBits(f);if(l.numChars>=1<<g)return 1/0;c+=4+g+l.bitData.length}return c}static toUtf8ByteArray(u){u=encodeURI(u);let f=[];for(let c=0;c<u.length;c++)u.charAt(c)!="%"?f.push(u.charCodeAt(c)):(f.push(parseInt(u.substr(c+1,2),16)),c+=2);return f}},s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.QrSegment=s})(uh||(uh={}));(r=>{let e;(t=>{let n=class{constructor(a,o){this.ordinal=a,this.formatBits=o}},i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),t.Ecc=i})(e=r.QrCode||(r.QrCode={}))})(uh||(uh={}));(r=>{let e;(t=>{let n=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}},i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),t.Mode=i})(e=r.QrSegment||(r.QrSegment={}))})(uh||(uh={}));var Jp=uh;var rz={L:Jp.QrCode.Ecc.LOW,M:Jp.QrCode.Ecc.MEDIUM,Q:Jp.QrCode.Ecc.QUARTILE,H:Jp.QrCode.Ecc.HIGH},nz=128,iz="L",az="#FFFFFF",oz="#000000",sz=!1,oC=4,dve=.1;function uz(r,e=0){let t=[];return r.forEach(function(n,i){let a=null;n.forEach(function(o,s){if(!o&&a!==null){t.push(`M${a+e} ${i+e}h${s-a}v1H${a+e}z`),a=null;return}if(s===n.length-1){if(!o)return;a===null?t.push(`M${s+e},${i+e} h1v1H${s+e}z`):t.push(`M${a+e},${i+e} h${s+1-a}v1H${a+e}z`);return}o&&a===null&&(a=s)})}),t.join("")}function fz(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function cz(r,e,t,n){if(n==null)return null;let i=t?oC:0,a=r.length+i*2,o=Math.floor(e*dve),s=a/e,u=(n.width||o)*s,f=(n.height||o)*s,c=n.x==null?r.length/2-u/2:n.x*s,l=n.y==null?r.length/2-f/2:n.y*s,g=null;if(n.excavate){let y=Math.floor(c),_=Math.floor(l),w=Math.ceil(u+c-y),I=Math.ceil(f+l-_);g={x:y,y:_,w,h:I}}return{x:c,y:l,h:f,w:u,excavation:g}}var lve=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function dz(r){let e=r,{value:t,size:n=nz,level:i=iz,bgColor:a=az,fgColor:o=oz,includeMargin:s=sz,style:u,imageSettings:f}=e,c=aC(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),l=f?.src,g=(0,qi.useRef)(null),y=(0,qi.useRef)(null),[_,w]=(0,qi.useState)(!1);(0,qi.useEffect)(()=>{if(g.current!=null){let O=g.current,B=O.getContext("2d");if(!B)return;let q=Jp.QrCode.encodeText(t,rz[i]).getModules(),C=s?oC:0,d=q.length+C*2,m=cz(q,n,s,f),x=y.current,D=m!=null&&x!==null&&x.complete&&x.naturalHeight!==0&&x.naturalWidth!==0;D&&m.excavation!=null&&(q=fz(q,m.excavation));let M=window.devicePixelRatio||1;O.height=O.width=n*M;let Q=n/d*M;B.scale(Q,Q),B.fillStyle=a,B.fillRect(0,0,d,d),B.fillStyle=o,lve?B.fill(new Path2D(uz(q,C))):q.forEach(function(L,b){L.forEach(function(A,R){A&&B.fillRect(R+C,b+C,1,1)})}),D&&B.drawImage(x,m.x+C,m.y+C,m.w,m.h)}}),(0,qi.useEffect)(()=>{w(!1)},[l]);let I=Pv({height:n,width:n},u),T=null;return l!=null&&(T=qi.default.createElement("img",{src:l,key:l,style:{display:"none"},onLoad:()=>{w(!0)},ref:y})),qi.default.createElement(qi.default.Fragment,null,qi.default.createElement("canvas",Pv({style:I,height:n,width:n,ref:g},c)),T)}function lz(r){let e=r,{value:t,size:n=nz,level:i=iz,bgColor:a=az,fgColor:o=oz,includeMargin:s=sz,imageSettings:u}=e,f=aC(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),c=Jp.QrCode.encodeText(t,rz[i]).getModules(),l=s?oC:0,g=c.length+l*2,y=cz(c,n,s,u),_=null;u!=null&&y!=null&&(y.excavation!=null&&(c=fz(c,y.excavation)),_=qi.default.createElement("image",{xlinkHref:u.src,height:y.h,width:y.w,x:y.x+l,y:y.y+l,preserveAspectRatio:"none"}));let w=uz(c,l);return qi.default.createElement("svg",Pv({height:n,width:n,viewBox:`0 0 ${g} ${g}`},f),qi.default.createElement("path",{fill:a,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),qi.default.createElement("path",{fill:o,d:w,shapeRendering:"crispEdges"}),_)}var hve=r=>{let e=r,{renderAs:t}=e,n=aC(e,["renderAs"]);return t==="svg"?qi.default.createElement(lz,Pv({},n)):qi.default.createElement(dz,Pv({},n))}});var si=E(Mv=>{"use strict";h();p();var pve=Mv&&Mv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Mv,"__esModule",{value:!0});var gve=dQ(),yve=function(r){pve(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(gve.CustomError);Mv.default=yve});var Sw=E(Nv=>{"use strict";h();p();var vve=Nv&&Nv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nv,"__esModule",{value:!0});var mve=si(),_ve=function(r){vve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(mve.default);Nv.default=_ve});var Ge=E(qv=>{"use strict";h();p();var xve=qv&&qv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qv,"__esModule",{value:!0});var bve=si(),wve=function(r){xve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(bve.default);qv.default=wve});var uC=E(sC=>{"use strict";h();p();Object.defineProperty(sC,"__esModule",{value:!0});var Eve=Ge(),Ive=function(){function r(e){if(this.binarizer=e,e===null)throw new Eve.default("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}();sC.default=Ive});var Hs=E(Fv=>{"use strict";h();p();var Sve=Fv&&Fv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fv,"__esModule",{value:!0});var Tve=si(),Cve=function(r){Sve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Tve.default);Fv.default=Cve});var cC=E(fC=>{"use strict";h();p();Object.defineProperty(fC,"__esModule",{value:!0});var Ave=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}();fC.default=Ave});var Mr=E(dC=>{"use strict";h();p();Object.defineProperty(dC,"__esModule",{value:!0});var Ove=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}();dC.default=Ove});var Tw=E(Lv=>{"use strict";h();p();var Dve=Lv&&Lv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Lv,"__esModule",{value:!0});var Rve=si(),Pve=function(r){Dve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Rve.default);Lv.default=Pve});var gz=E(Uv=>{"use strict";h();p();var Bve=Uv&&Uv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Uv,"__esModule",{value:!0});var Mve=Tw(),Nve=function(r){Bve(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Mve.default);Uv.default=Nve});var Ks=E(kv=>{"use strict";h();p();var qve=kv&&kv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(kv,"__esModule",{value:!0});var Fve=Mr(),Lve=Ge(),yz=gz(),Uve=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new Lve.default("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new yz.default(t);if(n>e)throw new yz.default(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=qve(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return Fve.default.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}();kv.default=Uve});var sa=E(lC=>{"use strict";h();p();Object.defineProperty(lC,"__esModule",{value:!0});var kve=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();lC.default=kve});var Ru=E(hC=>{"use strict";h();p();Object.defineProperty(hC,"__esModule",{value:!0});var Cw=Ge(),vz=Ks(),mz=sa(),jve=Mr(),Hve=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);jve.default.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var s=i*32+mz.default.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var s=i*32+mz.default.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Cw.default;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,u=o<i?31:t&31,f=(2<<u)-(1<<s);a[o]|=f}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new Cw.default;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,f=s<a?31:t&31,c=(2<<f)-(1<<u)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Cw.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Cw.default("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,a=1;a<n;a++){var f=e[a];u|=f<<32-s,e[a-1]=u,u=f>>>s}e[n-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&vz.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+vz.default.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r}();hC.default=Hve});var ui=E(gC=>{"use strict";h();p();Object.defineProperty(gC,"__esModule",{value:!0});var pC;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(pC||(pC={}));gC.default=pC});var Lt=E(jv=>{"use strict";h();p();var Kve=jv&&jv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jv,"__esModule",{value:!0});var Vve=si(),Gve=function(r){Kve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Vve.default);jv.default=Gve});var Lf=E(N0=>{"use strict";h();p();var Yve=N0&&N0.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N0,"__esModule",{value:!0});N0.CharacterSetValueIdentifiers=void 0;var yC=Lt(),rt;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(rt=N0.CharacterSetValueIdentifiers||(N0.CharacterSetValueIdentifiers={}));var zve=function(){function r(e,t,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var u=this.values,f=0,c=u.length;f!==c;f++){var l=u[f];r.VALUES_TO_ECI.set(l,this)}try{for(var g=Yve(o),y=g.next();!y.done;y=g.next()){var _=y.value;r.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new yC.default("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new yC.default("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new yC.default("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(rt.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(rt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(rt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(rt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(rt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(rt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(rt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(rt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(rt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(rt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(rt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(rt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(rt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(rt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(rt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(rt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(rt.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(rt.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(rt.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(rt.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(rt.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(rt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(rt.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(rt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(rt.Big5,28,"Big5"),r.GB18030=new r(rt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(rt.EUC_KR,30,"EUC_KR","EUC-KR"),r}();N0.default=zve});var Aw=E(Hv=>{"use strict";h();p();var Wve=Hv&&Hv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hv,"__esModule",{value:!0});var Xve=si(),Jve=function(r){Wve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Xve.default);Hv.default=Jve});var fh=E(vC=>{"use strict";h();p();Object.defineProperty(vC,"__esModule",{value:!0});var $ve=Aw(),$p=Lf(),Zve=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof $p.default?e:$p.default.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals($p.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $ve.default("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals($p.default.UTF8)||e.equals($p.default.ISO8859_1)||e.equals($p.default.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}();vC.default=Zve});var Vs=E(_C=>{"use strict";h();p();Object.defineProperty(_C,"__esModule",{value:!0});var _z=ui(),mC=Lf(),xz=fh(),Qve=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return xz.default.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(_z.default.CHARACTER_SET)!==void 0)return t.get(_z.default.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,u=0,f=0,c=0,l=0,g=0,y=0,_=0,w=0,I=0,T=0,O=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,B=0;B<n&&(i||a||o);B++){var q=e[B]&255;o&&(s>0?(q&128)===0?o=!1:s--:(q&128)!==0&&((q&64)===0?o=!1:(s++,(q&32)===0?u++:(s++,(q&16)===0?f++:(s++,(q&8)===0?c++:o=!1))))),i&&(q>127&&q<160?i=!1:q>159&&(q<192||q===215||q===247)&&T++),a&&(l>0?q<64||q===127||q>252?a=!1:l--:q===128||q===160||q>239?a=!1:q>160&&q<224?(g++,_=0,y++,y>w&&(w=y)):q>127?(l++,y=0,_++,_>I&&(I=_)):(y=0,_=0))}return o&&s>0&&(o=!1),a&&l>0&&(a=!1),o&&(O||u+f+c>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||w>=3||I>=3)?r.SHIFT_JIS:i&&a?w===2&&g===2||T*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(s,u,f,c,l,g){if(s==="%%")return"%";if(t[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var y=l?parseInt(l.substr(1)):void 0,_;switch(g){case"s":_=t[i];break;case"c":_=t[i][0];break;case"f":_=parseFloat(t[i]).toFixed(s);break;case"p":_=parseFloat(t[i]).toPrecision(s);break;case"e":_=parseFloat(t[i]).toExponential(s);break;case"x":_=parseInt(t[i]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[i],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var w=parseInt(f),I=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=u!==void 0?_+I:I+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return xz.default.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=mC.default.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=mC.default.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=mC.default.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}();_C.default=Qve});var dr=E(xC=>{"use strict";h();p();Object.defineProperty(xC,"__esModule",{value:!0});var eme=Vs(),tme=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=eme.default.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},r}();xC.default=tme});var Ra=E(bC=>{"use strict";h();p();Object.defineProperty(bC,"__esModule",{value:!0});var Ow=Ru(),rme=Mr(),bz=Ks(),nme=dr(),Uf=Ge(),ime=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Uf.default("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new Uf.default("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Uf.default("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new Uf.default("illegal character encountered: "+e.substring(f));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Uf.default("row lengths do not match");u++}for(var c=new r(s,u),l=0;l<a;l++)i[l]&&c.set(Math.floor(l%s),Math.floor(l/s));return c},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Uf.default("input matrix dimensions do not match");for(var t=new Ow.default(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,u=e.getRow(a,t).getBitArray(),f=0;f<n;f++)i[s+f]^=u[f]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new Uf.default("Left and top must be nonnegative");if(i<1||n<1)throw new Uf.default("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new Uf.default("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=t;f<o;f++)for(var c=f*s,l=e;l<a;l++)u[c+Math.floor(l/32)]|=1<<(l&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Ow.default(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){rme.default.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Ow.default(e),i=new Ow.default(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,s=-1,u=-1,f=0;f<t;f++)for(var c=0;c<n;c++){var l=i[f*n+c];if(l!==0){if(f<o&&(o=f),f>u&&(u=f),c*32<a){for(var g=0;(l<<31-g&4294967295)===0;)g++;c*32+g<a&&(a=c*32+g)}if(c*32+31>s){for(var g=31;l>>>g===0;)g--;c*32+g>s&&(s=c*32+g)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],s=31;o>>>s===0;)s--;return a+=s,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&bz.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+bz.default.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new nme.default,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}();bC.default=ime});var Te=E(Kv=>{"use strict";h();p();var ame=Kv&&Kv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kv,"__esModule",{value:!0});var ome=si(),sme=function(r){ame(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(ome.default);Kv.default=sme});var wC=E(Vv=>{"use strict";h();p();var ume=Vv&&Vv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vv,"__esModule",{value:!0});var fme=cC(),cme=Ru(),dme=Ra(),lme=Te(),hme=function(r){ume(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new cme.default(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&n.set(u);else for(var c=o[0]&255,l=o[1]&255,u=1;u<a-1;u++){var g=o[u+1]&255;(l*4-c-g)/2<f&&n.set(u),c=l,l=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new dme.default(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=t.getRow(u,this.luminances),c=Math.floor(n*4/5),l=Math.floor(n/5);l<c;l++){var g=f[l]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(o),_=t.getMatrix(),s=0;s<i;s++)for(var w=s*n,l=0;l<n;l++){var g=_[w+l]&255;g<y&&a.set(l,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,s=0;s<n;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var u=0,f=0,s=0;s<n;s++){var c=s-a,l=t[s]*c*c;l>f&&(u=s,f=l)}if(a>u){var g=a;a=u,u=g}if(u-a<=n/16)throw new lme.default;for(var y=u-1,_=-1,s=u-1;s>a;s--){var w=s-a,l=w*w*(u-s)*(i-t[s]);l>_&&(y=s,_=l)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(fme.default);Vv.default=hme});var EC=E(Gv=>{"use strict";h();p();var pme=Gv&&Gv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Gv,"__esModule",{value:!0});var gme=wC(),yme=Ra(),vme=function(r){pme(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(a,o,s,n,i),f=new yme.default(n,i);e.calculateThresholdForBlock(a,o,s,n,i,u,f),this.matrix=f}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,s,u){for(var f=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,l=0;l<i;l++){var g=l<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var y=e.cap(l,2,i-3),_=0;_<n;_++){var w=_<<e.BLOCK_SIZE_POWER;w>c&&(w=c);for(var I=e.cap(_,2,n-3),T=0,O=-2;O<=2;O++){var B=s[y+O];T+=B[I-2]+B[I-1]+B[I]+B[I+1]+B[I+2]}var q=T/25;e.thresholdBlock(t,w,g,q,a,u)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,s){for(var u=0,f=i*o+n;u<e.BLOCK_SIZE;u++,f+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(t[f+c]&255)<=a&&s.set(n+c,i+u)},e.calculateBlackPoints=function(t,n,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),c=0;c<i;c++){f[c]=new Int32Array(n);var l=c<<e.BLOCK_SIZE_POWER;l>s&&(l=s);for(var g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>u&&(y=u);for(var _=0,w=255,I=0,T=0,O=l*a+y;T<e.BLOCK_SIZE;T++,O+=a){for(var B=0;B<e.BLOCK_SIZE;B++){var q=t[O+B]&255;_+=q,q<w&&(w=q),q>I&&(I=q)}if(I-w>e.MIN_DYNAMIC_RANGE)for(T++,O+=a;T<e.BLOCK_SIZE;T++,O+=a)for(var B=0;B<e.BLOCK_SIZE;B++)_+=t[O+B]&255}var C=_>>e.BLOCK_SIZE_POWER*2;if(I-w<=e.MIN_DYNAMIC_RANGE&&(C=w/2,c>0&&g>0)){var d=(f[c-1][g]+2*f[c][g-1]+f[c-1][g-1])/4;w<d&&(C=d)}f[c][g]=C}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(gme.default);Gv.default=vme});var Zp=E(SC=>{"use strict";h();p();Object.defineProperty(SC,"__esModule",{value:!0});var mme=dr(),IC=Aw(),_me=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new IC.default("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new IC.default("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new IC.default("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new mme.default,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}();SC.default=_me});var Qp=E(Yv=>{"use strict";h();p();var xme=Yv&&Yv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Yv,"__esModule",{value:!0});var bme=Zp(),wme=function(r){xme(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(bme.default);Yv.default=wme});var TC=E(eg=>{"use strict";h();p();var Eme=eg&&eg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eg,"__esModule",{value:!0});eg.HTMLCanvasElementLuminanceSource=void 0;var Ime=Qp(),Sme=Zp(),Tme=Ge(),Cme=function(r){Eme(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=t.length;o<u;o+=4,s++){var f=void 0,c=t[o+3];if(c===0)f=255;else{var l=t[o],g=t[o+1],y=t[o+2];f=306*l+601*g+117*y+512>>10}a[s]=f}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Tme.default("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Ime.default(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Sme.default);eg.HTMLCanvasElementLuminanceSource=Cme});var CC=E(Dw=>{"use strict";h();p();Object.defineProperty(Dw,"__esModule",{value:!0});Dw.VideoInputDevice=void 0;var Ame=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}();Dw.VideoInputDevice=Ame});var q0=E(Bu=>{"use strict";h();p();var Fi=Bu&&Bu.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{f(n.next(c))}catch(l){o(l)}}function u(c){try{f(n.throw(c))}catch(l){o(l)}}function f(c){c.done?a(c.value):i(c.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},Li=Bu&&Bu.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Ome=Bu&&Bu.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.BrowserCodeReader=void 0;var Pu=Sw(),Dme=uC(),wz=Hs(),Rme=EC(),Ez=Lt(),AC=Te(),Pme=TC(),Bme=CC(),Mme=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Fi(this,void 0,void 0,function(){var e,t,n,i,a,o,s,u,f,c,l,g;return Li(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=Ome(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(t.length+1),f=a.groupId,c={deviceId:s,label:u,kind:o,groupId:f},t.push(c))}catch(_){l={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Fi(this,void 0,void 0,function(){var e;return Li(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new Bme.VideoInputDevice(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Fi(this,void 0,void 0,function(){var t;return Li(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Fi(this,void 0,void 0,function(){return Li(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Fi(this,void 0,void 0,function(){var n,i;return Li(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Fi(this,void 0,void 0,function(){var n;return Li(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Fi(this,void 0,void 0,function(){var n,i;return Li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Fi(this,void 0,void 0,function(){return Li(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Fi(this,void 0,void 0,function(){var i,a;return Li(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Fi(this,void 0,void 0,function(){var i;return Li(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Fi(this,void 0,void 0,function(){var i;return Li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Fi(this,void 0,void 0,function(){var n;return Li(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Fi(this,void 0,void 0,function(){var t;return Li(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Pu.default("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Pu.default("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Pu.default("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Pu.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Pu.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Pu.default("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Pu.default("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Pu.default("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Pu.default("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Pu.default("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Fi(this,void 0,void 0,function(){return Li(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Fi(this,void 0,void 0,function(){return Li(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new AC.default("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(g){var f=t&&g instanceof AC.default,c=g instanceof wz.default||g instanceof Ez.default,l=c&&n;if(f||l)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(g)}};return new Promise(function(o,s){return a(o,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){t(null,u);var o=u instanceof wz.default||u instanceof Ez.default,s=u instanceof AC.default;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype._isHTMLVideoElement=function(e){var t=e;return t.videoWidth!==0},r.prototype.createBinaryBitmap=function(e){var t=this.getCaptureCanvasContext(e);this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Pme.HTMLCanvasElementLuminanceSource(n),a=new Rme.default(i);return new Dme.default(a)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}();Bu.BrowserCodeReader=Mme});var fi=E(OC=>{"use strict";h();p();Object.defineProperty(OC,"__esModule",{value:!0});var Rw=Mr(),Nme=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=Rw.default.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Rw.default.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);Rw.default.arraycopy(t,0,n,0,t.length),Rw.default.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}();OC.default=Nme});var _t=E(RC=>{"use strict";h();p();Object.defineProperty(RC,"__esModule",{value:!0});var DC;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(DC||(DC={}));RC.default=DC});var Mu=E(BC=>{"use strict";h();p();Object.defineProperty(BC,"__esModule",{value:!0});var PC;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(PC||(PC={}));BC.default=PC});var tg=E(MC=>{"use strict";h();p();Object.defineProperty(MC,"__esModule",{value:!0});var qme=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}();MC.default=qme});var qC=E(NC=>{"use strict";h();p();Object.defineProperty(NC,"__esModule",{value:!0});var Fme=Ge(),Lme=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Fme.default;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}();NC.default=Lme});var zv=E(FC=>{"use strict";h();p();Object.defineProperty(FC,"__esModule",{value:!0});var Pw=qC(),Iz=Mr(),rg=Ge(),Ume=function(){function r(e,t){if(t.length===0)throw new rg.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Iz.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=Pw.default.addOrSubtract(n,o)}return n}n=t[0];for(var s=t.length,u=this.field,i=1;i<s;i++)n=Pw.default.addOrSubtract(u.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new rg.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;Iz.default.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Pw.default.addOrSubtract(t[s-o],n[s]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new rg.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,u=0;u<n;u++)for(var f=t[u],c=0;c<a;c++)o[u+c]=Pw.default.addOrSubtract(o[u+c],s.multiply(f,i[c]));return new r(s,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new rg.default;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new rg.default("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new rg.default("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(s,u),c=t.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(f)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}();FC.default=Ume});var Bw=E(Wv=>{"use strict";h();p();var kme=Wv&&Wv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Wv,"__esModule",{value:!0});var jme=si(),Hme=function(r){kme(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(jme.default);Wv.default=Hme});var kf=E(Xv=>{"use strict";h();p();var Kme=Xv&&Xv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xv,"__esModule",{value:!0});var LC=zv(),Vme=qC(),Gme=sa(),Yme=Ge(),zme=Bw(),Wme=function(r){Kme(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=t,s&=n-1);a.expTable=o;for(var f=new Int32Array(n),u=0;u<n-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new LC.default(a,Int32Array.from([0])),a.one=new LC.default(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Yme.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new LC.default(this,i)},e.prototype.inverse=function(t){if(t===0)throw new zme.default;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Gme.default.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Vme.default);Xv.default=Wme});var UC=E(Jv=>{"use strict";h();p();var Xme=Jv&&Jv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jv,"__esModule",{value:!0});var Jme=si(),$me=function(r){Xme(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Jme.default);Jv.default=$me});var Nu=E($v=>{"use strict";h();p();var Zme=$v&&$v.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($v,"__esModule",{value:!0});var Qme=si(),e2e=function(r){Zme(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Qme.default);$v.default=e2e});var ng=E(kC=>{"use strict";h();p();Object.defineProperty(kC,"__esModule",{value:!0});var t2e=kf(),Sz=zv(),Mw=UC(),r2e=Nu(),n2e=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new Sz.default(n,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var f=new Sz.default(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(t,1),f,t),l=c[0],g=c[1],y=this.findErrorLocations(l),_=this.findErrorMagnitudes(g,y),s=0;s<y.length;s++){var w=e.length-1-n.log(y[s]);if(w<0)throw new Mw.default("Bad error location");e[w]=t2e.default.addOrSubtract(e[w],_[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,u=a.getZero(),f=a.getOne();s.getDegree()>=(n/2|0);){var c=o,l=u;if(o=s,u=f,o.isZero())throw new Mw.default("r_{i-1} was zero");s=c;for(var g=a.getZero(),y=o.getCoefficient(o.getDegree()),_=a.inverse(y);s.getDegree()>=o.getDegree()&&!s.isZero();){var w=s.getDegree()-o.getDegree(),I=a.multiply(s.getCoefficient(s.getDegree()),_);g=g.addOrSubtract(a.buildMonomial(w,I)),s=s.addOrSubtract(o.multiplyByMonomial(w,I))}if(f=g.multiply(u).addOrSubtract(l),s.getDegree()>=o.getDegree())throw new r2e.default("Division algorithm failed to reduce polynomial?")}var T=f.getCoefficient(0);if(T===0)throw new Mw.default("sigmaTilde(0) was zero");var O=a.inverse(T),B=f.multiplyScalar(O),q=s.multiplyScalar(O);return[B,q]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new Mw.default("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(t[o]),u=1,f=0;f<n;f++)if(o!==f){var c=a.multiply(t[f],s),l=(c&1)===0?c|1:c&-2;u=a.multiply(u,l)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},r}();kC.default=n2e});var KC=E(HC=>{"use strict";h();p();Object.defineProperty(HC,"__esModule",{value:!0});var i2e=tg(),Nw=kf(),a2e=ng(),o2e=Nu(),jC=Lt(),s2e=Vs(),qw=sa(),un;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(un||(un={}));var u2e=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),s=new i2e.default(a,o,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=un.UPPER,i=un.UPPER,a="",o=0;o<t;)if(i===un.BINARY){if(t-o<5)break;var s=r.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=r.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(t-o<8){o=t;break}var f=r.readCode(e,o,8);a+=s2e.default.castAsNonUtf8Char(f),o+=8}i=n}else{var c=i===un.DIGIT?4:5;if(t-o<c)break;var f=r.readCode(e,o,c);o+=c;var l=r.getCharacter(i,f);l.startsWith("CTRL_")?(n=i,i=r.getTable(l.charAt(5)),l.charAt(6)==="L"&&(n=i)):(a+=l,i=n)}return a},r.getTable=function(e){switch(e){case"L":return un.LOWER;case"P":return un.PUNCT;case"M":return un.MIXED;case"D":return un.DIGIT;case"B":return un.BINARY;case"U":default:return un.UPPER}},r.getCharacter=function(e,t){switch(e){case un.UPPER:return r.UPPER_TABLE[t];case un.LOWER:return r.LOWER_TABLE[t];case un.MIXED:return r.MIXED_TABLE[t];case un.PUNCT:return r.PUNCT_TABLE[t];case un.DIGIT:return r.DIGIT_TABLE[t];default:throw new o2e.default("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=Nw.default.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Nw.default.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Nw.default.AZTEC_DATA_10):(n=12,t=Nw.default.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new jC.default;for(var o=e.length%n,s=new Int32Array(a),u=0;u<a;u++,o+=n)s[u]=r.readCode(e,o,n);try{var f=new a2e.default(t);f.decode(s,a-i)}catch(I){throw new jC.default(I)}for(var c=(1<<n)-1,l=0,u=0;u<i;u++){var g=s[u];if(g===0||g===c)throw new jC.default;(g===1||g===c-1)&&l++}for(var y=new Array(i*n-l),_=0,u=0;u<i;u++){var g=s[u];if(g===1||g===c-1)y.fill(g>1,_,_+n-1),_+=n-1;else for(var w=n-1;w>=0;--w)y[_++]=(g&1<<w)!==0}return y},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*qw.default.truncDivision(qw.default.truncDivision(i,2)-1,15),f=i/2,c=qw.default.truncDivision(u,2),s=0;s<f;s++){var l=s+qw.default.truncDivision(s,15);a[f-s-1]=c-l-1,a[f+s]=c+l+1}for(var s=0,g=0;s<n;s++){for(var y=(n-s)*4+(t?9:12),_=s*2,w=i-1-_,I=0;I<y;I++)for(var T=I*2,O=0;O<2;O++)o[g+T+O]=e.get(a[_+O],a[_+I]),o[g+2*y+T+O]=e.get(a[_+I],a[w-O]),o[g+4*y+T+O]=e.get(a[w-O],a[w-I]),o[g+6*y+T+O]=e.get(a[w-I],a[_+O]);g+=y*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}();HC.default=u2e});var Jo=E(VC=>{"use strict";h();p();Object.defineProperty(VC,"__esModule",{value:!0});var f2e=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}();VC.default=f2e});var YC=E(GC=>{"use strict";h();p();Object.defineProperty(GC,"__esModule",{value:!0});var c2e=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();GC.default=c2e});var lr=E(zC=>{"use strict";h();p();Object.defineProperty(zC,"__esModule",{value:!0});var d2e=Jo(),Tz=YC(),l2e=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Tz.default.floatToIntBits(this.x)+Tz.default.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=t&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},r.distance=function(e,t){return d2e.default.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}();zC.default=l2e});var Zv=E(WC=>{"use strict";h();p();Object.defineProperty(WC,"__esModule",{value:!0});var h2e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();WC.default=h2e});var XC=E(Qv=>{"use strict";h();p();var p2e=Qv&&Qv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Qv,"__esModule",{value:!0});var g2e=Zv(),y2e=function(r){p2e(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(g2e.default);Qv.default=y2e});var Lw=E(JC=>{"use strict";h();p();Object.defineProperty(JC,"__esModule",{value:!0});var jf=lr(),Fw=Jo(),ig=Te(),v2e=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ig.default}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,f=!1,c=!1,l=!1,g=this.width,y=this.height;o;){o=!1;for(var _=!0;(_||!u)&&t<g;)_=this.containsBlackPoint(n,i,t,!1),_?(t++,o=!0,u=!0):u||t++;if(t>=g){a=!0;break}for(var w=!0;(w||!f)&&i<y;)w=this.containsBlackPoint(e,t,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=y){a=!0;break}for(var I=!0;(I||!c)&&e>=0;)I=this.containsBlackPoint(n,i,e,!1),I?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var T=!0;(T||!l)&&n>=0;)T=this.containsBlackPoint(e,t,n,!0),T?(n--,o=!0,l=!0):l||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var O=t-e,B=null,q=1;B===null&&q<O;q++)B=this.getBlackPointOnSegment(e,i-q,e+q,i);if(B==null)throw new ig.default;for(var C=null,q=1;C===null&&q<O;q++)C=this.getBlackPointOnSegment(e,n+q,e+q,n);if(C==null)throw new ig.default;for(var d=null,q=1;d===null&&q<O;q++)d=this.getBlackPointOnSegment(t,n+q,t-q,n);if(d==null)throw new ig.default;for(var m=null,q=1;m===null&&q<O;q++)m=this.getBlackPointOnSegment(t,i-q,t-q,i);if(m==null)throw new ig.default;return this.centerEdges(m,B,d,C)}else throw new ig.default},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=Fw.default.round(Fw.default.distance(e,t,n,i)),o=(n-e)/a,s=(i-t)/a,u=this.image,f=0;f<a;f++){var c=Fw.default.round(e+f*o),l=Fw.default.round(t+f*s);if(u.get(c,l))return new jf.default(c,l)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),s=t.getX(),u=t.getY(),f=n.getX(),c=n.getY(),l=i.getX(),g=i.getY(),y=r.CORR;return a<this.width/2?[new jf.default(l-y,g+y),new jf.default(s+y,u+y),new jf.default(f-y,c-y),new jf.default(a+y,o-y)]:[new jf.default(l+y,g+y),new jf.default(s+y,u-y),new jf.default(f-y,c+y),new jf.default(a-y,o-y)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var s=e;s<=t;s++)if(a.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}();JC.default=v2e});var ZC=E($C=>{"use strict";h();p();Object.defineProperty($C,"__esModule",{value:!0});var Cz=Te(),m2e=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>n||u<-1||u>i)throw new Cz.default;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),u=Math.floor(t[o+1]);if(s<-1||s>n||u<-1||u>i)throw new Cz.default;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),u===-1?(t[o+1]=0,a=!0):u===i&&(t[o+1]=i-1,a=!0)}},r}();$C.default=m2e});var Uw=E(QC=>{"use strict";h();p();Object.defineProperty(QC,"__esModule",{value:!0});var _2e=function(){function r(e,t,n,i,a,o,s,u,f){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=f}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,s,u,f,c,l,g,y,_,w,I){var T=r.quadrilateralToSquare(e,t,n,i,a,o,s,u),O=r.squareToQuadrilateral(f,c,l,g,y,_,w,I);return O.times(T)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=0;g<t;g+=2){var y=e[g],_=e[g+1],w=a*y+u*_+l;e[g]=(n*y+o*_+f)/w,e[g+1]=(i*y+s*_+c)/w}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=e.length,y=0;y<g;y++){var _=e[y],w=t[y],I=a*_+u*w+l;e[y]=(n*_+o*w+f)/I,t[y]=(i*_+s*w+c)/I}},r.squareToQuadrilateral=function(e,t,n,i,a,o,s,u){var f=e-n+a-s,c=t-i+o-u;if(f===0&&c===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var l=n-a,g=s-a,y=i-o,_=u-o,w=l*_-g*y,I=(f*_-g*c)/w,T=(l*c-f*y)/w;return new r(n-e+I*n,s-e+T*s,e,i-t+I*i,u-t+T*u,t,I,T,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,s,u){return r.squareToQuadrilateral(e,t,n,i,a,o,s,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}();QC.default=_2e});var eA=E(em=>{"use strict";h();p();var x2e=em&&em.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(em,"__esModule",{value:!0});var Az=ZC(),b2e=Ra(),w2e=Uw(),Oz=Te(),E2e=function(r){x2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,s,u,f,c,l,g,y,_,w,I,T,O,B,q){var C=w2e.default.quadrilateralToQuadrilateral(a,o,s,u,f,c,l,g,y,_,w,I,T,O,B,q);return this.sampleGridWithTransform(t,n,i,C)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new Oz.default;for(var o=new b2e.default(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var f=s.length,c=u+.5,l=0;l<f;l+=2)s[l]=l/2+.5,s[l+1]=c;a.transformPoints(s),Az.default.checkAndNudgePoints(t,s);try{for(var l=0;l<f;l+=2)t.get(Math.floor(s[l]),Math.floor(s[l+1]))&&o.set(l/2,u)}catch{throw new Oz.default}}return o},e}(Az.default);em.default=E2e});var tm=E(tA=>{"use strict";h();p();Object.defineProperty(tA,"__esModule",{value:!0});var I2e=eA(),S2e=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new I2e.default,r}();tA.default=S2e});var jw=E(rm=>{"use strict";h();p();Object.defineProperty(rm,"__esModule",{value:!0});rm.Point=void 0;var Hf=lr(),T2e=XC(),$o=Jo(),Dz=Lw(),C2e=kf(),A2e=ng(),kw=Te(),O2e=tm(),Rz=sa(),Ui=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new Hf.default(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}();rm.Point=Ui;var D2e=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new T2e.default(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new kw.default;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&31<<5)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,s){var u=(a>>t-2<<1)+(a&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Rz.default.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new kw.default},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new A2e.default(C2e.default.AZTEC_PARAM);u.decode(o,a)}catch{throw new kw.default}for(var f=0,s=0;s<i;s++)f=(f<<4)+o[s];return f},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),u=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(s,u,f,c))break}t=s,n=u,i=f,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new kw.default;this.compact=this.nbCenterLayers===5;var g=new Hf.default(t.getX()+.5,t.getY()-.5),y=new Hf.default(n.getX()+.5,n.getY()+.5),_=new Hf.default(i.getX()-.5,i.getY()+.5),w=new Hf.default(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,y,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new Dz.default(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ui(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ui(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ui(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ui(o-7,s-7),!1,-1,-1).toResultPoint()}var u=$o.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=$o.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new Dz.default(this.image,15,u,f).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ui(u+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ui(u+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ui(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ui(u-7,f-7),!1,-1,-1).toResultPoint()}return u=$o.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=$o.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Ui(u,f)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=O2e.default.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,s=e.getX(),u=e.getY(),f=o*(t.getX()-e.getX())/a,c=o*(t.getY()-e.getY())/a,l=0;l<n;l++)this.image.get($o.default.round(s+l*f),$o.default.round(u+l*c))&&(i|=1<<n-l-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new Ui(e.getX()-a,e.getY()+a),t=new Ui(t.getX()-a,t.getY()-a),n=new Ui(n.getX()+a,n.getY()-a),i=new Ui(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,u+=a,this.image.get($o.default.round(s),$o.default.round(u))!==f&&o++;var g=o/n;return g>.1&&g<.9?0:g<=.1===f?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new Ui(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Hf.default(s+i*a,u+i*o),c=new Hf.default(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var l=new Hf.default(s+i*a,u+i*o),g=new Hf.default(s-i*a,u-i*o),y=[f,l,c,g];return y},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=$o.default.round(e.getX()),n=$o.default.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return $o.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return $o.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Rz.default.truncDivision(this.nbLayers-4,8)+1)+15},r}();rm.default=D2e});var Hw=E(rA=>{"use strict";h();p();Object.defineProperty(rA,"__esModule",{value:!0});var R2e=fi(),P2e=_t(),B2e=ui(),Pz=Mu(),M2e=Mr(),Bz=KC(),N2e=jw(),q2e=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new N2e.default(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new Bz.default().decode(s)}catch(l){n=l}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new Bz.default().decode(s)}catch(l){throw n??l}var u=new R2e.default(o.getText(),o.getRawBytes(),o.getNumBits(),a,P2e.default.AZTEC,M2e.default.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(Pz.default.BYTE_SEGMENTS,f);var c=o.getECLevel();return c!=null&&u.putMetadata(Pz.default.ERROR_CORRECTION_LEVEL,c),u},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(B2e.default.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}();rA.default=q2e});var Mz=E(ag=>{"use strict";h();p();var F2e=ag&&ag.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ag,"__esModule",{value:!0});ag.BrowserAztecCodeReader=void 0;var L2e=q0(),U2e=Hw(),k2e=function(r){F2e(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new U2e.default,t)||this}return e}(L2e.BrowserCodeReader);ag.BrowserAztecCodeReader=k2e});var qu=E(iA=>{"use strict";h();p();Object.defineProperty(iA,"__esModule",{value:!0});var j2e=Ru(),Kw=ui(),Vw=Mu(),nA=lr(),nm=Te(),H2e=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Kw.default.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(Vw.default.ORIENTATION)===!0&&(s=s+o.get(Vw.default.ORIENTATION)%360),a.putMetadata(Vw.default.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),c=0;c<u.length;c++)u[c]=new nA.default(f-u[c].getY()-1,u[c].getX());return a}else throw new nm.default}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new j2e.default(n),o=t&&t.get(Kw.default.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),c=0;c<u;c++){var l=Math.trunc((c+1)/2),g=(c&1)===0,y=f+s*(g?l:-l);if(y<0||y>=i)break;try{a=e.getBlackRow(y,a)}catch{continue}for(var _=function(O){if(O===1&&(a.reverse(),t&&t.get(Kw.default.NEED_RESULT_POINT_CALLBACK)===!0)){var B=new Map;t.forEach(function(d,m){return B.set(m,d)}),B.delete(Kw.default.NEED_RESULT_POINT_CALLBACK),t=B}try{var q=w.decodeRow(y,a,t);if(O===1){q.putMetadata(Vw.default.ORIENTATION,180);var C=q.getResultPoints();C!==null&&(C[0]=new nA.default(n-C[0].getX()-1,C[0].getY()),C[1]=new nA.default(n-C[1].getX()-1,C[1].getY()))}return{value:q}}catch{}},w=this,I=0;I<2;I++){var T=_(I);if(typeof T=="object")return T.value}}throw new nm.default},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new nm.default;for(var s=!e.get(t),u=0,f=t;f<o;){if(e.get(f)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===o))throw new nm.default},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new nm.default;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=t[c]*u,y=l>g?l-g:g-l;if(y>n)return Number.POSITIVE_INFINITY;f+=y}return f/a},r}();iA.default=H2e});var oA=E(im=>{"use strict";h();p();var K2e=im&&im.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(im,"__esModule",{value:!0});var V2e=_t(),G2e=Hs(),Y2e=ui(),Nz=Lt(),Gw=Te(),z2e=fi(),qz=lr(),aA=qu(),W2e=function(r){K2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,c=i;c<n;c++)if(t.get(c)!==u)o[a]++;else{if(a===f-1){for(var l=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var _=aA.default.patternMatchVariance(o,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);_<l&&(l=_,g=y)}if(g>=0&&t.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,g]);s+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new Gw.default},e.decodeCode=function(t,n,i){aA.default.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=s)}if(o>=0)return o;throw new Gw.default},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Y2e.default.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],u=0,f=new Uint8Array(20);f[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new Nz.default}for(var l=!1,g=!1,y="",_=o[0],w=o[1],I=Int32Array.from([0,0,0,0,0,0]),T=0,O=0,B=s,q=0,C=!0,d=!1,m=!1;!l;){var x=g;switch(g=!1,T=O,O=e.decodeCode(n,I,w),f[u++]=O,O!==e.CODE_STOP&&(C=!0),O!==e.CODE_STOP&&(q++,B+=q*O),_=w,w+=I.reduce(function(k,V){return k+V},0),O){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Nz.default}switch(c){case e.CODE_CODE_A:if(O<64)m===d?y+=String.fromCharCode(" ".charCodeAt(0)+O):y+=String.fromCharCode(" ".charCodeAt(0)+O+128),m=!1;else if(O<96)m===d?y+=String.fromCharCode(O-64):y+=String.fromCharCode(O+64),m=!1;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!d&&m?(d=!0,m=!1):d&&m?(d=!1,m=!1):m=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_B:if(O<96)m===d?y+=String.fromCharCode(" ".charCodeAt(0)+O):y+=String.fromCharCode(" ".charCodeAt(0)+O+128),m=!1;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!d&&m?(d=!0,m=!1):d&&m?(d=!1,m=!1):m=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_C:if(O<100)O<10&&(y+="0"),y+=O;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:l=!0;break}break}x&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var D=w-_;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-_)/2),!1))throw new Gw.default;if(B-=q*T,B%103!==T)throw new G2e.default;var M=y.length;if(M===0)throw new Gw.default;M>0&&C&&(c===e.CODE_CODE_C?y=y.substring(0,M-2):y=y.substring(0,M-1));for(var Q=(o[1]+o[0])/2,L=_+D/2,b=f.length,A=new Uint8Array(b),R=0;R<b;R++)A[R]=f[R];var F=[new qz.default(Q,t),new qz.default(L,t)];return new z2e.default(y,A,0,F,V2e.default.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(aA.default);im.default=W2e});var uA=E(ch=>{"use strict";h();p();var X2e=ch&&ch.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sA=ch&&ch.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ch,"__esModule",{value:!0});var J2e=_t(),$2e=Hs(),Yw=Lt(),am=Te(),Z2e=qu(),Q2e=fi(),Fz=lr(),e_e=function(r){X2e(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,f),l=n.getNextSet(c[1]),g=n.getSize(),y,_;do{e.recordPattern(n,l,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new am.default;y=e.patternToChar(w),this.decodeRowResult+=y,_=l;try{for(var I=(a=void 0,sA(f)),T=I.next();!T.done;T=I.next()){var O=T.value;l+=O}}catch(b){a={error:b}}finally{try{T&&!T.done&&(o=I.return)&&o.call(I)}finally{if(a)throw a.error}}l=n.getNextSet(l)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var B=0;try{for(var q=sA(f),C=q.next();!C.done;C=q.next()){var O=C.value;B+=O}}catch(b){s={error:b}}finally{try{C&&!C.done&&(u=q.return)&&u.call(q)}finally{if(s)throw s.error}}var d=l-_-B;if(l!==g&&d*2<B)throw new am.default;if(this.usingCheckDigit){for(var m=this.decodeRowResult.length-1,x=0,D=0;D<m;D++)x+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(D));if(this.decodeRowResult.charAt(m)!==e.ALPHABET_STRING.charAt(x%43))throw new $2e.default;this.decodeRowResult=this.decodeRowResult.substring(0,m)}if(this.decodeRowResult.length===0)throw new am.default;var M;this.extendedMode?M=e.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;var Q=(c[1]+c[0])/2,L=_+B/2;return new Q2e.default(M,null,0,[new Fz.default(Q,t),new Fz.default(L,t)],J2e.default.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,u=!1,f=n.length,c=a;c<i;c++)if(t.get(c)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new am.default},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,s;do{var u=2147483647;try{for(var f=(n=void 0,sA(t)),c=f.next();!c.done;c=f.next()){var l=c.value;l<u&&l>o&&(u=l)}}catch(w){n={error:w}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=u,s=0;for(var g=0,y=0,_=0;_<a;_++){var l=t[_];l>o&&(y|=1<<a-1-_,s++,g+=l)}if(s===3){for(var _=0;_<a&&s>0;_++){var l=t[_];if(l>o&&(s--,l*2>=g))return-1}return y}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new am.default},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new Yw.default;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new Yw.default;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="\x7F";else throw new Yw.default;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new Yw.default;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Z2e.default);ch.default=e_e});var fA=E(dh=>{"use strict";h();p();var t_e=dh&&dh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),r_e=dh&&dh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(dh,"__esModule",{value:!0});var n_e=_t(),i_e=ui(),a_e=Lt(),om=Te(),o_e=fi(),Lz=lr(),s_e=dr(),u_e=Mr(),zw=qu(),f_e=function(r){t_e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,s=this.decodeStart(n),u=this.decodeEnd(n),f=new s_e.default;e.decodeMiddle(n,s[1],u[0],f);var c=f.toString(),l=null;i!=null&&(l=i.get(i_e.default.ALLOWED_LENGTHS)),l==null&&(l=e.DEFAULT_ALLOWED_LENGTHS);var g=c.length,y=!1,_=0;try{for(var w=r_e(l),I=w.next();!I.done;I=w.next()){var T=I.value;if(g===T){y=!0;break}T>_&&(_=T)}}catch(q){a={error:q}}finally{try{I&&!I.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!y&&g>_&&(y=!0),!y)throw new a_e.default;var O=[new Lz.default(s[1],t),new Lz.default(u[0],t)],B=new o_e.default(c,null,0,O,n_e.default.ITF,new Date().getTime());return B},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);n<i;){zw.default.recordPattern(t,n,o);for(var f=0;f<5;f++){var c=2*f;s[f]=o[c],u[f]=o[c+1]}var l=e.decodeDigit(s);a.append(l.toString()),l=this.decodeDigit(u),a.append(l.toString()),o.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new om.default},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new om.default;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof om.default&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),u=!1,f=0,c=n;o.fill(0);for(var l=n;l<s;l++)if(t.get(l)!==u)o[f]++;else{if(f===a-1){if(zw.default.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,l];c+=o[0]+o[1],u_e.default.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new om.default},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=zw.default.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=o):u===n&&(i=-1)}if(i>=0)return i%10;throw new om.default},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(zw.default);dh.default=f_e});var um=E(sm=>{"use strict";h();p();var c_e=sm&&sm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sm,"__esModule",{value:!0});var cA=qu(),Uz=Te(),kz=Lt(),d_e=function(r){c_e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(n=t.isRange(u,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new kz.default;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new kz.default;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var u=0,f=n,c=a.length,l=i,g=n;g<s;g++)if(t.get(g)!==l)o[u]++;else{if(u===c-1){if(cA.default.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=o[0]+o[1];for(var y=o.slice(2,o.length-1),_=0;_<u-1;_++)o[_]=y[_];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new Uz.default},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,f=0;f<u;f++){var c=a[f],l=cA.default.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,s=f)}if(s>=0)return s;throw new Uz.default},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(cA.default);sm.default=d_e});var Kz=E(fm=>{"use strict";h();p();var l_e=fm&&fm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fm,"__esModule",{value:!0});var h_e=_t(),jz=um(),p_e=fi(),Hz=lr(),g_e=Mu(),dA=Te(),y_e=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),u=[new Hz.default((n[0]+n[1])/2,e),new Hz.default(a,e)],f=new p_e.default(o,null,0,u,h_e.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,c=0;c<5&&u<s;c++){var l=jz.default.decodeDigit(e,o,u,jz.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,l_e(o)),y=g.next();!y.done;y=g.next()){var _=y.value;u+=_}}catch(I){i={error:I}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new dA.default;var w=this.determineCheckDigit(f);if(r.extensionChecksum(n.toString())!==w)throw new dA.default;return u},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new dA.default},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[g_e.default.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}();fm.default=y_e});var zz=E(cm=>{"use strict";h();p();var v_e=cm&&cm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cm,"__esModule",{value:!0});var m_e=_t(),Vz=um(),__e=fi(),Gz=lr(),x_e=Mu(),Yz=Te(),b_e=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),u=[new Gz.default((n[0]+n[1])/2,e),new Gz.default(a,e)],f=new __e.default(o,null,0,u,m_e.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=t[1],f=0,c=0;c<2&&u<s;c++){var l=Vz.default.decodeDigit(e,o,u,Vz.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,v_e(o)),y=g.next();!y.done;y=g.next()){var _=y.value;u+=_}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new Yz.default;if(parseInt(n.toString())%4!==f)throw new Yz.default;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[x_e.default.ISSUE_NUMBER,parseInt(e)]])},r}();cm.default=b_e});var Wz=E(lA=>{"use strict";h();p();Object.defineProperty(lA,"__esModule",{value:!0});var w_e=um(),E_e=Kz(),I_e=zz(),S_e=function(){function r(){}return r.decodeRow=function(e,t,n){var i=w_e.default.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new E_e.default;return a.decodeRow(e,t,i)}catch{var o=new I_e.default;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}();lA.default=S_e});var hm=E(lm=>{"use strict";h();p();var T_e=lm&&lm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lm,"__esModule",{value:!0});var Xz=_t(),Jz=ui(),C_e=fi(),A_e=Mu(),dm=lr(),O_e=Wz(),D_e=um(),$z=Te(),hA=Lt(),R_e=Hs(),P_e=function(r){T_e(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Jz.default.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new dm.default((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=u.rowOffset,c=u.resultString;if(o!=null){var l=new dm.default(f,t);o.foundPossibleResultPoint(l)}var g=e.decodeEnd(n,f);if(o!=null){var y=new dm.default((g[0]+g[1])/2,t);o.foundPossibleResultPoint(y)}var _=g[1],w=_+(_-g[0]);if(w>=n.getSize()||!n.isRange(_,w,!1))throw new $z.default;var I=c.toString();if(I.length<8)throw new hA.default;if(!e.checkChecksum(I))throw new R_e.default;var T=(a[1]+a[0])/2,O=(g[1]+g[0])/2,B=this.getBarcodeFormat(),q=[new dm.default(T,t),new dm.default(O,t)],C=new C_e.default(I,null,0,q,B,new Date().getTime()),d=0;try{var m=O_e.default.decodeRow(t,n,g[1]);C.putMetadata(A_e.default.UPC_EAN_EXTENSION,m.getText()),C.putAllMetadata(m.getResultMetadata()),C.addResultPoints(m.getResultPoints()),d=m.getText().length}catch{}var x=i==null?null:i.get(Jz.default.ALLOWED_EAN_EXTENSIONS);if(x!=null){var D=!1;for(var M in x)if(d.toString()===M){D=!0;break}if(!D)throw new $z.default}return B===Xz.default.EAN_13||Xz.default.UPC_A,C},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new hA.default;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new hA.default;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(D_e.default);lm.default=P_e});var Ww=E(lh=>{"use strict";h();p();var B_e=lh&&lh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zz=lh&&lh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(lh,"__esModule",{value:!0});var M_e=_t(),F0=hm(),N_e=Te(),q_e=function(r){B_e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=t.getSize(),l=n[1],g=0,y=0;y<6&&l<c;y++){var _=F0.default.decodeDigit(t,f,l,F0.default.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_%10);try{for(var w=(a=void 0,Zz(f)),I=w.next();!I.done;I=w.next()){var T=I.value;l+=T}}catch(C){a={error:C}}finally{try{I&&!I.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(g|=1<<5-y)}i=e.determineFirstDigit(i,g);var O=F0.default.findGuardPattern(t,l,!0,F0.default.MIDDLE_PATTERN,new Int32Array(F0.default.MIDDLE_PATTERN.length).fill(0));l=O[1];for(var y=0;y<6&&l<c;y++){var _=F0.default.decodeDigit(t,f,l,F0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_);try{for(var B=(s=void 0,Zz(f)),q=B.next();!q.done;q=B.next()){var T=q.value;l+=T}}catch(m){s={error:m}}finally{try{q&&!q.done&&(u=B.return)&&u.call(B)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return M_e.default.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new N_e.default},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(F0.default);lh.default=q_e});var eW=E(hh=>{"use strict";h();p();var F_e=hh&&hh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qz=hh&&hh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hh,"__esModule",{value:!0});var L_e=_t(),L0=hm(),U_e=function(r){F_e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=t.getSize(),l=n[1],g=0;g<4&&l<c;g++){var y=L0.default.decodeDigit(t,f,l,L0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var _=(a=void 0,Qz(f)),w=_.next();!w.done;w=_.next()){var I=w.value;l+=I}}catch(q){a={error:q}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var T=L0.default.findGuardPattern(t,l,!0,L0.default.MIDDLE_PATTERN,new Int32Array(L0.default.MIDDLE_PATTERN.length).fill(0));l=T[1];for(var g=0;g<4&&l<c;g++){var y=L0.default.decodeDigit(t,f,l,L0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var O=(s=void 0,Qz(f)),B=O.next();!B.done;B=O.next()){var I=B.value;l+=I}}catch(d){s={error:d}}finally{try{B&&!B.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return L_e.default.EAN_8},e}(L0.default);hh.default=U_e});var rW=E(pm=>{"use strict";h();p();var k_e=pm&&pm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pm,"__esModule",{value:!0});var tW=_t(),j_e=fi(),H_e=Te(),K_e=Ww(),V_e=hm(),G_e=function(r){k_e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new K_e.default,t}return e.prototype.getBarcodeFormat=function(){return tW.default.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new j_e.default(n.substring(1),null,null,t.getResultPoints(),tW.default.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new H_e.default},e.prototype.reset=function(){this.ean13Reader.reset()},e}(V_e.default);pm.default=G_e});var aW=E(ph=>{"use strict";h();p();var Y_e=ph&&ph.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z_e=ph&&ph.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ph,"__esModule",{value:!0});var nW=hm(),iW=dr(),W_e=Te(),X_e=_t(),J_e=function(r){Y_e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s=this.decodeMiddleCounters.map(function(I){return I});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),f=n[1],c=0,l=0;l<6&&f<u;l++){var g=e.decodeDigit(t,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var y=(a=void 0,z_e(s)),_=y.next();!_.done;_=y.next()){var w=_.value;f+=w}}catch(I){a={error:I}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}g>=10&&(c|=1<<5-l)}return e.determineNumSysAndCheckDigit(new iW.default(i),c),f},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return nW.default.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw W_e.default.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return X_e.default.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new iW.default;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(nW.default);ph.default=J_e});var lW=E(yh=>{"use strict";h();p();var $_e=yh&&yh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oW=yh&&yh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yh,"__esModule",{value:!0});var gh=_t(),sW=ui(),Z_e=fi(),Q_e=qu(),uW=Ww(),fW=eW(),cW=rW(),e3e=Te(),dW=aW(),t3e=function(r){$_e(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(sW.default.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(gh.default.EAN_13)>-1&&a.push(new uW.default),i.indexOf(gh.default.UPC_A)>-1&&a.push(new cW.default),i.indexOf(gh.default.EAN_8)>-1&&a.push(new fW.default),i.indexOf(gh.default.UPC_E)>-1&&a.push(new dW.default)),a.length===0&&(a.push(new uW.default),a.push(new cW.default),a.push(new fW.default),a.push(new dW.default)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var s=oW(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var c=f.decodeRow(t,n,i),l=c.getBarcodeFormat()===gh.default.EAN_13&&c.getText().charAt(0)==="0",g=i==null?null:i.get(sW.default.POSSIBLE_FORMATS),y=g==null||g.includes(gh.default.UPC_A);if(l&&y){var _=c.getRawBytes(),w=new Z_e.default(c.getText().substring(1),_,_?_.length:null,c.getResultPoints(),gh.default.UPC_A);return w.putAllMetadata(c.getResultMetadata()),w}return c}catch{}}}catch(I){a={error:I}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new e3e.default},e.prototype.reset=function(){var t,n;try{for(var i=oW(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(Q_e.default);yh.default=t3e});var pA=E(vh=>{"use strict";h();p();var r3e=vh&&vh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n3e=vh&&vh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vh,"__esModule",{value:!0});var i3e=Jo(),a3e=Te(),hW=qu(),o3e=function(r){r3e(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(hW.default.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new a3e.default},e.count=function(t){return i3e.default.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var c=n3e(t),l=c.next();!l.done;l=c.next()){var g=l.value;g>f&&(f=g),g<u&&(u=g)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(hW.default);vh.default=o3e});var Xw=E(gA=>{"use strict";h();p();Object.defineProperty(gA,"__esModule",{value:!0});var s3e=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}();gA.default=s3e});var vA=E(yA=>{"use strict";h();p();Object.defineProperty(yA,"__esModule",{value:!0});var pW=lr(),u3e=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new pW.default(n,a)),this.resultPoints.push(new pW.default(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}();yA.default=u3e});var mA=E(gm=>{"use strict";h();p();var f3e=gm&&gm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(gm,"__esModule",{value:!0});var c3e=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var s=f3e(e),u=s.next();!u.done;u=s.next()){var f=u.value;o+=f}}catch(O){i={error:O}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,l=0,g=e.length,y=0;y<g-1;y++){var _=void 0;for(_=1,l|=1<<y;_<e[y];_++,l&=~(1<<y)){var w=r.combins(o-_-1,g-y-2);if(n&&l===0&&o-_-(g-y-1)>=g-y-1&&(w-=r.combins(o-_-(g-y),g-y-2)),g-y-1>1){for(var I=0,T=o-_-(g-y-2);T>t;T--)I+=r.combins(o-_-T-1,g-y-3);w-=I*(g-1-y)}else o-_>t&&w--;c+=w}o-=_}return c},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}();gm.default=c3e});var gW=E(_A=>{"use strict";h();p();Object.defineProperty(_A,"__esModule",{value:!0});var d3e=Ru(),l3e=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new d3e.default(n),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!=0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],c=f.getLeftChar().getValue(),l=11;l>=0;--l)(c&1<<l)!=0&&i.set(a),a++;if(f.getRightChar()!=null)for(var g=f.getRightChar().getValue(),l=11;l>=0;--l)(g&1<<l)!=0&&i.set(a),a++}return i},r}();_A.default=l3e});var yW=E(xA=>{"use strict";h();p();Object.defineProperty(xA,"__esModule",{value:!0});var h3e=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}();xA.default=h3e});var Jw=E(bA=>{"use strict";h();p();Object.defineProperty(bA,"__esModule",{value:!0});var p3e=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}();bA.default=p3e});var vW=E(ym=>{"use strict";h();p();var g3e=ym&&ym.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ym,"__esModule",{value:!0});var y3e=Jw(),v3e=function(r){g3e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(y3e.default);ym.default=v3e});var mW=E(vm=>{"use strict";h();p();var m3e=vm&&vm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vm,"__esModule",{value:!0});var _3e=Jw(),x3e=function(r){m3e(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(_3e.default);vm.default=x3e});var _W=E(mm=>{"use strict";h();p();var b3e=mm&&mm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mm,"__esModule",{value:!0});var w3e=Lt(),E3e=Jw(),I3e=function(r){b3e(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new w3e.default;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(E3e.default);mm.default=I3e});var xW=E(_m=>{"use strict";h();p();var $w=_m&&_m.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_m,"__esModule",{value:!0});var og=Te(),S3e=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,s,u,f;if(!e)return null;if(e.length<2)throw new og.default;var c=e.substring(0,2);try{for(var l=$w(r.TWO_DIGIT_DATA_LENGTH),g=l.next();!g.done;g=l.next()){var y=g.value;if(y[0]===c)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,y[2],e):r.processFixedAI(2,y[1],e)}}catch(d){t={error:d}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(e.length<3)throw new og.default;var _=e.substring(0,3);try{for(var w=$w(r.THREE_DIGIT_DATA_LENGTH),I=w.next();!I.done;I=w.next()){var y=I.value;if(y[0]===_)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,y[2],e):r.processFixedAI(3,y[1],e)}}catch(d){i={error:d}}finally{try{I&&!I.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var T=$w(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=T.next();!O.done;O=T.next()){var y=O.value;if(y[0]===_)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(d){o={error:d}}finally{try{O&&!O.done&&(s=T.return)&&s.call(T)}finally{if(o)throw o.error}}if(e.length<4)throw new og.default;var B=e.substring(0,4);try{for(var q=$w(r.FOUR_DIGIT_DATA_LENGTH),C=q.next();!C.done;C=q.next()){var y=C.value;if(y[0]===B)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(d){u={error:d}}finally{try{C&&!C.done&&(f=q.return)&&f.call(q)}finally{if(u)throw u.error}}throw new og.default},r.processFixedAI=function(e,t,n){if(n.length<e)throw new og.default;var i=n.substring(0,e);if(n.length<e+t)throw new og.default;var a=n.substring(e,e+t),o=n.substring(e+t),s="("+i+")"+a,u=r.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),s=n.substring(a),u="("+i+")"+o,f=r.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}();_m.default=S3e});var EA=E(wA=>{"use strict";h();p();Object.defineProperty(wA,"__esModule",{value:!0});var T3e=Lt(),C3e=Nu(),A3e=dr(),mh=yW(),Gs=vW(),_h=mW(),sg=_W(),O3e=xW(),D3e=function(){function r(e){this.buffer=new A3e.default,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=O3e.default.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new sg.default(this.information.getSize(),sg.default.FNC1,sg.default.FNC1):new sg.default(this.information.getSize(),t-1,sg.default.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new sg.default(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new _h.default(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new _h.default(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new _h.default(this.current.getPosition(),this.buffer.toString()):t=new _h.default(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new mh.default(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new _h.default(this.current.getPosition(),this.buffer.toString());return new mh.default(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mh.default(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new _h.default(this.current.getPosition(),this.buffer.toString());return new mh.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mh.default(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new _h.default(this.current.getPosition(),this.buffer.toString());return new mh.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mh.default(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Gs.default(e+5,Gs.default.FNC1);if(t>=5&&t<15)return new Gs.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Gs.default(e+7,""+(n+1));if(n>=90&&n<116)return new Gs.default(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new T3e.default}return new Gs.default(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Gs.default(e+5,Gs.default.FNC1);if(t>=5&&t<15)return new Gs.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Gs.default(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new C3e.default("Decoding invalid alphanumeric value: "+n)}return new Gs.default(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}();wA.default=D3e});var Zw=E(IA=>{"use strict";h();p();Object.defineProperty(IA,"__esModule",{value:!0});var R3e=EA(),P3e=function(){function r(e){this.information=e,this.generalDecoder=new R3e.default(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}();IA.default=P3e});var bm=E(xm=>{"use strict";h();p();var B3e=xm&&xm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xm,"__esModule",{value:!0});var M3e=Zw(),N3e=function(r){B3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(M3e.default);xm.default=N3e});var bW=E(wm=>{"use strict";h();p();var q3e=wm&&wm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wm,"__esModule",{value:!0});var F3e=bm(),L3e=dr(),U3e=function(r){q3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new L3e.default;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(F3e.default);wm.default=U3e});var wW=E(Em=>{"use strict";h();p();var k3e=Em&&Em.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Em,"__esModule",{value:!0});var j3e=dr(),H3e=Zw(),K3e=function(r){k3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new j3e.default;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(H3e.default);Em.default=K3e});var SA=E(Im=>{"use strict";h();p();var V3e=Im&&Im.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Im,"__esModule",{value:!0});var G3e=bm(),Y3e=function(r){V3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(G3e.default);Im.default=Y3e});var CA=E(Sm=>{"use strict";h();p();var z3e=Sm&&Sm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Sm,"__esModule",{value:!0});var TA=SA(),W3e=dr(),X3e=Te(),J3e=function(r){z3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+TA.default.GTIN_SIZE+e.WEIGHT_SIZE)throw new X3e.default;var t=new W3e.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+TA.default.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(TA.default);Sm.default=J3e});var EW=E(Tm=>{"use strict";h();p();var $3e=Tm&&Tm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tm,"__esModule",{value:!0});var Z3e=CA(),Q3e=function(r){$3e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Z3e.default);Tm.default=Q3e});var IW=E(Cm=>{"use strict";h();p();var exe=Cm&&Cm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Cm,"__esModule",{value:!0});var txe=CA(),rxe=function(r){exe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(txe.default);Cm.default=rxe});var SW=E(Am=>{"use strict";h();p();var nxe=Am&&Am.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Am,"__esModule",{value:!0});var Qw=bm(),ixe=Te(),axe=dr(),oxe=function(r){nxe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qw.default.GTIN_SIZE)throw new ixe.default;var t=new axe.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qw.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qw.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Qw.default);Am.default=oxe});var TW=E(Dm=>{"use strict";h();p();var sxe=Dm&&Dm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dm,"__esModule",{value:!0});var Om=bm(),uxe=Te(),fxe=dr(),cxe=function(r){sxe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Om.default.GTIN_SIZE)throw new uxe.default;var t=new fxe.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Om.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Om.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Om.default.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Om.default);Dm.default=cxe});var CW=E(Rm=>{"use strict";h();p();var dxe=Rm&&Rm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rm,"__esModule",{value:!0});var lxe=SA(),hxe=Te(),pxe=dr(),gxe=function(r){dxe(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new hxe.default;var t=new pxe.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10==0&&t.append("0"),t.append(s),o/10==0&&t.append("0"),t.append(o),a/10==0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(lxe.default);Rm.default=gxe});var OA=E(e8=>{"use strict";h();p();Object.defineProperty(e8,"__esModule",{value:!0});e8.createDecoder=void 0;var yxe=Nu(),AA=EA(),vxe=bW(),mxe=wW(),_xe=EW(),xxe=IW(),bxe=SW(),wxe=TW(),U0=CW();function Exe(r){try{if(r.get(1))return new vxe.default(r);if(!r.get(2))return new mxe.default(r);var e=AA.default.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new _xe.default(r);case 5:return new xxe.default(r)}var t=AA.default.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new bxe.default(r);case 13:return new wxe.default(r)}var n=AA.default.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new U0.default(r,"310","11");case 57:return new U0.default(r,"320","11");case 58:return new U0.default(r,"310","13");case 59:return new U0.default(r,"320","13");case 60:return new U0.default(r,"310","15");case 61:return new U0.default(r,"320","15");case 62:return new U0.default(r,"310","17");case 63:return new U0.default(r,"320","17")}}catch(i){throw console.log(i),new yxe.default("unknown decoder: "+r)}}e8.createDecoder=Exe});var AW=E(DA=>{"use strict";h();p();Object.defineProperty(DA,"__esModule",{value:!0});var Ixe=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}();DA.default=Ixe});var OW=E(RA=>{"use strict";h();p();Object.defineProperty(RA,"__esModule",{value:!0});var Sxe=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}();RA.default=Sxe});var BA=E(xh=>{"use strict";h();p();var Txe=xh&&xh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k0=xh&&xh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xh,"__esModule",{value:!0});var Cxe=_t(),PA=Jo(),br=Te(),Axe=fi(),Oxe=Mr(),Dxe=pA(),Rxe=Xw(),Pxe=vA(),DW=mA(),Bxe=gW(),Mxe=OA(),RW=AW(),Nxe=OW(),qxe=function(r){Txe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof br.default){if(!this.pairs.length)throw new br.default;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new br.default},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,k0(t)),f=u.next();!f.done;f=u.next()){var c=f.value;this.pairs.push(c.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var l=new Array(t);l.push(s);try{return this.checkRows(l,o+1)}catch(g){console.log(g)}}}throw new br.default},e.isValidSequence=function(t){var n,i;try{for(var a=k0(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var u=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!=s[f]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Nxe.default(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,s,u,f;try{for(var c=k0(n),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.getPairs().length!==t.length){var y=!0;try{for(var _=(o=void 0,k0(g.getPairs())),w=_.next();!w.done;w=_.next()){var I=w.value,T=!1;try{for(var O=(u=void 0,k0(t)),B=O.next();!B.done;B=O.next()){var q=B.value;if(RW.default.equals(I,q)){T=!0;break}}}catch(C){u={error:C}}finally{try{B&&!B.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}T||(y=!1)}}catch(C){o={error:C}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,s,u,f;try{for(var c=k0(n),l=c.next();!l.done;l=c.next()){var g=l.value,y=!0;try{for(var _=(o=void 0,k0(t)),w=_.next();!w.done;w=_.next()){var I=w.value,T=!1;try{for(var O=(u=void 0,k0(g.getPairs())),B=O.next();!B.done;B=O.next()){var q=B.value;if(I.equals(q)){T=!0;break}}}catch(C){u={error:C}}finally{try{B&&!B.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}if(!T){y=!1;break}}}catch(C){o={error:C}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(y)return!0}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=Bxe.default.buildBitArray(t),i=Mxe.createDecoder(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new Axe.default(a,null,null,u,Cxe.default.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c==n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(t,n,u),o=this.parseFoundFinderPattern(t,i,a),o==null?u=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new br.default;var c;try{c=this.decodeDataCharacter(t,o,a,!1)}catch(l){c=null,console.log(l)}return new RW.default(f,c,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=n.length%2!=0;this.startFromEven&&(f=!f);for(var c=!1;s<o&&(c=!t.get(s),!!c);)s++;for(var l=0,g=s,y=s;y<o;y++)if(t.get(y)!=c)a[l]++;else{if(l==3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=y;return}f&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,c=!c}throw new br.default},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var f=this.getDecodeFinderCounters();Oxe.default.arraycopy(f,0,f,1,f.length-1),f[0]=a;var c;try{c=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch(l){return null}return new Pxe.default(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var c=o[u];o[u]=o[f],o[f]=c}}var l=17,g=PA.default.sum(new Int32Array(o))/l,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new br.default;for(var _=this.getOddCounts(),w=this.getEvenCounts(),I=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var O=1*o[u]/g,B=O+.5;if(B<1){if(O<.3)throw new br.default;B=1}else if(B>8){if(O>8.7)throw new br.default;B=8}var q=u/2;(u&1)==0?(_[q]=B,I[q]=O-B):(w[q]=B,T[q]=O-B)}this.adjustOddEvenCounts(l);for(var C=4*n.getValue()+(i?0:2)+(a?0:1)-1,d=0,m=0,u=_.length-1;u>=0;u--){if(e.isNotA1left(n,i,a)){var x=e.WEIGHTS[C][2*u];m+=_[u]*x}d+=_[u]}for(var D=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(n,i,a)){var x=e.WEIGHTS[C][2*u+1];D+=w[u]*x}var M=m+D;if((d&1)!=0||d>13||d<4)throw new br.default;var Q=(13-d)/2,L=e.SYMBOL_WIDEST[Q],b=9-L,A=DW.default.getRSSvalue(_,L,!0),R=DW.default.getRSSvalue(w,b,!1),F=e.EVEN_TOTAL_SUBSET[Q],k=e.GSUM[Q],V=A*F+R+k;return new Rxe.default(V,M)},e.isNotA1left=function(t,n,i){return!(t.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=PA.default.sum(new Int32Array(this.getOddCounts())),i=PA.default.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=n+i-t,c=(n&1)==1,l=(i&1)==0;if(f==1)if(c){if(l)throw new br.default;o=!0}else{if(!l)throw new br.default;u=!0}else if(f==-1)if(c){if(l)throw new br.default;a=!0}else{if(!l)throw new br.default;s=!0}else if(f==0){if(c){if(!l)throw new br.default;n<i?(a=!0,u=!0):(o=!0,s=!0)}else if(l)throw new br.default}else throw new br.default;if(a){if(o)throw new br.default;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new br.default;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Dxe.default);xh.default=qxe});var PW=E(Pm=>{"use strict";h();p();var Fxe=Pm&&Pm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pm,"__esModule",{value:!0});var Lxe=Xw(),Uxe=function(r){Fxe(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Lxe.default);Pm.default=Uxe});var qA=E(bh=>{"use strict";h();p();var kxe=bh&&bh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MA=bh&&bh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bh,"__esModule",{value:!0});var ug=pA(),jxe=PW(),Hxe=fi(),Kxe=ui(),Pa=Te(),Vxe=dr(),Gxe=_t(),Yxe=lr(),zxe=vA(),BW=Xw(),NA=Jo(),t8=mA(),Wxe=Mr(),MW=qu(),Xxe=function(r){kxe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,u,f=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var c=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var l=MA(this.possibleLeftPairs),g=l.next();!g.done;g=l.next()){var y=g.value;if(y.getCount()>1)try{for(var _=(s=void 0,MA(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var I=w.value;if(I.getCount()>1&&e.checkChecksum(y,I))return e.constructResult(y,I)}}catch(T){s={error:T}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}}}catch(T){a={error:T}}finally{try{g&&!g.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new Pa.default},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var s=MA(t),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new Vxe.default,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var f=o.charAt(s).charCodeAt(0)-"0".charCodeAt(0);u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var c=t.getFinderPattern().getResultPoints(),l=n.getFinderPattern().getResultPoints();return new Hxe.default(o.toString(),null,0,[c[0],c[1],l[0],l[1]],Gxe.default.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,o),u=a==null?null:a.get(Kxe.default.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;n&&(f=t.getSize()-1-f),u.foundPossibleResultPoint(new Yxe.default(f,i))}var c=this.decodeDataCharacter(t,s,!0),l=this.decodeDataCharacter(t,s,!1);return new jxe.default(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)MW.default.recordPatternInReverse(t,n.getStartEnd()[0],a);else{MW.default.recordPattern(t,n.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var f=a[s];a[s]=a[u],a[u]=f}}for(var c=i?16:15,l=NA.default.sum(new Int32Array(a))/c,g=this.getOddCounts(),y=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var I=a[s]/l,T=Math.floor(I+.5);T<1?T=1:T>8&&(T=8);var O=Math.floor(s/2);(s&1)===0?(g[O]=T,_[O]=I-T):(y[O]=T,w[O]=I-T)}this.adjustOddEvenCounts(i,c);for(var B=0,q=0,s=g.length-1;s>=0;s--)q*=9,q+=g[s],B+=g[s];for(var C=0,d=0,s=y.length-1;s>=0;s--)C*=9,C+=y[s],d+=y[s];var m=q+3*C;if(i){if((B&1)!==0||B>12||B<4)throw new Pa.default;var x=(12-B)/2,D=e.OUTSIDE_ODD_WIDEST[x],M=9-D,Q=t8.default.getRSSvalue(g,D,!1),L=t8.default.getRSSvalue(y,M,!0),b=e.OUTSIDE_EVEN_TOTAL_SUBSET[x],A=e.OUTSIDE_GSUM[x];return new BW.default(Q*b+L+A,m)}else{if((d&1)!==0||d>10||d<4)throw new Pa.default;var x=(10-d)/2,D=e.INSIDE_ODD_WIDEST[x],M=9-D,Q=t8.default.getRSSvalue(g,D,!0),L=t8.default.getRSSvalue(y,M,!1),R=e.INSIDE_ODD_TOTAL_SUBSET[x],A=e.INSIDE_GSUM[x];return new BW.default(L*R+Q+A,m)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),n!==o);)s++;for(var u=0,f=s,c=s;c<a;c++)if(t.get(c)!==o)i[u]++;else{if(u===3){if(ug.default.isFinderPattern(i))return[f,c];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new Pa.default},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var u=a[0]-s,f=this.getDecodeFinderCounters(),c=new Int32Array(f.length);Wxe.default.arraycopy(f,0,c,1,f.length-1),c[0]=u;var l=this.parseFinderValue(c,e.FINDER_PATTERNS),g=s,y=a[1];return i&&(g=t.getSize()-1-g,y=t.getSize()-1-y),new zxe.default(l,[s,a[1]],g,y,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=NA.default.sum(new Int32Array(this.getOddCounts())),a=NA.default.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,f=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var c=i+a-n,l=(i&1)===(t?1:0),g=(a&1)===1;if(c===1)if(l){if(g)throw new Pa.default;s=!0}else{if(!g)throw new Pa.default;f=!0}else if(c===-1)if(l){if(g)throw new Pa.default;o=!0}else{if(!g)throw new Pa.default;u=!0}else if(c===0){if(l){if(!g)throw new Pa.default;i<a?(o=!0,f=!0):(s=!0,u=!0)}else if(g)throw new Pa.default}else throw new Pa.default;if(o){if(s)throw new Pa.default;ug.default.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ug.default.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Pa.default;ug.default.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&ug.default.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ug.default);bh.default=Xxe});var r8=E(Bm=>{"use strict";h();p();var Jxe=Bm&&Bm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Bm,"__esModule",{value:!0});var Kf=_t(),NW=ui(),$xe=Te(),qW=oA(),FW=uA(),LW=fA(),FA=lW(),Zxe=qu(),Qxe=BA(),UW=qA(),ebe=function(r){Jxe(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(NW.default.POSSIBLE_FORMATS):null,a=t&&t.get(NW.default.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Kf.default.EAN_13)||i.includes(Kf.default.UPC_A)||i.includes(Kf.default.EAN_8)||i.includes(Kf.default.UPC_E))&&n.readers.push(new FA.default(t)),i.includes(Kf.default.CODE_39)&&n.readers.push(new FW.default(a)),i.includes(Kf.default.CODE_128)&&n.readers.push(new qW.default),i.includes(Kf.default.ITF)&&n.readers.push(new LW.default),i.includes(Kf.default.RSS_14)&&n.readers.push(new UW.default),i.includes(Kf.default.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Qxe.default))),n.readers.length===0&&(n.readers.push(new FA.default(t)),n.readers.push(new FW.default),n.readers.push(new FA.default(t)),n.readers.push(new qW.default),n.readers.push(new LW.default),n.readers.push(new UW.default)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new $xe.default},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Zxe.default);Bm.default=ebe});var kW=E(fg=>{"use strict";h();p();var tbe=fg&&fg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fg,"__esModule",{value:!0});fg.BrowserBarcodeReader=void 0;var rbe=q0(),nbe=r8(),ibe=function(r){tbe(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new nbe.default(n),t,n)||this}return e}(rbe.BrowserCodeReader);fg.BrowserBarcodeReader=ibe});var KW=E(Vf=>{"use strict";h();p();var jW=Vf&&Vf.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.ECB=Vf.ECBlocks=void 0;var HW=Lt(),Ye=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();Vf.ECBlocks=Ye;var Ke=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();Vf.ECB=Ke;var abe=function(){function r(e,t,n,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,c=o.getECCodewords(),l=o.getECBlocks();try{for(var g=jW(l),y=g.next();!y.done;y=g.next()){var _=y.value;f+=_.getCount()*(_.getDataCodewords()+c)}}catch(w){s={error:w}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new HW.default;try{for(var a=jW(r.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new HW.default},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new Ye(5,new Ke(1,3))),new r(2,12,12,10,10,new Ye(7,new Ke(1,5))),new r(3,14,14,12,12,new Ye(10,new Ke(1,8))),new r(4,16,16,14,14,new Ye(12,new Ke(1,12))),new r(5,18,18,16,16,new Ye(14,new Ke(1,18))),new r(6,20,20,18,18,new Ye(18,new Ke(1,22))),new r(7,22,22,20,20,new Ye(20,new Ke(1,30))),new r(8,24,24,22,22,new Ye(24,new Ke(1,36))),new r(9,26,26,24,24,new Ye(28,new Ke(1,44))),new r(10,32,32,14,14,new Ye(36,new Ke(1,62))),new r(11,36,36,16,16,new Ye(42,new Ke(1,86))),new r(12,40,40,18,18,new Ye(48,new Ke(1,114))),new r(13,44,44,20,20,new Ye(56,new Ke(1,144))),new r(14,48,48,22,22,new Ye(68,new Ke(1,174))),new r(15,52,52,24,24,new Ye(42,new Ke(2,102))),new r(16,64,64,14,14,new Ye(56,new Ke(2,140))),new r(17,72,72,16,16,new Ye(36,new Ke(4,92))),new r(18,80,80,18,18,new Ye(48,new Ke(4,114))),new r(19,88,88,20,20,new Ye(56,new Ke(4,144))),new r(20,96,96,22,22,new Ye(68,new Ke(4,174))),new r(21,104,104,24,24,new Ye(56,new Ke(6,136))),new r(22,120,120,18,18,new Ye(68,new Ke(6,175))),new r(23,132,132,20,20,new Ye(62,new Ke(8,163))),new r(24,144,144,22,22,new Ye(62,new Ke(8,156),new Ke(2,155))),new r(25,8,18,6,16,new Ye(7,new Ke(1,5))),new r(26,8,32,6,14,new Ye(11,new Ke(1,10))),new r(27,12,26,10,24,new Ye(14,new Ke(1,16))),new r(28,12,36,10,16,new Ye(18,new Ke(1,22))),new r(29,16,36,14,16,new Ye(24,new Ke(1,32))),new r(30,16,48,14,22,new Ye(28,new Ke(1,49)))]},r.VERSIONS=r.buildVersions(),r}();Vf.default=abe});var YW=E(LA=>{"use strict";h();p();Object.defineProperty(LA,"__esModule",{value:!0});var VW=Ra(),obe=KW(),GW=Lt(),sbe=Ge(),ube=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new GW.default;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new VW.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return obe.default.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,c=!1;do if(n===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!u)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,u=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new GW.default;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new sbe.default("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=n/a|0,u=o*i,f=s*a,c=new VW.default(f,u),l=0;l<o;++l)for(var g=l*i,y=0;y<s;++y)for(var _=y*a,w=0;w<i;++w)for(var I=l*(i+2)+1+w,T=g+w,O=0;O<a;++O){var B=y*(a+2)+1+O;if(e.get(B,I)){var q=_+O;c.set(q,T)}}return c},r}();LA.default=ube});var WW=E(Mm=>{"use strict";h();p();var zW=Mm&&Mm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Mm,"__esModule",{value:!0});var fbe=Ge(),cbe=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,s=t.getECBlocks(),u=0,f=s.getECBlocks();try{for(var c=zW(f),l=c.next();!l.done;l=c.next()){var g=l.value;u+=g.getCount()}}catch(A){n={error:A}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var y=new Array(u),_=0;try{for(var w=zW(f),I=w.next();!I.done;I=w.next())for(var g=I.value,T=0;T<g.getCount();T++){var O=g.getDataCodewords(),B=s.getECCodewords()+O;y[_++]=new r(O,new Uint8Array(B))}}catch(A){a={error:A}}finally{try{I&&!I.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var q=y[0].codewords.length,C=q-s.getECCodewords(),d=C-1,m=0,T=0;T<d;T++)for(var x=0;x<_;x++)y[x].codewords[T]=e[m++];for(var D=t.getVersionNumber()===24,M=D?8:_,x=0;x<M;x++)y[x].codewords[C-1]=e[m++];for(var Q=y[0].codewords.length,T=C;T<Q;T++)for(var x=0;x<_;x++){var L=D?(x+8)%_:x,b=D&&L>7?T-1:T;y[L].codewords[b]=e[m++]}if(m!==e.length)throw new fbe.default;return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();Mm.default=cbe});var n8=E(UA=>{"use strict";h();p();Object.defineProperty(UA,"__esModule",{value:!0});var dbe=Ge(),lbe=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new dbe.default(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,u=o-s,f=255>>8-s<<u;t=(a[i]&f)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;t=t<<e|(a[i]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}();UA.default=lbe});var jA=E(kA=>{"use strict";h();p();Object.defineProperty(kA,"__esModule",{value:!0});var hbe=tg(),pbe=n8(),XW=dr(),gbe=fh(),ybe=Vs(),Ba=Lt(),vbe=Nu(),wr;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(wr||(wr={}));var mbe=function(){function r(){}return r.decode=function(e){var t=new pbe.default(e),n=new XW.default,i=new XW.default,a=new Array,o=wr.ASCII_ENCODE;do if(o===wr.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case wr.C40_ENCODE:this.decodeC40Segment(t,n);break;case wr.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case wr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case wr.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case wr.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new Ba.default}o=wr.ASCII_ENCODE}while(o!==wr.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new hbe.default(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Ba.default;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),wr.ASCII_ENCODE;if(a===129)return wr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return wr.C40_ENCODE;case 231:return wr.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return wr.ANSIX12_ENCODE;case 239:return wr.TEXT_ENCODE;case 240:return wr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Ba.default;break}}while(e.available()>0);return wr.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Ba.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ba.default}a=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),a=0;break;default:throw new Ba.default}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Ba.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ba.default}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f),a=0}else throw new Ba.default;break;default:throw new Ba.default}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new Ba.default;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Ba.default;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new Ba.default;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(gbe.default.decode(s,ybe.default.ISO88591))}catch(f){throw new vbe.default("Platform does not support required encoding: "+f.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],r}();kA.default=mbe});var JW=E(Nm=>{"use strict";h();p();var _be=Nm&&Nm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nm,"__esModule",{value:!0});var xbe=Hs(),bbe=kf(),wbe=ng(),Ebe=YW(),Ibe=WW(),Sbe=jA(),Tbe=function(){function r(){this.rsDecoder=new wbe.default(bbe.default.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new Ebe.default(e),a=i.getVersion(),o=i.readCodewords(),s=Ibe.default.getDataBlocks(o,a),u=0;try{for(var f=_be(s),c=f.next();!c.done;c=f.next()){var l=c.value;u+=l.getNumDataCodewords()}}catch(B){t={error:B}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}for(var g=new Uint8Array(u),y=s.length,_=0;_<y;_++){var w=s[_],I=w.getCodewords(),T=w.getNumDataCodewords();this.correctErrors(I,T);for(var O=0;O<T;O++)g[O*y+_]=I[O]}return Sbe.default.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new xbe.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();Nm.default=Tbe});var $W=E(HA=>{"use strict";h();p();Object.defineProperty(HA,"__esModule",{value:!0});var Cbe=Lw(),Abe=Zv(),Obe=tm(),Dbe=Te(),i8=lr(),Rbe=function(){function r(e){this.image=e,this.rectangleDetector=new Cbe.default(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new Dbe.default;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=r.sampleGrid(this.image,n,i,a,o,s,u);return new Abe.default(f,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new i8.default(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new i8.default(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,t),c=o,l=[a,t,n,i];return c>s&&(c=s,l[0]=t,l[1]=n,l[2]=i,l[3]=a),c>u&&(c=u,l[0]=n,l[1]=i,l[2]=a,l[3]=t),c>f&&(l[0]=i,l[1]=a,l[2]=t,l[3]=n),l},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=r.shiftPoint(n,i,(o+1)*4),u=r.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(s,t),c=this.transitionsBetween(u,a);return f<c?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(n,a),u=r.shiftPoint(t,n,(s+1)*4),f=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(f,a);var c=new i8.default(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),l=new i8.default(a.getX()+(t.getX()-n.getX())/(s+1),a.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(l)?l:null;if(!this.isValid(l))return c;var g=this.transitionsBetween(u,c)+this.transitionsBetween(f,c),y=this.transitionsBetween(u,l)+this.transitionsBetween(f,l);return g>y?c:l},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,u=r.shiftPoint(t,n,s*4),f=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(t.getX()+n.getX()+i.getX()+a.getX())/4,l=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,c,l),n=r.moveAway(n,c,l),i=r.moveAway(i,c,l),a=r.moveAway(a,c,l);var g,y;return u=r.shiftPoint(t,n,s*4),u=r.shiftPoint(u,a,o*4),g=r.shiftPoint(n,t,s*4),g=r.shiftPoint(g,i,o*4),f=r.shiftPoint(i,a,s*4),f=r.shiftPoint(f,n,o*4),y=r.shiftPoint(a,i,s*4),y=r.shiftPoint(y,t,o*4),[u,g,f,y]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,s){var u=Obe.default.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var u=n;n=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-n),c=Math.abs(o-i),l=-f/2,g=i<o?1:-1,y=n<a?1:-1,_=0,w=this.image.get(s?i:n,s?n:i),I=n,T=i;I!==a;I+=y){var O=this.image.get(s?T:I,s?I:T);if(O!==w&&(_++,w=O),l+=c,l>0){if(T===o)break;T+=g,l-=f}}return _},r}();HA.default=Rbe});var o8=E(KA=>{"use strict";h();p();Object.defineProperty(KA,"__esModule",{value:!0});var Pbe=_t(),Bbe=Ra(),Mbe=ui(),a8=Te(),Nbe=fi(),ZW=Mu(),qbe=Mr(),Fbe=JW(),Lbe=$W(),Ube=function(){function r(){this.decoder=new Fbe.default}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Mbe.default.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new Lbe.default(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),u=new Nbe.default(n.getText(),s,8*s.length,i,Pbe.default.DATA_MATRIX,qbe.default.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata(ZW.default.BYTE_SEGMENTS,f);var c=n.getECLevel();return c!=null&&u.putMetadata(ZW.default.ERROR_CORRECTION_LEVEL,c),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new a8.default;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],u=n[0],f=(u-s+1)/i,c=(o-a+1)/i;if(f<=0||c<=0)throw new a8.default;var l=i/2;a+=l,s+=l;for(var g=new Bbe.default(f,c),y=0;y<c;y++)for(var _=a+y*i,w=0;w<f;w++)e.get(s+w*i,_)&&g.set(w,y);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new a8.default;var o=i-e[0];if(o===0)throw new a8.default;return o},r.NO_POINTS=[],r}();KA.default=Ube});var QW=E(cg=>{"use strict";h();p();var kbe=cg&&cg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cg,"__esModule",{value:!0});cg.BrowserDatamatrixCodeReader=void 0;var jbe=q0(),Hbe=o8(),Kbe=function(r){kbe(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Hbe.default,t)||this}return e}(jbe.BrowserCodeReader);cg.BrowserDatamatrixCodeReader=Kbe});var Fm=E(dg=>{"use strict";h();p();Object.defineProperty(dg,"__esModule",{value:!0});dg.ErrorCorrectionLevelValues=void 0;var Vbe=Sw(),Gbe=Ge(),qm;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(qm=dg.ErrorCorrectionLevelValues||(dg.ErrorCorrectionLevelValues={}));var Ybe=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Vbe.default(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Gbe.default;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(qm.L,"L",1),r.M=new r(qm.M,"M",0),r.Q=new r(qm.Q,"Q",3),r.H=new r(qm.H,"H",2),r}();dg.default=Ybe});var s8=E(Lm=>{"use strict";h();p();var zbe=Lm&&Lm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Lm,"__esModule",{value:!0});var Wbe=Fm(),Xbe=sa(),Jbe=function(){function r(e){this.errorCorrectionLevel=Wbe.default.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Xbe.default.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=zbe(r.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,c=f[0];if(c===e||c===t)return new r(f[1]);var l=r.numBitsDiffering(e,c);l<a&&(o=f[1],a=l),e!==t&&(l=r.numBitsDiffering(t,c),l<a&&(o=f[1],a=l))}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}();Lm.default=Jbe});var eX=E(Um=>{"use strict";h();p();var $be=Um&&Um.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Um,"__esModule",{value:!0});var Zbe=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=$be(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();Um.default=Zbe});var tX=E(VA=>{"use strict";h();p();Object.defineProperty(VA,"__esModule",{value:!0});var Qbe=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();VA.default=Qbe});var jm=E(km=>{"use strict";h();p();var e4e=km&&km.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(km,"__esModule",{value:!0});var t4e=Ra(),r4e=s8(),W=eX(),U=tX(),rX=Lt(),n4e=Ge(),i4e=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var c=e4e(f),l=c.next();!l.done;l=c.next()){var g=l.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new rX.default;try{return this.getVersionForNumber((e-17)/4)}catch{throw new rX.default}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new n4e.default;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=r4e.default.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new t4e.default(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new W.default(7,new U.default(1,19)),new W.default(10,new U.default(1,16)),new W.default(13,new U.default(1,13)),new W.default(17,new U.default(1,9))),new r(2,Int32Array.from([6,18]),new W.default(10,new U.default(1,34)),new W.default(16,new U.default(1,28)),new W.default(22,new U.default(1,22)),new W.default(28,new U.default(1,16))),new r(3,Int32Array.from([6,22]),new W.default(15,new U.default(1,55)),new W.default(26,new U.default(1,44)),new W.default(18,new U.default(2,17)),new W.default(22,new U.default(2,13))),new r(4,Int32Array.from([6,26]),new W.default(20,new U.default(1,80)),new W.default(18,new U.default(2,32)),new W.default(26,new U.default(2,24)),new W.default(16,new U.default(4,9))),new r(5,Int32Array.from([6,30]),new W.default(26,new U.default(1,108)),new W.default(24,new U.default(2,43)),new W.default(18,new U.default(2,15),new U.default(2,16)),new W.default(22,new U.default(2,11),new U.default(2,12))),new r(6,Int32Array.from([6,34]),new W.default(18,new U.default(2,68)),new W.default(16,new U.default(4,27)),new W.default(24,new U.default(4,19)),new W.default(28,new U.default(4,15))),new r(7,Int32Array.from([6,22,38]),new W.default(20,new U.default(2,78)),new W.default(18,new U.default(4,31)),new W.default(18,new U.default(2,14),new U.default(4,15)),new W.default(26,new U.default(4,13),new U.default(1,14))),new r(8,Int32Array.from([6,24,42]),new W.default(24,new U.default(2,97)),new W.default(22,new U.default(2,38),new U.default(2,39)),new W.default(22,new U.default(4,18),new U.default(2,19)),new W.default(26,new U.default(4,14),new U.default(2,15))),new r(9,Int32Array.from([6,26,46]),new W.default(30,new U.default(2,116)),new W.default(22,new U.default(3,36),new U.default(2,37)),new W.default(20,new U.default(4,16),new U.default(4,17)),new W.default(24,new U.default(4,12),new U.default(4,13))),new r(10,Int32Array.from([6,28,50]),new W.default(18,new U.default(2,68),new U.default(2,69)),new W.default(26,new U.default(4,43),new U.default(1,44)),new W.default(24,new U.default(6,19),new U.default(2,20)),new W.default(28,new U.default(6,15),new U.default(2,16))),new r(11,Int32Array.from([6,30,54]),new W.default(20,new U.default(4,81)),new W.default(30,new U.default(1,50),new U.default(4,51)),new W.default(28,new U.default(4,22),new U.default(4,23)),new W.default(24,new U.default(3,12),new U.default(8,13))),new r(12,Int32Array.from([6,32,58]),new W.default(24,new U.default(2,92),new U.default(2,93)),new W.default(22,new U.default(6,36),new U.default(2,37)),new W.default(26,new U.default(4,20),new U.default(6,21)),new W.default(28,new U.default(7,14),new U.default(4,15))),new r(13,Int32Array.from([6,34,62]),new W.default(26,new U.default(4,107)),new W.default(22,new U.default(8,37),new U.default(1,38)),new W.default(24,new U.default(8,20),new U.default(4,21)),new W.default(22,new U.default(12,11),new U.default(4,12))),new r(14,Int32Array.from([6,26,46,66]),new W.default(30,new U.default(3,115),new U.default(1,116)),new W.default(24,new U.default(4,40),new U.default(5,41)),new W.default(20,new U.default(11,16),new U.default(5,17)),new W.default(24,new U.default(11,12),new U.default(5,13))),new r(15,Int32Array.from([6,26,48,70]),new W.default(22,new U.default(5,87),new U.default(1,88)),new W.default(24,new U.default(5,41),new U.default(5,42)),new W.default(30,new U.default(5,24),new U.default(7,25)),new W.default(24,new U.default(11,12),new U.default(7,13))),new r(16,Int32Array.from([6,26,50,74]),new W.default(24,new U.default(5,98),new U.default(1,99)),new W.default(28,new U.default(7,45),new U.default(3,46)),new W.default(24,new U.default(15,19),new U.default(2,20)),new W.default(30,new U.default(3,15),new U.default(13,16))),new r(17,Int32Array.from([6,30,54,78]),new W.default(28,new U.default(1,107),new U.default(5,108)),new W.default(28,new U.default(10,46),new U.default(1,47)),new W.default(28,new U.default(1,22),new U.default(15,23)),new W.default(28,new U.default(2,14),new U.default(17,15))),new r(18,Int32Array.from([6,30,56,82]),new W.default(30,new U.default(5,120),new U.default(1,121)),new W.default(26,new U.default(9,43),new U.default(4,44)),new W.default(28,new U.default(17,22),new U.default(1,23)),new W.default(28,new U.default(2,14),new U.default(19,15))),new r(19,Int32Array.from([6,30,58,86]),new W.default(28,new U.default(3,113),new U.default(4,114)),new W.default(26,new U.default(3,44),new U.default(11,45)),new W.default(26,new U.default(17,21),new U.default(4,22)),new W.default(26,new U.default(9,13),new U.default(16,14))),new r(20,Int32Array.from([6,34,62,90]),new W.default(28,new U.default(3,107),new U.default(5,108)),new W.default(26,new U.default(3,41),new U.default(13,42)),new W.default(30,new U.default(15,24),new U.default(5,25)),new W.default(28,new U.default(15,15),new U.default(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new W.default(28,new U.default(4,116),new U.default(4,117)),new W.default(26,new U.default(17,42)),new W.default(28,new U.default(17,22),new U.default(6,23)),new W.default(30,new U.default(19,16),new U.default(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new W.default(28,new U.default(2,111),new U.default(7,112)),new W.default(28,new U.default(17,46)),new W.default(30,new U.default(7,24),new U.default(16,25)),new W.default(24,new U.default(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new W.default(30,new U.default(4,121),new U.default(5,122)),new W.default(28,new U.default(4,47),new U.default(14,48)),new W.default(30,new U.default(11,24),new U.default(14,25)),new W.default(30,new U.default(16,15),new U.default(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new W.default(30,new U.default(6,117),new U.default(4,118)),new W.default(28,new U.default(6,45),new U.default(14,46)),new W.default(30,new U.default(11,24),new U.default(16,25)),new W.default(30,new U.default(30,16),new U.default(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new W.default(26,new U.default(8,106),new U.default(4,107)),new W.default(28,new U.default(8,47),new U.default(13,48)),new W.default(30,new U.default(7,24),new U.default(22,25)),new W.default(30,new U.default(22,15),new U.default(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new W.default(28,new U.default(10,114),new U.default(2,115)),new W.default(28,new U.default(19,46),new U.default(4,47)),new W.default(28,new U.default(28,22),new U.default(6,23)),new W.default(30,new U.default(33,16),new U.default(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new W.default(30,new U.default(8,122),new U.default(4,123)),new W.default(28,new U.default(22,45),new U.default(3,46)),new W.default(30,new U.default(8,23),new U.default(26,24)),new W.default(30,new U.default(12,15),new U.default(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new W.default(30,new U.default(3,117),new U.default(10,118)),new W.default(28,new U.default(3,45),new U.default(23,46)),new W.default(30,new U.default(4,24),new U.default(31,25)),new W.default(30,new U.default(11,15),new U.default(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new W.default(30,new U.default(7,116),new U.default(7,117)),new W.default(28,new U.default(21,45),new U.default(7,46)),new W.default(30,new U.default(1,23),new U.default(37,24)),new W.default(30,new U.default(19,15),new U.default(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new W.default(30,new U.default(5,115),new U.default(10,116)),new W.default(28,new U.default(19,47),new U.default(10,48)),new W.default(30,new U.default(15,24),new U.default(25,25)),new W.default(30,new U.default(23,15),new U.default(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new W.default(30,new U.default(13,115),new U.default(3,116)),new W.default(28,new U.default(2,46),new U.default(29,47)),new W.default(30,new U.default(42,24),new U.default(1,25)),new W.default(30,new U.default(23,15),new U.default(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new W.default(30,new U.default(17,115)),new W.default(28,new U.default(10,46),new U.default(23,47)),new W.default(30,new U.default(10,24),new U.default(35,25)),new W.default(30,new U.default(19,15),new U.default(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new W.default(30,new U.default(17,115),new U.default(1,116)),new W.default(28,new U.default(14,46),new U.default(21,47)),new W.default(30,new U.default(29,24),new U.default(19,25)),new W.default(30,new U.default(11,15),new U.default(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new W.default(30,new U.default(13,115),new U.default(6,116)),new W.default(28,new U.default(14,46),new U.default(23,47)),new W.default(30,new U.default(44,24),new U.default(7,25)),new W.default(30,new U.default(59,16),new U.default(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new W.default(30,new U.default(12,121),new U.default(7,122)),new W.default(28,new U.default(12,47),new U.default(26,48)),new W.default(30,new U.default(39,24),new U.default(14,25)),new W.default(30,new U.default(22,15),new U.default(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new W.default(30,new U.default(6,121),new U.default(14,122)),new W.default(28,new U.default(6,47),new U.default(34,48)),new W.default(30,new U.default(46,24),new U.default(10,25)),new W.default(30,new U.default(2,15),new U.default(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new W.default(30,new U.default(17,122),new U.default(4,123)),new W.default(28,new U.default(29,46),new U.default(14,47)),new W.default(30,new U.default(49,24),new U.default(10,25)),new W.default(30,new U.default(24,15),new U.default(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new W.default(30,new U.default(4,122),new U.default(18,123)),new W.default(28,new U.default(13,46),new U.default(32,47)),new W.default(30,new U.default(48,24),new U.default(14,25)),new W.default(30,new U.default(42,15),new U.default(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new W.default(30,new U.default(20,117),new U.default(4,118)),new W.default(28,new U.default(40,47),new U.default(7,48)),new W.default(30,new U.default(43,24),new U.default(22,25)),new W.default(30,new U.default(10,15),new U.default(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new W.default(30,new U.default(19,118),new U.default(6,119)),new W.default(28,new U.default(18,47),new U.default(31,48)),new W.default(30,new U.default(34,24),new U.default(34,25)),new W.default(30,new U.default(20,15),new U.default(61,16)))],r}();km.default=i4e});var GA=E(lg=>{"use strict";h();p();Object.defineProperty(lg,"__esModule",{value:!0});lg.DataMaskValues=void 0;var fn;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(fn=lg.DataMaskValues||(lg.DataMaskValues={}));var a4e=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[fn.DATA_MASK_000,new r(fn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[fn.DATA_MASK_001,new r(fn.DATA_MASK_001,function(e,t){return(e&1)===0})],[fn.DATA_MASK_010,new r(fn.DATA_MASK_010,function(e,t){return t%3===0})],[fn.DATA_MASK_011,new r(fn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[fn.DATA_MASK_100,new r(fn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[fn.DATA_MASK_101,new r(fn.DATA_MASK_101,function(e,t){return e*t%6===0})],[fn.DATA_MASK_110,new r(fn.DATA_MASK_110,function(e,t){return e*t%6<3})],[fn.DATA_MASK_111,new r(fn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}();lg.default=a4e});var iX=E(zA=>{"use strict";h();p();Object.defineProperty(zA,"__esModule",{value:!0});var YA=jm(),o4e=s8(),nX=GA(),u8=Lt(),s4e=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new u8.default;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=o4e.default.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new u8.default},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return YA.default.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=YA.default.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=YA.default.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new u8.default},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=nX.default.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),u=0,f=0,c=0,l=i-1;l>0;l-=2){l===6&&l--;for(var g=0;g<i;g++)for(var y=o?i-1-g:g,_=0;_<2;_++)a.get(l-_,y)||(c++,f<<=1,this.bitMatrix.get(l-_,y)&&(f|=1),c===8&&(s[u++]=f,c=0,f=0));o=!o}if(u!==t.getTotalCodewords())throw new u8.default;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=nX.default.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}();zA.default=s4e});var oX=E(Hm=>{"use strict";h();p();var aX=Hm&&Hm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Hm,"__esModule",{value:!0});var u4e=Ge(),f4e=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new u4e.default;var u=t.getECBlocksForLevel(n),f=0,c=u.getECBlocks();try{for(var l=aX(c),g=l.next();!g.done;g=l.next()){var y=g.value;f+=y.getCount()}}catch(b){i={error:b}}finally{try{g&&!g.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var I=aX(c),T=I.next();!T.done;T=I.next())for(var y=T.value,O=0;O<y.getCount();O++){var B=y.getDataCodewords(),q=u.getECCodewordsPerBlock()+B;_[w++]=new r(B,new Uint8Array(q))}}catch(b){o={error:b}}finally{try{T&&!T.done&&(s=I.return)&&s.call(I)}finally{if(o)throw o.error}}for(var C=_[0].codewords.length,d=_.length-1;d>=0;){var m=_[d].codewords.length;if(m===C)break;d--}d++;for(var x=C-u.getECCodewordsPerBlock(),D=0,O=0;O<x;O++)for(var M=0;M<w;M++)_[M].codewords[O]=e[D++];for(var M=d;M<w;M++)_[M].codewords[x]=e[D++];for(var Q=_[0].codewords.length,O=x;O<Q;O++)for(var M=0;M<w;M++){var L=M<d?O:O+1;_[M].codewords[L]=e[D++]}return _},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();Hm.default=f4e});var f8=E(hg=>{"use strict";h();p();Object.defineProperty(hg,"__esModule",{value:!0});hg.ModeValues=void 0;var c4e=Ge(),Ys;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Ys=hg.ModeValues||(hg.ModeValues={}));var d4e=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new c4e.default;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Ys.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Ys.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Ys.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Ys.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Ys.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Ys.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Ys.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Ys.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Ys.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Ys.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}();hg.default=d4e});var $A=E(JA=>{"use strict";h();p();Object.defineProperty(JA,"__esModule",{value:!0});var l4e=n8(),h4e=Lf(),p4e=tg(),WA=Vs(),hr=Lt(),g4e=dr(),XA=fh(),Ma=f8(),y4e=function(){function r(){}return r.decode=function(e,t,n,i){var a=new l4e.default(e),o=new g4e.default,s=new Array,u=-1,f=-1;try{var c=null,l=!1,g=void 0;do{if(a.available()<4)g=Ma.default.TERMINATOR;else{var y=a.readBits(4);g=Ma.default.forBits(y)}switch(g){case Ma.default.TERMINATOR:break;case Ma.default.FNC1_FIRST_POSITION:case Ma.default.FNC1_SECOND_POSITION:l=!0;break;case Ma.default.STRUCTURED_APPEND:if(a.available()<16)throw new hr.default;u=a.readBits(8),f=a.readBits(8);break;case Ma.default.ECI:var _=r.parseECIValue(a);if(c=h4e.default.getCharacterSetECIByValue(_),c===null)throw new hr.default;break;case Ma.default.HANZI:var w=a.readBits(4),I=a.readBits(g.getCharacterCountBits(t));w===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,I);break;default:var T=a.readBits(g.getCharacterCountBits(t));switch(g){case Ma.default.NUMERIC:r.decodeNumericSegment(a,o,T);break;case Ma.default.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,T,l);break;case Ma.default.BYTE:r.decodeByteSegment(a,o,T,c,s,i);break;case Ma.default.KANJI:r.decodeKanjiSegment(a,o,T);break;default:throw new hr.default}break}}while(g!==Ma.default.TERMINATOR)}catch{throw new hr.default}return new p4e.default(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),u,f)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new hr.default;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{t.append(XA.default.decode(i,WA.default.GB2312))}catch(u){throw new hr.default(u)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new hr.default;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{t.append(XA.default.decode(i,WA.default.SHIFT_JIS))}catch(u){throw new hr.default(u)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new hr.default;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var f;i===null?f=WA.default.guessEncoding(s,o):f=i.getName();try{t.append(XA.default.decode(s,f))}catch(c){throw new hr.default(c)}a.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new hr.default;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new hr.default;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new hr.default;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,String.fromCharCode(29)))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new hr.default;var i=e.readBits(10);if(i>=1e3)throw new hr.default;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new hr.default;var a=e.readBits(7);if(a>=100)throw new hr.default;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new hr.default;var o=e.readBits(4);if(o>=10)throw new hr.default;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new hr.default},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}();JA.default=y4e});var QA=E(ZA=>{"use strict";h();p();Object.defineProperty(ZA,"__esModule",{value:!0});var v4e=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}();ZA.default=v4e});var uX=E(Km=>{"use strict";h();p();var sX=Km&&Km.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Km,"__esModule",{value:!0});var m4e=Hs(),_4e=Ra(),x4e=kf(),b4e=ng(),w4e=iX(),E4e=oX(),I4e=$A(),S4e=QA(),T4e=function(){function r(){this.rsDecoder=new b4e.default(x4e.default.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(_4e.default.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new w4e.default(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new S4e.default(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),c=E4e.default.getDataBlocks(f,s,u),l=0;try{for(var g=sX(c),y=g.next();!y.done;y=g.next()){var _=y.value;l+=_.getNumDataCodewords()}}catch(d){n={error:d}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var w=new Uint8Array(l),I=0;try{for(var T=sX(c),O=T.next();!O.done;O=T.next()){var _=O.value,B=_.getCodewords(),q=_.getNumDataCodewords();this.correctErrors(B,q);for(var C=0;C<q;C++)w[I++]=B[C]}}catch(d){a={error:d}}finally{try{O&&!O.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}return I4e.default.decode(w,s,u,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new m4e.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();Km.default=T4e});var fX=E(Vm=>{"use strict";h();p();var C4e=Vm&&Vm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vm,"__esModule",{value:!0});var A4e=lr(),O4e=function(r){C4e(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(A4e.default);Vm.default=O4e});var cX=E(Gm=>{"use strict";h();p();var D4e=Gm&&Gm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gm,"__esModule",{value:!0});var R4e=fX(),P4e=Te(),B4e=function(){function r(e,t,n,i,a,o,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),s=this.image,u=0;u<t;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,f);)c++;for(var l=0;c<i;){if(s.get(c,f))if(l===1)o[1]++;else if(l===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,c);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else l===1&&l++,o[l]++;c++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P4e.default},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!a.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(t,u)&&s[1]<=n;)s[1]++,u++;if(u===o||s[1]>n)return NaN;for(;u<o&&!a.get(t,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var c=D4e(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(_){i={error:_}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var y=new R4e.default(s,u,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},r}();Gm.default=B4e});var dX=E(Ym=>{"use strict";h();p();var M4e=Ym&&Ym.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ym,"__esModule",{value:!0});var N4e=lr(),q4e=function(r){M4e(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+t)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(N4e.default);Ym.default=q4e});var lX=E(eO=>{"use strict";h();p();Object.defineProperty(eO,"__esModule",{value:!0});var F4e=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}();eO.default=F4e});var pX=E(Wm=>{"use strict";h();p();var zm=Wm&&Wm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Wm,"__esModule",{value:!0});var hX=ui(),L4e=lr(),U4e=dX(),k4e=lX(),j4e=Te(),H4e=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(hX.default.TRY_HARDER)!==void 0,n=e!=null&&e.get(hX.default.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var u=!1,f=new Int32Array(5),c=s-1;c<a&&!u;c+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var l=0,g=0;g<o;g++)if(i.get(g,c))(l&1)===1&&l++,f[l]++;else if((l&1)===0)if(l===4)if(r.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,g,n);if(y===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(c+=_-f[2]-s,g=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;continue}l=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;else f[++l]++;else f[l]++;if(r.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,o,n);y===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return L4e.default.orderBestPatterns(w),new k4e.default(w)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var u=s.getHeight(),f=s.getWidth();for(o=1;e+o<u&&t+o<f&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=u||t+o>=f)return!1;for(;e+o<u&&t+o<f&&!s.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=u||t+o>=f||a[3]>=n)return!1;for(;e+o<u&&t+o<f&&s.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(t,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(t,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(t,u)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(t,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,t);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,t)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(u,t)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(u,t);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,t)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(u,t)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,c=this.possibleCenters,l=0,g=c.length;l<g;l++){var y=c[l];if(y.aboutEquals(u,s,o)){c[l]=y.combineEstimate(s,o,u),f=!0;break}}if(!f){var _=new U4e.default(o,s,u);c.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=zm(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=zm(this.possibleCenters),f=u.next();!f.done;f=u.next()){var c=f.value;c.getCount()>=r.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var l=o/s,g=0;try{for(var y=zm(this.possibleCenters),_=y.next();!_.done;_=y.next()){var c=_.value;g+=Math.abs(c.getEstimatedModuleSize()-l)}}catch(w){n={error:w}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return g<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new j4e.default;var o=this.possibleCenters,s;if(a>3){var u=0,f=0;try{for(var c=zm(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value,y=g.getEstimatedModuleSize();u+=y,f+=y*y}}catch(C){e={error:C}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}s=u/a;var _=Math.sqrt(f/a-s*s);o.sort(function(C,d){var m=Math.abs(d.getEstimatedModuleSize()-s),x=Math.abs(C.getEstimatedModuleSize()-s);return m<x?-1:m>x?1:0});for(var w=Math.max(.2*s,_),I=0;I<o.length&&o.length>3;I++){var T=o[I];Math.abs(T.getEstimatedModuleSize()-s)>w&&(o.splice(I,1),I--)}}if(o.length>3){var u=0;try{for(var O=zm(o),B=O.next();!B.done;B=O.next()){var q=B.value;u+=q.getEstimatedModuleSize()}}catch(d){n={error:d}}finally{try{B&&!B.done&&(i=O.return)&&i.call(O)}finally{if(n)throw n.error}}s=u/o.length,o.sort(function(d,m){if(m.getCount()===d.getCount()){var x=Math.abs(m.getEstimatedModuleSize()-s),D=Math.abs(d.getEstimatedModuleSize()-s);return x<D?1:x>D?-1:0}else return m.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}();Wm.default=H4e});var yX=E(tO=>{"use strict";h();p();Object.defineProperty(tO,"__esModule",{value:!0});var c8=Jo(),K4e=Zv(),V4e=tm(),G4e=Uw(),Y4e=ui(),Xm=Te(),gX=lr(),z4e=jm(),W4e=cX(),X4e=pX(),J4e=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Y4e.default.NEED_RESULT_POINT_CALLBACK);var t=new X4e.default(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new Xm.default("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),s=z4e.default.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-t.getX()+i.getX(),l=n.getY()-t.getY()+i.getY(),g=1-3/u,y=Math.floor(t.getX()+g*(c-t.getX())),_=Math.floor(t.getY()+g*(l-t.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,y,_,w);break}catch(B){if(!(B instanceof Xm.default))throw B}var I=r.createTransform(t,n,i,f,o),T=r.sampleGrid(this.image,I,o),O;return f===null?O=[i,t,n]:O=[i,t,n,f],new K4e.default(T,O)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,s,u,f,c;return i!==null?(s=i.getX(),u=i.getY(),f=o-3,c=f):(s=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),f=o,c=o),G4e.default.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,c,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,u,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=V4e.default.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=c8.default.round(gX.default.distance(e,t)/i),o=c8.default.round(gX.default.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Xm.default("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*o);return o=1,u<0?(o=t/(t-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,u),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),u=Math.abs(i-t),f=-s/2,c=e<n?1:-1,l=t<i?1:-1,g=0,y=n+c,_=e,w=t;_!==y;_+=c){var I=a?w:_,T=a?_:w;if(g===1===this.image.get(I,T)){if(g===2)return c8.default.distance(_,w,e,t);g++}if(f+=u,f>0){if(w===i)break;w+=l,f-=s}}return g===2?c8.default.distance(n+c,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new Xm.default("Alignment top exceeds estimated module size.");var u=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-u<e*3)throw new Xm.default("Alignment bottom exceeds estimated module size.");var c=new W4e.default(this.image,o,u,s-o,f-u,e,this.resultPointCallback);return c.find()},r}();tO.default=J4e});var l8=E(rO=>{"use strict";h();p();Object.defineProperty(rO,"__esModule",{value:!0});var $4e=_t(),Z4e=Ra(),Q4e=ui(),j0=Te(),e6e=fi(),d8=Mu(),t6e=uX(),r6e=QA(),n6e=yX(),i6e=function(){function r(){this.decoder=new t6e.default}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Q4e.default.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new n6e.default(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof r6e.default&&n.getOther().applyMirroredCorrection(i);var s=new e6e.default(n.getText(),n.getRawBytes(),void 0,i,$4e.default.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(d8.default.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!==null&&s.putMetadata(d8.default.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(s.putMetadata(d8.default.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(d8.default.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new j0.default;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],u=n[0];if(s>=u||a>=o)throw new j0.default;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new j0.default;var f=Math.round((u-s+1)/i),c=Math.round((o-a+1)/i);if(f<=0||c<=0)throw new j0.default;if(c!==f)throw new j0.default;var l=Math.floor(i/2);a+=l,s+=l;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>l)throw new j0.default;s-=g}var y=a+Math.floor((c-1)*i)-o;if(y>0){if(y>l)throw new j0.default;a-=y}for(var _=new Z4e.default(f,c),w=0;w<c;w++)for(var I=a+Math.floor(w*i),T=0;T<f;T++)e.get(s+Math.floor(T*i),I)&&_.set(T,w);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<n;){if(s!==t.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===n)throw new j0.default;return(a-e[0])/7},r.NO_POINTS=new Array,r}();rO.default=i6e});var H0=E(Jm=>{"use strict";h();p();var a6e=Jm&&Jm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jm,"__esModule",{value:!0});var o6e=Ks(),s6e=Jo(),u6e=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return s6e.default.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=a6e(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=o6e.default.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}();Jm.default=u6e});var vX=E(nO=>{"use strict";h();p();Object.defineProperty(nO,"__esModule",{value:!0});var f6e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();nO.default=f6e});var _X=E($m=>{"use strict";h();p();var c6e=$m&&$m.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($m,"__esModule",{value:!0});var h8=lr(),d6e=Mr(),mX=Ks(),l6e=vX(),h6e=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new l6e.default(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,s=0,u=!1;o<t.getHeight();){var f=r.findVertices(t,o,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,c6e(a)),l=c.next();!l.done;l=c.next()){var g=l.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var s=new Array(4),u=!1,f=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var c=r.findGuardPattern(e,a,i,n,!1,o,f);if(c!=null){for(;i>0;){var l=r.findGuardPattern(e,a,--i,n,!1,o,f);if(l!=null)c=l;else{i++;break}}s[0]=new h8.default(c[0],i),s[1]=new h8.default(c[1],i),u=!0;break}}var g=i+1;if(u){for(var y=0,l=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var c=r.findGuardPattern(e,l[0],g,n,!1,o,f);if(c!=null&&Math.abs(l[0]-c[0])<r.MAX_PATTERN_DRIFT&&Math.abs(l[1]-c[1])<r.MAX_PATTERN_DRIFT)l=c,y=0;else{if(y>r.SKIPPED_ROW_COUNT_MAX)break;y++}}g-=y+1,s[2]=new h8.default(l[0],g),s[3]=new h8.default(l[1],g)}return g-i<r.BARCODE_MIN_HEIGHT&&mX.default.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,a,o,s){mX.default.fillWithin(s,0,s.length,0);for(var u=t,f=0;e.get(u,n)&&u>0&&f++<r.MAX_PIXEL_DRIFT;)u--;for(var c=u,l=0,g=o.length,y=a;c<i;c++){var _=e.get(c,n);if(_!==y)s[l]++;else{if(l===g-1){if(r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],d6e.default.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,y=!y}}return l===g-1&&r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var u=a/o;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=t[c]*u,y=l>g?l-g:g-l;if(y>n)return 1/0;f+=y}return f/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}();$m.default=h6e});var iO=E(Qm=>{"use strict";h();p();var p6e=Qm&&Qm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qm,"__esModule",{value:!0});var Zm=Ge(),xX=Mr(),g6e=dr(),y6e=function(){function r(e,t){if(t.length===0)throw new Zm.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),xX.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=p6e(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,c=1;c<f;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Zm.default("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;xX.default.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(t[s-o],n[s]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Zm.default("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Zm.default("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var u=t[s],f=0;f<a;f++)o[s+f]=this.field.add(o[s+f],this.field.multiply(u,i[f]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Zm.default;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new g6e.default,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}();Qm.default=y6e});var bX=E(aO=>{"use strict";h();p();Object.defineProperty(aO,"__esModule",{value:!0});var v6e=Ge(),m6e=Bw(),_6e=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new v6e.default;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new m6e.default;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}();aO.default=_6e});var wX=E(e2=>{"use strict";h();p();var x6e=e2&&e2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e2,"__esModule",{value:!0});var b6e=H0(),oO=iO(),w6e=Ge(),E6e=bX(),I6e=function(r){x6e(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new oO.default(i,new Int32Array([0])),i.one=new oO.default(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new w6e.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new oO.default(this,i)},e.PDF417_GF=new e(b6e.default.NUMBER_OF_CODEWORDS,3),e}(E6e.default);e2.default=I6e});var sO=E(t2=>{"use strict";h();p();var S6e=t2&&t2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t2,"__esModule",{value:!0});var p8=Hs(),g8=iO(),T6e=wX(),C6e=function(){function r(){this.field=T6e.default.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new g8.default(this.field,e),s=new Int32Array(t),u=!1,f=t;f>0;f--){var c=o.evaluateAt(this.field.exp(f));s[t-f]=c,c!==0&&(u=!0)}if(!u)return 0;var l=this.field.getOne();if(n!=null)try{for(var g=S6e(n),y=g.next();!y.done;y=g.next()){var _=y.value,w=this.field.exp(e.length-1-_),I=new g8.default(this.field,new Int32Array([this.field.subtract(0,w),1]));l=l.multiply(I)}}catch(x){i={error:x}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var T=new g8.default(this.field,s),O=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),T,t),B=O[0],q=O[1],C=this.findErrorLocations(B),d=this.findErrorMagnitudes(q,B,C),f=0;f<C.length;f++){var m=e.length-1-this.field.log(C[f]);if(m<0)throw p8.default.getChecksumInstance();e[m]=this.field.subtract(e[m],d[f])}return C.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,c=s;if(a=o,s=u,a.isZero())throw p8.default.getChecksumInstance();o=f;for(var l=this.field.getZero(),g=a.getCoefficient(a.getDegree()),y=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),y);l=l.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}u=l.multiply(s).subtract(c).negative()}var I=u.getCoefficient(0);if(I===0)throw p8.default.getChecksumInstance();var T=this.field.inverse(I),O=u.multiply(T),B=o.multiply(T);return[O,B]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw p8.default.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new g8.default(this.field,a),u=n.length,f=new Int32Array(u),o=0;o<u;o++){var c=this.field.inverse(n[o]),l=this.field.subtract(0,e.evaluateAt(c)),g=this.field.inverse(s.evaluateAt(c));f[o]=this.field.multiply(l,g)}return f},r}();t2.default=C6e});var fO=E(uO=>{"use strict";h();p();Object.defineProperty(uO,"__esModule",{value:!0});var A6e=Te(),pg=lr(),O6e=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,s=i==null||a==null;if(o&&s)throw new A6e.default;o?(t=new pg.default(0,i.getY()),n=new pg.default(0,a.getY())):s&&(i=new pg.default(e.getWidth()-1,t.getY()),a=new pg.default(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var c=new pg.default(u.getX(),f);n?i=c:o=c}if(t>0){var l=n?this.bottomLeft:this.bottomRight,g=Math.trunc(l.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var y=new pg.default(l.getX(),g);n?a=y:s=y}return new r(this.image,i,a,o,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}();uO.default=O6e});var EX=E(cO=>{"use strict";h();p();Object.defineProperty(cO,"__esModule",{value:!0});var D6e=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}();cO.default=D6e});var y8=E(dO=>{"use strict";h();p();Object.defineProperty(dO,"__esModule",{value:!0});var R6e=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,s,u,f,c,l){if(o==="%%")return"%";if(t[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var g=c?parseInt(c.substr(1)):void 0,y;switch(l){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(o);break;case"p":y=parseFloat(t[n]).toPrecision(o);break;case"e":y=parseFloat(t[n]).toExponential(o);break;case"x":y=parseInt(t[n]).toString(g||16);break;case"d":y=parseFloat(parseInt(t[n],g||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var _=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";y.length<_;)y=s!==void 0?y+w:w+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}();dO.default=R6e});var lO=E(r2=>{"use strict";h();p();var P6e=r2&&r2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r2,"__esModule",{value:!0});var B6e=y8(),M6e=fO(),N6e=function(){function r(e){this.boundingBox=new M6e.default(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new B6e.default,i=0;try{for(var a=P6e(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}();r2.default=N6e});var hO=E(wh=>{"use strict";h();p();var q6e=wh&&wh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F6e=wh&&wh.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(wh,"__esModule",{value:!0});var L6e=H0(),U6e=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(l,g){var y={getKey:function(){return l},getValue:function(){return g}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var o=q6e(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=F6e(s.value,2),f=u[0],c=u[1];a(f,c)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return L6e.default.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}();wh.default=U6e});var SX=E(Eh=>{"use strict";h();p();var k6e=Eh&&Eh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pO=Eh&&Eh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Eh,"__esModule",{value:!0});var IX=H0(),j6e=EX(),H6e=lO(),v8=hO(),K6e=function(r){k6e(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=pO(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,c=1,l=0,g=s;g<u;g++)if(n[g]!=null){var y=n[g],_=y.getRowNumber()-f;if(_===0)l++;else if(_===1)c=Math.max(c,l),l=1,f=y.getRowNumber();else if(_<0||y.getRowNumber()>=t.getRowCount()||_>g)n[g]=null;else{var w=void 0;c>2?w=(c-2)*_:w=_;for(var I=w>=g,T=1;T<=w&&!I;T++)I=n[g-T]!=null;I?n[g]=null:(f=y.getRowNumber(),l=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=pO(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,c=1,l=0,g=o;g<s;g++)if(u[g]!=null){var y=u[g];y.setRowNumberAsRowIndicatorColumn();var _=y.getRowNumber()-f;_===0?l++:_===1?(c=Math.max(c,l),l=1,f=y.getRowNumber()):y.getRowNumber()>=t.getRowCount()?u[g]=null:(f=y.getRowNumber(),l=1)}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new v8.default,o=new v8.default,s=new v8.default,u=new v8.default;try{for(var f=pO(i),c=f.next();!c.done;c=f.next()){var l=c.value;if(l!=null){l.setRowNumberAsRowIndicatorColumn();var g=l.getValue()%30,y=l.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(w){t={error:w}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<IX.default.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>IX.default.MAX_ROWS_IN_BARCODE)return null;var _=new j6e.default(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(H6e.default);Eh.default=K6e});var TX=E(n2=>{"use strict";h();p();var V6e=n2&&n2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n2,"__esModule",{value:!0});var G6e=H0(),Y6e=y8(),z6e=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=G6e.default.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[t],f[3]=u[t],t>0&&(f[0]=n[t-1],f[4]=s[t-1],f[5]=u[t-1]),t>1&&(f[8]=n[t-2],f[10]=s[t-2],f[11]=u[t-2]),t<n.length-1&&(f[1]=n[t+1],f[6]=s[t+1],f[7]=u[t+1]),t<n.length-2&&(f[9]=n[t+2],f[12]=s[t+2],f[13]=u[t+2]);try{for(var c=V6e(f),l=c.next();!l.done;l=c.next()){var g=l.value;if(r.adjustRowNumber(o,g))return}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Y6e.default,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}();n2.default=z6e});var CX=E(gO=>{"use strict";h();p();Object.defineProperty(gO,"__esModule",{value:!0});var W6e=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}();gO.default=W6e});var OX=E(yO=>{"use strict";h();p();Object.defineProperty(yO,"__esModule",{value:!0});var AX=Jo(),ci=H0(),X6e=YC(),J6e=function(){function r(){}return r.initialize=function(){for(var e=0;e<ci.default.SYMBOL_TABLE.length;e++)for(var t=ci.default.SYMBOL_TABLE[e],n=t&1,i=0;i<ci.default.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(ci.default.BARS_IN_MODULE)),r.RATIOS_TABLE[e][ci.default.BARS_IN_MODULE-i-1]=Math.fround(a/ci.default.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=AX.default.sum(e),n=new Int32Array(ci.default.BARS_IN_MODULE),i=0,a=0,o=0;o<ci.default.MODULES_IN_CODEWORD;o++){var s=t/(2*ci.default.MODULES_IN_CODEWORD)+o*t/ci.default.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return ci.default.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=AX.default.sum(e),n=new Array(ci.default.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=X6e.default.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var u=0,f=r.RATIOS_TABLE[s],c=0;c<ci.default.BARS_IN_MODULE;c++){var l=Math.fround(f[c]-n[c]);if(u+=Math.fround(l*l),u>=a)break}u<a&&(a=u,o=ci.default.SYMBOL_TABLE[s])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(ci.default.SYMBOL_TABLE.length).map(function(e){return e=new Array(ci.default.BARS_IN_MODULE)}),r}();yO.default=J6e});var mO=E(vO=>{"use strict";h();p();Object.defineProperty(vO,"__esModule",{value:!0});var $6e=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}();vO.default=$6e});var DX=E(_O=>{"use strict";h();p();Object.defineProperty(_O,"__esModule",{value:!0});var Z6e=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}();_O.default=Z6e});var RX=E(i2=>{"use strict";h();p();var Q6e=i2&&i2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(i2,"__esModule",{value:!0});var ewe=si(),twe=function(r){Q6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(ewe.default);i2.default=twe});var PX=E(xO=>{"use strict";h();p();Object.defineProperty(xO,"__esModule",{value:!0});var rwe=Tw(),nwe=RX(),iwe=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new nwe.default;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new rwe.default;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}();xO.default=iwe});var BX=E(a2=>{"use strict";h();p();var awe=a2&&a2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(a2,"__esModule",{value:!0});var owe=si(),swe=function(r){awe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(owe.default);a2.default=swe});var NX=E(o2=>{"use strict";h();p();var uwe=o2&&o2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(o2,"__esModule",{value:!0});var MX=Ks(),fwe=PX(),cwe=sa(),dwe=Ge(),lwe=BX(),hwe=Mr(),pwe=Tw(),gwe=function(r){uwe(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new dwe.default("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new lwe.default;i=cwe.default.MAX_VALUE}this.buf=MX.default.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new pwe.default;this.ensureCapacity(this.count+i),hwe.default.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return MX.default.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(fwe.default);o2.default=gwe});var EO=E(wO=>{"use strict";h();p();Object.defineProperty(wO,"__esModule",{value:!0});var Ih=Lt(),qX=Lf(),ywe=tg(),vwe=mO(),mwe=Ks(),Gf=dr(),bO=sa(),FX=DX(),_we=NX(),xwe=fh(),nt;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nt||(nt={}));function LX(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var m8;function K0(r){if(typeof m8>"u"&&(m8=LX()),m8===null)throw new Error("BigInt is not supported!");return m8(r)}function bwe(){var r=[];r[0]=K0(1);var e=K0(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var wwe=function(){function r(){}return r.decode=function(e,t){var n=new Gf.default(""),i=qX.default.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new vwe.default;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:var u=qX.default.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Ih.default;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Ih.default.getFormatInstance()}if(n.length()===0)throw Ih.default.getFormatInstance();var f=new ywe.default(null,n.toString(),null,t);return f.setOther(s),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ih.default.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(bO.default.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Gf.default;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new Gf.default;t=r.textCompaction(e,t+1,u),n.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new Gf.default;t=r.textCompaction(e,t+1,f),n.setSender(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new Gf.default;t=r.textCompaction(e,t+1,c),n.setAddressee(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var l=new Gf.default;t=r.numericCompaction(e,t+1,l),n.setSegmentCount(bO.default.parseInt(l.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new Gf.default;t=r.numericCompaction(e,t+1,g),n.setTimestamp(FX.default.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new Gf.default;t=r.numericCompaction(e,t+1,y),n.setChecksum(bO.default.parseInt(y.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Gf.default;t=r.numericCompaction(e,t+1,_),n.setFileSize(FX.default.parseLong(_.toString()));break;default:throw Ih.default.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Ih.default.getFormatInstance()}if(s!==-1){var w=t-s;n.isLastSegment()&&w--,n.setOptionalData(mwe.default.copyOfRange(e,s,s+w))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var u=e[t++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],a[o]=u,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=nt.ALPHA,o=nt.ALPHA,s=0;s<n;){var u=e[s],f="";switch(a){case nt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.LL:a=nt.LOWER;break;case r.ML:a=nt.MIXED;break;case r.PS:o=a,a=nt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break;case nt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case r.AS:o=a,a=nt.ALPHA_SHIFT;break;case r.ML:a=nt.MIXED;break;case r.PS:o=a,a=nt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break;case nt.MIXED:if(u<r.PL)f=r.MIXED_CHARS[u];else switch(u){case r.PL:a=nt.PUNCT;break;case 26:f=" ";break;case r.LL:a=nt.LOWER;break;case r.AL:a=nt.ALPHA;break;case r.PS:o=a,a=nt.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break;case nt.PUNCT:if(u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:a=nt.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break;case nt.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break;case nt.PUNCT_SHIFT:if(a=o,u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:a=nt.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=nt.ALPHA;break}break}f!==""&&i.append(f),s++}},r.byteCompaction=function(e,t,n,i,a){var o=new _we.default,s=0,u=0,f=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),l=t[i++];i<t[0]&&!f;)switch(c[s++]=l,u=900*u+l,l=t[i++],l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(K0(u)>>K0(8*(5-g))));u=0,s=0}break}i===t[0]&&l<r.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=l);for(var y=0;y<s;y++)o.write(c[y]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var _=t[i++];if(_<r.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(K0(u)>>K0(8*(5-g))));u=0,s=0}}break}return a.append(xwe.default.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<r.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=K0(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*K0(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Ih.default;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=LX()?bwe():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}();wO.default=wwe});var HX=E(f2=>{"use strict";h();p();var s2=f2&&f2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(f2,"__esModule",{value:!0});var u2=Hs(),_8=Lt(),UX=Te(),Ewe=Jo(),x8=H0(),Iwe=sO(),kX=fO(),jX=SX(),Swe=TX(),Twe=lO(),Cwe=CX(),Awe=hO(),Owe=OX(),Dwe=EO(),Rwe=y8(),Pwe=function(){function r(){}return r.decode=function(e,t,n,i,a,o,s){for(var u=new kX.default(e,t,n,i,a),f=null,c=null,l,g=!0;;g=!1){if(t!=null&&(f=r.getRowIndicatorColumn(e,u,t,!0,o,s)),i!=null&&(c=r.getRowIndicatorColumn(e,u,i,!1,o,s)),l=r.merge(f,c),l==null)throw UX.default.getNotFoundInstance();var y=l.getBoundingBox();if(g&&y!=null&&(y.getMinY()<u.getMinY()||y.getMaxY()>u.getMaxY()))u=y;else break}l.setBoundingBox(u);var _=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,f),l.setDetectionResultColumn(_,c);for(var w=f!=null,I=1;I<=_;I++){var T=w?I:_-I;if(l.getDetectionResultColumn(T)===void 0){var O=void 0;T===0||T===_?O=new jX.default(u,T===0):O=new Twe.default(u),l.setDetectionResultColumn(T,O);for(var B=-1,q=B,C=u.getMinY();C<=u.getMaxY();C++){if(B=r.getStartColumn(l,T,C,w),B<0||B>u.getMaxX()){if(q===-1)continue;B=q}var d=r.detectCodeword(e,u.getMinX(),u.getMaxX(),w,B,C,o,s);d!=null&&(O.setCodeword(C,d),q=B,o=Math.min(o,d.getWidth()),s=Math.max(s,d.getWidth()))}}}return r.createDecoderResult(l)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=kX.default.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new Swe.default(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var s=s2(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var c=e.getCodewords(),l=0;o>0&&c[l]==null;l++)o--;for(var g=0,l=i.length-1;l>=0&&(g+=a-i[l],!(i[l]>0));l--);for(var l=c.length-1;g>0&&c[l]==null;l--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=s2(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var s=new jX.default(t,i),u=0;u<2;u++)for(var f=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),l=Math.trunc(Math.trunc(n.getY()));l<=t.getMaxY()&&l>=t.getMinY();l+=f){var g=r.detectCodeword(e,0,e.getWidth(),i,c,l,a,o);g!=null&&(s.setCodeword(l,g),i?c=g.getStartX():c=g.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>x8.default.MAX_CODEWORDS_IN_BARCODE)throw UX.default.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=t[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;f.length===0?n.push(c):f.length===1?i[c]=f[0]:(o.push(c),a.push(f))}for(var l=new Array(a.length),g=0;g<l.length;g++)l[g]=a[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,x8.default.toIntArray(n),x8.default.toIntArray(o),l)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)t[i[u]]=a[u][o[u]];try{return r.decodeCodewords(t,e,n)}catch(c){var f=c instanceof u2.default;if(!f)throw c}if(o.length===0)throw u2.default.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw u2.default.getChecksumInstance()}throw u2.default.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new Awe.default;var f=0;try{for(var c=s2(e.getDetectionResultColumns()),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)try{for(var y=(i=void 0,s2(g.getCodewords())),_=y.next();!_.done;_=y.next()){var w=_.value;if(w!=null){var I=w.getRowNumber();if(I>=0){if(I>=o.length)continue;o[I][f].setValue(w.getValue())}}}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}f++}}catch(T){t={error:T}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,s=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var c=(a=void 0,s2(e.getDetectionResultColumn(t).getCodewords())),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(y){a={error:y}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,s,u){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var f=r.getModuleBitCount(e,t,n,i,a,o);if(f==null)return null;var c,l=Ewe.default.sum(f);if(i)c=a+l;else{for(var g=0;g<f.length/2;g++){var y=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=y}c=a,a=c-l}if(!r.checkCodewordSkew(l,s,u))return null;var _=Owe.default.getDecodedValue(f),w=x8.default.getCodeword(_);return w===-1?null:new Cwe.default(a,c,r.getCodewordBucketNumber(_),w)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var s=a,u=new Int32Array(8),f=0,c=i?1:-1,l=i;(i?s<n:s>=t)&&f<u.length;)e.get(s,o)===l?(u[f]++,s+=c):(f++,l=!l);return f===u.length||s===(i?n:t)&&f===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var s=a,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=t:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>r.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw _8.default.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=Dwe.default.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw u2.default.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw _8.default.getFormatInstance();var n=e[0];if(n>e.length)throw _8.default.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw _8.default.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new Rwe.default,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Iwe.default,r}();f2.default=Pwe});var b8=E(c2=>{"use strict";h();p();var Bwe=c2&&c2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c2,"__esModule",{value:!0});var Mwe=_t(),Nwe=Hs(),qwe=Lt(),KX=Te(),Fwe=fi(),V0=H0(),Lwe=sa(),VX=Mu(),Uwe=_X(),kwe=HX(),jwe=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw KX.default.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof qwe.default||n instanceof Nwe.default?KX.default.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,s=Uwe.default.detectMultiple(e,t,n);try{for(var u=Bwe(s.getPoints()),f=u.next();!f.done;f=u.next()){var c=f.value,l=kwe.default.decode(s.getBits(),c[4],c[5],c[6],c[7],r.getMinCodewordWidth(c),r.getMaxCodewordWidth(c)),g=new Fwe.default(l.getText(),l.getRawBytes(),void 0,c,Mwe.default.PDF_417);g.putMetadata(VX.default.ERROR_CORRECTION_LEVEL,l.getECLevel());var y=l.getOther();y!=null&&g.putMetadata(VX.default.PDF417_EXTRA_METADATA,y),o.push(g)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(_){return _})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Lwe.default.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*V0.default.MODULES_IN_CODEWORD/V0.default.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*V0.default.MODULES_IN_CODEWORD/V0.default.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*V0.default.MODULES_IN_CODEWORD/V0.default.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*V0.default.MODULES_IN_CODEWORD/V0.default.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}();c2.default=jwe});var IO=E(d2=>{"use strict";h();p();var Hwe=d2&&d2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(d2,"__esModule",{value:!0});var Kwe=si(),Vwe=function(r){Hwe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Kwe.default);d2.default=Vwe});var SO=E(l2=>{"use strict";h();p();var GX=l2&&l2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(l2,"__esModule",{value:!0});var YX=ui(),ki=_t(),zX=l8(),WX=Hw(),w8=r8(),XX=o8(),Gwe=Te(),JX=b8(),$X=IO(),Ywe=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(YX.default.TRY_HARDER)!==void 0,n=e==null?null:e.get(YX.default.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===ki.default.UPC_A||o===ki.default.UPC_E||o===ki.default.EAN_13||o===ki.default.EAN_8||o===ki.default.CODABAR||o===ki.default.CODE_39||o===ki.default.CODE_93||o===ki.default.CODE_128||o===ki.default.ITF||o===ki.default.RSS_14||o===ki.default.RSS_EXPANDED});a&&!t&&i.push(new w8.default(e)),n.includes(ki.default.QR_CODE)&&i.push(new zX.default),n.includes(ki.default.DATA_MATRIX)&&i.push(new XX.default),n.includes(ki.default.AZTEC)&&i.push(new WX.default),n.includes(ki.default.PDF_417)&&i.push(new JX.default),a&&t&&i.push(new w8.default(e))}i.length===0&&(t||i.push(new w8.default(e)),i.push(new zX.default),i.push(new XX.default),i.push(new WX.default),i.push(new JX.default),t&&i.push(new w8.default(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=GX(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new $X.default("No readers where selected, nothing can be read.");try{for(var i=GX(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof $X.default)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new Gwe.default("No MultiFormat Readers were able to detect the code.")},r}();l2.default=Ywe});var ZX=E(gg=>{"use strict";h();p();var zwe=gg&&gg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gg,"__esModule",{value:!0});gg.BrowserMultiFormatReader=void 0;var Wwe=q0(),Xwe=SO(),Jwe=function(r){zwe(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new Xwe.default;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Wwe.BrowserCodeReader);gg.BrowserMultiFormatReader=Jwe});var QX=E(yg=>{"use strict";h();p();var $we=yg&&yg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yg,"__esModule",{value:!0});yg.BrowserPDF417Reader=void 0;var Zwe=q0(),Qwe=b8(),e8e=function(r){$we(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Qwe.default,t)||this}return e}(Zwe.BrowserCodeReader);yg.BrowserPDF417Reader=e8e});var eJ=E(vg=>{"use strict";h();p();var t8e=vg&&vg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vg,"__esModule",{value:!0});vg.BrowserQRCodeReader=void 0;var r8e=q0(),n8e=l8(),i8e=function(r){t8e(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new n8e.default,t)||this}return e}(r8e.BrowserCodeReader);vg.BrowserQRCodeReader=i8e});var mg=E(CO=>{"use strict";h();p();Object.defineProperty(CO,"__esModule",{value:!0});var TO;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.MIN_SIZE=3]="MIN_SIZE",r[r.MAX_SIZE=4]="MAX_SIZE",r[r.MARGIN=5]="MARGIN",r[r.PDF417_COMPACT=6]="PDF417_COMPACT",r[r.PDF417_COMPACTION=7]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=9]="AZTEC_LAYERS",r[r.QR_VERSION=10]="QR_VERSION"})(TO||(TO={}));CO.default=TO});var E8=E(OO=>{"use strict";h();p();Object.defineProperty(OO,"__esModule",{value:!0});var AO=zv(),tJ=Mr(),rJ=Ge(),a8e=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new AO.default(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new AO.default(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new rJ.default("No error correction bytes");var n=e.length-t;if(n<=0)throw new rJ.default("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);tJ.default.arraycopy(e,0,a,0,n);var o=new AO.default(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),f=t-u.length,c=0;c<f;c++)e[n+c]=0;tJ.default.arraycopy(u,0,e,n+f,u.length)},r}();OO.default=a8e});var I8=E(DO=>{"use strict";h();p();Object.defineProperty(DO,"__esModule",{value:!0});var o8e=Ge(),s8e=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===n[o+1][u]&&f===n[o+1][u+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=n[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(r.isWhiteHorizontal(u,s-4,s)||r.isWhiteHorizontal(u,s+7,s+11))&&t++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(r.isWhiteVertical(n,s,o-4,o)||r.isWhiteVertical(n,s,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],u=0;u<i;u++)s[u]===1&&t++;var f=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(t*2-f)*10/f);return c*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new o8e.default("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,c=0;c<a;c++){var l=t?o[s][c]:o[c][s];l===f?u++:(u>=5&&(n+=r.N1+(u-5)),u=1,f=l)}u>=5&&(n+=r.N1+(u-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}();DO.default=s8e});var RO=E(h2=>{"use strict";h();p();var u8e=h2&&h2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(h2,"__esModule",{value:!0});var f8e=Ks(),c8e=dr(),d8e=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=u8e(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;f8e.default.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},r.prototype.toString=function(){for(var e=new c8e.default,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}();h2.default=d8e});var S8=E(PO=>{"use strict";h();p();Object.defineProperty(PO,"__esModule",{value:!0});var l8e=dr(),h8e=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new l8e.default;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}();PO.default=h8e});var T8=E(p2=>{"use strict";h();p();var p8e=p2&&p2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(p2,"__esModule",{value:!0});var g8e=si(),y8e=function(r){p8e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(g8e.default);p2.default=y8e});var NO=E(MO=>{"use strict";h();p();Object.defineProperty(MO,"__esModule",{value:!0});var BO=Ru(),v8e=sa(),m8e=S8(),_8e=I8(),Sh=T8(),x8e=Ge(),b8e=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new BO.default;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=r.TYPE_INFO_COORDINATES[a],f=u[0],c=u[1];if(n.setBoolean(f,c,s),a<8){var l=n.getWidth()-a-1,g=8;n.setBoolean(l,g,s)}else{var l=8,g=n.getHeight()-7+(a-8);n.setBoolean(l,g,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new BO.default;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(!!r.isEmpty(n.get(f,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,t!==255&&_8e.default.getDataMaskBit(t,f,s)&&(c=!c),n.setBoolean(f,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Sh.default("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-v8e.default.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new x8e.default("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!m8e.default.isValidMaskPattern(t))throw new Sh.default("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new BO.default;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Sh.default("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Sh.default("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Sh.default;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new Sh.default;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new Sh.default;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&r.isEmpty(t.get(f,s))&&r.embedPositionAdjustmentPattern(f-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}();MO.default=b8e});var nJ=E(qO=>{"use strict";h();p();Object.defineProperty(qO,"__esModule",{value:!0});var w8e=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}();qO.default=w8e});var D8=E(y2=>{"use strict";h();p();var iJ=y2&&y2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(y2,"__esModule",{value:!0});var C8=mg(),A8=Ru(),g2=Lf(),E8e=kf(),I8e=E8(),Zo=f8(),FO=jm(),O8=I8(),S8e=RO(),aJ=S8(),oJ=NO(),LO=fh(),T8e=nJ(),Nr=T8(),C8e=function(){function r(){}return r.calculateMaskPenalty=function(e){return O8.default.applyMaskPenaltyRule1(e)+O8.default.applyMaskPenaltyRule2(e)+O8.default.applyMaskPenaltyRule3(e)+O8.default.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(C8.default.CHARACTER_SET)!==void 0;a&&(i=n.get(C8.default.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new A8.default;if(o===Zo.default.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=g2.default.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var f=new A8.default;this.appendBytes(e,o,f,i);var c;if(n!==null&&n.get(C8.default.QR_VERSION)!==void 0){var l=Number.parseInt(n.get(C8.default.QR_VERSION).toString(),10);c=FO.default.getVersionForNumber(l);var g=this.calculateBitsNeeded(o,s,f,c);if(!this.willFit(g,c,t))throw new Nr.default("Data too big for requested version")}else c=this.recommendVersion(t,o,s,f);var y=new A8.default;y.appendBitArray(s);var _=o===Zo.default.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,c,o,y),y.appendBitArray(f);var w=c.getECBlocksForLevel(t),I=c.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(I,y);var T=this.interleaveWithECBytes(y,c.getTotalCodewords(),I,w.getNumBlocks()),O=new aJ.default;O.setECLevel(t),O.setMode(o),O.setVersion(c);var B=c.getDimensionForVersion(),q=new S8e.default(B,B),C=this.chooseMaskPattern(T,t,c,q);return O.setMaskPattern(C),oJ.default.buildMatrix(T,t,c,C,q),O.setMatrix(q),O},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,FO.default.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),g2.default.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Zo.default.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Zo.default.BYTE}return i?Zo.default.ALPHANUMERIC:n?Zo.default.NUMERIC:Zo.default.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=LO.default.encode(e,g2.default.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<aJ.default.NUM_MASK_PATTERNS;s++){oJ.default.buildMatrix(e,t,n,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=FO.default.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new Nr.default("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Nr.default("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new Nr.default("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new Nr.default("Block ID too large");var s=e%n,u=n-s,f=Math.floor(e/n),c=f+1,l=Math.floor(t/n),g=l+1,y=f-l,_=c-g;if(y!==_)throw new Nr.default("EC bytes mismatch");if(n!==u+s)throw new Nr.default("RS blocks mismatch");if(e!==(l+y)*u+(g+_)*s)throw new Nr.default("Total bytes mismatch");i<u?(a[0]=l,o[0]=y):(a[0]=g,o[0]=_)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,s,u;if(e.getSizeInBytes()!==n)throw new Nr.default("Number of bits and data bytes does not match");for(var f=0,c=0,l=0,g=new Array,y=0;y<i;++y){var _=new Int32Array(1),w=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,y,_,w);var I=_[0],T=new Uint8Array(I);e.toBytes(8*f,T,0,I);var O=r.generateECBytes(T,w[0]);g.push(new T8e.default(T,O)),c=Math.max(c,I),l=Math.max(l,O.length),f+=_[0]}if(n!==f)throw new Nr.default("Data bytes does not match offset");for(var B=new A8.default,y=0;y<c;++y)try{for(var q=(a=void 0,iJ(g)),C=q.next();!C.done;C=q.next()){var d=C.value,T=d.getDataBytes();y<T.length&&B.appendBits(T[y],8)}}catch(M){a={error:M}}finally{try{C&&!C.done&&(o=q.return)&&o.call(q)}finally{if(a)throw a.error}}for(var y=0;y<l;++y)try{for(var m=(s=void 0,iJ(g)),x=m.next();!x.done;x=m.next()){var d=x.value,O=d.getErrorCorrectionBytes();y<O.length&&B.appendBits(O[y],8)}}catch(M){s={error:M}}finally{try{x&&!x.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}if(t!==B.getSizeInBytes())throw new Nr.default("Interleaving error: "+t+" and "+B.getSizeInBytes()+" differ.");return B},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new I8e.default(E8e.default.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new Nr.default(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case Zo.default.NUMERIC:r.appendNumericBytes(e,n);break;case Zo.default.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Zo.default.BYTE:r.append8BitBytes(e,n,i);break;case Zo.default.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Nr.default("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Nr.default;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Nr.default;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=LO.default.encode(e,n)}catch(u){throw new Nr.default(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=LO.default.encode(e,g2.default.SJIS)}catch(l){throw new Nr.default(l)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,u=o<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Nr.default("Invalid byte sequence");var c=(f>>8)*192+(f&255);t.appendBits(c,13)}},r.appendECI=function(e,t){t.appendBits(Zo.default.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=g2.default.UTF8.getName(),r}();y2.default=C8e});var fJ=E(P8=>{"use strict";h();p();Object.defineProperty(P8,"__esModule",{value:!0});P8.BrowserQRCodeSvgWriter=void 0;var R8=mg(),A8e=D8(),sJ=Fm(),uJ=Ge(),O8e=Nu(),D8e=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(i===void 0&&(i=null),e.length===0)throw new uJ.default("Found empty contents");if(t<0||n<0)throw new uJ.default("Requested dimensions are too small: "+t+"x"+n);var a=sJ.default.L,o=r.QUIET_ZONE_SIZE;i!==null&&(i.get(R8.default.ERROR_CORRECTION)!==void 0&&(a=sJ.default.fromString(i.get(R8.default.ERROR_CORRECTION).toString())),i.get(R8.default.MARGIN)!==void 0&&(o=Number.parseInt(i.get(R8.default.MARGIN).toString(),10)));var s=A8e.default.encode(e,a,i);return this.renderResult(s,t,n,o)},r.prototype.writeToDom=function(e,t,n,i,a){a===void 0&&(a=null),typeof e=="string"&&(e=document.querySelector(e));var o=this.write(t,n,i,a);e&&e.appendChild(o)},r.prototype.renderResult=function(e,t,n,i){var a=e.getMatrix();if(a===null)throw new O8e.default;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),I=0,T=_;I<s;I++,T+=g)for(var O=0,B=y;O<o;O++,B+=g)if(a.get(O,I)===1){var q=this.createSvgRectElement(B,T,g,g);w.appendChild(q)}return w},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n},r.prototype.createSvgRectElement=function(e,t,n,i){var a=document.createElementNS(r.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",n.toString()),a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"fill","#000000"),a},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();P8.BrowserQRCodeSvgWriter=D8e});var dJ=E(cJ=>{"use strict";h();p();Object.defineProperty(cJ,"__esModule",{value:!0})});var hJ=E(lJ=>{"use strict";h();p();Object.defineProperty(lJ,"__esModule",{value:!0})});var pJ=E(qr=>{"use strict";h();p();var R8e=qr&&qr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qo=qr&&qr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&R8e(e,r,t)};Object.defineProperty(qr,"__esModule",{value:!0});Qo(Mz(),qr);Qo(kW(),qr);Qo(q0(),qr);Qo(QW(),qr);Qo(ZX(),qr);Qo(QX(),qr);Qo(eJ(),qr);Qo(fJ(),qr);Qo(dJ(),qr);Qo(TC(),qr);Qo(hJ(),qr);Qo(CC(),qr)});var jO=E(kO=>{"use strict";h();p();Object.defineProperty(kO,"__esModule",{value:!0});var P8e=_t(),B8=mg(),B8e=Ra(),gJ=Fm(),M8e=D8(),UO=Ge(),N8e=Nu(),q8e=function(){function r(){}return r.prototype.encode=function(e,t,n,i,a){if(e.length===0)throw new UO.default("Found empty contents");if(t!==P8e.default.QR_CODE)throw new UO.default("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new UO.default("Requested dimensions are too small: "+n+"x"+i);var o=gJ.default.L,s=r.QUIET_ZONE_SIZE;a!==null&&(a.get(B8.default.ERROR_CORRECTION)!==void 0&&(o=gJ.default.fromString(a.get(B8.default.ERROR_CORRECTION).toString())),a.get(B8.default.MARGIN)!==void 0&&(s=Number.parseInt(a.get(B8.default.MARGIN).toString(),10)));var u=M8e.default.encode(e,o,a);return r.renderResult(u,n,i,s)},r.renderResult=function(e,t,n,i){var a=e.getMatrix();if(a===null)throw new N8e.default;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=new B8e.default(c,l),I=0,T=_;I<s;I++,T+=g)for(var O=0,B=y;O<o;O++,B+=g)a.get(O,I)===1&&w.setRegion(B,T,g,g);return w},r.QUIET_ZONE_SIZE=4,r}();kO.default=q8e});var yJ=E(HO=>{"use strict";h();p();Object.defineProperty(HO,"__esModule",{value:!0});var F8e=jO(),L8e=_t(),U8e=Ge(),k8e=function(){function r(){}return r.prototype.encode=function(e,t,n,i,a){var o;switch(t){case L8e.default.QR_CODE:o=new F8e.default;break;default:throw new U8e.default("No encoder available for format "+t)}return o.encode(e,t,n,i,a)},r}();HO.default=k8e});var mJ=E(v2=>{"use strict";h();p();var j8e=v2&&v2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(v2,"__esModule",{value:!0});var KO=Mr(),H8e=Zp(),K8e=Qp(),vJ=Ge(),V8e=function(r){j8e(e,r);function e(t,n,i,a,o,s,u,f){var c=r.call(this,s,u)||this;if(c.yuvData=t,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+u>i)throw new vJ.default("Crop rectangle does not fit within image data.");return f&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new vJ.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return KO.default.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return KO.default.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*t;KO.default.arraycopy(this.yuvData,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*t,f=0;f<t;f++){var c=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+t/2,u=o,f=o+t-1;u<s;u++,f--){var c=i[u];i[u]=i[f],i[f]=c}},e.prototype.invert=function(){return new K8e.default(this)},e.THUMBNAIL_SCALE_FACTOR=2,e}(H8e.default);v2.default=V8e});var xJ=E(m2=>{"use strict";h();p();var G8e=m2&&m2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(m2,"__esModule",{value:!0});Qp();var Y8e=Qp(),z8e=Zp(),VO=Mr(),_J=Ge(),W8e=function(r){G8e(e,r);function e(t,n,i,a,o,s,u){var f=r.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=s,f.top=u,t.BYTES_PER_ELEMENT===4){for(var c=n*i,l=new Uint8ClampedArray(c),g=0;g<c;g++){var y=t[g],_=y>>16&255,w=y>>7&510,I=y&255;l[g]=(_+w+I)/4&255}f.luminances=l}else f.luminances=t;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new _J.default("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new _J.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return VO.default.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return VO.default.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*t;VO.default.arraycopy(this.luminances,o,a,u,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new Y8e.default(this)},e}(z8e.default);m2.default=W8e});var GO=E(_2=>{"use strict";h();p();var X8e=_2&&_2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_2,"__esModule",{value:!0});var J8e=Lf(),$8e=function(r){X8e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(J8e.default);_2.default=$8e});var zO=E(YO=>{"use strict";h();p();Object.defineProperty(YO,"__esModule",{value:!0});var Z8e=Lf(),Q8e=function(){function r(){}return r.ISO_8859_1=Z8e.default.ISO8859_1,r}();YO.default=Q8e});var XO=E(WO=>{"use strict";h();p();Object.defineProperty(WO,"__esModule",{value:!0});var eEe=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}();WO.default=eEe});var bJ=E(JO=>{"use strict";h();p();Object.defineProperty(JO,"__esModule",{value:!0});var tEe=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}();JO.default=tEe});var wJ=E($O=>{"use strict";h();p();Object.defineProperty($O,"__esModule",{value:!0});var rEe=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}();$O.default=rEe});var M8=E(x2=>{"use strict";h();p();var nEe=x2&&x2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(x2,"__esModule",{value:!0});var iEe=wJ(),aEe=sa(),oEe=function(r){nEe(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+aEe.default.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(iEe.default);x2.default=oEe});var EJ=E(b2=>{"use strict";h();p();var sEe=b2&&b2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(b2,"__esModule",{value:!0});var uEe=M8(),fEe=function(r){sEe(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(uEe.default);b2.default=fEe});var IJ=E(_g=>{"use strict";h();p();Object.defineProperty(_g,"__esModule",{value:!0});_g.add=_g.addBinaryShift=void 0;var cEe=M8(),dEe=EJ();function lEe(r,e,t){return new dEe.default(r,e,t)}_g.addBinaryShift=lEe;function hEe(r,e,t){return new cEe.default(r,e,t)}_g.add=hEe});var w2=E(di=>{"use strict";h();p();Object.defineProperty(di,"__esModule",{value:!0});di.EMPTY_TOKEN=di.MODE_PUNCT=di.MODE_MIXED=di.MODE_DIGIT=di.MODE_LOWER=di.MODE_UPPER=di.MODE_NAMES=void 0;var pEe=M8();di.MODE_NAMES=["UPPER","LOWER","DIGIT","MIXED","PUNCT"];di.MODE_UPPER=0;di.MODE_LOWER=1;di.MODE_DIGIT=2;di.MODE_MIXED=3;di.MODE_PUNCT=4;di.EMPTY_TOKEN=new pEe.default(null,0,0)});var SJ=E(N8=>{"use strict";h();p();Object.defineProperty(N8,"__esModule",{value:!0});N8.LATCH_TABLE=void 0;N8.LATCH_TABLE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])]});var ZO=E(G0=>{"use strict";h();p();var gEe=G0&&G0.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(G0,"__esModule",{value:!0});G0.SHIFT_TABLE=G0.static_SHIFT_TABLE=void 0;var TJ=Ks(),es=w2();function CJ(r){var e,t;try{for(var n=gEe(r),i=n.next();!i.done;i=n.next()){var a=i.value;TJ.default.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[es.MODE_UPPER][es.MODE_PUNCT]=0,r[es.MODE_LOWER][es.MODE_PUNCT]=0,r[es.MODE_LOWER][es.MODE_UPPER]=28,r[es.MODE_MIXED][es.MODE_PUNCT]=0,r[es.MODE_DIGIT][es.MODE_PUNCT]=0,r[es.MODE_DIGIT][es.MODE_UPPER]=15,r}G0.static_SHIFT_TABLE=CJ;G0.SHIFT_TABLE=CJ(TJ.default.createInt32Array(6,6))});var AJ=E(E2=>{"use strict";h();p();var yEe=E2&&E2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(E2,"__esModule",{value:!0});var vEe=Ru(),xg=IJ(),Yf=w2(),QO=SJ(),mEe=ZO(),_Ee=Vs(),xEe=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=QO.LATCH_TABLE[this.mode][e];i=xg.add(i,a&65535,a>>16),n+=a>>16}var o=e===Yf.MODE_DIGIT?4:5;return i=xg.add(i,t,o),new r(i,e,0,n+o)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===Yf.MODE_DIGIT?4:5;return n=xg.add(n,mEe.SHIFT_TABLE[this.mode][e],i),n=xg.add(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===Yf.MODE_PUNCT||this.mode===Yf.MODE_DIGIT){var a=QO.LATCH_TABLE[n][Yf.MODE_UPPER];t=xg.add(t,a&65535,a>>16),i+=a>>16,n=Yf.MODE_UPPER}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new r(t,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=xg.addBinaryShift(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(QO.LATCH_TABLE[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new vEe.default;try{for(var s=yEe(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(o,e)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r.prototype.toString=function(){return _Ee.default.format("%s bits=%d bytes=%d",Yf.MODE_NAMES[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(Yf.EMPTY_TOKEN,Yf.MODE_UPPER,0,0),r}();E2.default=xEe});var DJ=E(bg=>{"use strict";h();p();Object.defineProperty(bg,"__esModule",{value:!0});bg.CHAR_MAP=bg.static_CHAR_MAP=void 0;var Fu=w2(),bEe=Ks(),ts=Vs();function OJ(r){var e=ts.default.getCharCode(" "),t=ts.default.getCharCode("."),n=ts.default.getCharCode(",");r[Fu.MODE_UPPER][e]=1;for(var i=ts.default.getCharCode("Z"),a=ts.default.getCharCode("A"),o=a;o<=i;o++)r[Fu.MODE_UPPER][o]=o-a+2;r[Fu.MODE_LOWER][e]=1;for(var s=ts.default.getCharCode("z"),u=ts.default.getCharCode("a"),o=u;o<=s;o++)r[Fu.MODE_LOWER][o]=o-u+2;r[Fu.MODE_DIGIT][e]=1;for(var f=ts.default.getCharCode("9"),c=ts.default.getCharCode("0"),o=c;o<=f;o++)r[Fu.MODE_DIGIT][o]=o-c+2;r[Fu.MODE_DIGIT][n]=12,r[Fu.MODE_DIGIT][t]=13;for(var l=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],g=0;g<l.length;g++)r[Fu.MODE_MIXED][ts.default.getCharCode(l[g])]=g;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<y.length;g++)ts.default.getCharCode(y[g])>0&&(r[Fu.MODE_PUNCT][ts.default.getCharCode(y[g])]=g);return r}bg.static_CHAR_MAP=OJ;bg.CHAR_MAP=OJ(bEe.default.createInt32Array(5,256))});var tD=E(I2=>{"use strict";h();p();var q8=I2&&I2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(I2,"__esModule",{value:!0});var RJ=bJ(),wEe=AJ(),Th=w2(),eD=DJ(),EEe=ZO(),wg=Vs(),IEe=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=wg.default.getCharCode(" "),t=wg.default.getCharCode(`
`),n=RJ.default.singletonList(wEe.default.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case wg.default.getCharCode("\r"):a=o===t?2:0;break;case wg.default.getCharCode("."):a=o===e?3:0;break;case wg.default.getCharCode(","):a=o===e?4:0;break;case wg.default.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=r.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=RJ.default.min(n,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,a=[];try{for(var o=q8(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,t,a)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r.simplifyStates(a)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,a=eD.CHAR_MAP[e.getMode()][i]>0,o=null,s=0;s<=Th.MODE_PUNCT;s++){var u=eD.CHAR_MAP[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(t)),!a||s===e.getMode()||s===Th.MODE_DIGIT){var f=o.latchAndAppend(s,u);n.push(f)}if(!a&&EEe.SHIFT_TABLE[e.getMode()][s]>=0){var c=o.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||eD.CHAR_MAP[e.getMode()][i]===0){var l=e.addBinaryShiftChar(t);n.push(l)}},r.updateStateListForPair=function(e,t,n){var i,a,o=[];try{for(var s=q8(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,t,n,o)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},r.updateStateForPair=function(e,t,n,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Th.MODE_PUNCT,n)),e.getMode()!==Th.MODE_PUNCT&&i.push(a.shiftAndAppend(Th.MODE_PUNCT,n)),n===3||n===4){var o=a.latchAndAppend(Th.MODE_DIGIT,16-n).latchAndAppend(Th.MODE_DIGIT,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},r.simplifyStates=function(e){var t,n,i,a,o=[];try{for(var s=q8(e),u=s.next();!u.done;u=s.next()){var f=u.value,c=!0,l=function(I){if(I.isBetterThanOrEqualTo(f))return c=!1,"break";f.isBetterThanOrEqualTo(I)&&(o=o.filter(function(T){return T!==I}))};try{for(var g=(i=void 0,q8(o)),y=g.next();!y.done;y=g.next()){var _=y.value,w=l(_);if(w==="break")break}}catch(I){i={error:I}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}c&&o.push(f)}}catch(I){t={error:I}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},r}();I2.default=IEe});var nD=E(C2=>{"use strict";h();p();var SEe=C2&&C2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(C2,"__esModule",{value:!0});var rD=Ru(),S2=Ge(),TEe=Vs(),CEe=Ra(),AEe=XO(),OEe=E8(),T2=kf(),DEe=tD(),cn=sa(),REe=function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new DEe.default(e).encode(),a=cn.default.truncDivision(i.getSize()*t,100)+11,o=i.getSize()+a,s,u,f,c,l;if(n!==r.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new S2.default(TEe.default.format("Illegal value %s for layers",n));f=r.totalBitsInLayer(u,s),c=r.WORD_SIZE[u];var g=f-f%c;if(l=r.stuffBits(i,c),l.getSize()+a>g)throw new S2.default("Data to large for user specified layer");if(s&&l.getSize()>c*64)throw new S2.default("Data to large for user specified layer")}else{c=0,l=null;for(var y=0;;y++){if(y>r.MAX_NB_BITS)throw new S2.default("Data too large for an Aztec code");if(s=y<=3,u=s?y+1:y,f=r.totalBitsInLayer(u,s),!(o>f)){(l==null||c!==r.WORD_SIZE[u])&&(c=r.WORD_SIZE[u],l=r.stuffBits(i,c));var g=f-f%c;if(!(s&&l.getSize()>c*64)&&l.getSize()+a<=g)break}}}var _=r.generateCheckWords(l,f,c),w=l.getSize()/c,I=r.generateModeMessage(s,u,w),T=(s?11:14)+u*4,O=new Int32Array(T),B;if(s){B=T;for(var y=0;y<O.length;y++)O[y]=y}else{B=T+1+2*cn.default.truncDivision(cn.default.truncDivision(T,2)-1,15);for(var q=cn.default.truncDivision(T,2),C=cn.default.truncDivision(B,2),y=0;y<q;y++){var d=y+cn.default.truncDivision(y,15);O[q-y-1]=C-d-1,O[q+y]=C+d+1}}for(var m=new CEe.default(B),y=0,x=0;y<u;y++){for(var D=(u-y)*4+(s?9:12),M=0;M<D;M++)for(var Q=M*2,L=0;L<2;L++)_.get(x+Q+L)&&m.set(O[y*2+L],O[y*2+M]),_.get(x+D*2+Q+L)&&m.set(O[y*2+M],O[T-1-y*2-L]),_.get(x+D*4+Q+L)&&m.set(O[T-1-y*2-L],O[T-1-y*2-M]),_.get(x+D*6+Q+L)&&m.set(O[T-1-y*2-M],O[y*2+L]);x+=D*8}if(r.drawModeMessage(m,s,B,I),s)r.drawBullsEye(m,cn.default.truncDivision(B,2),5);else{r.drawBullsEye(m,cn.default.truncDivision(B,2),7);for(var y=0,M=0;y<cn.default.truncDivision(T,2)-1;y+=15,M+=16)for(var L=cn.default.truncDivision(B,2)&1;L<B;L+=2)m.set(cn.default.truncDivision(B,2)-M,L),m.set(cn.default.truncDivision(B,2)+M,L),m.set(L,cn.default.truncDivision(B,2)-M),m.set(L,cn.default.truncDivision(B,2)+M)}var b=new AEe.default;return b.setCompact(s),b.setSize(B),b.setLayers(u),b.setCodeWords(w),b.setMatrix(m),b},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new rD.default;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var a=cn.default.truncDivision(n,2);if(t)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+cn.default.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},r.generateCheckWords=function(e,t,n){var i,a,o=e.getSize()/n,s=new OEe.default(r.getGF(n)),u=cn.default.truncDivision(t,n),f=r.bitsToWords(e,n,u);s.encode(f,u-o);var c=t%n,l=new rD.default;l.appendBits(0,c);try{for(var g=SEe(Array.from(f)),y=g.next();!y.done;y=g.next()){var _=y.value;l.appendBits(_,n)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return l},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/t;a<o;a++){for(var s=0,u=0;u<t;u++)s|=e.get(a*t+u)?1<<t-u-1:0;i[a]=s}return i},r.getGF=function(e){switch(e){case 4:return T2.default.AZTEC_PARAM;case 6:return T2.default.AZTEC_DATA_6;case 8:return T2.default.AZTEC_DATA_8;case 10:return T2.default.AZTEC_DATA_10;case 12:return T2.default.AZTEC_DATA_12;default:throw new S2.default("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new rD.default,i=e.getSize(),a=(1<<t)-2,o=0;o<i;o+=t){for(var s=0,u=0;u<t;u++)(o+u>=i||e.get(o+u))&&(s|=1<<t-1-u);(s&a)===a?(n.appendBits(s&a,t),o--):(s&a)===0?(n.appendBits(s|1,t),o--):n.appendBits(s,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r}();C2.default=REe});var BJ=E(aD=>{"use strict";h();p();Object.defineProperty(aD,"__esModule",{value:!0});var PEe=_t(),Eg=mg(),iD=nD(),BEe=Ra(),MEe=GO(),NEe=zO(),PJ=sa(),qEe=Nu(),FEe=Ge(),LEe=Vs(),UEe=function(){function r(){}return r.prototype.encode=function(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)},r.prototype.encodeWithHints=function(e,t,n,i,a){var o=NEe.default.ISO_8859_1,s=iD.default.DEFAULT_EC_PERCENT,u=iD.default.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Eg.default.CHARACTER_SET)&&(o=MEe.default.forName(a.get(Eg.default.CHARACTER_SET).toString())),a.has(Eg.default.ERROR_CORRECTION)&&(s=PJ.default.parseInt(a.get(Eg.default.ERROR_CORRECTION).toString())),a.has(Eg.default.AZTEC_LAYERS)&&(u=PJ.default.parseInt(a.get(Eg.default.AZTEC_LAYERS).toString()))),r.encodeLayers(e,t,n,i,o,s,u)},r.encodeLayers=function(e,t,n,i,a,o,s){if(t!==PEe.default.AZTEC)throw new FEe.default("Can only encode AZTEC, but got "+t);var u=iD.default.encode(LEe.default.getBytes(e,a),o,s);return r.renderResult(u,n,i)},r.renderResult=function(e,t,n){var i=e.getMatrix();if(i==null)throw new qEe.default;for(var a=i.getWidth(),o=i.getHeight(),s=Math.max(t,a),u=Math.max(n,o),f=Math.min(s/a,u/o),c=(s-a*f)/2,l=(u-o*f)/2,g=new BEe.default(s,u),y=0,_=l;y<o;y++,_+=f)for(var w=0,I=c;w<a;w++,I+=f)i.get(w,y)&&g.setRegion(I,_,f,f);return g},r}();aD.default=UEe});var Na=E(ie=>{"use strict";h();p();var kEe=ie&&ie.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jEe=ie&&ie.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&kEe(e,r,t)};Object.defineProperty(ie,"__esModule",{value:!0});jEe(pJ(),ie);var HEe=Sw();Object.defineProperty(ie,"ArgumentException",{enumerable:!0,get:function(){return HEe.default}});var KEe=Bw();Object.defineProperty(ie,"ArithmeticException",{enumerable:!0,get:function(){return KEe.default}});var VEe=Hs();Object.defineProperty(ie,"ChecksumException",{enumerable:!0,get:function(){return VEe.default}});var GEe=si();Object.defineProperty(ie,"Exception",{enumerable:!0,get:function(){return GEe.default}});var YEe=Lt();Object.defineProperty(ie,"FormatException",{enumerable:!0,get:function(){return YEe.default}});var zEe=Ge();Object.defineProperty(ie,"IllegalArgumentException",{enumerable:!0,get:function(){return zEe.default}});var WEe=Nu();Object.defineProperty(ie,"IllegalStateException",{enumerable:!0,get:function(){return WEe.default}});var XEe=Te();Object.defineProperty(ie,"NotFoundException",{enumerable:!0,get:function(){return XEe.default}});var JEe=IO();Object.defineProperty(ie,"ReaderException",{enumerable:!0,get:function(){return JEe.default}});var $Ee=UC();Object.defineProperty(ie,"ReedSolomonException",{enumerable:!0,get:function(){return $Ee.default}});var ZEe=Aw();Object.defineProperty(ie,"UnsupportedOperationException",{enumerable:!0,get:function(){return ZEe.default}});var QEe=T8();Object.defineProperty(ie,"WriterException",{enumerable:!0,get:function(){return QEe.default}});var eIe=_t();Object.defineProperty(ie,"BarcodeFormat",{enumerable:!0,get:function(){return eIe.default}});var tIe=cC();Object.defineProperty(ie,"Binarizer",{enumerable:!0,get:function(){return tIe.default}});var rIe=uC();Object.defineProperty(ie,"BinaryBitmap",{enumerable:!0,get:function(){return rIe.default}});var nIe=ui();Object.defineProperty(ie,"DecodeHintType",{enumerable:!0,get:function(){return nIe.default}});var iIe=Qp();Object.defineProperty(ie,"InvertedLuminanceSource",{enumerable:!0,get:function(){return iIe.default}});var aIe=Zp();Object.defineProperty(ie,"LuminanceSource",{enumerable:!0,get:function(){return aIe.default}});var oIe=SO();Object.defineProperty(ie,"MultiFormatReader",{enumerable:!0,get:function(){return oIe.default}});var sIe=yJ();Object.defineProperty(ie,"MultiFormatWriter",{enumerable:!0,get:function(){return sIe.default}});var uIe=mJ();Object.defineProperty(ie,"PlanarYUVLuminanceSource",{enumerable:!0,get:function(){return uIe.default}});var fIe=fi();Object.defineProperty(ie,"Result",{enumerable:!0,get:function(){return fIe.default}});var cIe=Mu();Object.defineProperty(ie,"ResultMetadataType",{enumerable:!0,get:function(){return cIe.default}});var dIe=xJ();Object.defineProperty(ie,"RGBLuminanceSource",{enumerable:!0,get:function(){return dIe.default}});var lIe=lr();Object.defineProperty(ie,"ResultPoint",{enumerable:!0,get:function(){return lIe.default}});var hIe=Mr();Object.defineProperty(ie,"ZXingSystem",{enumerable:!0,get:function(){return hIe.default}});var pIe=dr();Object.defineProperty(ie,"ZXingStringBuilder",{enumerable:!0,get:function(){return pIe.default}});var gIe=fh();Object.defineProperty(ie,"ZXingStringEncoding",{enumerable:!0,get:function(){return gIe.default}});var yIe=GO();Object.defineProperty(ie,"ZXingCharset",{enumerable:!0,get:function(){return yIe.default}});var vIe=Ks();Object.defineProperty(ie,"ZXingArrays",{enumerable:!0,get:function(){return vIe.default}});var mIe=zO();Object.defineProperty(ie,"ZXingStandardCharsets",{enumerable:!0,get:function(){return mIe.default}});var _Ie=sa();Object.defineProperty(ie,"ZXingInteger",{enumerable:!0,get:function(){return _Ie.default}});var xIe=Ru();Object.defineProperty(ie,"BitArray",{enumerable:!0,get:function(){return xIe.default}});var bIe=Ra();Object.defineProperty(ie,"BitMatrix",{enumerable:!0,get:function(){return bIe.default}});var wIe=n8();Object.defineProperty(ie,"BitSource",{enumerable:!0,get:function(){return wIe.default}});var EIe=Lf();Object.defineProperty(ie,"CharacterSetECI",{enumerable:!0,get:function(){return EIe.default}});var IIe=tg();Object.defineProperty(ie,"DecoderResult",{enumerable:!0,get:function(){return IIe.default}});var SIe=eA();Object.defineProperty(ie,"DefaultGridSampler",{enumerable:!0,get:function(){return SIe.default}});var TIe=Zv();Object.defineProperty(ie,"DetectorResult",{enumerable:!0,get:function(){return TIe.default}});var CIe=mg();Object.defineProperty(ie,"EncodeHintType",{enumerable:!0,get:function(){return CIe.default}});var AIe=wC();Object.defineProperty(ie,"GlobalHistogramBinarizer",{enumerable:!0,get:function(){return AIe.default}});var OIe=ZC();Object.defineProperty(ie,"GridSampler",{enumerable:!0,get:function(){return OIe.default}});var DIe=tm();Object.defineProperty(ie,"GridSamplerInstance",{enumerable:!0,get:function(){return DIe.default}});var RIe=EC();Object.defineProperty(ie,"HybridBinarizer",{enumerable:!0,get:function(){return RIe.default}});var PIe=Uw();Object.defineProperty(ie,"PerspectiveTransform",{enumerable:!0,get:function(){return PIe.default}});var BIe=Vs();Object.defineProperty(ie,"StringUtils",{enumerable:!0,get:function(){return BIe.default}});var MIe=Jo();Object.defineProperty(ie,"MathUtils",{enumerable:!0,get:function(){return MIe.default}});var NIe=Lw();Object.defineProperty(ie,"WhiteRectangleDetector",{enumerable:!0,get:function(){return NIe.default}});var qIe=kf();Object.defineProperty(ie,"GenericGF",{enumerable:!0,get:function(){return qIe.default}});var FIe=zv();Object.defineProperty(ie,"GenericGFPoly",{enumerable:!0,get:function(){return FIe.default}});var LIe=ng();Object.defineProperty(ie,"ReedSolomonDecoder",{enumerable:!0,get:function(){return LIe.default}});var UIe=E8();Object.defineProperty(ie,"ReedSolomonEncoder",{enumerable:!0,get:function(){return UIe.default}});var kIe=o8();Object.defineProperty(ie,"DataMatrixReader",{enumerable:!0,get:function(){return kIe.default}});var jIe=jA();Object.defineProperty(ie,"DataMatrixDecodedBitStreamParser",{enumerable:!0,get:function(){return jIe.default}});var HIe=b8();Object.defineProperty(ie,"PDF417Reader",{enumerable:!0,get:function(){return HIe.default}});var KIe=mO();Object.defineProperty(ie,"PDF417ResultMetadata",{enumerable:!0,get:function(){return KIe.default}});var VIe=EO();Object.defineProperty(ie,"PDF417DecodedBitStreamParser",{enumerable:!0,get:function(){return VIe.default}});var GIe=sO();Object.defineProperty(ie,"PDF417DecoderErrorCorrection",{enumerable:!0,get:function(){return GIe.default}});var YIe=l8();Object.defineProperty(ie,"QRCodeReader",{enumerable:!0,get:function(){return YIe.default}});var zIe=jO();Object.defineProperty(ie,"QRCodeWriter",{enumerable:!0,get:function(){return zIe.default}});var WIe=Fm();Object.defineProperty(ie,"QRCodeDecoderErrorCorrectionLevel",{enumerable:!0,get:function(){return WIe.default}});var XIe=s8();Object.defineProperty(ie,"QRCodeDecoderFormatInformation",{enumerable:!0,get:function(){return XIe.default}});var JIe=jm();Object.defineProperty(ie,"QRCodeVersion",{enumerable:!0,get:function(){return JIe.default}});var $Ie=f8();Object.defineProperty(ie,"QRCodeMode",{enumerable:!0,get:function(){return $Ie.default}});var ZIe=$A();Object.defineProperty(ie,"QRCodeDecodedBitStreamParser",{enumerable:!0,get:function(){return ZIe.default}});var QIe=GA();Object.defineProperty(ie,"QRCodeDataMask",{enumerable:!0,get:function(){return QIe.default}});var e5e=D8();Object.defineProperty(ie,"QRCodeEncoder",{enumerable:!0,get:function(){return e5e.default}});var t5e=S8();Object.defineProperty(ie,"QRCodeEncoderQRCode",{enumerable:!0,get:function(){return t5e.default}});var r5e=NO();Object.defineProperty(ie,"QRCodeMatrixUtil",{enumerable:!0,get:function(){return r5e.default}});var n5e=RO();Object.defineProperty(ie,"QRCodeByteMatrix",{enumerable:!0,get:function(){return n5e.default}});var i5e=I8();Object.defineProperty(ie,"QRCodeMaskUtil",{enumerable:!0,get:function(){return i5e.default}});var a5e=Hw();Object.defineProperty(ie,"AztecCodeReader",{enumerable:!0,get:function(){return a5e.default}});var o5e=BJ();Object.defineProperty(ie,"AztecCodeWriter",{enumerable:!0,get:function(){return o5e.default}});var s5e=XC();Object.defineProperty(ie,"AztecDetectorResult",{enumerable:!0,get:function(){return s5e.default}});var u5e=nD();Object.defineProperty(ie,"AztecEncoder",{enumerable:!0,get:function(){return u5e.default}});var f5e=tD();Object.defineProperty(ie,"AztecHighLevelEncoder",{enumerable:!0,get:function(){return f5e.default}});var c5e=XO();Object.defineProperty(ie,"AztecCode",{enumerable:!0,get:function(){return c5e.default}});var d5e=KC();Object.defineProperty(ie,"AztecDecoder",{enumerable:!0,get:function(){return d5e.default}});var l5e=jw();Object.defineProperty(ie,"AztecDetector",{enumerable:!0,get:function(){return l5e.default}});var h5e=jw();Object.defineProperty(ie,"AztecPoint",{enumerable:!0,get:function(){return h5e.Point}});var p5e=qu();Object.defineProperty(ie,"OneDReader",{enumerable:!0,get:function(){return p5e.default}});var g5e=Ww();Object.defineProperty(ie,"EAN13Reader",{enumerable:!0,get:function(){return g5e.default}});var y5e=oA();Object.defineProperty(ie,"Code128Reader",{enumerable:!0,get:function(){return y5e.default}});var v5e=fA();Object.defineProperty(ie,"ITFReader",{enumerable:!0,get:function(){return v5e.default}});var m5e=uA();Object.defineProperty(ie,"Code39Reader",{enumerable:!0,get:function(){return m5e.default}});var _5e=qA();Object.defineProperty(ie,"RSS14Reader",{enumerable:!0,get:function(){return _5e.default}});var x5e=BA();Object.defineProperty(ie,"RSSExpandedReader",{enumerable:!0,get:function(){return x5e.default}});var b5e=Zw();Object.defineProperty(ie,"AbstractExpandedDecoder",{enumerable:!0,get:function(){return b5e.default}});var w5e=OA();Object.defineProperty(ie,"createAbstractExpandedDecoder",{enumerable:!0,get:function(){return w5e.createDecoder}});var E5e=r8();Object.defineProperty(ie,"MultiFormatOneDReader",{enumerable:!0,get:function(){return E5e.default}})});var sD=E(Ig=>{"use strict";h();p();var I5e=Ig&&Ig.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.HTMLCanvasElementLuminanceSource=void 0;var oD=Na(),S5e=function(r){I5e(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=t.length;o<u;o+=4,s++){var f=void 0,c=t[o+3];if(c===0)f=255;else{var l=t[o],g=t[o+1],y=t[o+2];f=306*l+601*g+117*y+512>>10}a[s]=f}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new oD.IllegalArgumentException("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new oD.InvertedLuminanceSource(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*o);n.width=s,n.height=u;var f=n.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(i),f.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(oD.LuminanceSource);Ig.HTMLCanvasElementLuminanceSource=S5e});var NJ=E(MJ=>{"use strict";h();p();Object.defineProperty(MJ,"__esModule",{value:!0})});var FJ=E(qJ=>{"use strict";h();p();Object.defineProperty(qJ,"__esModule",{value:!0})});var UJ=E(Sg=>{"use strict";h();p();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.canEnumerateDevices=Sg.hasNavigator=void 0;function LJ(){return typeof navigator<"u"}Sg.hasNavigator=LJ;function T5e(){return LJ()&&!!navigator.mediaDevices}function C5e(){return!!(T5e()&&navigator.mediaDevices.enumerateDevices)}Sg.canEnumerateDevices=C5e});var Y0=E(rs=>{"use strict";h();p();var Tg=rs&&rs.__assign||function(){return Tg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tg.apply(this,arguments)},Pt=rs&&rs.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{f(n.next(c))}catch(l){o(l)}}function u(c){try{f(n.throw(c))}catch(l){o(l)}}function f(c){c.done?a(c.value):i(c.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},Bt=rs&&rs.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},uD=rs&&rs.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(rs,"__esModule",{value:!0});rs.BrowserCodeReader=void 0;var Er=Na(),A5e=sD(),kJ=UJ(),O5e={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},D5e=function(){function r(e,t,n){t===void 0&&(t=new Map),n===void 0&&(n={}),this.reader=e,this.hints=t,this.options=Tg(Tg({},O5e),n)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(Er.DecodeHintType.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,t){return Pt(this,void 0,void 0,function(){return Bt(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return n.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var t,n,i=e.getVideoTracks();try{for(var a=uD(i),o=a.next();!o.done;o=a.next()){var s=o.value;if(r.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Er.ArgumentException("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Er.ArgumentException("element with id '".concat(e,"' must be an ").concat(t," element"));return n},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var t=r.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var t=new A5e.HTMLCanvasElementLuminanceSource(e),n=new Er.HybridBinarizer(t);return new Er.BinaryBitmap(n)},r.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new Er.ArgumentException("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),n=r.getMediaElementDimensions(e),i=n.width,a=n.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},r.tryPlayVideo=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var t=r.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(n,e),t},r.createBinaryBitmapFromMediaElem=function(e){var t=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(t)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return Pt(this,void 0,void 0,function(){var e,t,n,i,a,o,s,u,f,c,l,g;return Bt(this,function(y){switch(y.label){case 0:if(!(0,kJ.hasNavigator)())throw new Error("Can't enumerate devices, navigator is not present.");if(!(0,kJ.canEnumerateDevices)())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=uD(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device ".concat(t.length+1),f=a.groupId,c={deviceId:s,label:u,kind:o,groupId:f},t.push(c))}catch(_){l={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,t]}})})},r.findDeviceById=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:return[4,r.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(!!e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,t){return Pt(this,void 0,void 0,function(){var n;return Bt(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,o){var s=setTimeout(function(){r.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",u))},t),u=function(){r.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),a(f)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,t,n){return n===void 0&&(n=5e3),Pt(this,void 0,void 0,function(){var i;return Bt(this,function(a){switch(a.label){case 0:return i=r.prepareVideoElement(t),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(t,n){var i=1e4,a=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(a),e.removeEventListener("load",o),t()};e.addEventListener("load",o)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new Er.ArgumentException("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},r.prototype.decode=function(e){var t=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var t=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},r.prototype.decodeFromImageElement=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:if(!e)throw new Er.ArgumentException("An image element must be provided.");return t=r.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:if(!e)throw new Er.ArgumentException("An URL must be provided.");t=r.prepareImageElement(),t.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,n.sent()];case 3:return r.destroyImageElement(t),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Pt(this,void 0,void 0,function(){var i,a;return Bt(this,function(o){switch(o.label){case 0:return r.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,n)];case 3:return[2,o.sent()];case 4:throw a=o.sent(),r.disposeMediaStream(i),a;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,t,n){return Pt(this,void 0,void 0,function(){var i,a,o,s,u,f,c,l,g,y,_=this;return Bt(this,function(w){switch(w.label){case 0:return r.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,t,i)];case 1:return a=w.sent(),o=function(){r.disposeMediaStream(e),r.cleanVideoSource(a)},s=this.scan(a,n,o),u=e.getVideoTracks(),f=Tg(Tg({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(I,T){return Pt(this,void 0,void 0,function(){var O,B,q,C,d,m,x;return Bt(this,function(D){switch(D.label){case 0:O=T?u.filter(T):u,D.label=1;case 1:D.trys.push([1,6,7,8]),B=uD(O),q=B.next(),D.label=2;case 2:return q.done?[3,5]:(C=q.value,[4,C.applyConstraints(I)]);case 3:D.sent(),D.label=4;case 4:return q=B.next(),[3,2];case 5:return[3,8];case 6:return d=D.sent(),m={error:d},[3,8];case 7:try{q&&!q.done&&(x=B.return)&&x.call(B)}finally{if(m)throw m.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(I){return u.find(I).getConstraints()},streamVideoSettingsGet:function(I){return u.find(I).getSettings()},streamVideoCapabilitiesGet:function(I){return u.find(I).getCapabilities()}}),c=r.mediaStreamIsTorchCompatible(e),c&&(l=u?.find(function(I){return r.mediaStreamIsTorchCompatibleTrack(I)}),g=function(I){return Pt(_,void 0,void 0,function(){return Bt(this,function(T){switch(T.label){case 0:return[4,r.mediaStreamSetTorch(l,I)];case 1:return T.sent(),[2]}})})},f.switchTorch=g,y=function(){s.stop(),g(!1)},f.stop=y),[2,f]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Pt(this,void 0,void 0,function(){var i,a;return Bt(this,function(o){switch(o.label){case 0:return r.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,t){return Pt(this,void 0,void 0,function(){var n,i;return Bt(this,function(a){switch(a.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new Er.ArgumentException("A video element must be provided.");return n=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,t)]}})})},r.prototype.decodeFromVideoUrl=function(e,t){return Pt(this,void 0,void 0,function(){var n,i,a,o;return Bt(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new Er.ArgumentException("An URL must be provided.");return n=r.prepareVideoElement(),n.src=e,i=function(){r.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),o=this.scan(n,t,i),[2,o]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Pt(this,void 0,void 0,function(){var n;return Bt(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Pt(this,void 0,void 0,function(){var n,i,a;return Bt(this,function(o){switch(o.label){case 0:return n=Boolean(t),[4,r.attachStreamToVideo(e,t)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=o.sent(),[2,a];case 4:return n||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Pt(this,void 0,void 0,function(){var n,i;return Bt(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return Pt(this,void 0,void 0,function(){var t,n;return Bt(this,function(i){switch(i.label){case 0:if(!e)throw new Er.ArgumentException("A video element must be provided.");return t=r.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(t,n)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return Pt(this,void 0,void 0,function(){var t,n;return Bt(this,function(i){switch(i.label){case 0:if(!e)throw new Er.ArgumentException("An URL must be provided.");t=r.prepareVideoElement(),t.src=e,n=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(t),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,t,n,i){var a=this;return t===void 0&&(t=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,s){a.scan(e,function(u,f,c){if(u){o(u),c.stop();return}if(f){if(f instanceof Er.NotFoundException&&t||f instanceof Er.ChecksumException&&n||f instanceof Er.FormatException&&i)return;c.stop(),s(f)}})})},r.prototype.scan=function(e,t,n){var i=this;r.checkCallbackFnOrThrow(t);var a=r.createCaptureCanvas(e),o=a.getContext("2d");if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,a=void 0},u=!1,f,c=function(){u=!0,clearTimeout(f),s(),n&&n()},l={stop:c},g=function(){if(!u)try{r.drawImageOnCanvas(o,e);var y=i.decodeFromCanvas(a);t(y,void 0,l),f=setTimeout(g,i.options.delayBetweenScanSuccess)}catch(T){t(void 0,T,l);var _=T instanceof Er.ChecksumException,w=T instanceof Er.FormatException,I=T instanceof Er.NotFoundException;if(_||w||I){f=setTimeout(g,i.options.delayBetweenScanAttempts);return}s(),n&&n(T)}};return g(),l},r.prototype._decodeOnLoadImage=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:return t=r.isImageLoaded(e),t?[3,2]:[4,r._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return Pt(this,void 0,void 0,function(){var t;return Bt(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=n.sent(),r.streamTracker.push(t),[2,t]}})})},r.streamTracker=[],r}();rs.BrowserCodeReader=D5e});var jJ=E(Cg=>{"use strict";h();p();var R5e=Cg&&Cg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.BrowserAztecCodeReader=void 0;var P5e=Na(),B5e=Y0(),M5e=function(r){R5e(e,r);function e(t,n){return r.call(this,new P5e.AztecCodeReader,t,n)||this}return e}(B5e.BrowserCodeReader);Cg.BrowserAztecCodeReader=M5e});var HJ=E(Ag=>{"use strict";h();p();var N5e=Ag&&Ag.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.BrowserMultiFormatOneDReader=void 0;var q5e=Na(),F5e=Y0(),L5e=function(r){N5e(e,r);function e(t,n){return r.call(this,new q5e.MultiFormatOneDReader(t),t,n)||this}return e}(F5e.BrowserCodeReader);Ag.BrowserMultiFormatOneDReader=L5e});var KJ=E(Og=>{"use strict";h();p();var U5e=Og&&Og.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Og,"__esModule",{value:!0});Og.BrowserDatamatrixCodeReader=void 0;var k5e=Na(),j5e=Y0(),H5e=function(r){U5e(e,r);function e(t,n){return r.call(this,new k5e.DataMatrixReader,t,n)||this}return e}(j5e.BrowserCodeReader);Og.BrowserDatamatrixCodeReader=H5e});var GJ=E(Dg=>{"use strict";h();p();var K5e=Dg&&Dg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.BrowserMultiFormatReader=void 0;var VJ=Na(),V5e=Y0(),G5e=function(r){K5e(e,r);function e(t,n){var i=this,a=new VJ.MultiFormatReader;return a.setHints(t),i=r.call(this,a,t,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(VJ.DecodeHintType.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(V5e.BrowserCodeReader);Dg.BrowserMultiFormatReader=G5e});var YJ=E(Rg=>{"use strict";h();p();var Y5e=Rg&&Rg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.BrowserPDF417Reader=void 0;var z5e=Na(),W5e=Y0(),X5e=function(r){Y5e(e,r);function e(t,n){return r.call(this,new z5e.PDF417Reader,t,n)||this}return e}(W5e.BrowserCodeReader);Rg.BrowserPDF417Reader=X5e});var zJ=E(Pg=>{"use strict";h();p();var J5e=Pg&&Pg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.BrowserQRCodeReader=void 0;var $5e=Na(),Z5e=Y0(),Q5e=function(r){J5e(e,r);function e(t,n){return r.call(this,new $5e.QRCodeReader,t,n)||this}return e}(Z5e.BrowserCodeReader);Pg.BrowserQRCodeReader=Q5e});var XJ=E(WJ=>{"use strict";h();p();Object.defineProperty(WJ,"__esModule",{value:!0})});var JJ=E(F8=>{"use strict";h();p();Object.defineProperty(F8,"__esModule",{value:!0});F8.BrowserCodeSvgWriter=void 0;var Lu=Na(),zf="http://www.w3.org/2000/svg",eSe=function(){function r(e){if(typeof e=="string"){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=t}else this.containerElement=e}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new Lu.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new Lu.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var a=i&&i.get(Lu.EncodeHintType.MARGIN)!==void 0?Number.parseInt(i.get(Lu.EncodeHintType.MARGIN).toString(),10):r.QUIET_ZONE_SIZE,o=this.encode(i,e);return this.renderResult(o,t,n,a)},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(zf,"width",t.toString()),n.setAttributeNS(zf,"height",e.toString()),n},r.prototype.createSvgPathPlaceholderElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"path");return n.setAttributeNS(zf,"d","M0 0h".concat(e,"v").concat(t,"H0z")),n.setAttributeNS(zf,"fill","none"),n},r.prototype.createSvgRectElement=function(e,t,n,i){var a=document.createElementNS(r.SVG_NS,"rect");return a.setAttributeNS(zf,"x",e.toString()),a.setAttributeNS(zf,"y",t.toString()),a.setAttributeNS(zf,"height",n.toString()),a.setAttributeNS(zf,"width",i.toString()),a.setAttributeNS(zf,"fill","#000000"),a},r.prototype.encode=function(e,t){var n=Lu.QRCodeDecoderErrorCorrectionLevel.L;if(e&&e.get(Lu.EncodeHintType.ERROR_CORRECTION)!==void 0){var i=e.get(Lu.EncodeHintType.ERROR_CORRECTION).toString();n=Lu.QRCodeDecoderErrorCorrectionLevel.fromString(i)}var a=Lu.QRCodeEncoder.encode(t,n,e);return a},r.prototype.renderResult=function(e,t,n,i){var a=e.getMatrix();if(a===null)throw new Lu.IllegalStateException;var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),I=this.createSvgPathPlaceholderElement(t,n);w.appendChild(I),this.containerElement.appendChild(w);for(var T=0,O=_;T<s;T++,O+=g)for(var B=0,q=y;B<o;B++,q+=g)if(a.get(B,T)===1){var C=this.createSvgRectElement(q,O,g,g);w.appendChild(C)}return w},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();F8.BrowserCodeSvgWriter=eSe});var ZJ=E(L8=>{"use strict";h();p();Object.defineProperty(L8,"__esModule",{value:!0});L8.BrowserQRCodeSvgWriter=void 0;var Uu=Na(),$J="http://www.w3.org/2000/svg",tSe=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new Uu.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new Uu.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var a=Uu.QRCodeDecoderErrorCorrectionLevel.L,o=r.QUIET_ZONE_SIZE;if(i){if(i.get(Uu.EncodeHintType.ERROR_CORRECTION)!==void 0){var s=i.get(Uu.EncodeHintType.ERROR_CORRECTION).toString();a=Uu.QRCodeDecoderErrorCorrectionLevel.fromString(s)}i.get(Uu.EncodeHintType.MARGIN)!==void 0&&(o=Number.parseInt(i.get(Uu.EncodeHintType.MARGIN).toString(),10))}var u=Uu.QRCodeEncoder.encode(e,a,i);return this.renderResult(u,t,n,o)},r.prototype.writeToDom=function(e,t,n,i,a){if(typeof e=="string"){var o=document.querySelector(e);if(!o)throw new Error("Could no find the target HTML element.");e=o}var s=this.write(t,n,i,a);e instanceof HTMLElement&&e.appendChild(s)},r.prototype.renderResult=function(e,t,n,i){var a=e.getMatrix();if(a===null)throw new Uu.IllegalStateException;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),I=0,T=_;I<s;I++,T+=g)for(var O=0,B=y;O<o;O++,B+=g)if(a.get(O,I)===1){var q=this.createSvgRectElement(B,T,g,g);w.appendChild(q)}return w},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS($J,"svg"),i=e.toString(),a=t.toString();return n.setAttribute("height",a),n.setAttribute("width",i),n.setAttribute("viewBox","0 0 "+i+" "+a),n},r.prototype.createSvgRectElement=function(e,t,n,i){var a=document.createElementNS($J,"rect");return a.setAttribute("x",e.toString()),a.setAttribute("y",t.toString()),a.setAttribute("height",n.toString()),a.setAttribute("width",i.toString()),a.setAttribute("fill","#000000"),a},r.QUIET_ZONE_SIZE=4,r}();L8.BrowserQRCodeSvgWriter=tSe});var QJ=E(Ut=>{"use strict";h();p();var rSe=Ut&&Ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qa=Ut&&Ut.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rSe(e,r,t)};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.BarcodeFormat=void 0;var nSe=Na();Object.defineProperty(Ut,"BarcodeFormat",{enumerable:!0,get:function(){return nSe.BarcodeFormat}});qa(sD(),Ut);qa(NJ(),Ut);qa(FJ(),Ut);qa(jJ(),Ut);qa(HJ(),Ut);qa(Y0(),Ut);qa(KJ(),Ut);qa(GJ(),Ut);qa(YJ(),Ut);qa(zJ(),Ut);qa(XJ(),Ut);qa(JJ(),Ut);qa(ZJ(),Ut)});var k8=E(U8=>{"use strict";h();p();Object.defineProperty(U8,"__esModule",{value:!0});U8.DataItem=void 0;var fD=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};U8.DataItem=fD});var t$=E((e$,j8)=>{"use strict";h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof j8<"u"&&j8.exports?j8.exports=e():r.CBOR=e()})(e$,function(){let{DataItem:r}=k8();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new t(m)},t.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new t(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var Q=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-Q:Q},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var Q;(Q=y(d))!==g;)R.push(Q);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(Q){l(3,Q,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(Q){l(2,Q,m)});else if(typeof d=="object")if(T.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],I=[],T={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?I.push(function(x){if(d===x)return m(x)}):I.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<I.length;x++){var D=I[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let Q=y(M);return Q instanceof r?Q:new r(Q)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this},Reader:o,Writer:s};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function B(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}B.prototype=Object.create(s.prototype),B.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},B.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},B.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},B.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},B.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},B.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},B.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},B.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(T.addReader(function(d,m){if(d instanceof v.Buffer)return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),T.addWriter(function(d){if(!d||d==="buffer")return new B;if(d==="hex"||d==="base64")return new B(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new t(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof t||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof t)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=t.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},T.addReader(function(d,m){if(d instanceof t||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),T.addWriter(function(d){if(d==="hex")return new C}),T}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Fa=E(li=>{"use strict";h();p();Object.defineProperty(li,"__esModule",{value:!0});li.DataItem=li.addWriter=li.addReader=li.addSemanticEncode=li.addSemanticDecode=li.decodeToDataItem=li.encodeDataItem=void 0;var Bg=t$();Object.defineProperty(li,"encodeDataItem",{enumerable:!0,get:function(){return Bg.encodeDataItem}});Object.defineProperty(li,"decodeToDataItem",{enumerable:!0,get:function(){return Bg.decodeToDataItem}});Object.defineProperty(li,"addSemanticDecode",{enumerable:!0,get:function(){return Bg.addSemanticDecode}});Object.defineProperty(li,"addSemanticEncode",{enumerable:!0,get:function(){return Bg.addSemanticEncode}});Object.defineProperty(li,"addReader",{enumerable:!0,get:function(){return Bg.addReader}});Object.defineProperty(li,"addWriter",{enumerable:!0,get:function(){return Bg.addWriter}});var iSe=k8();Object.defineProperty(li,"DataItem",{enumerable:!0,get:function(){return iSe.DataItem}})});var cD=E(K8=>{"use strict";h();p();Object.defineProperty(K8,"__esModule",{value:!0});K8.patchTags=void 0;var H8=Fa(),r$=[],aSe=r=>{r.forEach(e=>{r$.find(t=>t===e)||(H8.addSemanticEncode(e,t=>{if(t instanceof H8.DataItem&&t.getTag()===e)return t.getData()}),H8.addSemanticDecode(e,t=>new H8.DataItem(t,e)),r$.push(e))})};K8.patchTags=aSe});var La=E(Mg=>{"use strict";h();p();Object.defineProperty(Mg,"__esModule",{value:!0});Mg.RegistryTypes=Mg.RegistryType=void 0;var ns=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Mg.RegistryType=ns;Mg.RegistryTypes={UUID:new ns("uuid",37),BYTES:new ns("bytes",void 0),CRYPTO_HDKEY:new ns("crypto-hdkey",303),CRYPTO_KEYPATH:new ns("crypto-keypath",304),CRYPTO_COIN_INFO:new ns("crypto-coin-info",305),CRYPTO_ECKEY:new ns("crypto-eckey",306),CRYPTO_OUTPUT:new ns("crypto-output",308),CRYPTO_PSBT:new ns("crypto-psbt",310),CRYPTO_ACCOUNT:new ns("crypto-account",311)}});var V8=E(Ch=>{"use strict";h();p();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ScriptExpressions=Ch.ScriptExpression=void 0;var ua=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Ch.ScriptExpression=ua;ua.fromTag=r=>Object.values(Ch.ScriptExpressions).find(t=>t.getTag()===r);Ch.ScriptExpressions={SCRIPT_HASH:new ua(400,"sh"),WITNESS_SCRIPT_HASH:new ua(401,"wsh"),PUBLIC_KEY:new ua(402,"pk"),PUBLIC_KEY_HASH:new ua(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ua(404,"wpkh"),COMBO:new ua(405,"combo"),MULTISIG:new ua(406,"multi"),SORTED_MULTISIG:new ua(407,"sorted"),ADDRESS:new ua(307,"addr"),RAW_SCRIPT:new ua(408,"raw")}});var i$=E(n$=>{"use strict";h();p();Object.defineProperty(n$,"__esModule",{value:!0});var oSe=cD(),sSe=La(),uSe=V8(),fSe=Object.values(sSe.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),cSe=Object.values(uSe.ScriptExpressions).map(r=>r.getTag());oSe.patchTags(fSe.concat(cSe))});var zs=E(G8=>{"use strict";h();p();Object.defineProperty(G8,"__esModule",{value:!0});G8.RegistryItem=void 0;var a$=Cr(),dSe=Fa(),dD=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return dSe.encodeDataItem(this.toDataItem())},this.toUR=()=>new a$.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new a$.UREncoder(i,e,t,n)}}};G8.RegistryItem=dD});var lD=E(ku=>{"use strict";h();p();Object.defineProperty(ku,"__esModule",{value:!0});ku.CryptoCoinInfo=ku.Network=ku.Type=void 0;var o$=Fa(),lSe=zs(),hSe=La(),Ng;(function(r){r.type="1",r.network="2"})(Ng||(Ng={}));var s$;(function(r){r[r.bitcoin=0]="bitcoin"})(s$=ku.Type||(ku.Type={}));var u$;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(u$=ku.Network||(ku.Network={}));var Ah=class extends lSe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>hSe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||s$.bitcoin,this.getNetwork=()=>this.network||u$.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Ng.type]=this.type),this.network&&(n[Ng.network]=this.network),new o$.DataItem(n)}}};ku.CryptoCoinInfo=Ah;Ah.fromDataItem=r=>{let e=r.getData(),t=e[Ng.type],n=e[Ng.network];return new Ah(t,n)};Ah.fromCBOR=r=>{let e=o$.decodeToDataItem(r);return Ah.fromDataItem(e)}});var hD=E(Y8=>{"use strict";h();p();Object.defineProperty(Y8,"__esModule",{value:!0});Y8.PathComponent=void 0;var qg=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&qg.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Y8.PathComponent=qg;qg.HARDENED_BIT=2147483648});var pD=E(z8=>{"use strict";h();p();Object.defineProperty(z8,"__esModule",{value:!0});z8.CryptoKeypath=void 0;var c$=Fa(),f$=hD(),pSe=zs(),gSe=La(),z0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(z0||(z0={}));var Oh=class extends pSe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>gSe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(!!o.isHardened())}),i[z0.components]=a,this.sourceFingerprint&&(i[z0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[z0.depth]=this.depth),new c$.DataItem(i)}}};z8.CryptoKeypath=Oh;Oh.fromDataItem=r=>{let e=r.getData(),t=[],n=e[z0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new f$.PathComponent({index:f,hardened:u})):t.push(new f$.PathComponent({hardened:u}))}let i=e[z0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[z0.depth];return new Oh(t,a,o)};Oh.fromCBOR=r=>{let e=c$.decodeToDataItem(r);return Oh.fromDataItem(e)}});var X8=E(W8=>{"use strict";h();p();Object.defineProperty(W8,"__esModule",{value:!0});W8.CryptoHDKey=void 0;var ySe=Vh(),vSe=lD(),d$=pD(),l$=Fa(),mSe=zs(),_Se=La(),lt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(lt||(lt={}));var Dh=class extends mSe.RegistryItem{constructor(e){super(),this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{let t,n,i,a=v.Buffer.alloc(4).fill(0);if(this.isMaster())t=v.Buffer.from("0488ADE4","hex"),n=0,i=0;else{n=this.getOrigin().getComponents().length||this.getOrigin().getDepth();let c=this.getOrigin().getComponents(),l=c[c.length-1];l&&(i=l.isHardened()?l.getIndex()+2147483648:l.getIndex(),a=this.getParentFingerprint()),this.isPrivateKey()?t=v.Buffer.from("0488ADE4","hex"):t=v.Buffer.from("0488B21E","hex")}let o=v.Buffer.alloc(1);o.writeUInt8(n,0);let s=v.Buffer.alloc(4);s.writeUInt32BE(i,0);let u=this.getChainCode(),f=this.getKey();return ySe.encode(v.Buffer.concat([t,o,a,s,u,f]))},this.getRegistryType=()=>_Se.RegistryTypes.CRYPTO_HDKEY,this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[lt.is_master]=!0,t[lt.key_data]=this.key,t[lt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[lt.is_private]=this.privateKey),t[lt.key_data]=this.key,this.chainCode&&(t[lt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[lt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[lt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[lt.children]=n}this.parentFingerprint&&(t[lt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[lt.name]=this.name),this.note!==void 0&&(t[lt.note]=this.note)}return new l$.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};W8.CryptoHDKey=Dh;Dh.fromDataItem=r=>{let e=r.getData(),t=!!e[lt.is_master],n=e[lt.is_private],i=e[lt.key_data],a=e[lt.chain_code],o=e[lt.use_info]?vSe.CryptoCoinInfo.fromDataItem(e[lt.use_info]):void 0,s=e[lt.origin]?d$.CryptoKeypath.fromDataItem(e[lt.origin]):void 0,u=e[lt.children]?d$.CryptoKeypath.fromDataItem(e[lt.children]):void 0,f=e[lt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[lt.name],g=e[lt.note];return new Dh({isMaster:t,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};Dh.fromCBOR=r=>{let e=l$.decodeToDataItem(r);return Dh.fromDataItem(e)}});var $8=E(J8=>{"use strict";h();p();Object.defineProperty(J8,"__esModule",{value:!0});J8.CryptoECKey=void 0;var h$=Fa(),xSe=zs(),bSe=La(),W0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(W0||(W0={}));var Rh=class extends xSe.RegistryItem{constructor(e){super(),this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>bSe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[W0.curve]=this.curve),this.privateKey!==void 0&&(t[W0.private]=this.privateKey),t[W0.data]=this.data,new h$.DataItem(t)},this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey}};J8.CryptoECKey=Rh;Rh.fromDataItem=r=>{let e=r.getData(),t=e[W0.curve],n=e[W0.private],i=e[W0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Rh({data:i,curve:t,privateKey:n})};Rh.fromCBOR=r=>{let e=h$.decodeToDataItem(r);return Rh.fromDataItem(e)}});var g$=E(Z8=>{"use strict";h();p();Object.defineProperty(Z8,"__esModule",{value:!0});Z8.Bytes=void 0;var p$=Fa(),wSe=zs(),ESe=La(),Ph=class extends wSe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>ESe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new p$.DataItem(this.bytes)}};Z8.Bytes=Ph;Ph.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Ph(e)};Ph.fromCBOR=r=>{let e=p$.decodeToDataItem(r);return Ph.fromDataItem(e)}});var gD=E(Q8=>{"use strict";h();p();Object.defineProperty(Q8,"__esModule",{value:!0});Q8.MultiKey=void 0;var ISe=$8(),SSe=X8(),TSe=k8(),CSe=zs(),y$=La(),Fg;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(Fg||(Fg={}));var A2=class extends CSe.RegistryItem{constructor(e,t,n){super(),this.threshold=e,this.ecKeys=t,this.hdKeys=n,this.getThreshold=()=>this.threshold,this.getEcKeys=()=>this.ecKeys,this.getHdKeys=()=>this.hdKeys,this.toDataItem=()=>{let i={};i[Fg.threshold]=this.threshold;let a=[...this.ecKeys,...this.hdKeys].map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return i[Fg.keys]=a,new TSe.DataItem(i)}}};Q8.MultiKey=A2;A2.fromDataItem=r=>{let e=r.getData(),t=e[Fg.threshold],n=e[Fg.keys],i=[],a=[];return n.forEach(o=>{o.getTag()===y$.RegistryTypes.CRYPTO_HDKEY.getTag()?a.push(SSe.CryptoHDKey.fromDataItem(o)):o.getTag()===y$.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(ISe.CryptoECKey.fromDataItem(o))}),new A2(t,i,a)}});var _$=E(eE=>{"use strict";h();p();Object.defineProperty(eE,"__esModule",{value:!0});eE.CryptoOutput=void 0;var vD=$8(),mD=X8(),_D=Fa(),v$=gD(),ASe=zs(),m$=La(),yD=V8(),Wf=class extends ASe.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>m$.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof mD.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof vD.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof v$.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof vD.CryptoECKey||this.cryptoKey instanceof mD.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new _D.DataItem(n,o)}),n}}};eE.CryptoOutput=Wf;Wf.fromDataItem=r=>{let e=[],t=r;for(;;){let a=t.getTag()||void 0,o=yD.ScriptExpression.fromTag(a);if(o)if(e.push(o),t.getData()instanceof _D.DataItem)t=t.getData(),a=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===yD.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===yD.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=v$.MultiKey.fromDataItem(t);return new Wf(e,a)}if(t.getTag()===m$.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=mD.CryptoHDKey.fromDataItem(t);return new Wf(e,a)}else{let a=vD.CryptoECKey.fromDataItem(t);return new Wf(e,a)}};Wf.fromCBOR=r=>{let e=_D.decodeToDataItem(r);return Wf.fromDataItem(e)}});var b$=E(tE=>{"use strict";h();p();Object.defineProperty(tE,"__esModule",{value:!0});tE.CryptoPSBT=void 0;var x$=Fa(),OSe=zs(),DSe=La(),Bh=class extends OSe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>DSe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new x$.DataItem(this.psbt)}};tE.CryptoPSBT=Bh;Bh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Bh(e)};Bh.fromCBOR=r=>{let e=x$.decodeToDataItem(r);return Bh.fromDataItem(e)}});var E$=E(rE=>{"use strict";h();p();Object.defineProperty(rE,"__esModule",{value:!0});rE.CryptoAccount=void 0;var RSe=nE(),w$=Fa(),PSe=zs(),BSe=La(),Lg;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(Lg||(Lg={}));var Mh=class extends PSe.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>BSe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Lg.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Lg.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new w$.DataItem(n)}}};rE.CryptoAccount=Mh;Mh.fromDataItem=r=>{let e=r.getData(),t=v.Buffer.alloc(4),n=e[Lg.masterFingerprint];n&&t.writeUInt32BE(n,0);let a=e[Lg.outputDescriptors].map(o=>RSe.CryptoOutput.fromDataItem(o));return new Mh(t,a)};Mh.fromCBOR=r=>{let e=w$.decodeToDataItem(r);return Mh.fromDataItem(e)}});var I$=E(iE=>{"use strict";h();p();Object.defineProperty(iE,"__esModule",{value:!0});iE.URRegistryDecoder=void 0;var MSe=Cr(),X0=nE(),J0=La(),xD=class extends MSe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case J0.RegistryTypes.BYTES.getType():return X0.Bytes.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_HDKEY.getType():return X0.CryptoHDKey.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_KEYPATH.getType():return X0.CryptoKeypath.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_COIN_INFO.getType():return X0.CryptoCoinInfo.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_ECKEY.getType():return X0.CryptoECKey.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_OUTPUT.getType():return X0.CryptoOutput.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_PSBT.getType():return X0.CryptoPSBT.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_ACCOUNT.getType():return X0.CryptoAccount.fromCBOR(e.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};iE.URRegistryDecoder=xD});var nE=E(Ae=>{"use strict";h();p();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.extend=Ae.PathComponent=Ae.ScriptExpressions=Ae.MultiKey=Ae.CryptoPSBT=Ae.CryptoOutput=Ae.CryptoECKey=Ae.CryptoCoinInfoNetwork=Ae.CryptoCoinInfoType=Ae.CryptoCoinInfo=Ae.CryptoKeypath=Ae.CryptoHDKey=Ae.CryptoAccount=Ae.Bytes=Ae.URRegistryDecoder=Ae.RegistryItem=Ae.DataItem=void 0;i$();var T$=X8();Object.defineProperty(Ae,"CryptoHDKey",{enumerable:!0,get:function(){return T$.CryptoHDKey}});var C$=pD();Object.defineProperty(Ae,"CryptoKeypath",{enumerable:!0,get:function(){return C$.CryptoKeypath}});var kg=lD();Object.defineProperty(Ae,"CryptoCoinInfo",{enumerable:!0,get:function(){return kg.CryptoCoinInfo}});Object.defineProperty(Ae,"CryptoCoinInfoType",{enumerable:!0,get:function(){return kg.Type}});Object.defineProperty(Ae,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return kg.Network}});var A$=$8();Object.defineProperty(Ae,"CryptoECKey",{enumerable:!0,get:function(){return A$.CryptoECKey}});var O$=g$();Object.defineProperty(Ae,"Bytes",{enumerable:!0,get:function(){return O$.Bytes}});var D$=_$();Object.defineProperty(Ae,"CryptoOutput",{enumerable:!0,get:function(){return D$.CryptoOutput}});var R$=b$();Object.defineProperty(Ae,"CryptoPSBT",{enumerable:!0,get:function(){return R$.CryptoPSBT}});var P$=E$();Object.defineProperty(Ae,"CryptoAccount",{enumerable:!0,get:function(){return P$.CryptoAccount}});var B$=I$();Object.defineProperty(Ae,"URRegistryDecoder",{enumerable:!0,get:function(){return B$.URRegistryDecoder}});var M$=gD();Object.defineProperty(Ae,"MultiKey",{enumerable:!0,get:function(){return M$.MultiKey}});var N$=V8();Object.defineProperty(Ae,"ScriptExpressions",{enumerable:!0,get:function(){return N$.ScriptExpressions}});var q$=hD();Object.defineProperty(Ae,"PathComponent",{enumerable:!0,get:function(){return q$.PathComponent}});var S$=La(),Ug=Fa(),NSe=Fa();Object.defineProperty(Ae,"DataItem",{enumerable:!0,get:function(){return NSe.DataItem}});var qSe=zs();Object.defineProperty(Ae,"RegistryItem",{enumerable:!0,get:function(){return qSe.RegistryItem}});var FSe=cD(),LSe={URRegistryDecoder:B$.URRegistryDecoder,Bytes:O$.Bytes,CryptoAccount:P$.CryptoAccount,CryptoHDKey:T$.CryptoHDKey,CryptoKeypath:C$.CryptoKeypath,CryptoCoinInfo:kg.CryptoCoinInfo,CryptoCoinInfoType:kg.Type,CryptoCoinInfoNetwork:kg.Network,CryptoECKey:A$.CryptoECKey,CryptoOutput:D$.CryptoOutput,CryptoPSBT:R$.CryptoPSBT,MultiKey:M$.MultiKey,ScriptExpressions:N$.ScriptExpressions,PathComponent:q$.PathComponent},USe={addReader:Ug.addReader,addSemanticDecode:Ug.addSemanticDecode,addSemanticEncode:Ug.addSemanticEncode,addWriter:Ug.addWriter,patchTags:FSe.patchTags},kSe={RegistryTypes:S$.RegistryTypes,RegistryType:S$.RegistryType,decodeToDataItem:Ug.decodeToDataItem,encodeDataItem:Ug.encodeDataItem,cbor:USe};Ae.extend=kSe;Ae.default=LSe});function O2(){if(!aE&&(aE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!aE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aE(jSe)}var aE,jSe,bD=te(()=>{h();p();jSe=new Uint8Array(16)});var F$,L$=te(()=>{h();p();F$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function HSe(r){return typeof r=="string"&&F$.test(r)}var $0,D2=te(()=>{h();p();L$();$0=HSe});function KSe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(dn[r[e+0]]+dn[r[e+1]]+dn[r[e+2]]+dn[r[e+3]]+"-"+dn[r[e+4]]+dn[r[e+5]]+"-"+dn[r[e+6]]+dn[r[e+7]]+"-"+dn[r[e+8]]+dn[r[e+9]]+"-"+dn[r[e+10]]+dn[r[e+11]]+dn[r[e+12]]+dn[r[e+13]]+dn[r[e+14]]+dn[r[e+15]]).toLowerCase();if(!$0(t))throw TypeError("Stringified UUID is invalid");return t}var dn,oE,Z0,R2=te(()=>{h();p();D2();dn=[];for(oE=0;oE<256;++oE)dn.push((oE+256).toString(16).substr(1));Z0=KSe});function VSe(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var a=r.node||U$,o=r.clockseq!==void 0?r.clockseq:wD;if(a==null||o==null){var s=r.random||(r.rng||O2)();a==null&&(a=U$=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=wD=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:ID+1,c=u-ED+(f-ID)/1e4;if(c<0&&r.clockseq===void 0&&(o=o+1&16383),(c<0||u>ED)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ED=u,ID=f,wD=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Z0(i)}var U$,wD,ED,ID,k$,j$=te(()=>{h();p();bD();R2();ED=0,ID=0;k$=VSe});function GSe(r){if(!$0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var sE,SD=te(()=>{h();p();D2();sE=GSe});function YSe(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function uE(r,e,t){function n(i,a,o,s){if(typeof i=="string"&&(i=YSe(i)),typeof a=="string"&&(a=sE(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Z0(u)}try{n.name=r}catch{}return n.DNS=zSe,n.URL=WSe,n}var zSe,WSe,TD=te(()=>{h();p();R2();SD();zSe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",WSe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function XSe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return JSe($Se(ZSe(r),r.length*8))}function JSe(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var a=r[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function H$(r){return(r+64>>>9<<4)+14+1}function $Se(r,e){r[e>>5]|=128<<e%32,r[H$(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<r.length;o+=16){var s=t,u=n,f=i,c=a;t=hi(t,n,i,a,r[o],7,-680876936),a=hi(a,t,n,i,r[o+1],12,-389564586),i=hi(i,a,t,n,r[o+2],17,606105819),n=hi(n,i,a,t,r[o+3],22,-1044525330),t=hi(t,n,i,a,r[o+4],7,-176418897),a=hi(a,t,n,i,r[o+5],12,1200080426),i=hi(i,a,t,n,r[o+6],17,-1473231341),n=hi(n,i,a,t,r[o+7],22,-45705983),t=hi(t,n,i,a,r[o+8],7,1770035416),a=hi(a,t,n,i,r[o+9],12,-1958414417),i=hi(i,a,t,n,r[o+10],17,-42063),n=hi(n,i,a,t,r[o+11],22,-1990404162),t=hi(t,n,i,a,r[o+12],7,1804603682),a=hi(a,t,n,i,r[o+13],12,-40341101),i=hi(i,a,t,n,r[o+14],17,-1502002290),n=hi(n,i,a,t,r[o+15],22,1236535329),t=pi(t,n,i,a,r[o+1],5,-165796510),a=pi(a,t,n,i,r[o+6],9,-1069501632),i=pi(i,a,t,n,r[o+11],14,643717713),n=pi(n,i,a,t,r[o],20,-373897302),t=pi(t,n,i,a,r[o+5],5,-701558691),a=pi(a,t,n,i,r[o+10],9,38016083),i=pi(i,a,t,n,r[o+15],14,-660478335),n=pi(n,i,a,t,r[o+4],20,-405537848),t=pi(t,n,i,a,r[o+9],5,568446438),a=pi(a,t,n,i,r[o+14],9,-1019803690),i=pi(i,a,t,n,r[o+3],14,-187363961),n=pi(n,i,a,t,r[o+8],20,1163531501),t=pi(t,n,i,a,r[o+13],5,-1444681467),a=pi(a,t,n,i,r[o+2],9,-51403784),i=pi(i,a,t,n,r[o+7],14,1735328473),n=pi(n,i,a,t,r[o+12],20,-1926607734),t=gi(t,n,i,a,r[o+5],4,-378558),a=gi(a,t,n,i,r[o+8],11,-2022574463),i=gi(i,a,t,n,r[o+11],16,1839030562),n=gi(n,i,a,t,r[o+14],23,-35309556),t=gi(t,n,i,a,r[o+1],4,-1530992060),a=gi(a,t,n,i,r[o+4],11,1272893353),i=gi(i,a,t,n,r[o+7],16,-155497632),n=gi(n,i,a,t,r[o+10],23,-1094730640),t=gi(t,n,i,a,r[o+13],4,681279174),a=gi(a,t,n,i,r[o],11,-358537222),i=gi(i,a,t,n,r[o+3],16,-722521979),n=gi(n,i,a,t,r[o+6],23,76029189),t=gi(t,n,i,a,r[o+9],4,-640364487),a=gi(a,t,n,i,r[o+12],11,-421815835),i=gi(i,a,t,n,r[o+15],16,530742520),n=gi(n,i,a,t,r[o+2],23,-995338651),t=yi(t,n,i,a,r[o],6,-198630844),a=yi(a,t,n,i,r[o+7],10,1126891415),i=yi(i,a,t,n,r[o+14],15,-1416354905),n=yi(n,i,a,t,r[o+5],21,-57434055),t=yi(t,n,i,a,r[o+12],6,1700485571),a=yi(a,t,n,i,r[o+3],10,-1894986606),i=yi(i,a,t,n,r[o+10],15,-1051523),n=yi(n,i,a,t,r[o+1],21,-2054922799),t=yi(t,n,i,a,r[o+8],6,1873313359),a=yi(a,t,n,i,r[o+15],10,-30611744),i=yi(i,a,t,n,r[o+6],15,-1560198380),n=yi(n,i,a,t,r[o+13],21,1309151649),t=yi(t,n,i,a,r[o+4],6,-145523070),a=yi(a,t,n,i,r[o+11],10,-1120210379),i=yi(i,a,t,n,r[o+2],15,718787259),n=yi(n,i,a,t,r[o+9],21,-343485551),t=Q0(t,s),n=Q0(n,u),i=Q0(i,f),a=Q0(a,c)}return[t,n,i,a]}function ZSe(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(H$(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Q0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function QSe(r,e){return r<<e|r>>>32-e}function fE(r,e,t,n,i,a){return Q0(QSe(Q0(Q0(e,r),Q0(n,a)),i),t)}function hi(r,e,t,n,i,a,o){return fE(e&t|~e&n,r,e,i,a,o)}function pi(r,e,t,n,i,a,o){return fE(e&n|t&~n,r,e,i,a,o)}function gi(r,e,t,n,i,a,o){return fE(e^t^n,r,e,i,a,o)}function yi(r,e,t,n,i,a,o){return fE(t^(e|~n),r,e,i,a,o)}var K$,V$=te(()=>{h();p();K$=XSe});var eTe,G$,Y$=te(()=>{h();p();TD();V$();eTe=uE("v3",48,K$),G$=eTe});function tTe(r,e,t){r=r||{};var n=r.random||(r.rng||O2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Z0(n)}var z$,W$=te(()=>{h();p();bD();R2();z$=tTe});function rTe(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function CD(r,e){return r<<e|r>>>32-e}function nTe(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var a=r.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=CD(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=t[0],I=t[1],T=t[2],O=t[3],B=t[4],q=0;q<80;++q){var C=Math.floor(q/20),d=CD(w,5)+rTe(C,I,T,O)+B+e[C]+g[q]>>>0;B=O,O=T,T=CD(I,30)>>>0,I=w,w=d}t[0]=t[0]+w>>>0,t[1]=t[1]+I>>>0,t[2]=t[2]+T>>>0,t[3]=t[3]+O>>>0,t[4]=t[4]+B>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var X$,J$=te(()=>{h();p();X$=nTe});var iTe,$$,Z$=te(()=>{h();p();TD();J$();iTe=uE("v5",80,X$),$$=iTe});var Q$,eZ=te(()=>{h();p();Q$="00000000-0000-0000-0000-000000000000"});function aTe(r){if(!$0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var tZ,rZ=te(()=>{h();p();D2();tZ=aTe});var nZ={};Qf(nZ,{NIL:()=>Q$,parse:()=>sE,stringify:()=>Z0,v1:()=>k$,v3:()=>G$,v4:()=>z$,v5:()=>$$,validate:()=>$0,version:()=>tZ});var iZ=te(()=>{h();p();j$();Y$();W$();Z$();eZ();rZ();D2();R2();SD()});var oZ=E((aZ,AD)=>{h();p();(function(r,e){"use strict";function t(L,b){if(!L)throw new Error(b||"Assertion failed")}function n(L,b){L.super_=b;var A=function(){};A.prototype=b.prototype,L.prototype=new A,L.prototype.constructor=L}function i(L,b,A){if(i.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((b==="le"||b==="be")&&(A=b,b=10),this._init(L||0,b||10,A||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{a=Hi().Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,A){return b.cmp(A)>0?b:A},i.min=function(b,A){return b.cmp(A)<0?b:A},i.prototype._init=function(b,A,R){if(typeof b=="number")return this._initNumber(b,A,R);if(typeof b=="object")return this._initArray(b,A,R);A==="hex"&&(A=16),t(A===(A|0)&&A>=2&&A<=36),b=b.toString().replace(/\s+/g,"");var F=0;b[0]==="-"&&F++,A===16?this._parseHex(b,F):this._parseBase(b,A,F),b[0]==="-"&&(this.negative=1),this._strip(),R==="le"&&this._initArray(this.toArray(),A,R)},i.prototype._initNumber=function(b,A,R){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(t(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),A,R)},i.prototype._initArray=function(b,A,R){if(t(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var k,V,Y=0;if(R==="be")for(F=b.length-1,k=0;F>=0;F-=3)V=b[F]|b[F-1]<<8|b[F-2]<<16,this.words[k]|=V<<Y&67108863,this.words[k+1]=V>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,k++);else if(R==="le")for(F=0,k=0;F<b.length;F+=3)V=b[F]|b[F+1]<<8|b[F+2]<<16,this.words[k]|=V<<Y&67108863,this.words[k+1]=V>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,k++);return this._strip()};function o(L,b,A){for(var R=0,F=Math.min(L.length,A),k=0,V=b;V<F;V++){var Y=L.charCodeAt(V)-48;R<<=4;var j;Y>=49&&Y<=54?j=Y-49+10:Y>=17&&Y<=22?j=Y-17+10:j=Y,R|=j,k|=j}return t(!(k&240),"Invalid character in "+L),R}i.prototype._parseHex=function(b,A){this.length=Math.ceil((b.length-A)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var F,k,V=0;for(R=b.length-6,F=0;R>=A;R-=6)k=o(b,R,R+6),this.words[F]|=k<<V&67108863,this.words[F+1]|=k>>>26-V&4194303,V+=24,V>=26&&(V-=26,F++);R+6!==A&&(k=o(b,A,R+6),this.words[F]|=k<<V&67108863,this.words[F+1]|=k>>>26-V&4194303),this._strip()};function s(L,b,A,R){for(var F=0,k=0,V=Math.min(L.length,A),Y=b;Y<V;Y++){var j=L.charCodeAt(Y)-48;F*=R,j>=49?k=j-49+10:j>=17?k=j-17+10:k=j,t(j>=0&&k<R,"Invalid character"),F+=k}return F}i.prototype._parseBase=function(b,A,R){this.words=[0],this.length=1;for(var F=0,k=1;k<=67108863;k*=A)F++;F--,k=k/A|0;for(var V=b.length-R,Y=V%F,j=Math.min(V,V-Y)+R,S=0,H=R;H<j;H+=F)S=s(b,H,H+F,A),this.imuln(k),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(Y!==0){var oe=1;for(S=s(b,H,b.length,A),H=0;H<Y;H++)oe*=A;this.imuln(oe),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}},i.prototype.copy=function(b){b.words=new Array(this.length);for(var A=0;A<this.length;A++)b.words[A]=this.words[A];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(L,b){L.words=b.words,L.length=b.length,L.negative=b.negative,L.red=b.red}if(i.prototype._move=function(b){u(b,this)},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,A){b=b||10,A=A|0||1;var R;if(b===16||b==="hex"){R="";for(var F=0,k=0,V=0;V<this.length;V++){var Y=this.words[V],j=((Y<<F|k)&16777215).toString(16);k=Y>>>24-F&16777215,k!==0||V!==this.length-1?R=c[6-j.length]+j+R:R=j+R,F+=2,F>=26&&(F-=26,V--)}for(k!==0&&(R=k.toString(16)+R);R.length%A!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(b===(b|0)&&b>=2&&b<=36){var S=l[b],H=g[b];R="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var fe=oe.modrn(H).toString(b);oe=oe.idivn(H),oe.isZero()?R=fe+R:R=c[S-fe.length]+fe+R}for(this.isZero()&&(R="0"+R);R.length%A!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(b,A){return this.toArrayLike(a,b,A)}),i.prototype.toArray=function(b,A){return this.toArrayLike(Array,b,A)};var y=function(b,A){return b.allocUnsafe?b.allocUnsafe(A):new b(A)};i.prototype.toArrayLike=function(b,A,R){this._strip();var F=this.byteLength(),k=R||Math.max(1,F);t(F<=k,"byte array longer than desired length"),t(k>0,"Requested array length <= 0");var V=y(b,k),Y=A==="le"?"LE":"BE";return this["_toArrayLike"+Y](V,F),V},i.prototype._toArrayLikeLE=function(b,A){for(var R=0,F=0,k=0,V=0;k<this.length;k++){var Y=this.words[k]<<V|F;b[R++]=Y&255,R<b.length&&(b[R++]=Y>>8&255),R<b.length&&(b[R++]=Y>>16&255),V===6?(R<b.length&&(b[R++]=Y>>24&255),F=0,V=0):(F=Y>>>24,V+=2)}if(R<b.length)for(b[R++]=F;R<b.length;)b[R++]=0},i.prototype._toArrayLikeBE=function(b,A){for(var R=b.length-1,F=0,k=0,V=0;k<this.length;k++){var Y=this.words[k]<<V|F;b[R--]=Y&255,R>=0&&(b[R--]=Y>>8&255),R>=0&&(b[R--]=Y>>16&255),V===6?(R>=0&&(b[R--]=Y>>24&255),F=0,V=0):(F=Y>>>24,V+=2)}if(R>=0)for(b[R--]=F;R>=0;)b[R--]=0},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var A=b,R=0;return A>=4096&&(R+=13,A>>>=13),A>=64&&(R+=7,A>>>=7),A>=8&&(R+=4,A>>>=4),A>=2&&(R+=2,A>>>=2),R+A},i.prototype._zeroBits=function(b){if(b===0)return 26;var A=b,R=0;return(A&8191)===0&&(R+=13,A>>>=13),(A&127)===0&&(R+=7,A>>>=7),(A&15)===0&&(R+=4,A>>>=4),(A&3)===0&&(R+=2,A>>>=2),(A&1)===0&&R++,R},i.prototype.bitLength=function(){var b=this.words[this.length-1],A=this._countBits(b);return(this.length-1)*26+A};function _(L){for(var b=new Array(L.bitLength()),A=0;A<b.length;A++){var R=A/26|0,F=A%26;b[A]=L.words[R]>>>F&1}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,A=0;A<this.length;A++){var R=this._zeroBits(this.words[A]);if(b+=R,R!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]|b.words[A];return this._strip()},i.prototype.ior=function(b){return t((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var A;this.length>b.length?A=b:A=this;for(var R=0;R<A.length;R++)this.words[R]=this.words[R]&b.words[R];return this.length=A.length,this._strip()},i.prototype.iand=function(b){return t((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var A,R;this.length>b.length?(A=this,R=b):(A=b,R=this);for(var F=0;F<R.length;F++)this.words[F]=A.words[F]^R.words[F];if(this!==A)for(;F<A.length;F++)this.words[F]=A.words[F];return this.length=A.length,this._strip()},i.prototype.ixor=function(b){return t((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){t(typeof b=="number"&&b>=0);var A=Math.ceil(b/26)|0,R=b%26;this._expand(A),R>0&&A--;for(var F=0;F<A;F++)this.words[F]=~this.words[F]&67108863;return R>0&&(this.words[F]=~this.words[F]&67108863>>26-R),this._strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,A){t(typeof b=="number"&&b>=0);var R=b/26|0,F=b%26;return this._expand(R+1),A?this.words[R]=this.words[R]|1<<F:this.words[R]=this.words[R]&~(1<<F),this._strip()},i.prototype.iadd=function(b){var A;if(this.negative!==0&&b.negative===0)return this.negative=0,A=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,A=this.isub(b),b.negative=1,A._normSign();var R,F;this.length>b.length?(R=this,F=b):(R=b,F=this);for(var k=0,V=0;V<F.length;V++)A=(R.words[V]|0)+(F.words[V]|0)+k,this.words[V]=A&67108863,k=A>>>26;for(;k!==0&&V<R.length;V++)A=(R.words[V]|0)+k,this.words[V]=A&67108863,k=A>>>26;if(this.length=R.length,k!==0)this.words[this.length]=k,this.length++;else if(R!==this)for(;V<R.length;V++)this.words[V]=R.words[V];return this},i.prototype.add=function(b){var A;return b.negative!==0&&this.negative===0?(b.negative=0,A=this.sub(b),b.negative^=1,A):b.negative===0&&this.negative!==0?(this.negative=0,A=b.sub(this),this.negative=1,A):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var A=this.iadd(b);return b.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var R=this.cmp(b);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var F,k;R>0?(F=this,k=b):(F=b,k=this);for(var V=0,Y=0;Y<k.length;Y++)A=(F.words[Y]|0)-(k.words[Y]|0)+V,V=A>>26,this.words[Y]=A&67108863;for(;V!==0&&Y<F.length;Y++)A=(F.words[Y]|0)+V,V=A>>26,this.words[Y]=A&67108863;if(V===0&&Y<F.length&&F!==this)for(;Y<F.length;Y++)this.words[Y]=F.words[Y];return this.length=Math.max(this.length,Y),F!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function w(L,b,A){A.negative=b.negative^L.negative;var R=L.length+b.length|0;A.length=R,R=R-1|0;var F=L.words[0]|0,k=b.words[0]|0,V=F*k,Y=V&67108863,j=V/67108864|0;A.words[0]=Y;for(var S=1;S<R;S++){for(var H=j>>>26,oe=j&67108863,fe=Math.min(S,b.length-1),de=Math.max(0,S-L.length+1);de<=fe;de++){var we=S-de|0;F=L.words[we]|0,k=b.words[de]|0,V=F*k+oe,H+=V/67108864|0,oe=V&67108863}A.words[S]=oe|0,j=H|0}return j!==0?A.words[S]=j|0:A.length--,A._strip()}var I=function(b,A,R){var F=b.words,k=A.words,V=R.words,Y=0,j,S,H,oe=F[0]|0,fe=oe&8191,de=oe>>>13,we=F[1]|0,Ue=we&8191,Ve=we>>>13,os=F[2]|0,Je=os&8191,Qe=os>>>13,Xg=F[3]|0,St=Xg&8191,Tt=Xg>>>13,j2=F[4]|0,xt=j2&8191,Ct=j2>>>13,Zf=F[5]|0,bt=Zf&8191,wt=Zf>>>13,H2=F[6]|0,se=H2&8191,et=H2>>>13,P=F[7]|0,N=P&8191,K=P>>>13,G=F[8]|0,X=G&8191,z=G>>>13,re=F[9]|0,$=re&8191,ee=re>>>13,xe=k[0]|0,ye=xe&8191,ue=xe>>>13,Ne=k[1]|0,Be=Ne&8191,De=Ne>>>13,Hh=k[2]|0,vt=Hh&8191,kt=Hh>>>13,$D=k[3]|0,jt=$D&8191,Ht=$D>>>13,ZD=k[4]|0,Kt=ZD&8191,Vt=ZD>>>13,QD=k[5]|0,Gt=QD&8191,Yt=QD>>>13,eR=k[6]|0,zt=eR&8191,Wt=eR>>>13,tR=k[7]|0,Xt=tR&8191,Jt=tR>>>13,rR=k[8]|0,$t=rR&8191,Zt=rR>>>13,nR=k[9]|0,Qt=nR&8191,er=nR>>>13;R.negative=b.negative^A.negative,R.length=19,j=Math.imul(fe,ye),S=Math.imul(fe,ue),S=S+Math.imul(de,ye)|0,H=Math.imul(de,ue);var CE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(CE>>>26)|0,CE&=67108863,j=Math.imul(Ue,ye),S=Math.imul(Ue,ue),S=S+Math.imul(Ve,ye)|0,H=Math.imul(Ve,ue),j=j+Math.imul(fe,Be)|0,S=S+Math.imul(fe,De)|0,S=S+Math.imul(de,Be)|0,H=H+Math.imul(de,De)|0;var AE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(AE>>>26)|0,AE&=67108863,j=Math.imul(Je,ye),S=Math.imul(Je,ue),S=S+Math.imul(Qe,ye)|0,H=Math.imul(Qe,ue),j=j+Math.imul(Ue,Be)|0,S=S+Math.imul(Ue,De)|0,S=S+Math.imul(Ve,Be)|0,H=H+Math.imul(Ve,De)|0,j=j+Math.imul(fe,vt)|0,S=S+Math.imul(fe,kt)|0,S=S+Math.imul(de,vt)|0,H=H+Math.imul(de,kt)|0;var OE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(OE>>>26)|0,OE&=67108863,j=Math.imul(St,ye),S=Math.imul(St,ue),S=S+Math.imul(Tt,ye)|0,H=Math.imul(Tt,ue),j=j+Math.imul(Je,Be)|0,S=S+Math.imul(Je,De)|0,S=S+Math.imul(Qe,Be)|0,H=H+Math.imul(Qe,De)|0,j=j+Math.imul(Ue,vt)|0,S=S+Math.imul(Ue,kt)|0,S=S+Math.imul(Ve,vt)|0,H=H+Math.imul(Ve,kt)|0,j=j+Math.imul(fe,jt)|0,S=S+Math.imul(fe,Ht)|0,S=S+Math.imul(de,jt)|0,H=H+Math.imul(de,Ht)|0;var DE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(DE>>>26)|0,DE&=67108863,j=Math.imul(xt,ye),S=Math.imul(xt,ue),S=S+Math.imul(Ct,ye)|0,H=Math.imul(Ct,ue),j=j+Math.imul(St,Be)|0,S=S+Math.imul(St,De)|0,S=S+Math.imul(Tt,Be)|0,H=H+Math.imul(Tt,De)|0,j=j+Math.imul(Je,vt)|0,S=S+Math.imul(Je,kt)|0,S=S+Math.imul(Qe,vt)|0,H=H+Math.imul(Qe,kt)|0,j=j+Math.imul(Ue,jt)|0,S=S+Math.imul(Ue,Ht)|0,S=S+Math.imul(Ve,jt)|0,H=H+Math.imul(Ve,Ht)|0,j=j+Math.imul(fe,Kt)|0,S=S+Math.imul(fe,Vt)|0,S=S+Math.imul(de,Kt)|0,H=H+Math.imul(de,Vt)|0;var RE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(RE>>>26)|0,RE&=67108863,j=Math.imul(bt,ye),S=Math.imul(bt,ue),S=S+Math.imul(wt,ye)|0,H=Math.imul(wt,ue),j=j+Math.imul(xt,Be)|0,S=S+Math.imul(xt,De)|0,S=S+Math.imul(Ct,Be)|0,H=H+Math.imul(Ct,De)|0,j=j+Math.imul(St,vt)|0,S=S+Math.imul(St,kt)|0,S=S+Math.imul(Tt,vt)|0,H=H+Math.imul(Tt,kt)|0,j=j+Math.imul(Je,jt)|0,S=S+Math.imul(Je,Ht)|0,S=S+Math.imul(Qe,jt)|0,H=H+Math.imul(Qe,Ht)|0,j=j+Math.imul(Ue,Kt)|0,S=S+Math.imul(Ue,Vt)|0,S=S+Math.imul(Ve,Kt)|0,H=H+Math.imul(Ve,Vt)|0,j=j+Math.imul(fe,Gt)|0,S=S+Math.imul(fe,Yt)|0,S=S+Math.imul(de,Gt)|0,H=H+Math.imul(de,Yt)|0;var PE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(PE>>>26)|0,PE&=67108863,j=Math.imul(se,ye),S=Math.imul(se,ue),S=S+Math.imul(et,ye)|0,H=Math.imul(et,ue),j=j+Math.imul(bt,Be)|0,S=S+Math.imul(bt,De)|0,S=S+Math.imul(wt,Be)|0,H=H+Math.imul(wt,De)|0,j=j+Math.imul(xt,vt)|0,S=S+Math.imul(xt,kt)|0,S=S+Math.imul(Ct,vt)|0,H=H+Math.imul(Ct,kt)|0,j=j+Math.imul(St,jt)|0,S=S+Math.imul(St,Ht)|0,S=S+Math.imul(Tt,jt)|0,H=H+Math.imul(Tt,Ht)|0,j=j+Math.imul(Je,Kt)|0,S=S+Math.imul(Je,Vt)|0,S=S+Math.imul(Qe,Kt)|0,H=H+Math.imul(Qe,Vt)|0,j=j+Math.imul(Ue,Gt)|0,S=S+Math.imul(Ue,Yt)|0,S=S+Math.imul(Ve,Gt)|0,H=H+Math.imul(Ve,Yt)|0,j=j+Math.imul(fe,zt)|0,S=S+Math.imul(fe,Wt)|0,S=S+Math.imul(de,zt)|0,H=H+Math.imul(de,Wt)|0;var BE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(BE>>>26)|0,BE&=67108863,j=Math.imul(N,ye),S=Math.imul(N,ue),S=S+Math.imul(K,ye)|0,H=Math.imul(K,ue),j=j+Math.imul(se,Be)|0,S=S+Math.imul(se,De)|0,S=S+Math.imul(et,Be)|0,H=H+Math.imul(et,De)|0,j=j+Math.imul(bt,vt)|0,S=S+Math.imul(bt,kt)|0,S=S+Math.imul(wt,vt)|0,H=H+Math.imul(wt,kt)|0,j=j+Math.imul(xt,jt)|0,S=S+Math.imul(xt,Ht)|0,S=S+Math.imul(Ct,jt)|0,H=H+Math.imul(Ct,Ht)|0,j=j+Math.imul(St,Kt)|0,S=S+Math.imul(St,Vt)|0,S=S+Math.imul(Tt,Kt)|0,H=H+Math.imul(Tt,Vt)|0,j=j+Math.imul(Je,Gt)|0,S=S+Math.imul(Je,Yt)|0,S=S+Math.imul(Qe,Gt)|0,H=H+Math.imul(Qe,Yt)|0,j=j+Math.imul(Ue,zt)|0,S=S+Math.imul(Ue,Wt)|0,S=S+Math.imul(Ve,zt)|0,H=H+Math.imul(Ve,Wt)|0,j=j+Math.imul(fe,Xt)|0,S=S+Math.imul(fe,Jt)|0,S=S+Math.imul(de,Xt)|0,H=H+Math.imul(de,Jt)|0;var ME=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(ME>>>26)|0,ME&=67108863,j=Math.imul(X,ye),S=Math.imul(X,ue),S=S+Math.imul(z,ye)|0,H=Math.imul(z,ue),j=j+Math.imul(N,Be)|0,S=S+Math.imul(N,De)|0,S=S+Math.imul(K,Be)|0,H=H+Math.imul(K,De)|0,j=j+Math.imul(se,vt)|0,S=S+Math.imul(se,kt)|0,S=S+Math.imul(et,vt)|0,H=H+Math.imul(et,kt)|0,j=j+Math.imul(bt,jt)|0,S=S+Math.imul(bt,Ht)|0,S=S+Math.imul(wt,jt)|0,H=H+Math.imul(wt,Ht)|0,j=j+Math.imul(xt,Kt)|0,S=S+Math.imul(xt,Vt)|0,S=S+Math.imul(Ct,Kt)|0,H=H+Math.imul(Ct,Vt)|0,j=j+Math.imul(St,Gt)|0,S=S+Math.imul(St,Yt)|0,S=S+Math.imul(Tt,Gt)|0,H=H+Math.imul(Tt,Yt)|0,j=j+Math.imul(Je,zt)|0,S=S+Math.imul(Je,Wt)|0,S=S+Math.imul(Qe,zt)|0,H=H+Math.imul(Qe,Wt)|0,j=j+Math.imul(Ue,Xt)|0,S=S+Math.imul(Ue,Jt)|0,S=S+Math.imul(Ve,Xt)|0,H=H+Math.imul(Ve,Jt)|0,j=j+Math.imul(fe,$t)|0,S=S+Math.imul(fe,Zt)|0,S=S+Math.imul(de,$t)|0,H=H+Math.imul(de,Zt)|0;var NE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(NE>>>26)|0,NE&=67108863,j=Math.imul($,ye),S=Math.imul($,ue),S=S+Math.imul(ee,ye)|0,H=Math.imul(ee,ue),j=j+Math.imul(X,Be)|0,S=S+Math.imul(X,De)|0,S=S+Math.imul(z,Be)|0,H=H+Math.imul(z,De)|0,j=j+Math.imul(N,vt)|0,S=S+Math.imul(N,kt)|0,S=S+Math.imul(K,vt)|0,H=H+Math.imul(K,kt)|0,j=j+Math.imul(se,jt)|0,S=S+Math.imul(se,Ht)|0,S=S+Math.imul(et,jt)|0,H=H+Math.imul(et,Ht)|0,j=j+Math.imul(bt,Kt)|0,S=S+Math.imul(bt,Vt)|0,S=S+Math.imul(wt,Kt)|0,H=H+Math.imul(wt,Vt)|0,j=j+Math.imul(xt,Gt)|0,S=S+Math.imul(xt,Yt)|0,S=S+Math.imul(Ct,Gt)|0,H=H+Math.imul(Ct,Yt)|0,j=j+Math.imul(St,zt)|0,S=S+Math.imul(St,Wt)|0,S=S+Math.imul(Tt,zt)|0,H=H+Math.imul(Tt,Wt)|0,j=j+Math.imul(Je,Xt)|0,S=S+Math.imul(Je,Jt)|0,S=S+Math.imul(Qe,Xt)|0,H=H+Math.imul(Qe,Jt)|0,j=j+Math.imul(Ue,$t)|0,S=S+Math.imul(Ue,Zt)|0,S=S+Math.imul(Ve,$t)|0,H=H+Math.imul(Ve,Zt)|0,j=j+Math.imul(fe,Qt)|0,S=S+Math.imul(fe,er)|0,S=S+Math.imul(de,Qt)|0,H=H+Math.imul(de,er)|0;var qE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(qE>>>26)|0,qE&=67108863,j=Math.imul($,Be),S=Math.imul($,De),S=S+Math.imul(ee,Be)|0,H=Math.imul(ee,De),j=j+Math.imul(X,vt)|0,S=S+Math.imul(X,kt)|0,S=S+Math.imul(z,vt)|0,H=H+Math.imul(z,kt)|0,j=j+Math.imul(N,jt)|0,S=S+Math.imul(N,Ht)|0,S=S+Math.imul(K,jt)|0,H=H+Math.imul(K,Ht)|0,j=j+Math.imul(se,Kt)|0,S=S+Math.imul(se,Vt)|0,S=S+Math.imul(et,Kt)|0,H=H+Math.imul(et,Vt)|0,j=j+Math.imul(bt,Gt)|0,S=S+Math.imul(bt,Yt)|0,S=S+Math.imul(wt,Gt)|0,H=H+Math.imul(wt,Yt)|0,j=j+Math.imul(xt,zt)|0,S=S+Math.imul(xt,Wt)|0,S=S+Math.imul(Ct,zt)|0,H=H+Math.imul(Ct,Wt)|0,j=j+Math.imul(St,Xt)|0,S=S+Math.imul(St,Jt)|0,S=S+Math.imul(Tt,Xt)|0,H=H+Math.imul(Tt,Jt)|0,j=j+Math.imul(Je,$t)|0,S=S+Math.imul(Je,Zt)|0,S=S+Math.imul(Qe,$t)|0,H=H+Math.imul(Qe,Zt)|0,j=j+Math.imul(Ue,Qt)|0,S=S+Math.imul(Ue,er)|0,S=S+Math.imul(Ve,Qt)|0,H=H+Math.imul(Ve,er)|0;var FE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(FE>>>26)|0,FE&=67108863,j=Math.imul($,vt),S=Math.imul($,kt),S=S+Math.imul(ee,vt)|0,H=Math.imul(ee,kt),j=j+Math.imul(X,jt)|0,S=S+Math.imul(X,Ht)|0,S=S+Math.imul(z,jt)|0,H=H+Math.imul(z,Ht)|0,j=j+Math.imul(N,Kt)|0,S=S+Math.imul(N,Vt)|0,S=S+Math.imul(K,Kt)|0,H=H+Math.imul(K,Vt)|0,j=j+Math.imul(se,Gt)|0,S=S+Math.imul(se,Yt)|0,S=S+Math.imul(et,Gt)|0,H=H+Math.imul(et,Yt)|0,j=j+Math.imul(bt,zt)|0,S=S+Math.imul(bt,Wt)|0,S=S+Math.imul(wt,zt)|0,H=H+Math.imul(wt,Wt)|0,j=j+Math.imul(xt,Xt)|0,S=S+Math.imul(xt,Jt)|0,S=S+Math.imul(Ct,Xt)|0,H=H+Math.imul(Ct,Jt)|0,j=j+Math.imul(St,$t)|0,S=S+Math.imul(St,Zt)|0,S=S+Math.imul(Tt,$t)|0,H=H+Math.imul(Tt,Zt)|0,j=j+Math.imul(Je,Qt)|0,S=S+Math.imul(Je,er)|0,S=S+Math.imul(Qe,Qt)|0,H=H+Math.imul(Qe,er)|0;var LE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(LE>>>26)|0,LE&=67108863,j=Math.imul($,jt),S=Math.imul($,Ht),S=S+Math.imul(ee,jt)|0,H=Math.imul(ee,Ht),j=j+Math.imul(X,Kt)|0,S=S+Math.imul(X,Vt)|0,S=S+Math.imul(z,Kt)|0,H=H+Math.imul(z,Vt)|0,j=j+Math.imul(N,Gt)|0,S=S+Math.imul(N,Yt)|0,S=S+Math.imul(K,Gt)|0,H=H+Math.imul(K,Yt)|0,j=j+Math.imul(se,zt)|0,S=S+Math.imul(se,Wt)|0,S=S+Math.imul(et,zt)|0,H=H+Math.imul(et,Wt)|0,j=j+Math.imul(bt,Xt)|0,S=S+Math.imul(bt,Jt)|0,S=S+Math.imul(wt,Xt)|0,H=H+Math.imul(wt,Jt)|0,j=j+Math.imul(xt,$t)|0,S=S+Math.imul(xt,Zt)|0,S=S+Math.imul(Ct,$t)|0,H=H+Math.imul(Ct,Zt)|0,j=j+Math.imul(St,Qt)|0,S=S+Math.imul(St,er)|0,S=S+Math.imul(Tt,Qt)|0,H=H+Math.imul(Tt,er)|0;var UE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(UE>>>26)|0,UE&=67108863,j=Math.imul($,Kt),S=Math.imul($,Vt),S=S+Math.imul(ee,Kt)|0,H=Math.imul(ee,Vt),j=j+Math.imul(X,Gt)|0,S=S+Math.imul(X,Yt)|0,S=S+Math.imul(z,Gt)|0,H=H+Math.imul(z,Yt)|0,j=j+Math.imul(N,zt)|0,S=S+Math.imul(N,Wt)|0,S=S+Math.imul(K,zt)|0,H=H+Math.imul(K,Wt)|0,j=j+Math.imul(se,Xt)|0,S=S+Math.imul(se,Jt)|0,S=S+Math.imul(et,Xt)|0,H=H+Math.imul(et,Jt)|0,j=j+Math.imul(bt,$t)|0,S=S+Math.imul(bt,Zt)|0,S=S+Math.imul(wt,$t)|0,H=H+Math.imul(wt,Zt)|0,j=j+Math.imul(xt,Qt)|0,S=S+Math.imul(xt,er)|0,S=S+Math.imul(Ct,Qt)|0,H=H+Math.imul(Ct,er)|0;var kE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(kE>>>26)|0,kE&=67108863,j=Math.imul($,Gt),S=Math.imul($,Yt),S=S+Math.imul(ee,Gt)|0,H=Math.imul(ee,Yt),j=j+Math.imul(X,zt)|0,S=S+Math.imul(X,Wt)|0,S=S+Math.imul(z,zt)|0,H=H+Math.imul(z,Wt)|0,j=j+Math.imul(N,Xt)|0,S=S+Math.imul(N,Jt)|0,S=S+Math.imul(K,Xt)|0,H=H+Math.imul(K,Jt)|0,j=j+Math.imul(se,$t)|0,S=S+Math.imul(se,Zt)|0,S=S+Math.imul(et,$t)|0,H=H+Math.imul(et,Zt)|0,j=j+Math.imul(bt,Qt)|0,S=S+Math.imul(bt,er)|0,S=S+Math.imul(wt,Qt)|0,H=H+Math.imul(wt,er)|0;var jE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(jE>>>26)|0,jE&=67108863,j=Math.imul($,zt),S=Math.imul($,Wt),S=S+Math.imul(ee,zt)|0,H=Math.imul(ee,Wt),j=j+Math.imul(X,Xt)|0,S=S+Math.imul(X,Jt)|0,S=S+Math.imul(z,Xt)|0,H=H+Math.imul(z,Jt)|0,j=j+Math.imul(N,$t)|0,S=S+Math.imul(N,Zt)|0,S=S+Math.imul(K,$t)|0,H=H+Math.imul(K,Zt)|0,j=j+Math.imul(se,Qt)|0,S=S+Math.imul(se,er)|0,S=S+Math.imul(et,Qt)|0,H=H+Math.imul(et,er)|0;var HE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(HE>>>26)|0,HE&=67108863,j=Math.imul($,Xt),S=Math.imul($,Jt),S=S+Math.imul(ee,Xt)|0,H=Math.imul(ee,Jt),j=j+Math.imul(X,$t)|0,S=S+Math.imul(X,Zt)|0,S=S+Math.imul(z,$t)|0,H=H+Math.imul(z,Zt)|0,j=j+Math.imul(N,Qt)|0,S=S+Math.imul(N,er)|0,S=S+Math.imul(K,Qt)|0,H=H+Math.imul(K,er)|0;var KE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(KE>>>26)|0,KE&=67108863,j=Math.imul($,$t),S=Math.imul($,Zt),S=S+Math.imul(ee,$t)|0,H=Math.imul(ee,Zt),j=j+Math.imul(X,Qt)|0,S=S+Math.imul(X,er)|0,S=S+Math.imul(z,Qt)|0,H=H+Math.imul(z,er)|0;var VE=(Y+j|0)+((S&8191)<<13)|0;Y=(H+(S>>>13)|0)+(VE>>>26)|0,VE&=67108863,j=Math.imul($,Qt),S=Math.imul($,er),S=S+Math.imul(ee,Qt)|0,H=Math.imul(ee,er);var GE=(Y+j|0)+((S&8191)<<13)|0;return Y=(H+(S>>>13)|0)+(GE>>>26)|0,GE&=67108863,V[0]=CE,V[1]=AE,V[2]=OE,V[3]=DE,V[4]=RE,V[5]=PE,V[6]=BE,V[7]=ME,V[8]=NE,V[9]=qE,V[10]=FE,V[11]=LE,V[12]=UE,V[13]=kE,V[14]=jE,V[15]=HE,V[16]=KE,V[17]=VE,V[18]=GE,Y!==0&&(V[19]=Y,R.length++),R};Math.imul||(I=w);function T(L,b,A){A.negative=b.negative^L.negative,A.length=L.length+b.length;for(var R=0,F=0,k=0;k<A.length-1;k++){var V=F;F=0;for(var Y=R&67108863,j=Math.min(k,b.length-1),S=Math.max(0,k-L.length+1);S<=j;S++){var H=k-S,oe=L.words[H]|0,fe=b.words[S]|0,de=oe*fe,we=de&67108863;V=V+(de/67108864|0)|0,we=we+Y|0,Y=we&67108863,V=V+(we>>>26)|0,F+=V>>>26,V&=67108863}A.words[k]=Y,R=V,V=F}return R!==0?A.words[k]=R:A.length--,A._strip()}function O(L,b,A){return T(L,b,A)}i.prototype.mulTo=function(b,A){var R,F=this.length+b.length;return this.length===10&&b.length===10?R=I(this,b,A):F<63?R=w(this,b,A):F<1024?R=T(this,b,A):R=O(this,b,A),R};function B(L,b){this.x=L,this.y=b}B.prototype.makeRBT=function(b){for(var A=new Array(b),R=i.prototype._countBits(b)-1,F=0;F<b;F++)A[F]=this.revBin(F,R,b);return A},B.prototype.revBin=function(b,A,R){if(b===0||b===R-1)return b;for(var F=0,k=0;k<A;k++)F|=(b&1)<<A-k-1,b>>=1;return F},B.prototype.permute=function(b,A,R,F,k,V){for(var Y=0;Y<V;Y++)F[Y]=A[b[Y]],k[Y]=R[b[Y]]},B.prototype.transform=function(b,A,R,F,k,V){this.permute(V,b,A,R,F,k);for(var Y=1;Y<k;Y<<=1)for(var j=Y<<1,S=Math.cos(2*Math.PI/j),H=Math.sin(2*Math.PI/j),oe=0;oe<k;oe+=j)for(var fe=S,de=H,we=0;we<Y;we++){var Ue=R[oe+we],Ve=F[oe+we],os=R[oe+we+Y],Je=F[oe+we+Y],Qe=fe*os-de*Je;Je=fe*Je+de*os,os=Qe,R[oe+we]=Ue+os,F[oe+we]=Ve+Je,R[oe+we+Y]=Ue-os,F[oe+we+Y]=Ve-Je,we!==j&&(Qe=S*fe-H*de,de=S*de+H*fe,fe=Qe)}},B.prototype.guessLen13b=function(b,A){var R=Math.max(A,b)|1,F=R&1,k=0;for(R=R/2|0;R;R=R>>>1)k++;return 1<<k+1+F},B.prototype.conjugate=function(b,A,R){if(!(R<=1))for(var F=0;F<R/2;F++){var k=b[F];b[F]=b[R-F-1],b[R-F-1]=k,k=A[F],A[F]=-A[R-F-1],A[R-F-1]=-k}},B.prototype.normalize13b=function(b,A){for(var R=0,F=0;F<A/2;F++){var k=Math.round(b[2*F+1]/A)*8192+Math.round(b[2*F]/A)+R;b[F]=k&67108863,k<67108864?R=0:R=k/67108864|0}return b},B.prototype.convert13b=function(b,A,R,F){for(var k=0,V=0;V<A;V++)k=k+(b[V]|0),R[2*V]=k&8191,k=k>>>13,R[2*V+1]=k&8191,k=k>>>13;for(V=2*A;V<F;++V)R[V]=0;t(k===0),t((k&-8192)===0)},B.prototype.stub=function(b){for(var A=new Array(b),R=0;R<b;R++)A[R]=0;return A},B.prototype.mulp=function(b,A,R){var F=2*this.guessLen13b(b.length,A.length),k=this.makeRBT(F),V=this.stub(F),Y=new Array(F),j=new Array(F),S=new Array(F),H=new Array(F),oe=new Array(F),fe=new Array(F),de=R.words;de.length=F,this.convert13b(b.words,b.length,Y,F),this.convert13b(A.words,A.length,H,F),this.transform(Y,V,j,S,F,k),this.transform(H,V,oe,fe,F,k);for(var we=0;we<F;we++){var Ue=j[we]*oe[we]-S[we]*fe[we];S[we]=j[we]*fe[we]+S[we]*oe[we],j[we]=Ue}return this.conjugate(j,S,F),this.transform(j,S,de,V,F,k),this.conjugate(de,V,F),this.normalize13b(de,F),R.negative=b.negative^A.negative,R.length=b.length+A.length,R._strip()},i.prototype.mul=function(b){var A=new i(null);return A.words=new Array(this.length+b.length),this.mulTo(b,A)},i.prototype.mulf=function(b){var A=new i(null);return A.words=new Array(this.length+b.length),O(this,b,A)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){var A=b<0;A&&(b=-b),t(typeof b=="number"),t(b<67108864);for(var R=0,F=0;F<this.length;F++){var k=(this.words[F]|0)*b,V=(k&67108863)+(R&67108863);R>>=26,R+=k/67108864|0,R+=V>>>26,this.words[F]=V&67108863}return R!==0&&(this.words[F]=R,this.length++),A?this.ineg():this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var A=_(b);if(A.length===0)return new i(1);for(var R=this,F=0;F<A.length&&A[F]===0;F++,R=R.sqr());if(++F<A.length)for(var k=R.sqr();F<A.length;F++,k=k.sqr())A[F]!==0&&(R=R.mul(k));return R},i.prototype.iushln=function(b){t(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26,F=67108863>>>26-A<<26-A,k;if(A!==0){var V=0;for(k=0;k<this.length;k++){var Y=this.words[k]&F,j=(this.words[k]|0)-Y<<A;this.words[k]=j|V,V=Y>>>26-A}V&&(this.words[k]=V,this.length++)}if(R!==0){for(k=this.length-1;k>=0;k--)this.words[k+R]=this.words[k];for(k=0;k<R;k++)this.words[k]=0;this.length+=R}return this._strip()},i.prototype.ishln=function(b){return t(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,A,R){t(typeof b=="number"&&b>=0);var F;A?F=(A-A%26)/26:F=0;var k=b%26,V=Math.min((b-k)/26,this.length),Y=67108863^67108863>>>k<<k,j=R;if(F-=V,F=Math.max(0,F),j){for(var S=0;S<V;S++)j.words[S]=this.words[S];j.length=V}if(V!==0)if(this.length>V)for(this.length-=V,S=0;S<this.length;S++)this.words[S]=this.words[S+V];else this.words[0]=0,this.length=1;var H=0;for(S=this.length-1;S>=0&&(H!==0||S>=F);S--){var oe=this.words[S]|0;this.words[S]=H<<26-k|oe>>>k,H=oe&Y}return j&&H!==0&&(j.words[j.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(b,A,R){return t(this.negative===0),this.iushrn(b,A,R)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){t(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26,F=1<<A;if(this.length<=R)return!1;var k=this.words[R];return!!(k&F)},i.prototype.imaskn=function(b){t(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(A!==0&&R++,this.length=Math.min(R,this.length),A!==0){var F=67108863^67108863>>>A<<A;this.words[this.length-1]&=F}return this._strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return t(typeof b=="number"),t(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(b){if(t(typeof b=="number"),t(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,A,R){var F=b.length+R,k;this._expand(F);var V,Y=0;for(k=0;k<b.length;k++){V=(this.words[k+R]|0)+Y;var j=(b.words[k]|0)*A;V-=j&67108863,Y=(V>>26)-(j/67108864|0),this.words[k+R]=V&67108863}for(;k<this.length-R;k++)V=(this.words[k+R]|0)+Y,Y=V>>26,this.words[k+R]=V&67108863;if(Y===0)return this._strip();for(t(Y===-1),Y=0,k=0;k<this.length;k++)V=-(this.words[k]|0)+Y,Y=V>>26,this.words[k]=V&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(b,A){var R=this.length-b.length,F=this.clone(),k=b,V=k.words[k.length-1]|0,Y=this._countBits(V);R=26-Y,R!==0&&(k=k.ushln(R),F.iushln(R),V=k.words[k.length-1]|0);var j=F.length-k.length,S;if(A!=="mod"){S=new i(null),S.length=j+1,S.words=new Array(S.length);for(var H=0;H<S.length;H++)S.words[H]=0}var oe=F.clone()._ishlnsubmul(k,1,j);oe.negative===0&&(F=oe,S&&(S.words[j]=1));for(var fe=j-1;fe>=0;fe--){var de=(F.words[k.length+fe]|0)*67108864+(F.words[k.length+fe-1]|0);for(de=Math.min(de/V|0,67108863),F._ishlnsubmul(k,de,fe);F.negative!==0;)de--,F.negative=0,F._ishlnsubmul(k,1,fe),F.isZero()||(F.negative^=1);S&&(S.words[fe]=de)}return S&&S._strip(),F._strip(),A!=="div"&&R!==0&&F.iushrn(R),{div:S||null,mod:F}},i.prototype.divmod=function(b,A,R){if(t(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var F,k,V;return this.negative!==0&&b.negative===0?(V=this.neg().divmod(b,A),A!=="mod"&&(F=V.div.neg()),A!=="div"&&(k=V.mod.neg(),R&&k.negative!==0&&k.iadd(b)),{div:F,mod:k}):this.negative===0&&b.negative!==0?(V=this.divmod(b.neg(),A),A!=="mod"&&(F=V.div.neg()),{div:F,mod:V.mod}):(this.negative&b.negative)!==0?(V=this.neg().divmod(b.neg(),A),A!=="div"&&(k=V.mod.neg(),R&&k.negative!==0&&k.isub(b)),{div:V.div,mod:k}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?A==="div"?{div:this.divn(b.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modrn(b.words[0]))}:this._wordDiv(b,A)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var A=this.divmod(b);if(A.mod.isZero())return A.div;var R=A.div.negative!==0?A.mod.isub(b):A.mod,F=b.ushrn(1),k=b.andln(1),V=R.cmp(F);return V<0||k===1&&V===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modrn=function(b){var A=b<0;A&&(b=-b),t(b<=67108863);for(var R=(1<<26)%b,F=0,k=this.length-1;k>=0;k--)F=(R*F+(this.words[k]|0))%b;return A?-F:F},i.prototype.modn=function(b){return this.modrn(b)},i.prototype.idivn=function(b){var A=b<0;A&&(b=-b),t(b<=67108863);for(var R=0,F=this.length-1;F>=0;F--){var k=(this.words[F]|0)+R*67108864;this.words[F]=k/b|0,R=k%b}return this._strip(),A?this.ineg():this},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){t(b.negative===0),t(!b.isZero());var A=this,R=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var F=new i(1),k=new i(0),V=new i(0),Y=new i(1),j=0;A.isEven()&&R.isEven();)A.iushrn(1),R.iushrn(1),++j;for(var S=R.clone(),H=A.clone();!A.isZero();){for(var oe=0,fe=1;(A.words[0]&fe)===0&&oe<26;++oe,fe<<=1);if(oe>0)for(A.iushrn(oe);oe-- >0;)(F.isOdd()||k.isOdd())&&(F.iadd(S),k.isub(H)),F.iushrn(1),k.iushrn(1);for(var de=0,we=1;(R.words[0]&we)===0&&de<26;++de,we<<=1);if(de>0)for(R.iushrn(de);de-- >0;)(V.isOdd()||Y.isOdd())&&(V.iadd(S),Y.isub(H)),V.iushrn(1),Y.iushrn(1);A.cmp(R)>=0?(A.isub(R),F.isub(V),k.isub(Y)):(R.isub(A),V.isub(F),Y.isub(k))}return{a:V,b:Y,gcd:R.iushln(j)}},i.prototype._invmp=function(b){t(b.negative===0),t(!b.isZero());var A=this,R=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var F=new i(1),k=new i(0),V=R.clone();A.cmpn(1)>0&&R.cmpn(1)>0;){for(var Y=0,j=1;(A.words[0]&j)===0&&Y<26;++Y,j<<=1);if(Y>0)for(A.iushrn(Y);Y-- >0;)F.isOdd()&&F.iadd(V),F.iushrn(1);for(var S=0,H=1;(R.words[0]&H)===0&&S<26;++S,H<<=1);if(S>0)for(R.iushrn(S);S-- >0;)k.isOdd()&&k.iadd(V),k.iushrn(1);A.cmp(R)>=0?(A.isub(R),F.isub(k)):(R.isub(A),k.isub(F))}var oe;return A.cmpn(1)===0?oe=F:oe=k,oe.cmpn(0)<0&&oe.iadd(b),oe},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var A=this.clone(),R=b.clone();A.negative=0,R.negative=0;for(var F=0;A.isEven()&&R.isEven();F++)A.iushrn(1),R.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;R.isEven();)R.iushrn(1);var k=A.cmp(R);if(k<0){var V=A;A=R,R=V}else if(k===0||R.cmpn(1)===0)break;A.isub(R)}while(!0);return R.iushln(F)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){t(typeof b=="number");var A=b%26,R=(b-A)/26,F=1<<A;if(this.length<=R)return this._expand(R+1),this.words[R]|=F,this;for(var k=F,V=R;k!==0&&V<this.length;V++){var Y=this.words[V]|0;Y+=k,k=Y>>>26,Y&=67108863,this.words[V]=Y}return k!==0&&(this.words[V]=k,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var A=b<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var R;if(this.length>1)R=1;else{A&&(b=-b),t(b<=67108863,"Number is too big");var F=this.words[0]|0;R=F===b?0:F<b?-1:1}return this.negative!==0?-R|0:R},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var A=this.ucmp(b);return this.negative!==0?-A|0:A},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var A=0,R=this.length-1;R>=0;R--){var F=this.words[R]|0,k=b.words[R]|0;if(F!==k){F<k?A=-1:F>k&&(A=1);break}}return A},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new M(b)},i.prototype.toRed=function(b){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return t(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return t(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var q={k256:null,p224:null,p192:null,p25519:null};function C(L,b){this.name=L,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},C.prototype.ireduce=function(b){var A=b,R;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),R=A.bitLength();while(R>this.n);var F=R<this.n?-1:A.ucmp(this.p);return F===0?(A.words[0]=0,A.length=1):F>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},C.prototype.split=function(b,A){b.iushrn(this.n,0,A)},C.prototype.imulK=function(b){return b.imul(this.k)};function d(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(d,C),d.prototype.split=function(b,A){for(var R=4194303,F=Math.min(b.length,9),k=0;k<F;k++)A.words[k]=b.words[k];if(A.length=F,b.length<=9){b.words[0]=0,b.length=1;return}var V=b.words[9];for(A.words[A.length++]=V&R,k=10;k<b.length;k++){var Y=b.words[k]|0;b.words[k-10]=(Y&R)<<4|V>>>22,V=Y}V>>>=22,b.words[k-10]=V,V===0&&b.length>10?b.length-=10:b.length-=9},d.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var A=0,R=0;R<b.length;R++){var F=b.words[R]|0;A+=F*977,b.words[R]=A&67108863,A=F*64+(A/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function m(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(m,C);function x(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(x,C);function D(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(D,C),D.prototype.imulK=function(b){for(var A=0,R=0;R<b.length;R++){var F=(b.words[R]|0)*19+A,k=F&67108863;F>>>=26,b.words[R]=k,A=F}return A!==0&&(b.words[b.length++]=A),b},i._prime=function(b){if(q[b])return q[b];var A;if(b==="k256")A=new d;else if(b==="p224")A=new m;else if(b==="p192")A=new x;else if(b==="p25519")A=new D;else throw new Error("Unknown prime "+b);return q[b]=A,A};function M(L){if(typeof L=="string"){var b=i._prime(L);this.m=b.p,this.prime=b}else t(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}M.prototype._verify1=function(b){t(b.negative===0,"red works only with positives"),t(b.red,"red works only with red numbers")},M.prototype._verify2=function(b,A){t((b.negative|A.negative)===0,"red works only with positives"),t(b.red&&b.red===A.red,"red works only with red numbers")},M.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},M.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},M.prototype.add=function(b,A){this._verify2(b,A);var R=b.add(A);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},M.prototype.iadd=function(b,A){this._verify2(b,A);var R=b.iadd(A);return R.cmp(this.m)>=0&&R.isub(this.m),R},M.prototype.sub=function(b,A){this._verify2(b,A);var R=b.sub(A);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},M.prototype.isub=function(b,A){this._verify2(b,A);var R=b.isub(A);return R.cmpn(0)<0&&R.iadd(this.m),R},M.prototype.shl=function(b,A){return this._verify1(b),this.imod(b.ushln(A))},M.prototype.imul=function(b,A){return this._verify2(b,A),this.imod(b.imul(A))},M.prototype.mul=function(b,A){return this._verify2(b,A),this.imod(b.mul(A))},M.prototype.isqr=function(b){return this.imul(b,b.clone())},M.prototype.sqr=function(b){return this.mul(b,b)},M.prototype.sqrt=function(b){if(b.isZero())return b.clone();var A=this.m.andln(3);if(t(A%2===1),A===3){var R=this.m.add(new i(1)).iushrn(2);return this.pow(b,R)}for(var F=this.m.subn(1),k=0;!F.isZero()&&F.andln(1)===0;)k++,F.iushrn(1);t(!F.isZero());var V=new i(1).toRed(this),Y=V.redNeg(),j=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,j).cmp(Y)!==0;)S.redIAdd(Y);for(var H=this.pow(S,F),oe=this.pow(b,F.addn(1).iushrn(1)),fe=this.pow(b,F),de=k;fe.cmp(V)!==0;){for(var we=fe,Ue=0;we.cmp(V)!==0;Ue++)we=we.redSqr();t(Ue<de);var Ve=this.pow(H,new i(1).iushln(de-Ue-1));oe=oe.redMul(Ve),H=Ve.redSqr(),fe=fe.redMul(H),de=Ue}return oe},M.prototype.invm=function(b){var A=b._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},M.prototype.pow=function(b,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return b.clone();var R=4,F=new Array(1<<R);F[0]=new i(1).toRed(this),F[1]=b;for(var k=2;k<F.length;k++)F[k]=this.mul(F[k-1],b);var V=F[0],Y=0,j=0,S=A.bitLength()%26;for(S===0&&(S=26),k=A.length-1;k>=0;k--){for(var H=A.words[k],oe=S-1;oe>=0;oe--){var fe=H>>oe&1;if(V!==F[0]&&(V=this.sqr(V)),fe===0&&Y===0){j=0;continue}Y<<=1,Y|=fe,j++,!(j!==R&&(k!==0||oe!==0))&&(V=this.mul(V,F[Y]),j=0,Y=0)}S=26}return V},M.prototype.convertTo=function(b){var A=b.umod(this.m);return A===b?A.clone():A},M.prototype.convertFrom=function(b){var A=b.clone();return A.red=null,A},i.mont=function(b){return new Q(b)};function Q(L){M.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Q,M),Q.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},Q.prototype.convertFrom=function(b){var A=this.imod(b.mul(this.rinv));return A.red=null,A},Q.prototype.imul=function(b,A){if(b.isZero()||A.isZero())return b.words[0]=0,b.length=1,b;var R=b.imul(A),F=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=R.isub(F).iushrn(this.shift),V=k;return k.cmp(this.m)>=0?V=k.isub(this.m):k.cmpn(0)<0&&(V=k.iadd(this.m)),V._forceRed(this)},Q.prototype.mul=function(b,A){if(b.isZero()||A.isZero())return new i(0)._forceRed(this);var R=b.mul(A),F=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=R.isub(F).iushrn(this.shift),V=k;return k.cmp(this.m)>=0?V=k.isub(this.m):k.cmpn(0)<0&&(V=k.iadd(this.m)),V._forceRed(this)},Q.prototype.invm=function(b){var A=this.imod(b._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(typeof AD>"u"||AD,aZ)});var ju=E(fa=>{"use strict";h();p();var oTe=fa&&fa.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sTe=fa&&fa.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uTe=fa&&fa.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oTe(e,r,t);return sTe(e,r),e},fTe=fa&&fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fa,"__esModule",{value:!0});fa.rlp=fa.BN=void 0;var cTe=fTe(oZ());fa.BN=cTe.default;var dTe=uTe(uQ());fa.rlp=dTe});var RD=E(It=>{"use strict";h();p();Object.defineProperty(It,"__esModule",{value:!0});It.KECCAK256_RLP=It.KECCAK256_RLP_S=It.KECCAK256_RLP_ARRAY=It.KECCAK256_RLP_ARRAY_S=It.KECCAK256_NULL=It.KECCAK256_NULL_S=It.TWO_POW256=It.MAX_INTEGER=It.MAX_UINT64=void 0;var OD=Hi(),DD=ju();It.MAX_UINT64=new DD.BN("ffffffffffffffff",16);It.MAX_INTEGER=new DD.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);It.TWO_POW256=new DD.BN("10000000000000000000000000000000000000000000000000000000000000000",16);It.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";It.KECCAK256_NULL=OD.Buffer.from(It.KECCAK256_NULL_S,"hex");It.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";It.KECCAK256_RLP_ARRAY=OD.Buffer.from(It.KECCAK256_RLP_ARRAY_S,"hex");It.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";It.KECCAK256_RLP=OD.Buffer.from(It.KECCAK256_RLP_S,"hex")});var Nh=E(Mt=>{"use strict";h();p();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.isHexString=Mt.getKeys=Mt.fromAscii=Mt.fromUtf8=Mt.toAscii=Mt.arrayContainsArray=Mt.getBinarySize=Mt.padToEven=Mt.stripHexPrefix=Mt.isHexPrefixed=void 0;function sZ(r){if(typeof r!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof r));return r[0]==="0"&&r[1]==="x"}Mt.isHexPrefixed=sZ;var lTe=function(r){if(typeof r!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof r));return sZ(r)?r.slice(2):r};Mt.stripHexPrefix=lTe;function uZ(r){var e=r;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Mt.padToEven=uZ;function hTe(r){if(typeof r!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof r));return v.Buffer.byteLength(r,"utf8")}Mt.getBinarySize=hTe;function pTe(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof r,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[t?"some":"every"](function(n){return r.indexOf(n)>=0})}Mt.arrayContainsArray=pTe;function gTe(r){var e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){var i=parseInt(r.substr(t,2),16);e+=String.fromCharCode(i)}return e}Mt.toAscii=gTe;function yTe(r){var e=v.Buffer.from(r,"utf8");return"0x".concat(uZ(e.toString("hex")).replace(/^0+|0+$/g,""))}Mt.fromUtf8=yTe;function vTe(r){for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}Mt.fromAscii=vTe;function mTe(r,e,t){if(!Array.isArray(r))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof r));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof r));for(var n=[],i=0;i<r.length;i++){var a=r[i][e];if(t&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof a));n.push(a)}return n}Mt.getKeys=mTe;function _Te(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Mt.isHexString=_Te});var P2=E(Hu=>{"use strict";h();p();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.assertIsString=Hu.assertIsArray=Hu.assertIsBuffer=Hu.assertIsHexString=void 0;var xTe=Nh(),bTe=function(r){if(!(0,xTe.isHexString)(r)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(r);throw new Error(e)}};Hu.assertIsHexString=bTe;var wTe=function(r){if(!v.Buffer.isBuffer(r)){var e="This method only supports Buffer but input was: ".concat(r);throw new Error(e)}};Hu.assertIsBuffer=wTe;var ETe=function(r){if(!Array.isArray(r)){var e="This method only supports number arrays but input was: ".concat(r);throw new Error(e)}};Hu.assertIsArray=ETe;var ITe=function(r){if(typeof r!="string"){var e="This method only supports strings but input was: ".concat(r);throw new Error(e)}};Hu.assertIsString=ITe});var ed=E(_e=>{"use strict";h();p();var STe=_e&&_e.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TTe=_e&&_e.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(_e,"__esModule",{value:!0});_e.bufArrToArr=_e.arrToBufArr=_e.validateNoLeadingZeroes=_e.baToJSON=_e.toUtf8=_e.addHexPrefix=_e.toUnsigned=_e.fromSigned=_e.bufferToHex=_e.bufferToInt=_e.toBuffer=_e.unpadHexString=_e.unpadArray=_e.unpadBuffer=_e.setLengthRight=_e.setLengthLeft=_e.zeros=_e.intToBuffer=_e.intToHex=void 0;var PD=ju(),qh=Nh(),B2=P2(),CTe=function(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("Received an invalid integer type: ".concat(r));return"0x".concat(r.toString(16))};_e.intToHex=CTe;var ATe=function(r){var e=(0,_e.intToHex)(r);return v.Buffer.from((0,qh.padToEven)(e.slice(2)),"hex")};_e.intToBuffer=ATe;var OTe=function(r){return v.Buffer.allocUnsafe(r).fill(0)};_e.zeros=OTe;var fZ=function(r,e,t){var n=(0,_e.zeros)(e);return t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)},DTe=function(r,e){return(0,B2.assertIsBuffer)(r),fZ(r,e,!1)};_e.setLengthLeft=DTe;var RTe=function(r,e){return(0,B2.assertIsBuffer)(r),fZ(r,e,!0)};_e.setLengthRight=RTe;var BD=function(r){for(var e=r[0];r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r},PTe=function(r){return(0,B2.assertIsBuffer)(r),BD(r)};_e.unpadBuffer=PTe;var BTe=function(r){return(0,B2.assertIsArray)(r),BD(r)};_e.unpadArray=BTe;var MTe=function(r){return(0,B2.assertIsHexString)(r),r=(0,qh.stripHexPrefix)(r),BD(r)};_e.unpadHexString=MTe;var NTe=function(r){if(r==null)return v.Buffer.allocUnsafe(0);if(v.Buffer.isBuffer(r))return v.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return v.Buffer.from(r);if(typeof r=="string"){if(!(0,qh.isHexString)(r))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(r));return v.Buffer.from((0,qh.padToEven)((0,qh.stripHexPrefix)(r)),"hex")}if(typeof r=="number")return(0,_e.intToBuffer)(r);if(PD.BN.isBN(r)){if(r.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(r));return r.toArrayLike(v.Buffer)}if(r.toArray)return v.Buffer.from(r.toArray());if(r.toBuffer)return v.Buffer.from(r.toBuffer());throw new Error("invalid type")};_e.toBuffer=NTe;var qTe=function(r){return new PD.BN((0,_e.toBuffer)(r)).toNumber()};_e.bufferToInt=qTe;var FTe=function(r){return r=(0,_e.toBuffer)(r),"0x"+r.toString("hex")};_e.bufferToHex=FTe;var LTe=function(r){return new PD.BN(r).fromTwos(256)};_e.fromSigned=LTe;var UTe=function(r){return v.Buffer.from(r.toTwos(256).toArray())};_e.toUnsigned=UTe;var kTe=function(r){return typeof r!="string"||(0,qh.isHexPrefixed)(r)?r:"0x"+r};_e.addHexPrefix=kTe;var jTe=function(r){var e=/^(00)+|(00)+$/g;if(r=(0,qh.stripHexPrefix)(r),r.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var t=v.Buffer.from(r.replace(e,""),"hex");return t.toString("utf8")};_e.toUtf8=jTe;var HTe=function(r){if(v.Buffer.isBuffer(r))return"0x".concat(r.toString("hex"));if(r instanceof Array){for(var e=[],t=0;t<r.length;t++)e.push((0,_e.baToJSON)(r[t]));return e}};_e.baToJSON=HTe;var KTe=function(r){var e,t;try{for(var n=STe(Object.entries(r)),i=n.next();!i.done;i=n.next()){var a=TTe(i.value,2),o=a[0],s=a[1];if(s!==void 0&&s.length>0&&s[0]===0)throw new Error("".concat(o," cannot have leading zeroes, received: ").concat(s.toString("hex")))}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}};_e.validateNoLeadingZeroes=KTe;function cZ(r){return Array.isArray(r)?r.map(function(e){return cZ(e)}):v.Buffer.from(r)}_e.arrToBufArr=cZ;function dZ(r){return Array.isArray(r)?r.map(function(e){return dZ(e)}):Uint8Array.from(r??[])}_e.bufArrToArr=dZ});var dE=E(ze=>{"use strict";h();p();Object.defineProperty(ze,"__esModule",{value:!0});ze.rlphash=ze.ripemd160FromArray=ze.ripemd160FromString=ze.ripemd160=ze.sha256FromArray=ze.sha256FromString=ze.sha256=ze.keccakFromArray=ze.keccakFromHexString=ze.keccakFromString=ze.keccak256=ze.keccak=void 0;var cE=fQ(),lZ=WE(),VTe=ju(),M2=ed(),Ku=P2(),GTe=function(r,e){switch(e===void 0&&(e=256),(0,Ku.assertIsBuffer)(r),e){case 224:return(0,cE.keccak224)(r);case 256:return(0,cE.keccak256)(r);case 384:return(0,cE.keccak384)(r);case 512:return(0,cE.keccak512)(r);default:throw new Error("Invald algorithm: keccak".concat(e))}};ze.keccak=GTe;var YTe=function(r){return(0,ze.keccak)(r)};ze.keccak256=YTe;var zTe=function(r,e){e===void 0&&(e=256),(0,Ku.assertIsString)(r);var t=v.Buffer.from(r,"utf8");return(0,ze.keccak)(t,e)};ze.keccakFromString=zTe;var WTe=function(r,e){return e===void 0&&(e=256),(0,Ku.assertIsHexString)(r),(0,ze.keccak)((0,M2.toBuffer)(r),e)};ze.keccakFromHexString=WTe;var XTe=function(r,e){return e===void 0&&(e=256),(0,Ku.assertIsArray)(r),(0,ze.keccak)((0,M2.toBuffer)(r),e)};ze.keccakFromArray=XTe;var MD=function(r){return r=(0,M2.toBuffer)(r),lZ("sha256").update(r).digest()},JTe=function(r){return(0,Ku.assertIsBuffer)(r),MD(r)};ze.sha256=JTe;var $Te=function(r){return(0,Ku.assertIsString)(r),MD(r)};ze.sha256FromString=$Te;var ZTe=function(r){return(0,Ku.assertIsArray)(r),MD(r)};ze.sha256FromArray=ZTe;var ND=function(r,e){r=(0,M2.toBuffer)(r);var t=lZ("rmd160").update(r).digest();return e===!0?(0,M2.setLengthLeft)(t,32):t},QTe=function(r,e){return(0,Ku.assertIsBuffer)(r),ND(r,e)};ze.ripemd160=QTe;var e7e=function(r,e){return(0,Ku.assertIsString)(r),ND(r,e)};ze.ripemd160FromString=e7e;var t7e=function(r,e){return(0,Ku.assertIsArray)(r),ND(r,e)};ze.ripemd160FromArray=t7e;var r7e=function(r){return(0,ze.keccak)(VTe.rlp.encode(r))};ze.rlphash=r7e});var hE=E(Ua=>{"use strict";h();p();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.toType=Ua.TypeOutput=Ua.bnToRlp=Ua.bnToUnpaddedBuffer=Ua.bnToHex=void 0;var qD=ju(),n7e=Nh(),hZ=ed();function i7e(r){return"0x".concat(r.toString(16))}Ua.bnToHex=i7e;function pZ(r){return(0,hZ.unpadBuffer)(r.toArrayLike(v.Buffer))}Ua.bnToUnpaddedBuffer=pZ;function a7e(r){return pZ(r)}Ua.bnToRlp=a7e;var lE;(function(r){r[r.Number=0]="Number",r[r.BN=1]="BN",r[r.Buffer=2]="Buffer",r[r.PrefixedHexString=3]="PrefixedHexString"})(lE=Ua.TypeOutput||(Ua.TypeOutput={}));function o7e(r,e){if(r===null)return null;if(r!==void 0){if(typeof r=="string"&&!(0,n7e.isHexString)(r))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(r));if(typeof r=="number"&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var t=(0,hZ.toBuffer)(r);if(e===lE.Buffer)return t;if(e===lE.BN)return new qD.BN(t);if(e===lE.Number){var n=new qD.BN(t),i=new qD.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}else return"0x".concat(t.toString("hex"))}}Ua.toType=o7e});var LD=E(Ie=>{"use strict";h();p();var s7e=Ie&&Ie.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},u7e=Ie&&Ie.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.isZeroAddress=Ie.zeroAddress=Ie.importPublic=Ie.privateToAddress=Ie.privateToPublic=Ie.publicToAddress=Ie.pubToAddress=Ie.isValidPublic=Ie.isValidPrivate=Ie.generateAddress2=Ie.generateAddress=Ie.isValidChecksumAddress=Ie.toChecksumAddress=Ie.isValidAddress=Ie.Account=void 0;var FD=u7e(ka()),Ws=ju(),Hg=pR(),f7e=Nh(),pE=RD(),jg=ed(),Kg=dE(),is=P2(),gE=hE(),c7e=function(){function r(e,t,n,i){e===void 0&&(e=new Ws.BN(0)),t===void 0&&(t=new Ws.BN(0)),n===void 0&&(n=pE.KECCAK256_RLP),i===void 0&&(i=pE.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=n,this.codeHash=i,this._validate()}return r.fromAccountData=function(e){var t=e.nonce,n=e.balance,i=e.stateRoot,a=e.codeHash;return new r(t?new Ws.BN((0,jg.toBuffer)(t)):void 0,n?new Ws.BN((0,jg.toBuffer)(n)):void 0,i?(0,jg.toBuffer)(i):void 0,a?(0,jg.toBuffer)(a):void 0)},r.fromRlpSerializedAccount=function(e){var t=Ws.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},r.fromValuesArray=function(e){var t=s7e(e,4),n=t[0],i=t[1],a=t[2],o=t[3];return new r(new Ws.BN(n),new Ws.BN(i),a,o)},r.prototype._validate=function(){if(this.nonce.lt(new Ws.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Ws.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[(0,gE.bnToUnpaddedBuffer)(this.nonce),(0,gE.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return Ws.rlp.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(pE.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(pE.KECCAK256_NULL)},r}();Ie.Account=c7e;var d7e=function(r){try{(0,is.assertIsString)(r)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(r)};Ie.isValidAddress=d7e;var l7e=function(r,e){(0,is.assertIsHexString)(r);var t=(0,f7e.stripHexPrefix)(r).toLowerCase(),n="";if(e){var i=(0,gE.toType)(e,gE.TypeOutput.BN);n=i.toString()+"0x"}for(var a=(0,Kg.keccakFromString)(n+t).toString("hex"),o="0x",s=0;s<t.length;s++)parseInt(a[s],16)>=8?o+=t[s].toUpperCase():o+=t[s];return o};Ie.toChecksumAddress=l7e;var h7e=function(r,e){return(0,Ie.isValidAddress)(r)&&(0,Ie.toChecksumAddress)(r,e)===r};Ie.isValidChecksumAddress=h7e;var p7e=function(r,e){(0,is.assertIsBuffer)(r),(0,is.assertIsBuffer)(e);var t=new Ws.BN(e);return t.isZero()?(0,Kg.rlphash)([r,null]).slice(-20):(0,Kg.rlphash)([r,v.Buffer.from(t.toArray())]).slice(-20)};Ie.generateAddress=p7e;var g7e=function(r,e,t){(0,is.assertIsBuffer)(r),(0,is.assertIsBuffer)(e),(0,is.assertIsBuffer)(t),(0,FD.default)(r.length===20),(0,FD.default)(e.length===32);var n=(0,Kg.keccak256)(v.Buffer.concat([v.Buffer.from("ff","hex"),r,e,(0,Kg.keccak256)(t)]));return n.slice(-20)};Ie.generateAddress2=g7e;var y7e=function(r){return(0,Hg.privateKeyVerify)(r)};Ie.isValidPrivate=y7e;var v7e=function(r,e){return e===void 0&&(e=!1),(0,is.assertIsBuffer)(r),r.length===64?(0,Hg.publicKeyVerify)(v.Buffer.concat([v.Buffer.from([4]),r])):e?(0,Hg.publicKeyVerify)(r):!1};Ie.isValidPublic=v7e;var m7e=function(r,e){return e===void 0&&(e=!1),(0,is.assertIsBuffer)(r),e&&r.length!==64&&(r=v.Buffer.from((0,Hg.publicKeyConvert)(r,!1).slice(1))),(0,FD.default)(r.length===64),(0,Kg.keccak)(r).slice(-20)};Ie.pubToAddress=m7e;Ie.publicToAddress=Ie.pubToAddress;var _7e=function(r){return(0,is.assertIsBuffer)(r),v.Buffer.from((0,Hg.publicKeyCreate)(r,!1)).slice(1)};Ie.privateToPublic=_7e;var x7e=function(r){return(0,Ie.publicToAddress)((0,Ie.privateToPublic)(r))};Ie.privateToAddress=x7e;var b7e=function(r){return(0,is.assertIsBuffer)(r),r.length!==64&&(r=v.Buffer.from((0,Hg.publicKeyConvert)(r,!1).slice(1))),r};Ie.importPublic=b7e;var w7e=function(){var r=20,e=(0,jg.zeros)(r);return(0,jg.bufferToHex)(e)};Ie.zeroAddress=w7e;var E7e=function(r){try{(0,is.assertIsString)(r)}catch{return!1}var e=(0,Ie.zeroAddress)();return e===r};Ie.isZeroAddress=E7e});var yZ=E(Vg=>{"use strict";h();p();var I7e=Vg&&Vg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.Address=void 0;var Fh=I7e(ka()),yE=ju(),gZ=ed(),N2=LD(),S7e=function(){function r(e){(0,Fh.default)(e.length===20,"Invalid address length"),this.buf=e}return r.zero=function(){return new r((0,gZ.zeros)(20))},r.fromString=function(e){return(0,Fh.default)((0,N2.isValidAddress)(e),"Invalid address"),new r((0,gZ.toBuffer)(e))},r.fromPublicKey=function(e){(0,Fh.default)(v.Buffer.isBuffer(e),"Public key should be Buffer");var t=(0,N2.pubToAddress)(e);return new r(t)},r.fromPrivateKey=function(e){(0,Fh.default)(v.Buffer.isBuffer(e),"Private key should be Buffer");var t=(0,N2.privateToAddress)(e);return new r(t)},r.generate=function(e,t){return(0,Fh.default)(yE.BN.isBN(t)),new r((0,N2.generateAddress)(e.buf,t.toArrayLike(v.Buffer)))},r.generate2=function(e,t,n){return(0,Fh.default)(v.Buffer.isBuffer(t)),(0,Fh.default)(v.Buffer.isBuffer(n)),new r((0,N2.generateAddress2)(e.buf,t,n))},r.prototype.equals=function(e){return this.buf.equals(e.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.isPrecompileOrSystemAddress=function(){var e=new yE.BN(this.buf),t=new yE.BN(0),n=new yE.BN("ffff","hex");return e.gte(t)&&e.lte(n)},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return v.Buffer.from(this.buf)},r}();Vg.Address=S7e});var vZ=E(vi=>{"use strict";h();p();Object.defineProperty(vi,"__esModule",{value:!0});vi.hashPersonalMessage=vi.isValidSignature=vi.fromRpcSig=vi.toCompactSig=vi.toRpcSig=vi.ecrecover=vi.ecsign=void 0;var UD=pR(),q2=ju(),as=ed(),T7e=dE(),C7e=P2(),Vu=hE();function A7e(r,e,t){var n=(0,UD.ecdsaSign)(r,e),i=n.signature,a=n.recid,o=v.Buffer.from(i.slice(0,32)),s=v.Buffer.from(i.slice(32,64));if(!t||typeof t=="number"){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var u=t?a+(t*2+35):a+27;return{r:o,s,v:u}}var f=(0,Vu.toType)(t,Vu.TypeOutput.BN),c=f.muln(2).addn(35).addn(a).toArrayLike(v.Buffer);return{r:o,s,v:c}}vi.ecsign=A7e;function vE(r,e){var t=(0,Vu.toType)(r,Vu.TypeOutput.BN);if(t.eqn(0)||t.eqn(1))return(0,Vu.toType)(r,Vu.TypeOutput.BN);if(!e)return t.subn(27);var n=(0,Vu.toType)(e,Vu.TypeOutput.BN);return t.sub(n.muln(2).addn(35))}function mE(r){var e=new q2.BN(r);return e.eqn(0)||e.eqn(1)}var O7e=function(r,e,t,n,i){var a=v.Buffer.concat([(0,as.setLengthLeft)(t,32),(0,as.setLengthLeft)(n,32)],64),o=vE(e,i);if(!mE(o))throw new Error("Invalid signature v value");var s=(0,UD.ecdsaRecover)(a,o.toNumber(),r);return v.Buffer.from((0,UD.publicKeyConvert)(s,!1).slice(1))};vi.ecrecover=O7e;var D7e=function(r,e,t,n){var i=vE(r,n);if(!mE(i))throw new Error("Invalid signature v value");return(0,as.bufferToHex)(v.Buffer.concat([(0,as.setLengthLeft)(e,32),(0,as.setLengthLeft)(t,32),(0,as.toBuffer)(r)]))};vi.toRpcSig=D7e;var R7e=function(r,e,t,n){var i=vE(r,n);if(!mE(i))throw new Error("Invalid signature v value");var a=(0,Vu.toType)(r,Vu.TypeOutput.Number),o=t;return(a>28&&a%2===1||a===1||a===28)&&(o=v.Buffer.from(t),o[0]|=128),(0,as.bufferToHex)(v.Buffer.concat([(0,as.setLengthLeft)(e,32),(0,as.setLengthLeft)(o,32)]))};vi.toCompactSig=R7e;var P7e=function(r){var e=(0,as.toBuffer)(r),t,n,i;if(e.length>=65)t=e.slice(0,32),n=e.slice(32,64),i=(0,as.bufferToInt)(e.slice(64));else if(e.length===64)t=e.slice(0,32),n=e.slice(32,64),i=(0,as.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r:t,s:n}};vi.fromRpcSig=P7e;var B7e=function(r,e,t,n,i){n===void 0&&(n=!0);var a=new q2.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new q2.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||t.length!==32||!mE(vE(r,i)))return!1;var s=new q2.BN(e),u=new q2.BN(t);return!(s.isZero()||s.gt(o)||u.isZero()||u.gt(o)||n&&u.cmp(a)===1)};vi.isValidSignature=B7e;var M7e=function(r){(0,C7e.assertIsBuffer)(r);var e=v.Buffer.from(`Ethereum Signed Message:
`.concat(r.length),"utf-8");return(0,T7e.keccak)(v.Buffer.concat([e,r]))};vi.hashPersonalMessage=M7e});var xZ=E(Gg=>{"use strict";h();p();var N7e=Gg&&Gg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.defineProperties=void 0;var mZ=N7e(ka()),q7e=Nh(),_Z=ju(),_E=ed(),F7e=function(r,e,t){if(r.raw=[],r._fields=[],r.toJSON=function(i){if(i===void 0&&(i=!1),i){var a={};return r._fields.forEach(function(o){a[o]="0x".concat(r[o].toString("hex"))}),a}return(0,_E.baToJSON)(r.raw)},r.serialize=function(){return _Z.rlp.encode(r.raw)},e.forEach(function(i,a){r._fields.push(i.name);function o(){return r.raw[a]}function s(u){u=(0,_E.toBuffer)(u),u.toString("hex")==="00"&&!i.allowZero&&(u=v.Buffer.allocUnsafe(0)),i.allowLess&&i.length?(u=(0,_E.unpadBuffer)(u),(0,mZ.default)(i.length>=u.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&u.length===0)&&i.length&&(0,mZ.default)(i.length===u.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),r.raw[a]=u}Object.defineProperty(r,i.name,{enumerable:!0,configurable:!0,get:o,set:s}),i.default&&(r[i.name]=i.default),i.alias&&Object.defineProperty(r,i.alias,{enumerable:!1,configurable:!0,set:s,get:o})}),t)if(typeof t=="string"&&(t=v.Buffer.from((0,q7e.stripHexPrefix)(t),"hex")),v.Buffer.isBuffer(t)&&(t=_Z.rlp.decode(t)),Array.isArray(t)){if(t.length>r._fields.length)throw new Error("wrong number of fields in data");t.forEach(function(i,a){r[r._fields[a]]=(0,_E.toBuffer)(i)})}else if(typeof t=="object"){var n=Object.keys(t);e.forEach(function(i){n.indexOf(i.name)!==-1&&(r[i.name]=t[i.name]),n.indexOf(i.alias)!==-1&&(r[i.alias]=t[i.alias])})}else throw new Error("invalid data")};Gg.defineProperties=F7e});var bZ=E(Pe=>{"use strict";h();p();var L7e=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xf=Pe&&Pe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&L7e(e,r,t)};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.isHexString=Pe.getKeys=Pe.fromAscii=Pe.fromUtf8=Pe.toAscii=Pe.arrayContainsArray=Pe.getBinarySize=Pe.padToEven=Pe.stripHexPrefix=Pe.isHexPrefixed=void 0;Xf(RD(),Pe);Xf(LD(),Pe);Xf(yZ(),Pe);Xf(dE(),Pe);Xf(vZ(),Pe);Xf(ed(),Pe);Xf(xZ(),Pe);Xf(ju(),Pe);Xf(hE(),Pe);var Gu=Nh();Object.defineProperty(Pe,"isHexPrefixed",{enumerable:!0,get:function(){return Gu.isHexPrefixed}});Object.defineProperty(Pe,"stripHexPrefix",{enumerable:!0,get:function(){return Gu.stripHexPrefix}});Object.defineProperty(Pe,"padToEven",{enumerable:!0,get:function(){return Gu.padToEven}});Object.defineProperty(Pe,"getBinarySize",{enumerable:!0,get:function(){return Gu.getBinarySize}});Object.defineProperty(Pe,"arrayContainsArray",{enumerable:!0,get:function(){return Gu.arrayContainsArray}});Object.defineProperty(Pe,"toAscii",{enumerable:!0,get:function(){return Gu.toAscii}});Object.defineProperty(Pe,"fromUtf8",{enumerable:!0,get:function(){return Gu.fromUtf8}});Object.defineProperty(Pe,"fromAscii",{enumerable:!0,get:function(){return Gu.fromAscii}});Object.defineProperty(Pe,"getKeys",{enumerable:!0,get:function(){return Gu.getKeys}});Object.defineProperty(Pe,"isHexString",{enumerable:!0,get:function(){return Gu.isHexString}})});var SZ=E(Jf=>{"use strict";h();p();Object.defineProperty(Jf,"__esModule",{value:!0});var F2,ji=nE(),U7e=(iZ(),ec(nZ)),k7e=(F2=NS())&&typeof F2=="object"&&"default"in F2?F2.default:F2,wZ=bZ(),{RegistryType:EZ}=ji.extend,kD={ETH_SIGN_REQUEST:new EZ("eth-sign-request",401),ETH_SIGNATAURE:new EZ("eth-signature",402)},{decodeToDataItem:j7e,RegistryTypes:H7e}=ji.extend,pr,td;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(pr||(pr={})),(td=Jf.DataType||(Jf.DataType={}))[td.transaction=1]="transaction",td[td.typedData=2]="typedData",td[td.personalMessage=3]="personalMessage",td[td.typedTransaction=4]="typedTransaction";var $f=class extends ji.RegistryItem{constructor(e){super(),this.getRegistryType=()=>kD.ETH_SIGN_REQUEST,this.setupData=t=>{this.requestId=t.requestId,this.signData=t.signData,this.dataType=t.dataType,this.chainId=t.chainId,this.derivationPath=t.derivationPath,this.address=t.address,this.origin=t.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[pr.requestId]=new ji.DataItem(this.requestId,H7e.UUID.getTag())),this.address&&(t[pr.address]=this.address),this.chainId&&(t[pr.chainId]=this.chainId),this.origin&&(t[pr.origin]=this.origin),t[pr.signData]=this.signData,t[pr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[pr.derivationPath]=n,new ji.DataItem(t)},this.setupData(e)}static constructETHRequest(e,t,n,i,a,o,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new ji.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new ji.PathComponent({index:g,hardened:y})}),v.Buffer.from(i,"hex"));return new $f({requestId:a?v.Buffer.from(U7e.parse(a)):void 0,signData:e,dataType:t,derivationPath:c,chainId:o,address:s?v.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};$f.fromDataItem=r=>{let e=r.getData(),t=e[pr.signData],n=e[pr.dataType],i=ji.CryptoKeypath.fromDataItem(e[pr.derivationPath]),a=e[pr.chainId]?e[pr.chainId]:void 0,o=e[pr.address]?e[pr.address]:void 0,s=e[pr.requestId]?e[pr.requestId].getData():void 0;return new $f({requestId:s,signData:t,dataType:n,chainId:a,derivationPath:i,address:o,origin:e[pr.origin]?e[pr.origin]:void 0})},$f.fromCBOR=r=>{let e=j7e(r);return $f.fromDataItem(e)};var{RegistryTypes:K7e,decodeToDataItem:V7e}=ji.extend,Uh;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(Uh||(Uh={}));var Lh=class extends ji.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>kD.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[Uh.requestId]=new ji.DataItem(this.requestId,K7e.UUID.getTag())),n[Uh.signature]=this.signature,new ji.DataItem(n)},this.signature=e,this.requestId=t}};Lh.fromDataItem=r=>{let e=r.getData(),t=e[Uh.signature],n=e[Uh.requestId]?e[Uh.requestId].getData():void 0;return new Lh(t,n)},Lh.fromCBOR=r=>{let e=V7e(r);return Lh.fromDataItem(e)};var IZ=(r,e)=>{let t=k7e.fromExtendedKey(r).derive(e),n="0x"+wZ.publicToAddress(t.publicKey,!0).toString("hex");return wZ.toChecksumAddress(n)},{cbor:G7e}=ji.extend;G7e.patchTags(Object.values(kD).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ji).forEach(function(r){r!=="default"&&Object.defineProperty(Jf,r,{enumerable:!0,get:function(){return ji[r]}})}),Jf.ETHSignature=Lh,Jf.EthSignRequest=$f,Jf.findHDpatfromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let a=IZ(e,"M/0/"+i);if(r.toLowerCase()==a.toLowerCase())return`${n}/0/${i}`}return null},Jf.generateAddressfromXpub=IZ});var CZ=E((k1t,TZ)=>{"use strict";h();p();TZ.exports=SZ()});var AZ=E(jD=>{"use strict";h();p();Object.defineProperty(jD,"__esModule",{value:!0});var Y7e=Cr(),Yu=CZ();jD.URRegistryDecoder=class extends Y7e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let r=this.resultUR();switch(r.type){case"bytes":return Yu.Bytes.fromCBOR(r.cbor);case"crypto-hdkey":return Yu.CryptoHDKey.fromCBOR(r.cbor);case"crypto-keypath":return Yu.CryptoKeypath.fromCBOR(r.cbor);case"crypto-coin-info":return Yu.CryptoCoinInfo.fromCBOR(r.cbor);case"crypto-eckey":return Yu.CryptoECKey.fromCBOR(r.cbor);case"crypto-output":return Yu.CryptoOutput.fromCBOR(r.cbor);case"crypto-psbt":return Yu.CryptoPSBT.fromCBOR(r.cbor);case"crypto-account":return Yu.CryptoAccount.fromCBOR(r.cbor);case"eth-signature":return Yu.ETHSignature.fromCBOR(r.cbor);case"eth-sign-request":return Yu.EthSignRequest.fromCBOR(r.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${r.type} is not supported now`)}}}}});var DZ=E((z1t,OZ)=>{"use strict";h();p();OZ.exports=AZ()});var UZ=E(Le=>{"use strict";h();p();Object.defineProperty(Le,"__esModule",{value:!0});var L2,yr=Ju(),kh=(L2=yr)&&typeof L2=="object"&&"default"in L2?L2.default:L2,RZ=Cr(),z7e=pz(),PZ=Na(),W7e=QJ(),HD=DZ(),KD=({cbor:r,type:e,capacity:t=400,interval:n=100})=>{let i=yr.useMemo(()=>new RZ.UREncoder(new RZ.UR(v.Buffer.from(r,"hex"),e),t),[r,e]),[a,o]=yr.useState(i.nextPart().toUpperCase());return yr.useEffect(()=>{let s=setInterval(()=>{o(i.nextPart().toUpperCase())},n);return()=>{clearInterval(s)}},[i]),a},X7e=({value:r,size:e=180})=>kh.createElement("div",{style:{width:e,height:e,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"}},kh.createElement(z7e.QRCodeCanvas,{value:r,size:e-10})),VD="qr-scanner-video",BZ=({handleScan:r,handleError:e,blur:t=!0,videoLoaded:n,width:i,height:a})=>{let[o,s]=yr.useState(!1),u=yr.useMemo(()=>{let f=new Map;return f.set(PZ.DecodeHintType.POSSIBLE_FORMATS,[PZ.BarcodeFormat.QR_CODE]),new W7e.BrowserQRCodeReader(f,{delayBetweenScanAttempts:50,delayBetweenScanSuccess:100})},[]);return yr.useEffect(()=>{let f=document.getElementById(VD),c=()=>{s(!0),n&&n(!0)};f.addEventListener("canplay",c);let l=(f?.pendingScanRequest??Promise.resolve(void 0)).then(()=>u.decodeFromVideoDevice(void 0,f,(g,y)=>{g&&r(g.getText()),y&&e(y.message)})).catch(g=>{console.error(g)});return f&&(f.pendingScanRequest=l),()=>{f.removeEventListener("canplay",c),l.then(g=>{g&&g.stop()})}},[]),kh.createElement("video",{id:VD,"data-testid":VD,style:{display:o?"block":"none",width:i||"auto",height:a||"auto",objectFit:"cover",transform:"rotateY(180deg)",filter:t?"blur(4px)":"none"}})},MZ,gr,rd,nd;(MZ=Le.QRCodeError||(Le.QRCodeError={})).UNEXPECTED_QRCODE="UNEXPECTED_QRCODE",MZ.INVALID_QR_CODE="INVALID_QR_CODE",function(r){r.ACCESSING_CAMERA="ACCESSING_CAMERA",r.NO_WEBCAM="NO_WEBCAM_FOUND",r.PERMISSION_NEEDED="NO_WEBCAM_ACCESS",r.READY="READY",r.UNKNOWN_ERROR="UNKNOWN_CAMERA_ERROR"}(gr||(gr={})),(rd=Le.Purpose||(Le.Purpose={})).SYNC="sync",rd.SIGN="sign",rd.SOL_SYNC="sol-sync",rd.SOL_SIGN="sol-sign",rd.NEAR_SYNC="near-sync",rd.NEAR_SIGN="near-sign",rd.COSMOS_SYNC="cosmos-sync",rd.COSMOS_SIGN="cosmos-sign",(nd=Le.URType||(Le.URType={})).CRYPTO_HDKEY="crypto-hdkey",nd.CRYPTO_ACCOUNT="crypto-account",nd.CRYPTO_MULTI_ACCOUNTS="crypto-multi-accounts",nd.ETH_SIGNATURE="eth-signature",nd.SOL_SIGNATURE="sol-signature",nd.NEAR_SIGNATURE="near-signature",nd.COSMOS_SIGNATURE="cosmos-signature",nd.EVM_SIGNATURE="evm-signature";var NZ={[Le.Purpose.SYNC]:[Le.URType.CRYPTO_HDKEY,Le.URType.CRYPTO_ACCOUNT],[Le.Purpose.SIGN]:[Le.URType.ETH_SIGNATURE],[Le.Purpose.SOL_SYNC]:[Le.URType.CRYPTO_MULTI_ACCOUNTS],[Le.Purpose.SOL_SIGN]:[Le.URType.SOL_SIGNATURE],[Le.Purpose.NEAR_SYNC]:[Le.URType.CRYPTO_MULTI_ACCOUNTS],[Le.Purpose.NEAR_SIGN]:[Le.URType.NEAR_SIGNATURE],[Le.Purpose.COSMOS_SYNC]:[Le.URType.CRYPTO_MULTI_ACCOUNTS],[Le.Purpose.COSMOS_SIGN]:[Le.URType.COSMOS_SIGNATURE]},qZ=({purpose:r,urTypes:e=[],handleScan:t,handleError:n,onProgress:i})=>{let a=new HD.URRegistryDecoder;return{handleScanSuccess:o=>{try{if(a.receivePart(o),!a.isComplete())return void(i&&i(Math.trunc(100*a.estimatedPercentComplete())));if(a.isError()&&n(Le.QRCodeError.INVALID_QR_CODE),a.isSuccess()){let s=a.resultUR(),u=[];if(r&&NZ[r]&&u.push(...NZ[r]),u.push(...e),u.includes(s.type)){i&&i(100);try{t({type:s.type,cbor:s.cbor.toString("hex")})}catch{n("FAILED_TO_HANDLE_QR_CODE")}}else n(Le.QRCodeError.UNEXPECTED_QRCODE);a=new HD.URRegistryDecoder}}catch{n(Le.QRCodeError.INVALID_QR_CODE),a=new HD.URRegistryDecoder}},handleScanFailure:o=>{n&&o&&n(o)}}},FZ=async r=>{let e=((o="popup.html")=>new URL(window.location.href).pathname==="/"+o)(r),t=(()=>{let{navigator:o}=window,{userAgent:s}=o;return s.includes("Firefox")||"brave"in o})(),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),i=n.length>0,a=n.some(o=>o.label&&o.label.length>0);if(i){let o=!0;return(t&&e||e&&!a)&&(o=!1),{permissions:a,environmentReady:o}}throw new Error(gr.NO_WEBCAM)},LZ=r=>{let[e,t]=yr.useState(gr.ACCESSING_CAMERA),n=yr.useRef(!1),i=null,a=async()=>{try{let{permissions:s}=await FZ(r);if(s){if(await new Promise(u=>setTimeout(u,2e3)),!n.current)return;t(gr.READY)}else n.current&&(i=setTimeout(a,1e3),t(gr.PERMISSION_NEEDED))}catch{n.current&&t(gr.UNKNOWN_ERROR)}},o=()=>{try{a()}catch(s){if(!n.current)return;t(s?.name==="NotAllowedError"?gr.PERMISSION_NEEDED:gr.UNKNOWN_ERROR)}};return yr.useEffect(()=>(n.current=!0,(async()=>{try{let{environmentReady:s}=await FZ(r);t(s?gr.READY:gr.PERMISSION_NEEDED)}catch{n.current&&t(gr.UNKNOWN_ERROR)}o()})(),()=>{n.current=!1,clearTimeout(i)}),[]),yr.useEffect(()=>{e===gr.READY?o():e===gr.PERMISSION_NEEDED&&a()},[e]),{cameraStatus:e}};Le.AnimatedQRCode=({cbor:r,type:e,options:t})=>{let n=KD({cbor:r,type:e,capacity:t?.capacity,interval:t?.interval});return kh.createElement(X7e,{value:n,size:t?.size})},Le.AnimatedQRScanner=({purpose:r,urTypes:e,handleScan:t,handleError:n,options:i,videoLoaded:a,onProgress:o})=>{let s=yr.useRef(gr.ACCESSING_CAMERA),{cameraStatus:u}=LZ(),{handleScanSuccess:f,handleScanFailure:c}=qZ({purpose:r,urTypes:e,handleScan:t,handleError:n,onProgress:o});return yr.useEffect(()=>{a&&s.current!==u&&(u===gr.PERMISSION_NEEDED||u===gr.NO_WEBCAM?a(!1,u):u===gr.READY&&a(!0))},[u]),kh.createElement(BZ,{handleScan:f,handleError:c,width:i?.width,height:i?.height,blur:i?.blur,videoLoaded:a})},Le.useAnimatedQRCode=KD,Le.useAnimatedQRScanner=({Scanner:r=BZ,scannerProps:e={}})=>{let[t,n]=yr.useState(!1),[i,a]=yr.useState(!0),o=yr.useRef(t),{cameraStatus:s}=LZ(),u=yr.useMemo(()=>({purpose:f,urTypes:c,handleScan:l,handleError:g,options:y})=>{let _=[],{handleScanSuccess:w,handleScanFailure:I}=qZ({purpose:f,urTypes:c,handleScan:T=>{o.current||(n(!0),l(T))},handleError:T=>{if(o.current)return;if(!/^Dimensions/i.test(T))return n(!0),void g(T);let O=Date.now();_.unshift(O),_[4]&&O-_[4]<500&&(_.length=0,n(!0),g(T))}});return kh.createElement(r,Object.assign({handleScan:w,handleError:I},e,y))},[]);return yr.useEffect(()=>{o.current=t},[t]),yr.useEffect(()=>{s!==gr.PERMISSION_NEEDED&&s!==gr.NO_WEBCAM||a(!1)},[s]),{isDone:t,hasPermission:i,AnimatedQRScanner:u,setIsDone:n}},Le.withAnimatedQRCode=({WrappedComponent:r,valueFieldName:e="text",additionalProps:t={}})=>yr.useMemo(()=>({cbor:n,type:i,capacity:a=400,interval:o=100})=>{let s=KD({cbor:n,type:i,capacity:a,interval:o});return kh.createElement(r,Object.assign({},{[e]:s},t))},[])});var xE=E((Q1t,kZ)=>{"use strict";h();p();kZ.exports=UZ()});h();p();var XD=_i(Ju());rc();h();p();var Xp=_i(Ju());rc();h();p();var Wp={root:"_root_1inmb_1",title:"_title_1inmb_5",content:"_content_1inmb_11",updateBtn:"_updateBtn_1inmb_19"};var nve=({onClose:r,onConfirm:e})=>Xp.default.createElement(Se.Box,{className:Wp.root},Xp.default.createElement(Se.Box,{className:Wp.title},We("extension_wallet_hardware_wallet_title_hardware_update_keystone")),Xp.default.createElement(Se.Box,{className:Wp.content},We("extension_wallet_hardware_wallet_text_update_keystone")),Xp.default.createElement(Ki,{category:Ki.CATEGORY.fill,className:Wp.updateBtn,type:Ki.TYPE.highlight,size:Ki.SIZE.lg,onClick:e,block:!0},We("extension_wallet_hardware_wallet_btn_update_keystone")),Xp.default.createElement(Ki,{category:Ki.CATEGORY.outline,className:Wp.updateBtn,type:Ki.TYPE.highlight,size:Ki.SIZE.lg,onClick:r,block:!0},We("extension_wallet_hardware_wallet_btn_update_keystone_continue"))),$Y=nve;h();p();var mi=_i(Ju()),KZ=_i(xE()),Yg=_i(Ew()),VZ=_i(fR());rc();h();p();h();p();rc();K2();iQ();sQ();aQ();V2();var J7e=()=>({[ca]:ss.bip44,[nc]:XE.SEGWIT_NESTED_49}),jZ=(r,e)=>Object.values(e[r]).map(({address:t})=>t),$7e=async r=>{r=oR(r);let e=r.map(t=>{let n=jZ(ca,t),i=jZ(nc,t);return{evm:n,bitcoin:i}});try{let{data:t}=await lR(dR.getAssetFromChain,e),n=t.reduce((a,o)=>{let{evm:s,bitcoin:u}=o;return ZE(a,s),ZE(a,u),a},{});return r.map((a,o)=>{let{mainnet:s,bitcoin:u}=a,f=0,c="",l=[];Object.entries(s).forEach(([y,_])=>{_.balance=n[_.address]||0,l.includes(_.address)||(l.push(_.address),f=Jg.add(f,_.balance)),Jg.gt(_.balance,0)&&(c=y)}),a.addressType[ca]||(c||(o===0?c=ss.bip44:c=r[o-1]?.addressType[ca]),a.addressType[ca]=c);let g=0;return Object.values(u).forEach(({address:y})=>{g=Jg.add(g,n[y]||0)}),a.addressType[nc]??=XE.SEGWIT_NESTED_49,a.balance=Jg.add(f,g),a})}catch{return r.map(n=>(sR(n.addressType)&&(n.addressType=J7e()),n))}};h();p();K2();oQ();V2();h();p();var bE=r=>`m/44'/60'/${r}'/0/0`,wE=10,ppt=r=>[{pathName:`BIP44 standard | m/44/60'/0'/0/${r}`,recommend:!0,type:ss.bip44},{pathName:`Ledger live | m/44/60'/${r}'/0/0`,recommend:!1,type:ss.ledgerLive},{pathName:`Legacy | m/44/60'/0'/${r}`,recommend:!1,type:ss.legacy}],gpt="Keystone 3 Pro",ypt=(r,e)=>{let{isNaN:t}=Number,n=r.split("."),i=e.split(".");for(let a=0;a<3;a++){let o=Number(n[a]),s=Number(i[a]);if(o>s)return 1;if(s>o)return-1;if(!t(o)&&t(s))return 1;if(t(o)&&!t(s))return-1}return 0};var Z7e=async(r,e,t)=>{let n=bE(r),{publicKey:i}=Kh(t,{path:n})||{},{getAddressByPublicKey:a}=await vR(),o=await a(60,{publicKey:i});e[ca][ss.ledgerLive]={path:n,address:o}},Q7e=QE(ss.legacy,""),e9e=QE(ss.bip44,"0/"),t9e=async(r,e,t)=>{e[ca]={},await Q7e(r,e,t),await Z7e(r,e,t),await e9e(r,e,t)},r9e=async r=>{let{keys:e,accountsWithBalance:t}=r,n=[];for(let i=0;i<wE;i++){let a=t?.[i],o={index:i,addressType:a?.addressType||{},addressTypeUpdated:a?.addressTypeUpdated||!1};await t9e(i,o,e),await wR(i,o,e),n.push(o)}return n};h();p();K2();var n9e=r=>{for(let e=0;e<$E.length;e++){let{basePath:t}=$E[e];if(!Kh(r,{path:t,chain:"BTC"})?.extendedPublicKey)return!1}return!0},i9e=r=>{for(let e=0;e<wE;e++){let t=bE(e);if(!Kh(r,{path:t,chain:"ETH"})?.publicKey)return!1}return!!Kh(r,{path:xR,chain:"ETH"})?.extendedPublicKey},HZ=[n9e,i9e],GD=(r={})=>{let{keys:e}=r;for(let t=0;t<HZ.length;t++){let n=HZ[t];if(!n(e))return!1}return!0};h();p();var zD=_i(Ju());h();p();var YD={root:"_root_15ftx_1",scanBesomImage:"_scanBesomImage_15ftx_10",scan:"_scan_15ftx_10"};var a9e=({children:r})=>zD.default.createElement(Se.Box,{className:YD.root},zD.default.createElement(cR,{className:YD.scanBesomImage,src:`${mR()}/cdn/assets/imgs/236/3F2C9D51D44B734A.png`}),r),EE=a9e;h();p();rc();var o9e=()=>{let r=ad.tip({width:320,zIndex:20001,title:We("wallet_extension_header_modaltitle_nocamera_recognized"),children:We("wallet_extension_mid_modaldesc_check_camera"),confirmText:We("wallet_extension_popup_btn_confirm"),onConfirm(){r.destroy()}})},IE=o9e;h();p();var zu={root:"_root_nakxb_1",header:"_header_nakxb_8",backIcon:"_backIcon_nakxb_14",icon:"_icon_nakxb_29",howToLink:"_howToLink_nakxb_32",status:"_status_nakxb_37",progress:"_progress_nakxb_42",intro:"_intro_nakxb_48",qrCodeHelper:"_qrCodeHelper_nakxb_54"};var s9e=({onBack:r,handler:e})=>{let[t,n]=(0,mi.useState)(0),i=f=>{ER(f)&&f>0&&f<=100&&n(f)},a=(0,mi.useRef)(null),o=({type:f,cbor:c})=>{let l=Yg.default.parseMultiAccounts(new Yg.UR(v.Buffer.from(c,"hex"),f));if(n(0),GD(l))e.resolve(l);else{if(a.current)return;a.current=ad.tip({width:320,zIndex:20001,title:We("wallet_extension_header_modaltitle_error_qr"),children:We("wallet_extension_mid_modaldesc_check_qr"),confirmText:We("wallet_extension_popup_btn_confirm"),onConfirm(){a.current.destroy(),a.current=null}})}},s=f=>{console.log("error: ",f)},u=f=>{f||IE()};return mi.default.createElement(Se.FlexBox,{align:Se.ALIGN.center,className:zu.root,direction:Se.DIRECTION.vertical},mi.default.createElement(Se.FlexBox,{align:Se.ALIGN.center,className:zu.header,justify:"space-between"},mi.default.createElement(Se.Box,{className:zu.backIcon,onClick:()=>r(!1)},mi.default.createElement($g,{className:(0,VZ.default)("okds-arrow-chevron-left-centered-md",zu.icon)})),mi.default.createElement(_R,{className:zu.howToLink,href:We("wallet_extension_footer_link_link_http")},We("wallet_extension_footer_textbtn_how_connect"))),mi.default.createElement(EE,null,mi.default.createElement(KZ.AnimatedQRScanner,{handleScan:o,handleError:s,onProgress:i,urTypes:[Yg.URType.CryptoMultiAccounts],videoLoaded:u,options:{width:264,height:264}})),mi.default.createElement(Se.Box,{className:zu.status},t?mi.default.createElement(Se.Box,{className:zu.progress},We("wallet_extension_footer_text_progress",{value:t})):mi.default.createElement(Se.Box,{className:zu.intro},We("wallet_extension_footer_text_scan_qr")),mi.default.createElement(Se.Box,{className:zu.qrCodeHelper},We("wallet_extension_footer_text_clickqr_tryagain"))))},GZ=s9e;h();p();var Xs=_i(Ju()),YZ=_i(xE()),id=_i(Ew());K2();rc();V2();h();p();var U2=_i(Ju()),SE=_i(fR());rc();h();p();var zg={"retina-border-basic":"_retina-border-basic_v8fqc_1",retinaBorderBasic:"_retina-border-basic_v8fqc_1",root:"_root_v8fqc_29","step-2":"_step-2_v8fqc_65",step2:"_step-2_v8fqc_65",main:"_main_v8fqc_68",back:"_back_v8fqc_71",close:"_close_v8fqc_72"};var u9e=({step:r,onBack:e,onClose:t})=>U2.default.createElement(Se.FlexBox,{className:(0,SE.default)(zg.root,{[zg[`step-${r}`]]:!0}),align:Se.ALIGN.center},U2.default.createElement($g,{className:(0,SE.default)(zg.back,"okds-arrow-chevron-left-centered-md"),onClick:e}),U2.default.createElement(Se.Box,{className:zg.main},We("wallet_extension_top_text_step1",{step:r,total:2})),U2.default.createElement($g,{className:(0,SE.default)(zg.close,"okds-close"),onClick:t})),TE=u9e;h();p();var Wg={root:"_root_mb94k_1",main:"_main_mb94k_8",title:"_title_mb94k_13",desc:"_desc_mb94k_25",progress:"_progress_mb94k_37"};var f9e=({handler:r,baseChain:e,gotoShowTxParams:t,onClose:n})=>{let i=new id.default,a={[ca](){let y=({type:w,cbor:I})=>{let{signature:T}=i.eth.parseSignature(new id.UR(v.Buffer.from(I,"hex"),w));r.resolve(T)},_=[id.URType.EthSignature];return{onSucceed:y,urTypes:_}},[nc](){let y=({type:w,cbor:I})=>{let T=i.btc.parsePSBT(new id.UR(v.Buffer.from(I,"hex"),w));r.resolve(T)},_=[id.URType.CryptoPSBT];return{onSucceed:y,urTypes:_}}},{onSucceed:o,urTypes:s}=a[e](),u=y=>{console.log("error: ",y)},f=y=>{y||IE()},[c,l]=(0,Xs.useState)(0),g=y=>{uR(y)&&y>0&&y<=100&&l(y)};return Xs.default.createElement(Se.FlexBox,{direction:Se.DIRECTION.vertical,align:Se.ALIGN.center,className:Wg.root},Xs.default.createElement(TE,{step:"2",onBack:t,onClose:n}),Xs.default.createElement(Se.FlexBox,{direction:Se.DIRECTION.vertical,align:Se.ALIGN.center,className:Wg.main},Xs.default.createElement(Se.Box,{className:Wg.title},We("wallet_extension_top_title_receive_signature")),Xs.default.createElement(Se.Box,{className:Wg.desc},We("wallet_extension_top_subtitle_scan_receive")),Xs.default.createElement(EE,null,Xs.default.createElement(YZ.AnimatedQRScanner,{handleScan:o,handleError:u,videoLoaded:f,onProgress:g,urTypes:s,options:{width:264,height:264}})),!!c&&Xs.default.createElement(Se.Box,{className:Wg.progress},We("wallet_extension_footer_text_progress",{value:c}))))},zZ=f9e;h();p();var Wu=_i(Ju());rc();var WZ=_i(Ew()),XZ=_i(xE());V2();h();p();var jh={root:"_root_ilr2y_1",main:"_main_ilr2y_5",title:"_title_ilr2y_10",desc:"_desc_ilr2y_21",qrCode:"_qrCode_ilr2y_33",footerWrap:"_footerWrap_ilr2y_37"};var c9e=r=>{let{gotoGetSignature:e,signRequest:t,baseChain:n,onBack:i,onClose:a}=r,o=new WZ.default,u={[ca](){return o.eth.generateSignRequest(t)},[nc](){return o.btc.generatePSBT(v.Buffer.from(t,"hex"))}}[n]();return Wu.default.createElement(Se.FlexBox,{direction:Se.DIRECTION.vertical,className:jh.root},Wu.default.createElement(TE,{step:"1",onBack:()=>i(!0),onClose:a}),Wu.default.createElement(Se.FlexBox,{direction:Se.DIRECTION.vertical,align:Se.ALIGN.center,className:jh.main},Wu.default.createElement(Se.Box,{className:jh.title},We("wallet_extension_top_title_signature_requesting")),Wu.default.createElement(Se.Box,{className:jh.desc},We("wallet_extension_top_subtitle_signature_scanqr")),Wu.default.createElement(Se.Box,{className:jh.qrCode},Wu.default.createElement(XZ.AnimatedQRCode,{type:u.type,cbor:u.cbor.toString("hex"),options:{size:270}}))),Wu.default.createElement(Se.Box,{className:jh.footerWrap},Wu.default.createElement(Ki,{category:Ki.CATEGORY.fill,type:Ki.TYPE.highlight,size:Ki.SIZE.lg,className:"wallet-management__button",onClick:e},We("wallet_extension_footer_btn_signature_next"))))},JZ=c9e;h();p();var WD={dialogWrap:"_dialogWrap_16xm3_1",windowClass:"_windowClass_16xm3_7"};var k2={getAccounts:"getAccounts",showTxParams:"showTxParams",getSignature:"getSignature"},d9e={[k2.getAccounts]:GZ,[k2.showTxParams]:JZ,[k2.getSignature]:zZ},JD=class{constructor(){tc(this,"renderContent",()=>{let{type:e,props:t,gotoGetSignature:n,gotoShowTxParams:i,handler:a}=this,{onBackBtnClick:o,...s}=t,u=d9e[e];return u?XD.default.createElement(u,{...s,onBack:(l=!1)=>{this.closeModal(),o&&o(),l&&a.reject(new Error(JE))},onClose:()=>{this.closeModal(),a.reject(new Error(JE))},gotoShowTxParams:i,gotoGetSignature:n,handler:a}):null});tc(this,"renderModalDom",()=>{this.modalDom=ad.show({float:!1,whiteboard:!0,className:WD.dialogWrap,windowClass:WD.windowClass,zIndex:2e4,children:this.renderContent()})});tc(this,"openModal",(e,t={})=>new Promise((n,i)=>{this.handler={resolve:a=>{this.closeModal(),n(a)},reject:a=>{this.closeModal(),i(a)}},this.type=e,this.props=t,this.renderModalDom()}));tc(this,"closeModal",()=>{this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});tc(this,"gotoGetSignature",()=>{this.type=k2.getSignature,this.modalDom.update({children:this.renderContent()})});tc(this,"gotoShowTxParams",()=>{this.type=k2.showTxParams,this.modalDom.update({children:this.renderContent()})});tc(this,"showUpdateModal",()=>{let e=ad.action({alignBottom:!0,noTopRadius:!1,noContentPadding:!0,children:XD.default.createElement($Y,{onClose:()=>{e.destroy()},onConfirm:()=>{globalThis.platform.openTab({url:We("extension_wallet_hardware_wallet_url_guiddoc")}),e.destroy()}}),onClose(){e.destroy()}})});this.type="getAccounts",this.modalDom=null}},l9e=new JD,Dyt=l9e;export{Ew as a,$7e as b,ppt as c,gpt as d,ypt as e,r9e as f,k2 as g,Dyt as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-QKB6RADR.js.map

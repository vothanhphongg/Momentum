import{a as Io,b as wo}from"./chunk-X5FU5ONN.js";import{a as go}from"./chunk-NKH3CSPK.js";import"./chunk-A3TCWWB7.js";import{a as Be}from"./chunk-DPAWTIJZ.js";import{a as xo,b as Oe}from"./chunk-KEUAY3JU.js";import{a as To}from"./chunk-BSH4EYRL.js";import{d as uo}from"./chunk-MNZIO3NP.js";import{a as ho,c as Ce}from"./chunk-BXTE3YT2.js";import{b as yo}from"./chunk-MED2SCZJ.js";import"./chunk-2DF43JKM.js";import{a as fo,c as Z}from"./chunk-TSTKPLAO.js";import"./chunk-52XLG23J.js";import"./chunk-3USSVI5T.js";import"./chunk-LR7KSTP2.js";import"./chunk-QCP7SXMX.js";import{a as so,b as ao,f as b}from"./chunk-W23ABSXX.js";import{a as mo}from"./chunk-4EFZXPDV.js";import"./chunk-4KODREVA.js";import"./chunk-G4AVWXHJ.js";import"./chunk-76CRIMII.js";import"./chunk-F7VSWGDW.js";import"./chunk-XIYLMV6I.js";import"./chunk-MBHGLWZJ.js";import"./chunk-QZO7W5WD.js";import{c as po}from"./chunk-A57OTXBP.js";import"./chunk-YJQGXXOQ.js";import{a as Ae}from"./chunk-HTLOGWI7.js";import"./chunk-6SEP5B7P.js";import"./chunk-FHKOH5E6.js";import"./chunk-NTQ2YVDA.js";import{a as co}from"./chunk-KKG4PJ6O.js";import"./chunk-7SRLIN7D.js";import"./chunk-AW5NL3JM.js";import"./chunk-RI2WZ5PA.js";import{h as X}from"./chunk-YIAOHVF5.js";import"./chunk-7HFBMBFB.js";import"./chunk-TJCPJQIM.js";import"./chunk-ZTAZ2272.js";import{g as we,h as Ne}from"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import"./chunk-65AJJVJY.js";import"./chunk-PDC447BO.js";import"./chunk-JCM7SRK2.js";import{g as to,p as ro}from"./chunk-XKL64FTO.js";import{a as _o}from"./chunk-PTD7UCOR.js";import"./chunk-Q4YTGP2G.js";import{b as A}from"./chunk-ETJEH7T4.js";import{a as lo}from"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-Y2TPPS4H.js";import"./chunk-ITY22AD4.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import"./chunk-YALUYHLV.js";import{n as io,q as t}from"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import"./chunk-5QMHGZLF.js";import{C as Q,E as eo,ec as z,vb as he}from"./chunk-HPWCPLRR.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import"./chunk-ON6S2DB7.js";import{j as oo,p as Ko}from"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import"./chunk-3DZ7WRLL.js";import{d as J,f as He}from"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-2HSCH6R3.js";import"./chunk-CWNIM6RS.js";import"./chunk-NNAD25BL.js";import{b as De,c as no,d as be,i as k,j as Ie}from"./chunk-XV444F26.js";import"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import{c as i}from"./chunk-43VURGIT.js";import{Ib as P,Pa as E,Qa as F,Ra as M,Sa as V,Sc as qo,Ua as Ze,Uc as Qe,Va as Ue,Xa as Ye,Xc as le,Ya as je,_c as Xe,ad as Re,cb as qe,ib as $e,jb as ge,kb as ie,lb as Ke,mb as C,qb as se,rc as me,rd as $o,tc as Je,vb as ae}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{A as xe,E as We,G as ne,e as D,o as Ge}from"./chunk-PUSMMCUD.js";import{R as w,z as s}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-5U7FO2PW.js";import"./chunk-PDUOSATP.js";import"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{W as ze,ea as re}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as g}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import"./chunk-7U3DN5ZD.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f,o as e,q as o}from"./chunk-6KXF36WM.js";e();o();var B=f(g()),te=f(z());w();He();Ko();e();o();var No=f(g());He();var Ao=f(z()),ke=({origin:r})=>{let l=(0,Ao.useSelector)(({metamask:c})=>c.silence||{});return{removeSilencePermission:(0,No.useCallback)(async()=>{await J().removeSilencePermission(r)},[r]),silencePermissions:l[r]||[]}};e();o();e();o();var Ve=f(g()),Uo=f(z());e();o();var I=f(g()),Le=f(z());w();e();o();var R=f(g());e();o();var ce={main:"_main_1vn1g_1",logo:"_logo_1vn1g_6",content:"_content_1vn1g_10",network:"_network_1vn1g_17",icon:"_icon_1vn1g_22"};function Se({icon:r,customIcon:l,name:n,content:c=null,disconnect:a,showDisconnect:m=!0,className:u=""}){return R.default.createElement("div",{className:`${ce.main} ${u}`},l||R.default.createElement(A,{src:r,text:n,size:A.SIZE.lg,className:ce.logo}),R.default.createElement("div",{className:ce.content},R.default.createElement(t.Text,{strong:700,ellipsis:!0},n),c),m&&R.default.createElement(A.IconButton,{icon:"okx-wallet-plugin-unlink",className:ce.icon,onClick:a}))}e();o();var _e=f(g());w();e();o();var pe={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var Co=({origin:r})=>{let{removeSilencePermission:l,silencePermissions:n}=ke({origin:r});if(n.findIndex(m=>m.expireTime>Date.now())===-1)return null;let a=async()=>{await l()};return _e.default.createElement(i.Box,{className:pe.wrapper},_e.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:pe.silence},_e.default.createElement(t.Text,{className:pe.text,type:t.TYPE.secondary,size:t.SIZE.xs},s("wallet_extension_connect_text_silent_mode_enabled")),_e.default.createElement(t.Text,{strong:500,className:pe.cancel,size:t.SIZE.xs,onClick:a},s("wallet_extension_connect_btn_cancel"))))};$o();e();o();var p=f(g()),Do=f(z());w();me();ge();e();o();var G=f(g());w();me();e();o();var U=f(g()),So=f(z());w();Xe();e();o();var L=f(g());w();Xe();e();o();var j={itemWrapper:"_itemWrapper_guwjx_1",chain:"_chain_guwjx_8",content:"_content_guwjx_11",address:"_address_guwjx_14",amount:"_amount_guwjx_17",active:"_active_guwjx_20"};var ko=({data:r,active:l,onClick:n})=>{let{addressType:c,userAddress:a,coinAmount:m,currencyAmount:u,localType:_}=r;return L.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${j.itemWrapper} ${l&&j.active}`,onClick:n},L.default.createElement(i.Box,{className:j.chain},L.default.createElement(D,{alt:"token",width:32,height:32,src:r?.image||be,errorImg:be})),L.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:"space-between",className:j.content},L.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical},L.default.createElement(t.Text,{strong:500,className:j.address},s(Qe[le?.[_]?.[c]])),L.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs},Q(a))),L.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,align:i.ALIGN.unset},L.default.createElement(t.DisplayAmount,{strong:!0,noStyle:!1,amount:m,mode:t.CRYPTO,ellipsis:!0,align:t.ALIGN.right,className:j.amount}),L.default.createElement(t.DisplayAmount,{mode:t.LEGAL,size:t.SIZE.xs,type:t.TYPE.secondary,align:t.ALIGN.right,useApproximate:!1,ellipsis:!0},u))))};e();o();var de={main:"_main_dhmjq_1",title:"_title_dhmjq_4",subTitle:"_subTitle_dhmjq_9",dialogContainer:"_dialogContainer_dhmjq_13"};var Eo=({title:r,subTitle:l,visible:n,onClose:c,coinId:a,walletId:m})=>{let u=(0,So.useDispatch)(),_=uo(a),y=po(_?.localType,m),v=To(_,m),Y=y?.map(x=>v.find(O=>le?.[O?.localType]?.[O?.addressType]===x.addressType)).filter(Boolean),$=Ae(_?.localType,m),K=x=>{$===x.userAddress||!_?.localType||(c(),u(to(m,{[_?.localType]:le[_?.localType]?.[x?.addressType]})).then(()=>{ne.success({title:s("wallet_extension_toast_address_format_changed"),desc:x.userAddress,duration:1.5,placement:ne.DIRECTION.top,containerClassName:"address-copy-notification"})}).catch(()=>{}))};return U.default.createElement(Ge.Action,{visible:n,onClose:c,maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},containerClassName:de.dialogContainer,noContentPadding:!1},U.default.createElement(i.Box,{className:de.main},U.default.createElement(U.default.Fragment,null,U.default.createElement(t.Text,{strong:700,className:de.title},r),U.default.createElement(t.Text,{className:de.subTitle,size:t.SIZE.sm,type:t.TYPE.secondary},l)),Y?.map((x,O)=>U.default.createElement(ko,{key:x?.addressType||O,data:x,active:$===x?.userAddress,onClick:()=>K(x)}))))};e();o();var ee={lineItem:"_lineItem_764ku_1",chainIcon:"_chainIcon_764ku_4",networkTitle:"_networkTitle_764ku_7",detail:"_detail_764ku_10",arrow:"_arrow_764ku_13"};var Jo={[C]:s("wallet_extension_sonic_header_btc_address"),[P]:s("wallet_extension_dapp_address_ton")},W=({localType:r=C})=>{let l=Z({localType:r}),{coinId:n}=l||{},c=Ae(r),a=we(),[m,u]=G.default.useState(!1);return G.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ee.lineItem},G.default.createElement(t.Text,{size:t.SIZE.xs,type:t.TYPE.secondary,className:ee.networkTitle},Jo[r]),G.default.createElement(D,{width:16,height:16,alt:"chain",src:l?.imageUrl||k,errorImg:k,pictureClassName:ee.chainIcon}),G.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ee.detail,onClick:()=>{u(!0)}},G.default.createElement(t.Text,{size:t.SIZE.xs},Q(c)),G.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${ee.arrow}`,size:A.SIZE.xxs})),G.default.createElement(Eo,{visible:m,onClose:()=>u(!1),coinId:n,walletId:a,title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default")}))};e();o();var h=f(g()),Lo=f(z());w();ge();e();o();var q={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var Ee=f(g());w();me();ge();var Po=({providerType:r})=>{let[l,n]=(0,Ee.useState)({}),c=fo(),a=yo(r),{list:m}=xo(),u=_=>c.filter(y=>y.factionType===_).find(y=>y.localType===a?.localType)||{};return(0,Ee.useEffect)(()=>{switch(r){case E:{let _=m.find(y=>a.type===Ke?y.uniqueId===a?.uniqueId:y.localType===a?.type)||{};n({..._,title:s("wallet_extension_sonic_header_evm_network")});break}case F:{let _=u(4);n({..._,icon:_.imageUrl,title:s("wallet_extension_sonic_desc_solana_comaptible")});break}case M:{let _=u(4);n({..._,icon:_.imageUrl,title:s("wallet_extension_list_desc_svm_comaptible")});break}case V:{let _=u(5);n({..._,icon:_.imageUrl,title:s("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[r,a,c]),l};var T=({providerType:r,isAllchain:l=!1})=>{let n=Po({providerType:r}),{title:c,icon:a,chainName:m}=n,[u,_]=(0,h.useState)(!1),y=(0,Lo.useSelector)(b);return h.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:q.wrapper},h.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:q.title},c),l?h.default.createElement(t.Text,{type:t.SIZE.xs},s("wallet_extension_sonic_desc_all_networks")):h.default.createElement(h.default.Fragment,null,h.default.createElement(D,{width:16,height:16,alt:"chain",src:a||k,errorImg:k,pictureClassName:q.chainIcon}),h.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:q.switchNetwork,onClick:()=>_(!0)},h.default.createElement(t.Text,{size:t.SIZE.xs},m),h.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${q.arrow}`,size:A.SIZE.xxs}))),h.default.createElement(Oe,{visible:u,providerType:r,onClose:()=>_(!1),origin:y?.origin},h.default.createElement(Oe.Header,{title:s("wallet_extension_title_switch_network"),subTitle:r===E?s("wallet_extension_evm_desc"):s("wallet_extension_aptos_toast_manually_switch_network",{network:m})})))},Qo=({chainName:r})=>h.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:q.tip},s("wallet_extension_sonic_toast_manually_switch_network",{network:r}));T.Tip=Qo;e();o();var oe=f(g());w();e();o();var ue={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var fe=({showImage:r=!0,info:l})=>oe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ue.lineItem},oe.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:ue.title},s("wallet_extension_card_dropdown_available_network",{network:""})),r&&oe.default.createElement(D,{width:16,height:16,alt:"chain",src:l.image||k,errorImg:k,pictureClassName:ue.chainIcon}),oe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ue.switchNetwork},oe.default.createElement(t.Text,{size:t.SIZE.xs},l.chainName||"")));e();o();var vo={headerTip:"_headerTip_tbl1j_1"};var bo=({isAllchain:r,isCurrentDappConnect:l})=>{let n=Ne(),c=(0,Do.useSelector)(b),{provider:a}=Ce({dappUrl:c?.origin}),m=Ie[a],u=Z({localType:m}),_=()=>p.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:vo.headerTip},s("wallet_extension_dapp_subtitle_switch_btc_ton"));if(!l)return p.default.createElement(p.default.Fragment,null,_(),n?.account[ie]&&p.default.createElement(T,{providerType:E}),n?.account[se]&&p.default.createElement(p.default.Fragment,null,p.default.createElement(T,{providerType:F}),p.default.createElement(T,{providerType:M})),n?.account[ae]&&p.default.createElement(T,{providerType:V}),n?.account[C]&&p.default.createElement(W,{localType:C}),n?.account[P]&&p.default.createElement(W,{localType:P}));if(r)return p.default.createElement(p.default.Fragment,null,_(),n?.account[ie]&&p.default.createElement(T,{providerType:E,isAllchain:r}),n?.account[se]&&p.default.createElement(p.default.Fragment,null,p.default.createElement(T,{providerType:F}),p.default.createElement(T,{providerType:M})),n?.account[ae]&&p.default.createElement(T,{providerType:V}),n?.account[C]&&p.default.createElement(W,{localType:C}),n?.account[P]&&p.default.createElement(W,{localType:P}));switch(a){case E:case De["okx6963-provider"]:case De["ethereum-provider"]:return p.default.createElement(T,{providerType:E});case F:case Ue:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:u?.chainName}),p.default.createElement(T,{providerType:F}));case M:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:s("wallet_extension_approval_subtitle_placeholder_svm")}),p.default.createElement(T,{providerType:M}));case V:case Ye:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:u?.chainName}),p.default.createElement(T,{providerType:V}));case je:case qe:return p.default.createElement(W,{localType:u?.localType});case $e:return p.default.createElement(W,{localType:P});case Ze:return p.default.createElement(fe,{info:{chainName:s("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return p.default.createElement(fe,{info:{image:u?.imageUrl,chainName:u?.chainName}})}};e();o();var N=f(g()),Mo=f(z());me();ge();e();o();var Te=f(g());w();me();e();o();var H=f(g());w();e();o();qo();function Bo(){let r=Je;return{address:co(r)||"",localType:r}}e();o();var Fe={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var Oo=({walletId:r,network:l})=>{let{address:n}=Bo(),[c,a]=H.default.useState(!1),m=l?.coinId;return H.default.createElement(H.default.Fragment,null,H.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Fe.wrapper,onClick:()=>{a(!0)}},H.default.createElement(t.Text,{size:t.SIZE.xs},Q(n)),H.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${Fe.arrow}`,size:A.SIZE.xxs})),H.default.createElement(Be,{visible:c,onClose:()=>a(!1),coinId:m,walletId:r},H.default.createElement(Be.Header,{title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default")})))};e();o();var Pe={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var Fo=({chain:r})=>{let l=r?.localType||C,n=we(),c=Z({localType:l});return Te.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Pe.lineItem},Te.default.createElement(t.Text,{size:t.SIZE.xs,type:t.TYPE.secondary,className:Pe.networkTitle},s("wallet_extension_sonic_header_btc_address")),Te.default.createElement(D,{width:16,height:16,alt:"chain",src:c?.imageUrl||k,errorImg:k,pictureClassName:Pe.chainIcon}),Te.default.createElement(Oo,{walletId:n,network:c}))};var Vo=({isAllchain:r,isCurrentDappConnect:l,provider:n})=>{let c=(0,Mo.useSelector)(mo),a=c?.length?c[0]:{},m=Ie[n],u=Z({localType:m});switch(a?.localType){case ie:return N.default.createElement(T,{providerType:E,isAllchain:l?r:!1});case C:return N.default.createElement(Fo,{chain:u});case se:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:F}),N.default.createElement(T,{providerType:M}));case ae:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:V}));case P:return N.default.createElement(W,{localType:P});default:return N.default.createElement(fe,{info:{image:a?.image,chainName:a?.chainName}})}};e();o();var ye={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var zo=({activeTab:r,removeAccount:l,domain:n})=>{let c=(0,Le.useSelector)(X),a=(0,Le.useSelector)(he),m=Ne(a),{method:u,provider:_}=Ce({dappUrl:r?.origin}),y=(0,I.useMemo)(()=>m?.keyringIdentityType===Re.PRIVATE_KEY,[m]),v=(0,I.useMemo)(()=>Boolean((c||[]).find(x=>x.origin===r?.origin)),[c,r]),Y=(0,Le.useSelector)(so),$=(0,I.useMemo)(()=>Y[r?.origin]?.isOkx,[Y,r]),K=ho({provider:_,method:u})||$;return I.default.createElement(i.Box,{className:ye.main},I.default.createElement(i.FlexBox,{align:i.ALIGN.center},I.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs},s("wallet_extension_header_subtitle_current_dapp")),I.default.createElement(xe,{title:s("wallet_extension_toast_tooltip_adjust_retry"),trigger:xe.TRIGGER_TYPES.hover,placement:xe.DIRECTION.bottom,className:ye.tooltip},I.default.createElement(ze,{className:`okds-question-mark-circle-fill ${ye.tipIcon}`}))),I.default.createElement(Se,{className:ye.connectedItem,customIcon:I.default.createElement(We,{alt:"connected",src:r?.icon||"/static/images/default-img.svg",errorImg:no,className:"connect-site-page__origin-icon"}),name:n,disconnect:()=>l(r?.origin),showDisconnect:v}),y?I.default.createElement(Vo,{isAllchain:K,isCurrentDappConnect:v,provider:_}):I.default.createElement(bo,{isAllchain:K,isCurrentDappConnect:v}),I.default.createElement(Co,{origin:r?.origin}))};e();o();var S=f(g()),ve=f(z());e();o();var Me=f(g());w();e();o();var Go={main:"_main_ntvor_1"};var Xo=({connectedDomains:r,onDisconnect:l,domainHostCount:n})=>{let c=m=>l(m.origin),a=m=>m.extensionId?s("wallet_dapp_conncetion_subtitle_external_extension"):n[m.host]>1?m.origin:eo(m.origin);return Me.default.createElement("main",{className:Go.main},r.map(m=>Me.default.createElement(Se,{key:m.origin,icon:m.icon,name:a(m),disconnect:()=>c(m)})))},Wo=Xo;w();e();o();var Ho={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var Ro=({loading:r,emptyText:l,onRemoveAccount:n,onRemoveAllAccount:c,children:a})=>{let m=(0,ve.useSelector)(b),u=(0,ve.useSelector)(ao),_=(0,ve.useSelector)(X),y=(0,S.useMemo)(()=>(_||[]).filter(v=>v.origin!==m?.origin),[_,m]);return S.default.createElement(S.default.Fragment,null,a,!!a&&!!y.length&&S.default.createElement(io,null),!!y.length&&S.default.createElement(i.Box,null,S.default.createElement(i.FlexBox,{align:i.ALIGN.center},S.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:Ho.connectedText},s("wallet_extension_header_subtitle_connected_dapp"))),S.default.createElement(Wo,{domainHostCount:u,connectedDomains:y,onDisconnect:n})),!!_.length&&S.default.createElement(lo.FooterActions,null,S.default.createElement(re,{block:!0,loading:r,size:re.SIZE.lg,type:re.TYPE.highlight,category:re.CATEGORY.fill,onClick:c},s("wallet_extension_withdraw_btn_disconnected"))),!a&&!_.length&&!y.length&&l)},Zo=Ro;var et=({loading:r,onRemoveAccount:l,onRemoveAllAccount:n})=>{let c=(0,Uo.useSelector)(b),a=c?.origin&&c?.origin.replace(/^https?:\/\//iu,"");return Ve.default.createElement(Zo,{loading:r,onRemoveAccount:l,onRemoveAllAccount:n},Ve.default.createElement(zo,{activeTab:c,removeAccount:l,domain:a}))},Yo=et;var jo=Yo;e();o();var ot=()=>{let r=(0,te.useSelector)(X),l=(0,te.useSelector)(he),n=(0,te.useDispatch)(),[c,a]=(0,B.useState)(!1),m=(0,te.useSelector)(b),{removeSilencePermission:u,silencePermissions:_}=ke({origin:m?.origin}),{setDisconnectUpgrade:y,isNeedShowDisconnectUpgrade:v}=go(),Y=(0,B.useCallback)(()=>{v&&(ne.success({title:s("wallet_extension_card_subtitle_disconnect_update")}),y())},[v,y]),$=async x=>{await Io(x),await J().clearCookie(x),await J().removePermittedAllAccount(x),Y(),_.length>0&&u(x),await oo(n)},K=()=>{a(!0);try{Promise.all(r.map(O=>(_.length>0&&u(O.origin),J().clearCookie(O.origin)))).catch(()=>{});let x=r.map(async O=>n(ro(O.origin,l)));Promise.all([...x,wo(l)]).then(()=>{a(!1),Y()}).catch(()=>{a(!1)})}catch{a(!1)}};return B.default.createElement("div",{className:"connect-site-page__wrapper"},B.default.createElement(_o,{title:s("wallet_home_dapp_connection_btn_connect"),closeable:!1}),B.default.createElement(jo,{loading:c,onRemoveAccount:$,onRemoveAllAccount:K}))},Pa=(0,B.memo)(ot);export{Pa as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=DAppNetworkManage-LKTVBMJ5.js.map

import{p as $,r as N}from"./chunk-VM2NMLPX.js";import{c as w,u as h,v as p}from"./chunk-PQK3LXXN.js";import{Na as S,Oa as g,m as x}from"./chunk-FTRHGHDS.js";import{P as I,R as E,f as m}from"./chunk-UWJLNJLY.js";import{T as P,g as A,ga as y,ra as T,z as k}from"./chunk-XDY6V34Y.js";import{o as f,q as C}from"./chunk-6KXF36WM.js";f();C();T();var _=e=>!!(Number(e?.isNativeToken)===x.TRUE||e?.isNativeToken===!0||e?.isBaseCoin),K=e=>e?h(e.chainId)&&e.tokenContractAddress:!1,V=({chainId:e,tokenContractAddress:t,tokenAddress:r=void 0}={})=>`${e}_${(t||r)?.toLowerCase()}`;function d(e,t=!1){let r=e?.tokenContractAddress||e?.tokenAddress||"";return t?r:y(r)}function O(e,t){return Number(e?.chainId)===Number(t?.chainId)}function R(e,t,r=!1){if(!O(e,t))return!1;let i=d(e,r),n=d(t,r);return i&&n?i===n:_(e)&&_(t)}f();C();T();E();var l=e=>g()?e:k(m.chainInfo,r=>r===e)||e,b=e=>{if(!p(e))return"";let t=e.chainId;return g()?t:m.chainInfo?.[t]||t},U=(e,t)=>p(e)&&p(t)?{chain:`${b(e)},${b(t)}`,token:`${d(e,!0)},${d(t,!0)}`}:{};function q({from:e,to:t,inputAmount:r,feeConfig:o,addressType:i}={}){let n=new URLSearchParams,s=(u,a)=>{h(a?.chainId)&&n.set(`${u}Chain`,a.chainId),a?.tokenContractAddress&&n.set(`${u}Currency`,a.tokenContractAddress)},c=u=>{u?.referrerAddress&&u?.feePercent&&(n.set("referrerAddress",u.referrerAddress),n.set("feePercent",u.feePercent))};return s("input",e),s("output",t),c(o),r&&n.set("inputAmount",r),i&&n.set("addressType",i),n}var te=e=>{if(!e)return"";let t=e.get("inputChain"),r=e.get("inputCurrency"),o=e.get("outputChain"),i=e.get("outputCurrency"),n={};t&&r&&o&&i&&(e.delete("inputChain"),e.delete("inputCurrency"),e.delete("outputChain"),e.delete("outputCurrency"),n=U({chainId:t,tokenContractAddress:r},{chainId:o,tokenContractAddress:i}));let s=Object.fromEntries(e.entries());return new I().stringify({...n,...s})};function re(e={}){let t=q(e);t.delete("referrerAddress"),t.delete("feePercent");let r=P(e,["from","to","token","chain","inputAmount","feeConfig","addressType","tokenPair","bridgeTokenPair"]);return A(r).forEach(o=>{t.set(o,r[o])}),t}var F=e=>{if(!e)return e;let t=e.get("chain");if(!t)return e;if(t?.includes(",")){let[o,i]=t.split(",");e.set("inputChain",l(o)),e.set("outputChain",l(i))}else{let o=l(t);e.set("outputChain",o)}let r=e.get("token");if(!r)return e;if(r?.includes(",")){let[o,i]=r.split(",");e.set("inputCurrency",o),e.set("outputCurrency",i)}else e.set("outputCurrency",r);return e};function ne(e,t){let r=F(e),o=n=>{let s=c=>{let u=r.get(`${n}${c}`);return!u&&t&&(u=r.get(`${n}Limit${c}`)),u};return{chainId:s("Chain"),tokenContractAddress:s("Currency")}},i=()=>{let n=r.get("referrerAddress"),s=r.get("feePercent");return N()&&n&&s&&!w(s)?{referrerAddress:n,feePercent:s}:{}};return{from:o("input"),to:o("output"),inputAmount:r.get("inputAmount"),feeConfig:i(),addressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function oe(e,t){return!e||!t?"":e===S.OKX_WALLET_EXTENSION?t:$(t)}export{K as a,V as b,d as c,O as d,R as e,U as f,q as g,te as h,re as i,F as j,ne as k,oe as l};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-J4ZKBKEJ.js.map

import{a as R}from"./chunk-ZLGOLZ4W.js";import{a as F,b as ee,c as ve,e as Ee}from"./chunk-MESORVO5.js";import{a as he}from"./chunk-QSL2SH2P.js";import"./chunk-Q5NFQSZP.js";import{a as ge}from"./chunk-PH4IFPBJ.js";import{d as Q}from"./chunk-3USV7RH4.js";import{b as J}from"./chunk-W4FUIZTR.js";import{a as ue}from"./chunk-E4DNCCNP.js";import"./chunk-HDSEENZ7.js";import{i as N}from"./chunk-ZE7UTNU6.js";import{f as fe}from"./chunk-5QJIR6ZJ.js";import{b as ie}from"./chunk-H6SNSZIS.js";import"./chunk-J4ZKBKEJ.js";import"./chunk-M5NI6HPE.js";import"./chunk-YQHUKBMA.js";import{a as oe,o as q,q as K}from"./chunk-VM2NMLPX.js";import{n as pe}from"./chunk-PQK3LXXN.js";import{$c as ne,Ga as se,Zc as m}from"./chunk-FTRHGHDS.js";import{m as B}from"./chunk-A6Z53EN6.js";import{a as ce}from"./chunk-ON6S2DB7.js";import{H as V,b as le,u as _e}from"./chunk-PUSMMCUD.js";import"./chunk-UWJLNJLY.js";import"./chunk-XDY6V34Y.js";import{W as I,ea as _}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as G}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-7VFUX7IX.js";import{f as E,o as s,q as o}from"./chunk-6KXF36WM.js";s();o();var te=E(G());s();o();s();o();var W=E(G()),Pe=E(ce()),be=E(ne());s();o();var e=E(G()),S=E(ne());s();o();var d={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Ce=({isEdit:n,preset:l,isSelected:u,handleClickPreset:a,disableDelete:P,handleDeletePreset:v,handleEditPreset:c,hasShadow:p=!0,currentPresetId:D,tradeScene:k,jitoIsSuccess:T=!0,mevUnstableShowLevel:C})=>{let{name:M,slippage:f,priorityFee:A,id:O,priorityMode:b="auto",manualType:U=0}=l,{type:j}=A,z=ge({priorityMode:b,manualType:U,jitoIsSuccess:T,mevUnstableShowLevel:C}),g=he(z),L=(0,e.useMemo)(()=>({market:m("swaptrade_modal_dialog_option_market"),fast:m("swaptrade_modal_dialog_option_fast5x"),turbo:m("swaptrade_modal_dialog_option_turbo10x"),custom:m("swaptrade_extension_cinteraction_custom")})[j],[j]),X=(0,e.useMemo)(()=>{let Y=H=>H?`${pe(fe(H),{needZero:!1})}`:"--";return f?.mode===ie.FIXED?Y(f?.value):f?.mode===ie.DYNAMIC?f?.customMax?Y(f?.customMax):m("swaptrade_slippage_cell_label_dynamic"):"--"},[f?.customMax,f?.mode,f?.value]),Z=(0,e.useMemo)(()=>g?"green":g?"green":"default",[g]);return e.default.createElement(le,{className:(0,S.default)("flex items-center justify-between",d.presetItem,{[d.presetPadding]:!n}),onClick:()=>{a&&a()}},e.default.createElement("div",{className:(0,S.default)("flex items-center")},n&&e.default.createElement(I,{className:(0,S.default)("okds-intermediate",d.removeIcon,{[d.disabledIcon]:P}),onClick:()=>{v&&v()},style:{fontSize:24},a11yText:"remove-item"}),e.default.createElement("div",{className:d.presetInfo},e.default.createElement("div",null,l.id===`${N}2`?e.default.createElement("div",{className:"flex items-center"},e.default.createElement(I,{className:(0,S.default)(O===D?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),e.default.createElement("span",{className:d.presetName},M)):e.default.createElement("span",{className:d.presetName},M)),e.default.createElement("div",{className:(0,S.default)("flex items-center",d.presetTag)},e.default.createElement(R,{icon:"okx-defi-dex-slippage",text:X}),e.default.createElement("div",{className:d.divide}),e.default.createElement(R,{icon:"okx-defi-dex-fee",text:L}),k===0&&e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:d.divide}),e.default.createElement(R,{icon:"okx-defi_dex_security",text:m("swaptrade_meme_regularcell_tag_mev"),status:Z,textClassName:d.mevText}))))),n?e.default.createElement(e.default.Fragment,null,p&&e.default.createElement("div",{className:d.shadow}),e.default.createElement("div",{className:(0,S.default)("flex items-center justify-center",d.iconWrapper)},e.default.createElement(I,{className:(0,S.default)("okx-defi-marketplace-edit",d.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:c}))):u&&e.default.createElement(I,{className:(0,S.default)("okx-defi-marketplace-selected",d.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},$=Ce;s();o();var ae={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Ae=B(({addClick:n,onSelect:l})=>{let{useMemeStore:u}=J().hooks,{configStore:a,quoteStore:P}=u(),{currentMode:v,tradeScene:c}=a,{jitoIsSuccess:p,mevUnstableShowLevel:D}=P,{currentPresetList:k,currentPresetId:T,setCurrentPresetId:C}=Q(),M=(0,Pe.useHistory)(),{presetPageEditState:f,setPresetPageEditState:A}=F(),O=()=>{A(!0)},{setEditPreset:b}=ee(),{newPreset:U}=ve(),j=()=>{if(k.length>7){V.info({title:m("swaptrade_meme_toast_preset_max",{num:8})});return}if(b({value:U,isEdit:!1}),n)n();else{let L=`${K(q)}?tab=${v}`;M.push(L)}},z=g=>{C(k?.[g]?.id),l?l():M.goBack()};return W.default.createElement("div",{className:ae.root},k.map((g,L)=>W.default.createElement($,{key:g.id,jitoIsSuccess:p,mevUnstableShowLevel:D,preset:g,isEdit:f,isSelected:g?.id===T,handleClickPreset:()=>{z(L)},currentPresetId:T,tradeScene:c})),W.default.createElement("div",{className:(0,be.default)("flex justify-between",ae.btns)},W.default.createElement(_,{className:"flex-1",category:_.CATEGORY.outline,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:O},m("commonall_filter_btn_edit")),W.default.createElement(_,{className:"flex-1",category:_.CATEGORY.fill,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:j},m(v==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),xe=Ae;s();o();var r=E(G()),ye=E(ce()),w=E(ne());s();o();var Se=E(G());function we({currentPresetList:n,currentPresetId:l}){let[u,a]=(0,Se.useMemo)(()=>{let P=n.map(p=>({...p,isSelected:p.id===l})),v=[],c=[];return P.forEach(p=>{p.id.includes(N)?v.push(p):c.push(p)}),[v,c]},[n,l]);return{defaultList:u,formatList:a}}function Me({defaultList:n,list:l,setCurrentPresetList:u,setCurrentPresetId:a,setPresetPageEditState:P}){return{handleDone:()=>{let c=[...n,...l];u(c),c.findIndex(D=>D.isSelected===!0)===-1&&a(c[0].id),P(!1)}}}s();o();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var Ue=B(({editClick:n})=>{let{isSm:l}=ue(),{currentPresetList:u,currentPresetId:a,setCurrentPresetId:P,setCurrentPresetList:v}=Q(),{setPresetPageEditState:c}=F(),{useMemeStore:p}=J().hooks,{configStore:D,quoteStore:k}=p(),{currentMode:T,tradeScene:C}=D,{jitoIsSuccess:M,mevUnstableShowLevel:f}=k,{defaultList:A,formatList:O}=we({currentPresetList:u,currentPresetId:a}),[b,U]=(0,r.useState)(O),{setEditPreset:j}=ee(),z=(0,ye.useHistory)(),{handleDone:g}=Me({defaultList:A,list:b,setCurrentPresetList:v,setCurrentPresetId:P,setPresetPageEditState:c}),[L,X]=(0,r.useState)(!1),[Z,Y]=(0,r.useState)(!1),H=t=>{let h=b.filter((y,re)=>re!==t);U(h)},ke=(t,h)=>{let y=oe.get(se),{isSelected:re}=t;if(re&&!y){X(!0);return}H(h)},Le=()=>{Z&&oe.set(se,"1");let t=b.findIndex(h=>h.isSelected===!0);H(t),X(!1)},de=t=>{let h=u.find(y=>y.id===t)||{};if(j({value:h,isEdit:!0}),n)n();else{let y=`${K(q)}?tab=${T}`;z.push(y)}},Ne=t=>{U(t)};(0,r.useEffect)(()=>()=>{c(!1)},[]);let Te=(0,r.useCallback)(()=>{l&&V.info({title:m("swaptrade_market_placeorder_error_preset_unable_delete")})},[l]);return r.default.createElement("div",{className:i.root},A.map(t=>r.default.createElement("div",{className:(0,w.default)("flex items-center justify-between",i.presetPadding),key:t.id},r.default.createElement($,{jitoIsSuccess:M,mevUnstableShowLevel:f,hasShadow:!0,key:t.id,preset:t,isEdit:!0,isSelected:t.id===a,handleDeletePreset:Te,disableDelete:t.id.includes(N),handleEditPreset:()=>de(t.id),currentPresetId:a,tradeScene:C}),r.default.createElement("div",{className:(0,w.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},r.default.createElement(I,{className:(0,w.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),r.default.createElement("div",null,r.default.createElement(_e.Sortable,{restrictToParentElement:!0,onDragEnd:Ne,dataSource:b,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,w.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,w.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:t,listeners:h,disabled:y})=>y?r.default.createElement("div",{ref:t}):r.default.createElement("div",{className:(0,w.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},r.default.createElement(I,{ref:t,...h,className:(0,w.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},b.map((t,h)=>r.default.createElement($,{jitoIsSuccess:M,mevUnstableShowLevel:f,key:t.name+h,preset:t,isEdit:!0,isSelected:t.id===a,handleDeletePreset:()=>ke(t,h),disableDelete:t.id.includes(N),handleEditPreset:()=>de(t.id),currentPresetId:a,tradeScene:C})))),r.default.createElement("div",{className:(0,w.default)("flex justify-between",i.btns)},r.default.createElement(_,{className:"flex-1",category:_.CATEGORY.fill,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:g},m("commonall_button_text_done"))),r.default.createElement(Ee,{isChecked:Z,setIsChecked:Y,onConfirm:Le,visible:L,text:m("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:m("commonall_text_btn_ok_passive")}))}),Ie=Ue;var me={DefaultList:xe,EditList:Ie};s();o();var De={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var je=B(({editClick:n,addClick:l,onSelect:u})=>{let{presetPageEditState:a}=F();return te.default.createElement("div",{className:De.root},a?te.default.createElement(me.EditList,{editClick:n}):te.default.createElement(me.DefaultList,{addClick:l,onSelect:u}))}),gr=je;export{gr as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Presets-WTL6FIRR.js.map

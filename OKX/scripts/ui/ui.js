import"./chunk-RWOTM7UI.js";import{a as Na}from"./chunk-PVSEOBDI.js";import{a as Uw,b as rf,g as nf}from"./chunk-WVBYWIG3.js";import{N as el}from"./chunk-6WZ77MYR.js";import{e as Zs}from"./chunk-IHUUHTWY.js";import{h as tl,i as sf}from"./chunk-47V4EZPF.js";import{j as Xs}from"./chunk-5KZJVGJ2.js";import{a as Yu,v as zu}from"./chunk-3Q5RSJMP.js";import{a as Qr}from"./chunk-SZL5SVAG.js";import{a as ef,y as tf}from"./chunk-STLJDFJO.js";import{a as rn}from"./chunk-ISZ2JUQK.js";import"./chunk-M5H47IO2.js";import{a as of}from"./chunk-T2F6X5K7.js";import{a as pi}from"./chunk-KQIRXTC7.js";import{a as Af,b as Of,c as If}from"./chunk-AJ5E2DTE.js";import{a as Sf}from"./chunk-7KFMUYBX.js";import{a as Wf}from"./chunk-WMKLWOJ4.js";import{a as Cf}from"./chunk-GYYGAM6G.js";import{a as Xu,d as Ju}from"./chunk-HRKDKI66.js";import{d as ol}from"./chunk-52GK4CEU.js";import{a as bf}from"./chunk-UYEQ6GUH.js";import{b as zs,d as Mf,e as Rf,f as Nf,g as Df,h as kf,i as Uf}from"./chunk-UGT3PL2G.js";import{c as rl}from"./chunk-IOMRU3OQ.js";import{a as uf}from"./chunk-YBR4PVVH.js";import{g as af}from"./chunk-DJZDGYQA.js";import"./chunk-JJ3YEFIG.js";import"./chunk-LTM6SBVL.js";import{a as _e}from"./chunk-4Y4WTH2P.js";import{a as Wu}from"./chunk-J4ZNYN2W.js";import{i as Qs}from"./chunk-UIZERJWY.js";import"./chunk-N4CUQAO7.js";import"./chunk-X4AGSDQV.js";import{c as Ca}from"./chunk-SXDRFFLX.js";import"./chunk-V7MKKAGW.js";import"./chunk-SKMCCAGC.js";import{e as yf}from"./chunk-O3O4HNQA.js";import"./chunk-LR7KSTP2.js";import{a as Ef}from"./chunk-FWD2CUUI.js";import{b as mf,c as gf}from"./chunk-QCP7SXMX.js";import{e as hf}from"./chunk-W23ABSXX.js";import{a as ci}from"./chunk-FOF22X4F.js";import{a as qf}from"./chunk-P4EMG7RN.js";import"./chunk-BVDJNUOM.js";import{a as Bu,b as Uu,c as qu}from"./chunk-7B5UI77E.js";import{a as _f}from"./chunk-R6X7EOIE.js";import{f as il}from"./chunk-MKEYCSLA.js";import"./chunk-4EFZXPDV.js";import"./chunk-4KODREVA.js";import"./chunk-6UWGBJGT.js";import"./chunk-G4AVWXHJ.js";import"./chunk-76CRIMII.js";import{c as os,d as ws,e as _s,g as Tt,h as bs}from"./chunk-F7VSWGDW.js";import{b as Lf}from"./chunk-XKFKE2T7.js";import"./chunk-MKSCYWSV.js";import"./chunk-XIYLMV6I.js";import{a as Ts,qa as xs}from"./chunk-KLLSVAFY.js";import"./chunk-MBHGLWZJ.js";import"./chunk-QZO7W5WD.js";import{f as Jt}from"./chunk-AKE54ZCC.js";import{a as Vu}from"./chunk-27LUWCHG.js";import"./chunk-EHZWM44P.js";import"./chunk-K6STDTUY.js";import{b as Pf}from"./chunk-A57OTXBP.js";import{f as Zu,j as Qu}from"./chunk-YJQGXXOQ.js";import"./chunk-HTLOGWI7.js";import"./chunk-6SEP5B7P.js";import{a as Vs,b as Ys}from"./chunk-FHKOH5E6.js";import"./chunk-NTQ2YVDA.js";import"./chunk-KKG4PJ6O.js";import{b as jf,c as Ff}from"./chunk-OD6ZXH4X.js";import{n as $u}from"./chunk-ELJJJNTC.js";import"./chunk-EPWGNYZZ.js";import"./chunk-DZLXEJHX.js";import{b as nl}from"./chunk-7SRLIN7D.js";import"./chunk-AW5NL3JM.js";import"./chunk-RI2WZ5PA.js";import{a as vf}from"./chunk-UWQ3PY7I.js";import"./chunk-YIAOHVF5.js";import"./chunk-KBS3PMLQ.js";import{a as de}from"./chunk-7GKX3YKG.js";import"./chunk-7HFBMBFB.js";import"./chunk-TJCPJQIM.js";import"./chunk-ZTAZ2272.js";import"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import{a as Js}from"./chunk-X3FPMAMT.js";import{a as tn,b as se}from"./chunk-MRB2XFLQ.js";import{a as Et,c as ys,d as vs}from"./chunk-65AJJVJY.js";import{a as Gu,d as Ku}from"./chunk-PDC447BO.js";import"./chunk-JI6FOZGR.js";import{b as wf}from"./chunk-JCM7SRK2.js";import{b as Tf,d as Bf}from"./chunk-Y2TZQZGL.js";import{b as xf}from"./chunk-4FBPDXIS.js";import"./chunk-ZV5BZTW2.js";import"./chunk-3NWEQ7OH.js";import"./chunk-YDPPVPLV.js";import"./chunk-GCXGJXXN.js";import"./chunk-U4JANCGD.js";import{a as lf,b as hi}from"./chunk-SNHC6HKE.js";import{a as Ss,b as Es}from"./chunk-UBFC7TLG.js";import{q as $s}from"./chunk-XKL64FTO.js";import"./chunk-PTD7UCOR.js";import"./chunk-Q4YTGP2G.js";import{b as ae}from"./chunk-ETJEH7T4.js";import"./chunk-LLZAOPDB.js";import"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-Y2TPPS4H.js";import"./chunk-ITY22AD4.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{$ as $l,A as yl,Aa as hu,B as vl,Ba as mu,C as bl,Ca as gu,D as Sl,E as El,F as Tl,G as xl,H as Cl,I as Pl,J as Al,K as Ol,L as Il,M as Ml,N as Rl,O as Nl,Oa as wu,P as Dl,Q as kl,R as Ll,S as Wl,T as Bl,Ta as _u,U as Ul,V as ql,W as jl,X as Fl,Y as Hl,Ya as yu,Z as Gl,Za as vu,_ as Kl,_a as bu,a as fe,aa as Vl,b as Je,ba as Yl,bb as Xr,c as Yr,ca as zl,d as al,da as Xl,db as Su,e as zr,ea as Jl,eb as Eu,f as sl,fa as Zl,fb as Tu,g as ll,ga as Ql,gb as xu,h as ul,ha as eu,hb as Cu,i as fl,ia as tu,ib as Pu,ja as ru,jb as Au,k as dl,ka as nu,kb as Ou,l as cl,la as iu,lb as Iu,m as pl,ma as di,mb as Mu,na as ou,oa as au,pa as su,qa as lu,rb as Ru,sb as Nu,tb as Du,u as hl,ua as uu,ub as ku,v as ml,vb as Lu,w as gl,wa as fu,x as wl,xa as du,y as _l,ya as cu,z as xt,za as pu}from"./chunk-YALUYHLV.js";import"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import{b as ju,c as Fu,d as Hu,e as Jr}from"./chunk-CZ2ZBAZV.js";import{o as Xt}from"./chunk-5QMHGZLF.js";import{Gb as ps,L as bt,Lb as hs,P as us,Pb as ms,Qb as gs,ec as ee,mb as fs,nb as ds,ub as St,vb as $r,wb as cs,yb as Te}from"./chunk-HPWCPLRR.js";import"./chunk-O6ZBO5JF.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import{a as we}from"./chunk-ON6S2DB7.js";import{a as qs,b as zw,c as Vr,d as js,e as Xw,h as Fs,i as fi,k as Hs,m as Gs,p as Ks}from"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import{G as Ls,H as Ws,R as Bs,S as Us,U as Yw,b as Cs,e as Ps,f as As,g as Os,h as Is,i as Ms,j as Rs,k as Ns,n as Ds,o as ks}from"./chunk-ANIUN6US.js";import{a as Bw,g as as,i as ss,j as $w,k as Xe,l as Kr}from"./chunk-3DZ7WRLL.js";import{b as $a,d as Ne,f as Yt}from"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-YOPEZ2F5.js";import"./chunk-6BXYJZHH.js";import"./chunk-CCEMKRO6.js";import"./chunk-2HSCH6R3.js";import"./chunk-CWNIM6RS.js";import"./chunk-NNAD25BL.js";import"./chunk-XV444F26.js";import{b as Ya,c as za}from"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-JGEHAFTO.js";import"./chunk-UVFOW4HH.js";import{b as en,d as ff,f as df,g as cf,i as pf}from"./chunk-LNOPECCQ.js";import{a as Zr}from"./chunk-CB7FOZNP.js";import{c as mi}from"./chunk-43VURGIT.js";import{Ca as Xa,Ea as zt,Fa as Ja,G as ai,Ga as Za,Gc as ls,H as vt,Ha as Qa,Ia as es,Ja as ts,Ka as rs,La as ns,Ma as is,Na as ui,Sc as Vw,a as Me,b as Lr,c as Ye,d as pe,e as ze,f as ti,g as Re,ia as Fr,j as ri,ja as jw,ka as me,m as Sa,n as Ea,oa as Wa,p as Ta,pa as Ba,q as xa,qa as Kt,r as Ht,s as ni,t as Ur,u as qr,ua as Ua,v as Da,va as Fw,w as oi,wa as Kw,x as jr,y as ka,ya as Gr,z as La,za as Va}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{D as Ga,G as oe,H as Ka,I as Vt,a as Hw,b as ja,c as Fa,d as Ha,h as si,k as Hr,o as ge,r as li,y as Ee}from"./chunk-PUSMMCUD.js";import{D as Ra,E as G,R as he,c as Aa,o as Oa,r as Ia,x as Ma,z as O}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-VWEB6W6G.js";import"./chunk-5U7FO2PW.js";import"./chunk-B7EGZO4E.js";import"./chunk-PDUOSATP.js";import{f as Wr,j as Gt,n as Pa,ra as Br}from"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{C as $t,c as qa,ea as Q}from"./chunk-JT3LNHPY.js";import{a as Gw}from"./chunk-47UWF72W.js";import{b as P}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import{b as ii}from"./chunk-JQG6ZVBC.js";import{a as qw}from"./chunk-YPUQ22UC.js";import{a as Jw}from"./chunk-7U3DN5ZD.js";import"./chunk-F6PXOVYL.js";import"./chunk-324EPGNQ.js";import"./chunk-5GFHI4AK.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-IWVM7XL6.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import{a as X,b as _t,c as Ve,d as J,q as yt,r as ei}from"./chunk-ONKZ57T6.js";import{d as Qn}from"./chunk-ZC7Q7LCH.js";import{c as E,f as h,h as $e,n as process,o as a,p as f,q as s}from"./chunk-6KXF36WM.js";var Gf=E((RE,Hf)=>{a();s();var Zw={}.toString;Hf.exports=Array.isArray||function(e){return Zw.call(e)=="[object Array]"}});var gi=E((kE,Kf)=>{a();s();Kf.exports=_t().EventEmitter});var Zt=E((wi,Vf)=>{a();s();var nn=Qn(),De=nn.Buffer;function $f(e,t){for(var r in e)t[r]=e[r]}De.from&&De.alloc&&De.allocUnsafe&&De.allocUnsafeSlow?Vf.exports=nn:($f(nn,wi),wi.Buffer=Ct);function Ct(e,t,r){return De(e,t,r)}$f(De,Ct);Ct.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return De(e,t,r)};Ct.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=De(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Ct.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return De(e)};Ct.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return nn.SlowBuffer(e)}});var zf=E((qE,_i)=>{"use strict";a();s();function Qw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Yf=Zt().Buffer,Qt=yt();function e_(e,t,r){e.copy(t,r)}_i.exports=function(){function e(){Qw(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Yf.alloc(0);if(this.length===1)return this.head.data;for(var n=Yf.allocUnsafe(r>>>0),i=this.head,o=0;i;)e_(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();Qt&&Qt.inspect&&Qt.inspect.custom&&(_i.exports.prototype[Qt.inspect.custom]=function(){var e=Qt.inspect({length:this.length});return this.constructor.name+" "+e})});var yi=E((HE,Zf)=>{"use strict";a();s();var Xf=Ve();function t_(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Xf.nextTick(Jf,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Xf.nextTick(Jf,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function r_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Jf(e,t){e.emit("error",t)}Zf.exports={destroy:t_,undestroy:r_}});var bi=E(($E,ad)=>{"use strict";a();s();var dt=Ve();ad.exports=U;function ed(e){var t=this;this.next=null,this.entry=null,this.finish=function(){v_(t,e)}}var n_=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:dt.nextTick,Pt;U.WritableState=tr;var td=Object.create(J());td.inherits=X();var i_={deprecate:ei()},rd=gi(),an=Zt().Buffer,o_=globalThis.Uint8Array||function(){};function a_(e){return an.from(e)}function s_(e){return an.isBuffer(e)||e instanceof o_}var nd=yi();td.inherits(U,rd);function l_(){}function tr(e,t){Pt=Pt||ct(),e=e||{};var r=t instanceof Pt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){m_(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ed(this)}tr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(tr.prototype,"buffer",{get:i_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var on;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(on=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(e){return on.call(this,e)?!0:this!==U?!1:e&&e._writableState instanceof tr}})):on=function(e){return e instanceof this};function U(e){if(Pt=Pt||ct(),!on.call(U,this)&&!(this instanceof Pt))return new U(e);this._writableState=new tr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),rd.call(this)}U.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function u_(e,t){var r=new Error("write after end");e.emit("error",r),dt.nextTick(t,r)}function f_(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),dt.nextTick(n,o),i=!1),i}U.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&s_(e);return o&&!an.isBuffer(e)&&(e=a_(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=l_),n.ended?u_(this,r):(o||f_(this,n,e,r))&&(n.pendingcb++,i=c_(this,n,o,e,t,r)),i};U.prototype.cork=function(){var e=this._writableState;e.corked++};U.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&id(this,e))};U.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function d_(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=an.from(t,r)),t}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c_(e,t,r,n,i,o){if(!r){var l=d_(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else vi(e,t,!1,u,n,i,o);return d}function vi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function p_(e,t,r,n,i){--t.pendingcb,r?(dt.nextTick(i,n),dt.nextTick(er,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),er(e,t))}function h_(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m_(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(h_(r),t)p_(e,r,n,t,i);else{var o=od(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&id(e,r),n?n_(Qf,e,r,o,i):Qf(e,r,o,i)}}function Qf(e,t,r,n){r||g_(e,t),t.pendingcb--,n(),er(e,t)}function g_(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function id(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,vi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new ed(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,S=r.callback,b=t.objectMode?1:d.length;if(vi(e,t,!1,b,d,p,S),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}U.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};U.prototype._writev=null;U.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&y_(this,n,r)};function od(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function w_(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),er(e,t)})}function __(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,dt.nextTick(w_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function er(e,t){var r=od(t);return r&&(__(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function y_(e,t,r){t.ending=!0,er(e,t),r&&(t.finished?dt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function v_(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(U.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});U.prototype.destroy=nd.destroy;U.prototype._undestroy=nd.undestroy;U.prototype._destroy=function(e,t){this.end(),t(e)}});var ct=E((zE,fd)=>{"use strict";a();s();var sd=Ve(),b_=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};fd.exports=ke;var ld=Object.create(J());ld.inherits=X();var ud=Ti(),Ei=bi();ld.inherits(ke,ud);for(Si=b_(Ei.prototype),sn=0;sn<Si.length;sn++)ln=Si[sn],ke.prototype[ln]||(ke.prototype[ln]=Ei.prototype[ln]);var Si,ln,sn;function ke(e){if(!(this instanceof ke))return new ke(e);ud.call(this,e),Ei.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",S_)}Object.defineProperty(ke.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S_(){this.allowHalfOpen||this._writableState.ended||sd.nextTick(E_,this)}function E_(e){e.end()}Object.defineProperty(ke.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});ke.prototype._destroy=function(e,t){this.push(null),this.end(),sd.nextTick(t,e)}});var Pi=E(cd=>{"use strict";a();s();var Ci=Zt().Buffer,dd=Ci.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function T_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function x_(e){var t=T_(e);if(typeof t!="string"&&(Ci.isEncoding===dd||!dd(e)))throw new Error("Unknown encoding: "+e);return t||e}cd.StringDecoder=rr;function rr(e){this.encoding=x_(e);var t;switch(this.encoding){case"utf16le":this.text=M_,this.end=R_,t=4;break;case"utf8":this.fillLast=A_,t=4;break;case"base64":this.text=N_,this.end=D_,t=3;break;default:this.write=k_,this.end=L_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ci.allocUnsafe(t)}rr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};rr.prototype.end=I_;rr.prototype.text=O_;rr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function xi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function C_(e,t,r){var n=t.length-1;if(n<r)return 0;var i=xi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=xi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=xi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function P_(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function A_(e){var t=this.lastTotal-this.lastNeed,r=P_(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function O_(e,t){var r=C_(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function I_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function M_(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function R_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function N_(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function D_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function k_(e){return e.toString(this.encoding)}function L_(e){return e&&e.length?this.write(e):""}});var Ti=E((rT,Td)=>{"use strict";a();s();var Ot=Ve();Td.exports=D;var W_=Gf(),nr;D.ReadableState=yd;var tT=_t().EventEmitter,gd=function(e,t){return e.listeners(t).length},Ri=gi(),ir=Zt().Buffer,B_=globalThis.Uint8Array||function(){};function U_(e){return ir.from(e)}function q_(e){return ir.isBuffer(e)||e instanceof B_}var wd=Object.create(J());wd.inherits=X();var Ai=yt(),I=void 0;Ai&&Ai.debuglog?I=Ai.debuglog("stream"):I=function(){};var j_=zf(),_d=yi(),At;wd.inherits(D,Ri);var Oi=["error","close","destroy","pause","resume"];function F_(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):W_(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function yd(e,t){nr=nr||ct(),e=e||{};var r=t instanceof nr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new j_,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(At||(At=Pi().StringDecoder),this.decoder=new At(e.encoding),this.encoding=e.encoding)}function D(e){if(nr=nr||ct(),!(this instanceof D))return new D(e);this._readableState=new yd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ri.call(this)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});D.prototype.destroy=_d.destroy;D.prototype._undestroy=_d.undestroy;D.prototype._destroy=function(e,t){this.push(null),t(e)};D.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ir.from(e,t),t=""),n=!0),vd(this,e,t,!1,n)};D.prototype.unshift=function(e){return vd(this,e,null,!0,!1)};function vd(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,$_(e,o);else{var l;i||(l=H_(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==ir.prototype&&(t=U_(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Ii(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Ii(e,o,t,!1):bd(e,o)):Ii(e,o,t,!1))):n||(o.reading=!1)}return G_(o)}function Ii(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&un(e)),bd(e,t)}function H_(e,t){var r;return!q_(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function G_(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}D.prototype.isPaused=function(){return this._readableState.flowing===!1};D.prototype.setEncoding=function(e){return At||(At=Pi().StringDecoder),this._readableState.decoder=new At(e),this._readableState.encoding=e,this};var pd=8388608;function K_(e){return e>=pd?e=pd:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function hd(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=K_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}D.prototype.read=function(e){I("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Mi(this):un(this),null;if(e=hd(e,t),e===0&&t.ended)return t.length===0&&Mi(this),null;var n=t.needReadable;I("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,I("length less than watermark",n)),t.ended||t.reading?(n=!1,I("reading or ended",n)):n&&(I("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=hd(r,t)));var i;return e>0?i=Sd(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Mi(this)),i!==null&&this.emit("data",i),i};function $_(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,un(e)}}function un(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ot.nextTick(md,e):md(e))}function md(e){I("emit readable"),e.emit("readable"),Ni(e)}function bd(e,t){t.readingMore||(t.readingMore=!0,Ot.nextTick(V_,e,t))}function V_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}D.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};D.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,I("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:_;n.endEmitted?Ot.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(y,x){I("onunpipe"),y===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,S())}function u(){I("onend"),e.end()}var d=Y_(r);e.on("drain",d);var p=!1;function S(){I("cleanup"),e.removeListener("close",C),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",_),r.removeListener("data",T),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",T);function T(y){I("ondata"),b=!1;var x=e.write(y);x===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Ed(n.pipes,e)!==-1)&&!p&&(I("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function v(y){I("onerror",y),_(),e.removeListener("error",v),gd(e,"error")===0&&e.emit("error",y)}F_(e,"error",v);function C(){e.removeListener("finish",g),_()}e.once("close",C);function g(){I("onfinish"),e.removeListener("close",C),_()}e.once("finish",g);function _(){I("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(I("pipe resume"),r.resume()),e};function Y_(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&gd(e,"data")&&(t.flowing=!0,Ni(e))}}D.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Ed(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};D.prototype.on=function(e,t){var r=Ri.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&un(this):Ot.nextTick(z_,this))}return r};D.prototype.addListener=D.prototype.on;function z_(e){I("readable nexttick read 0"),e.read(0)}D.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,X_(this,e)),this};function X_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ot.nextTick(J_,e,t))}function J_(e,t){t.reading||(I("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Ni(e),t.flowing&&!t.reading&&e.read(0)}D.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ni(e){var t=e._readableState;for(I("flow",t.flowing);t.flowing&&e.read()!==null;);}D.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(I("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(I("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Oi.length;o++)e.on(Oi[o],this.emit.bind(this,Oi[o]));return this._read=function(l){I("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});D._fromList=Sd;function Sd(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Z_(e,t.buffer,t.decoder),r}function Z_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Q_(e,t):ey(e,t),n}function Q_(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function ey(e,t){var r=ir.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Mi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ot.nextTick(ty,t,e))}function ty(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Ed(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Di=E((oT,Pd)=>{"use strict";a();s();Pd.exports=Le;var fn=ct(),Cd=Object.create(J());Cd.inherits=X();Cd.inherits(Le,fn);function ry(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Le(e){if(!(this instanceof Le))return new Le(e);fn.call(this,e),this._transformState={afterTransform:ry.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ny)}function ny(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){xd(e,t,r)}):xd(this,null,null)}Le.prototype.push=function(e,t){return this._transformState.needTransform=!1,fn.prototype.push.call(this,e,t)};Le.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Le.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Le.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Le.prototype._destroy=function(e,t){var r=this;fn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function xd(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Md=E((lT,Id)=>{"use strict";a();s();Id.exports=or;var Ad=Di(),Od=Object.create(J());Od.inherits=X();Od.inherits(or,Ad);function or(e){if(!(this instanceof or))return new or(e);Ad.call(this,e)}or.prototype._transform=function(e,t,r){r(null,e)}});var Nd=E((xe,Rd)=>{a();s();xe=Rd.exports=Ti();xe.Stream=xe;xe.Readable=xe;xe.Writable=bi();xe.Duplex=ct();xe.Transform=Di();xe.PassThrough=Md()});var kd=E((pT,Wi)=>{a();s();var Dd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Dd?(ki=new Uint8Array(16),Wi.exports=function(){return Dd(ki),ki}):(Li=new Array(16),Wi.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Li[t]=r>>>((t&3)<<3)&255;return Li});var ki,Li});var Bd=E((gT,Wd)=>{a();s();var Ld=[];for(ar=0;ar<256;++ar)Ld[ar]=(ar+256).toString(16).substr(1);var ar;function iy(e,t){var r=t||0,n=Ld;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}Wd.exports=iy});var qd=E((yT,Ud)=>{a();s();var oy=kd(),ay=Bd();function sy(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||oy)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||ay(i)}Ud.exports=sy});var Hd=E((ST,Fd)=>{a();s();var jd=Nd().Duplex,ly=yt().inherits,uy=qd();Fd.exports=Ze;ly(Ze,jd);function Ze(){jd.call(this,{objectMode:!0}),this._payloads={}}Ze.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};Ze.prototype.sendAsync=function(e,t){let r=e.id,n=uy();if(e.id=n,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[n]=[t,r],this.push(e)};Ze.prototype.isConnected=function(){return!0};Ze.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let n=r[0];e.id=r[1],setTimeout(function(){n(null,e)})};Ze.prototype._read=fy;Ze.prototype._write=function(e,t,r){this._onResponse(e),r()};function fy(){}});var sr=E((xT,Bi)=>{"use strict";a();s();!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Bi.exports=dy:Bi.exports=process.nextTick;function dy(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,l;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),l=0;l<o.length;)o[l++]=arguments[l];return process.nextTick(function(){e.apply(null,o)})}}});var Kd=E((AT,Gd)=>{a();s();var cy={}.toString;Gd.exports=Array.isArray||function(e){return cy.call(e)=="[object Array]"}});var Ui=E((MT,$d)=>{a();s();$d.exports=_t().EventEmitter});var lr=E((qi,Yd)=>{a();s();var dn=Qn(),We=dn.Buffer;function Vd(e,t){for(var r in e)t[r]=e[r]}We.from&&We.alloc&&We.allocUnsafe&&We.allocUnsafeSlow?Yd.exports=dn:(Vd(dn,qi),qi.Buffer=It);function It(e,t,r){return We(e,t,r)}Vd(We,It);It.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return We(e,t,r)};It.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=We(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};It.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return We(e)};It.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return dn.SlowBuffer(e)}});var Jd=E((LT,Xd)=>{"use strict";a();s();function py(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var zd=lr().Buffer;function hy(e,t,r){e.copy(t,r)}Xd.exports=function(){function e(){py(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return zd.alloc(0);if(this.length===1)return this.head.data;for(var n=zd.allocUnsafe(r>>>0),i=this.head,o=0;i;)hy(i.data,n,o),o+=i.data.length,i=i.next;return n},e}()});var ji=E((UT,ec)=>{"use strict";a();s();var Zd=sr();function my(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Zd(Qd,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Zd(Qd,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)})}function gy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Qd(e,t){e.emit("error",t)}ec.exports={destroy:my,undestroy:gy}});var Hi=E((FT,lc)=>{"use strict";a();s();var pt=sr();lc.exports=F;function rc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Dy(t,e)}}var wy=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pt,Mt;F.WritableState=fr;var nc=J();nc.inherits=X();var _y={deprecate:ei()},ic=Ui(),pn=lr().Buffer,yy=globalThis.Uint8Array||function(){};function vy(e){return pn.from(e)}function by(e){return pn.isBuffer(e)||e instanceof yy}var oc=ji();nc.inherits(F,ic);function Sy(){}function fr(e,t){Mt=Mt||ht(),e=e||{},this.objectMode=!!e.objectMode,t instanceof Mt&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){Oy(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new rc(this)}fr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(fr.prototype,"buffer",{get:_y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var cn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(cn=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(e){return cn.call(this,e)?!0:e&&e._writableState instanceof fr}})):cn=function(e){return e instanceof this};function F(e){if(Mt=Mt||ht(),!cn.call(F,this)&&!(this instanceof Mt))return new F(e);this._writableState=new fr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),ic.call(this)}F.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Ey(e,t){var r=new Error("write after end");e.emit("error",r),pt(t,r)}function Ty(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),pt(n,o),i=!1),i}F.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=by(e)&&!n.objectMode;return o&&!pn.isBuffer(e)&&(e=vy(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Sy),n.ended?Ey(this,r):(o||Ty(this,n,e,r))&&(n.pendingcb++,i=Cy(this,n,o,e,t,r)),i};F.prototype.cork=function(){var e=this._writableState;e.corked++};F.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&ac(this,e))};F.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function xy(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=pn.from(t,r)),t}function Cy(e,t,r,n,i,o){if(!r){var l=xy(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Fi(e,t,!1,u,n,i,o);return d}function Fi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Py(e,t,r,n,i){--t.pendingcb,r?(pt(i,n),pt(ur,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),ur(e,t))}function Ay(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Oy(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Ay(r),t)Py(e,r,n,t,i);else{var o=sc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&ac(e,r),n?wy(tc,e,r,o,i):tc(e,r,o,i)}}function tc(e,t,r,n){r||Iy(e,t),t.pendingcb--,n(),ur(e,t)}function Iy(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function ac(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,Fi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new rc(t)}else{for(;r;){var d=r.chunk,p=r.encoding,S=r.callback,b=t.objectMode?1:d.length;if(Fi(e,t,!1,b,d,p,S),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}F.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};F.prototype._writev=null;F.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Ny(this,n,r)};function sc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function My(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ur(e,t)})}function Ry(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,pt(My,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function ur(e,t){var r=sc(t);return r&&(Ry(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Ny(e,t,r){t.ending=!0,ur(e,t),r&&(t.finished?pt(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Dy(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});F.prototype.destroy=oc.destroy;F.prototype._undestroy=oc.undestroy;F.prototype._destroy=function(e,t){this.end(),t(e)}});var ht=E((KT,pc)=>{"use strict";a();s();var fc=sr(),ky=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};pc.exports=Qe;var dc=J();dc.inherits=X();var cc=Ki(),Gi=Hi();dc.inherits(Qe,cc);var uc=ky(Gi.prototype);for(hn=0;hn<uc.length;hn++)mn=uc[hn],Qe.prototype[mn]||(Qe.prototype[mn]=Gi.prototype[mn]);var mn,hn;function Qe(e){if(!(this instanceof Qe))return new Qe(e);cc.call(this,e),Gi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ly)}function Ly(){this.allowHalfOpen||this._writableState.ended||fc(Wy,this)}function Wy(e){e.end()}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Qe.prototype._destroy=function(e,t){this.push(null),this.end(),fc(t,e)}});var Yi=E(mc=>{"use strict";a();s();var Vi=lr().Buffer,hc=Vi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function By(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Uy(e){var t=By(e);if(typeof t!="string"&&(Vi.isEncoding===hc||!hc(e)))throw new Error("Unknown encoding: "+e);return t||e}mc.StringDecoder=dr;function dr(e){this.encoding=Uy(e);var t;switch(this.encoding){case"utf16le":this.text=Ky,this.end=$y,t=4;break;case"utf8":this.fillLast=Fy,t=4;break;case"base64":this.text=Vy,this.end=Yy,t=3;break;default:this.write=zy,this.end=Xy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Vi.allocUnsafe(t)}dr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};dr.prototype.end=Gy;dr.prototype.text=Hy;dr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function $i(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function qy(e,t,r){var n=t.length-1;if(n<r)return 0;var i=$i(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=$i(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=$i(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function jy(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD".repeat(r+2)}}function Fy(e){var t=this.lastTotal-this.lastNeed,r=jy(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Hy(e,t){var r=qy(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Gy(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t}function Ky(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function $y(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Vy(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Yy(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function zy(e){return e.toString(this.encoding)}function Xy(e){return e&&e.length?this.write(e):""}});var Ki=E((ZT,Pc)=>{"use strict";a();s();var Nt=sr();Pc.exports=L;var Jy=Kd(),cr;L.ReadableState=Sc;var JT=_t().EventEmitter,yc=function(e,t){return e.listeners(t).length},Qi=Ui(),pr=lr().Buffer,Zy=globalThis.Uint8Array||function(){};function Qy(e){return pr.from(e)}function ev(e){return pr.isBuffer(e)||e instanceof Zy}var vc=J();vc.inherits=X();var zi=yt(),M=void 0;zi&&zi.debuglog?M=zi.debuglog("stream"):M=function(){};var tv=Jd(),bc=ji(),Rt;vc.inherits(L,Qi);var Xi=["error","close","destroy","pause","resume"];function rv(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Jy(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Sc(e,t){cr=cr||ht(),e=e||{},this.objectMode=!!e.objectMode,t instanceof cr&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new tv,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Rt||(Rt=Yi().StringDecoder),this.decoder=new Rt(e.encoding),this.encoding=e.encoding)}function L(e){if(cr=cr||ht(),!(this instanceof L))return new L(e);this._readableState=new Sc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Qi.call(this)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});L.prototype.destroy=bc.destroy;L.prototype._undestroy=bc.undestroy;L.prototype._destroy=function(e,t){this.push(null),t(e)};L.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=pr.from(e,t),t=""),n=!0),Ec(this,e,t,!1,n)};L.prototype.unshift=function(e){return Ec(this,e,null,!0,!1)};function Ec(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,av(e,o);else{var l;i||(l=nv(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==pr.prototype&&(t=Qy(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Ji(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Ji(e,o,t,!1):Tc(e,o)):Ji(e,o,t,!1))):n||(o.reading=!1)}return iv(o)}function Ji(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&gn(e)),Tc(e,t)}function nv(e,t){var r;return!ev(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function iv(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}L.prototype.isPaused=function(){return this._readableState.flowing===!1};L.prototype.setEncoding=function(e){return Rt||(Rt=Yi().StringDecoder),this._readableState.decoder=new Rt(e),this._readableState.encoding=e,this};var gc=8388608;function ov(e){return e>=gc?e=gc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function wc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ov(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}L.prototype.read=function(e){M("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Zi(this):gn(this),null;if(e=wc(e,t),e===0&&t.ended)return t.length===0&&Zi(this),null;var n=t.needReadable;M("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,M("length less than watermark",n)),t.ended||t.reading?(n=!1,M("reading or ended",n)):n&&(M("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=wc(r,t)));var i;return e>0?i=xc(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Zi(this)),i!==null&&this.emit("data",i),i};function av(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,gn(e)}}function gn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Nt(_c,e):_c(e))}function _c(e){M("emit readable"),e.emit("readable"),eo(e)}function Tc(e,t){t.readingMore||(t.readingMore=!0,Nt(sv,e,t))}function sv(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}L.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};L.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:_;n.endEmitted?Nt(o):r.once("end",o),e.on("unpipe",l);function l(y,x){M("onunpipe"),y===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,S())}function u(){M("onend"),e.end()}var d=lv(r);e.on("drain",d);var p=!1;function S(){M("cleanup"),e.removeListener("close",C),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",_),r.removeListener("data",T),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",T);function T(y){M("ondata"),b=!1;var x=e.write(y);x===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Cc(n.pipes,e)!==-1)&&!p&&(M("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function v(y){M("onerror",y),_(),e.removeListener("error",v),yc(e,"error")===0&&e.emit("error",y)}rv(e,"error",v);function C(){e.removeListener("finish",g),_()}e.once("close",C);function g(){M("onfinish"),e.removeListener("close",C),_()}e.once("finish",g);function _(){M("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(M("pipe resume"),r.resume()),e};function lv(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&yc(e,"data")&&(t.flowing=!0,eo(e))}}L.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Cc(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};L.prototype.on=function(e,t){var r=Qi.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&gn(this):Nt(uv,this))}return r};L.prototype.addListener=L.prototype.on;function uv(e){M("readable nexttick read 0"),e.read(0)}L.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,fv(this,e)),this};function fv(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Nt(dv,e,t))}function dv(e,t){t.reading||(M("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),eo(e),t.flowing&&!t.reading&&e.read(0)}L.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function eo(e){var t=e._readableState;for(M("flow",t.flowing);t.flowing&&e.read()!==null;);}L.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var l=t.decoder.end();l&&l.length&&n.push(l)}n.push(null)}),e.on("data",function(l){if(M("wrapped data"),t.decoder&&(l=t.decoder.write(l)),!(t.objectMode&&l==null)&&!(!t.objectMode&&(!l||!l.length))){var u=n.push(l);u||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Xi.length;o++)e.on(Xi[o],n.emit.bind(n,Xi[o]));return n._read=function(l){M("wrapped _read",l),r&&(r=!1,e.resume())},n};L._fromList=xc;function xc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=cv(e,t.buffer,t.decoder),r}function cv(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?pv(e,t):hv(e,t),n}function pv(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function hv(e,t){var r=pr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Zi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Nt(mv,t,e))}function mv(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Cc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var to=E((tx,Ic)=>{"use strict";a();s();Ic.exports=Be;var wn=ht(),Oc=J();Oc.inherits=X();Oc.inherits(Be,wn);function gv(e){this.afterTransform=function(t,r){return wv(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function wv(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Be(e){if(!(this instanceof Be))return new Be(e);wn.call(this,e),this._transformState=new gv(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){Ac(t,r,n)}):Ac(t)})}Be.prototype.push=function(e,t){return this._transformState.needTransform=!1,wn.prototype.push.call(this,e,t)};Be.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Be.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Be.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Be.prototype._destroy=function(e,t){var r=this;wn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Ac(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Dc=E((ix,Nc)=>{"use strict";a();s();Nc.exports=hr;var Mc=to(),Rc=J();Rc.inherits=X();Rc.inherits(hr,Mc);function hr(e){if(!(this instanceof hr))return new hr(e);Mc.call(this,e)}hr.prototype._transform=function(e,t,r){r(null,e)}});var Lc=E((Ce,kc)=>{a();s();Ce=kc.exports=Ki();Ce.Stream=Ce;Ce.Readable=Ce;Ce.Writable=Hi();Ce.Duplex=ht();Ce.Transform=to();Ce.PassThrough=Dc()});var Fc=E((px,jc)=>{a();s();jc.exports=gr;gr.default=gr;gr.stable=Uc;gr.stableStringify=Uc;var Ue=[],et=[];function gr(e,t,r){ro(e,"",[],void 0);var n;for(et.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,qc(t),r);Ue.length!==0;){var i=Ue.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function ro(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ue.push([n,t,e,o])):et.push([e,t]):(n[t]="[Circular]",Ue.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)ro(e[i],i,r,e);else{var l=Object.keys(e);for(i=0;i<l.length;i++){var u=l[i];ro(e[u],u,r,e)}}r.pop()}}function _v(e,t){return e<t?-1:e>t?1:0}function Uc(e,t,r){var n=no(e,"",[],void 0)||e,i;for(et.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,qc(t),r);Ue.length!==0;){var o=Ue.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return i}function no(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ue.push([n,t,e,o])):et.push([e,t]):(n[t]="[Circular]",Ue.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)no(e[i],i,r,e);else{var l={},u=Object.keys(e).sort(_v);for(i=0;i<u.length;i++){var d=u[i];no(e[d],d,r,e),l[d]=e[d]}if(n!==void 0)Ue.push([n,t,e]),n[t]=l;else return l}r.pop()}}function qc(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(et.length>0)for(var n=0;n<et.length;n++){var i=et[n];if(i[1]===t&&i[0]===r){r="[Circular]",et.splice(n,1);break}}return e.call(this,t,r)}}});var yn=E(Dt=>{"use strict";a();s();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.EthereumProviderError=Dt.EthereumRpcError=void 0;var yv=Fc(),_n=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return yv.default(this.serialize(),bv,2)}};Dt.EthereumRpcError=_n;var io=class extends _n{constructor(t,r,n){if(!vv(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};Dt.EthereumProviderError=io;function vv(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function bv(e,t){if(t!=="[Circular]")return t}});var vn=E(kt=>{"use strict";a();s();Object.defineProperty(kt,"__esModule",{value:!0});kt.errorValues=kt.errorCodes=void 0;kt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};kt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var so=E(ye=>{"use strict";a();s();Object.defineProperty(ye,"__esModule",{value:!0});ye.serializeError=ye.isValidCode=ye.getMessageFromCode=ye.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var bn=vn(),Sv=yn(),Hc=bn.errorCodes.rpc.internal,Ev="Unspecified error message. This is a bug, please report it.",Tv={code:Hc,message:ao(Hc)};ye.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function ao(e,t=Ev){if(Number.isInteger(e)){let r=e.toString();if(oo(bn.errorValues,r))return bn.errorValues[r].message;if($c(e))return ye.JSON_RPC_SERVER_ERROR_MESSAGE}return t}ye.getMessageFromCode=ao;function Kc(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(bn.errorValues[t]||$c(e))}ye.isValidCode=Kc;function xv(e,{fallbackError:t=Tv,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof Sv.EthereumRpcError)return e.serialize();let o={};if(e&&typeof e=="object"&&!Array.isArray(e)&&oo(e,"code")&&Kc(e.code)){let u=e;o.code=u.code,u.message&&typeof u.message=="string"?(o.message=u.message,oo(u,"data")&&(o.data=u.data)):(o.message=ao(o.code),o.data={originalError:Gc(e)})}else{o.code=t.code;let u=(n=e)===null||n===void 0?void 0:n.message;o.message=u&&typeof u=="string"?u:t.message,o.data={originalError:Gc(e)}}let l=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&l&&typeof l=="string"&&(o.stack=l),o}ye.serializeError=xv;function $c(e){return e>=-32099&&e<=-32e3}function Gc(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function oo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var zc=E(Sn=>{"use strict";a();s();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.ethErrors=void 0;var lo=yn(),Vc=so(),$=vn();Sn.ethErrors={rpc:{parse:e=>ce($.errorCodes.rpc.parse,e),invalidRequest:e=>ce($.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ce($.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ce($.errorCodes.rpc.methodNotFound,e),internal:e=>ce($.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ce(t,e)},invalidInput:e=>ce($.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ce($.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ce($.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ce($.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ce($.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ce($.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>wr($.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>wr($.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>wr($.errorCodes.provider.unsupportedMethod,e),disconnected:e=>wr($.errorCodes.provider.disconnected,e),chainDisconnected:e=>wr($.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new lo.EthereumProviderError(t,r,n)}}};function ce(e,t){let[r,n]=Yc(t);return new lo.EthereumRpcError(e,r||Vc.getMessageFromCode(e),n)}function wr(e,t){let[r,n]=Yc(t);return new lo.EthereumProviderError(e,r||Vc.getMessageFromCode(e),n)}function Yc(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var Zc=E(te=>{"use strict";a();s();Object.defineProperty(te,"__esModule",{value:!0});te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;var Xc=yn();Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return Xc.EthereumRpcError}});Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return Xc.EthereumProviderError}});var Jc=so();Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return Jc.serializeError}});Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return Jc.getMessageFromCode}});var Cv=zc();Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return Cv.ethErrors}});var Pv=vn();Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return Pv.errorCodes}})});var np=E((kx,rp)=>{a();s();var Ov={}.toString;rp.exports=Array.isArray||function(e){return Ov.call(e)=="[object Array]"}});var fo=E((Bx,ip)=>{a();s();ip.exports=_t().EventEmitter});var _r=E((co,ap)=>{a();s();var En=Qn(),qe=En.Buffer;function op(e,t){for(var r in e)t[r]=e[r]}qe.from&&qe.alloc&&qe.allocUnsafe&&qe.allocUnsafeSlow?ap.exports=En:(op(En,co),co.Buffer=Lt);function Lt(e,t,r){return qe(e,t,r)}op(qe,Lt);Lt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return qe(e,t,r)};Lt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=qe(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Lt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return qe(e)};Lt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return En.SlowBuffer(e)}});var lp=E((Hx,po)=>{"use strict";a();s();function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sp=_r().Buffer,yr=yt();function Mv(e,t,r){e.copy(t,r)}po.exports=function(){function e(){Iv(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return sp.alloc(0);if(this.length===1)return this.head.data;for(var n=sp.allocUnsafe(r>>>0),i=this.head,o=0;i;)Mv(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();yr&&yr.inspect&&yr.inspect.custom&&(po.exports.prototype[yr.inspect.custom]=function(){var e=yr.inspect({length:this.length});return this.constructor.name+" "+e})});var ho=E(($x,dp)=>{"use strict";a();s();var up=Ve();function Rv(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&up.nextTick(fp,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(up.nextTick(fp,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function Nv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fp(e,t){e.emit("error",t)}dp.exports={destroy:Rv,undestroy:Nv}});var go=E((zx,yp)=>{"use strict";a();s();var mt=Ve();yp.exports=q;function pp(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Jv(t,e)}}var Dv=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:mt.nextTick,Wt;q.WritableState=br;var hp=Object.create(J());hp.inherits=X();var kv={deprecate:ei()},mp=fo(),xn=_r().Buffer,Lv=globalThis.Uint8Array||function(){};function Wv(e){return xn.from(e)}function Bv(e){return xn.isBuffer(e)||e instanceof Lv}var gp=ho();hp.inherits(q,mp);function Uv(){}function br(e,t){Wt=Wt||gt(),e=e||{};var r=t instanceof Wt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){$v(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new pp(this)}br.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(br.prototype,"buffer",{get:kv.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Tn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tn=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return Tn.call(this,e)?!0:this!==q?!1:e&&e._writableState instanceof br}})):Tn=function(e){return e instanceof this};function q(e){if(Wt=Wt||gt(),!Tn.call(q,this)&&!(this instanceof Wt))return new q(e);this._writableState=new br(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),mp.call(this)}q.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function qv(e,t){var r=new Error("write after end");e.emit("error",r),mt.nextTick(t,r)}function jv(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),mt.nextTick(n,o),i=!1),i}q.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&Bv(e);return o&&!xn.isBuffer(e)&&(e=Wv(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Uv),n.ended?qv(this,r):(o||jv(this,n,e,r))&&(n.pendingcb++,i=Hv(this,n,o,e,t,r)),i};q.prototype.cork=function(){var e=this._writableState;e.corked++};q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&wp(this,e))};q.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Fv(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=xn.from(t,r)),t}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Hv(e,t,r,n,i,o){if(!r){var l=Fv(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else mo(e,t,!1,u,n,i,o);return d}function mo(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Gv(e,t,r,n,i){--t.pendingcb,r?(mt.nextTick(i,n),mt.nextTick(vr,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),vr(e,t))}function Kv(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function $v(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Kv(r),t)Gv(e,r,n,t,i);else{var o=_p(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&wp(e,r),n?Dv(cp,e,r,o,i):cp(e,r,o,i)}}function cp(e,t,r,n){r||Vv(e,t),t.pendingcb--,n(),vr(e,t)}function Vv(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function wp(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,mo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new pp(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,S=r.callback,b=t.objectMode?1:d.length;if(mo(e,t,!1,b,d,p,S),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}q.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};q.prototype._writev=null;q.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Xv(this,n,r)};function _p(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Yv(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),vr(e,t)})}function zv(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,mt.nextTick(Yv,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function vr(e,t){var r=_p(t);return r&&(zv(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Xv(e,t,r){t.ending=!0,vr(e,t),r&&(t.finished?mt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Jv(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});q.prototype.destroy=gp.destroy;q.prototype._undestroy=gp.undestroy;q.prototype._destroy=function(e,t){this.end(),t(e)}});var gt=E((Zx,Ep)=>{"use strict";a();s();var vp=Ve(),Zv=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ep.exports=je;var bp=Object.create(J());bp.inherits=X();var Sp=yo(),_o=go();bp.inherits(je,Sp);for(wo=Zv(_o.prototype),Cn=0;Cn<wo.length;Cn++)Pn=wo[Cn],je.prototype[Pn]||(je.prototype[Pn]=_o.prototype[Pn]);var wo,Pn,Cn;function je(e){if(!(this instanceof je))return new je(e);Sp.call(this,e),_o.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Qv)}Object.defineProperty(je.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Qv(){this.allowHalfOpen||this._writableState.ended||vp.nextTick(eb,this)}function eb(e){e.end()}Object.defineProperty(je.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});je.prototype._destroy=function(e,t){this.push(null),this.end(),vp.nextTick(t,e)}});var So=E(xp=>{"use strict";a();s();var bo=_r().Buffer,Tp=bo.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tb(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function rb(e){var t=tb(e);if(typeof t!="string"&&(bo.isEncoding===Tp||!Tp(e)))throw new Error("Unknown encoding: "+e);return t||e}xp.StringDecoder=Sr;function Sr(e){this.encoding=rb(e);var t;switch(this.encoding){case"utf16le":this.text=lb,this.end=ub,t=4;break;case"utf8":this.fillLast=ob,t=4;break;case"base64":this.text=fb,this.end=db,t=3;break;default:this.write=cb,this.end=pb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=bo.allocUnsafe(t)}Sr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Sr.prototype.end=sb;Sr.prototype.text=ab;Sr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function vo(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function nb(e,t,r){var n=t.length-1;if(n<r)return 0;var i=vo(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=vo(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=vo(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ib(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function ob(e){var t=this.lastTotal-this.lastNeed,r=ib(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ab(e,t){var r=nb(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function sb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function lb(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function ub(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function fb(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function db(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function cb(e){return e.toString(this.encoding)}function pb(e){return e&&e.length?this.write(e):""}});var yo=E((oC,Wp)=>{"use strict";a();s();var Ut=Ve();Wp.exports=k;var hb=np(),Er;k.ReadableState=Rp;var iC=_t().EventEmitter,Op=function(e,t){return e.listeners(t).length},Po=fo(),Tr=_r().Buffer,mb=globalThis.Uint8Array||function(){};function gb(e){return Tr.from(e)}function wb(e){return Tr.isBuffer(e)||e instanceof mb}var Ip=Object.create(J());Ip.inherits=X();var Eo=yt(),R=void 0;Eo&&Eo.debuglog?R=Eo.debuglog("stream"):R=function(){};var _b=lp(),Mp=ho(),Bt;Ip.inherits(k,Po);var To=["error","close","destroy","pause","resume"];function yb(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):hb(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Rp(e,t){Er=Er||gt(),e=e||{};var r=t instanceof Er;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Bt||(Bt=So().StringDecoder),this.decoder=new Bt(e.encoding),this.encoding=e.encoding)}function k(e){if(Er=Er||gt(),!(this instanceof k))return new k(e);this._readableState=new Rp(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Po.call(this)}Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});k.prototype.destroy=Mp.destroy;k.prototype._undestroy=Mp.undestroy;k.prototype._destroy=function(e,t){this.push(null),t(e)};k.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Tr.from(e,t),t=""),n=!0),Np(this,e,t,!1,n)};k.prototype.unshift=function(e){return Np(this,e,null,!0,!1)};function Np(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Eb(e,o);else{var l;i||(l=vb(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Tr.prototype&&(t=gb(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):xo(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?xo(e,o,t,!1):Dp(e,o)):xo(e,o,t,!1))):n||(o.reading=!1)}return bb(o)}function xo(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&An(e)),Dp(e,t)}function vb(e,t){var r;return!wb(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function bb(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}k.prototype.isPaused=function(){return this._readableState.flowing===!1};k.prototype.setEncoding=function(e){return Bt||(Bt=So().StringDecoder),this._readableState.decoder=new Bt(e),this._readableState.encoding=e,this};var Cp=8388608;function Sb(e){return e>=Cp?e=Cp:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Pp(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Sb(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}k.prototype.read=function(e){R("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Co(this):An(this),null;if(e=Pp(e,t),e===0&&t.ended)return t.length===0&&Co(this),null;var n=t.needReadable;R("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,R("length less than watermark",n)),t.ended||t.reading?(n=!1,R("reading or ended",n)):n&&(R("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Pp(r,t)));var i;return e>0?i=kp(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Co(this)),i!==null&&this.emit("data",i),i};function Eb(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,An(e)}}function An(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ut.nextTick(Ap,e):Ap(e))}function Ap(e){R("emit readable"),e.emit("readable"),Ao(e)}function Dp(e,t){t.readingMore||(t.readingMore=!0,Ut.nextTick(Tb,e,t))}function Tb(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}k.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,R("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:_;n.endEmitted?Ut.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(y,x){R("onunpipe"),y===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,S())}function u(){R("onend"),e.end()}var d=xb(r);e.on("drain",d);var p=!1;function S(){R("cleanup"),e.removeListener("close",C),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",_),r.removeListener("data",T),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",T);function T(y){R("ondata"),b=!1;var x=e.write(y);x===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Lp(n.pipes,e)!==-1)&&!p&&(R("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function v(y){R("onerror",y),_(),e.removeListener("error",v),Op(e,"error")===0&&e.emit("error",y)}yb(e,"error",v);function C(){e.removeListener("finish",g),_()}e.once("close",C);function g(){R("onfinish"),e.removeListener("close",C),_()}e.once("finish",g);function _(){R("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(R("pipe resume"),r.resume()),e};function xb(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Op(e,"data")&&(t.flowing=!0,Ao(e))}}k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Lp(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};k.prototype.on=function(e,t){var r=Po.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&An(this):Ut.nextTick(Cb,this))}return r};k.prototype.addListener=k.prototype.on;function Cb(e){R("readable nexttick read 0"),e.read(0)}k.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,Pb(this,e)),this};function Pb(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ut.nextTick(Ab,e,t))}function Ab(e,t){t.reading||(R("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Ao(e),t.flowing&&!t.reading&&e.read(0)}k.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ao(e){var t=e._readableState;for(R("flow",t.flowing);t.flowing&&e.read()!==null;);}k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(R("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(R("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<To.length;o++)e.on(To[o],this.emit.bind(this,To[o]));return this._read=function(l){R("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});k._fromList=kp;function kp(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Ob(e,t.buffer,t.decoder),r}function Ob(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Ib(e,t):Mb(e,t),n}function Ib(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function Mb(e,t){var r=Tr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Co(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ut.nextTick(Rb,t,e))}function Rb(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Lp(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Oo=E((lC,qp)=>{"use strict";a();s();qp.exports=Fe;var On=gt(),Up=Object.create(J());Up.inherits=X();Up.inherits(Fe,On);function Nb(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Fe(e){if(!(this instanceof Fe))return new Fe(e);On.call(this,e),this._transformState={afterTransform:Nb.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Db)}function Db(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Bp(e,t,r)}):Bp(this,null,null)}Fe.prototype.push=function(e,t){return this._transformState.needTransform=!1,On.prototype.push.call(this,e,t)};Fe.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Fe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Fe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Fe.prototype._destroy=function(e,t){var r=this;On.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Bp(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Gp=E((dC,Hp)=>{"use strict";a();s();Hp.exports=xr;var jp=Oo(),Fp=Object.create(J());Fp.inherits=X();Fp.inherits(xr,jp);function xr(e){if(!(this instanceof xr))return new xr(e);jp.call(this,e)}xr.prototype._transform=function(e,t,r){r(null,e)}});var $p=E((Pe,Kp)=>{a();s();Pe=Kp.exports=yo();Pe.Stream=Pe;Pe.Readable=Pe;Pe.Writable=go();Pe.Duplex=gt();Pe.Transform=Oo();Pe.PassThrough=Gp()});var Io=E((gC,Yp)=>{a();s();var kb=ii(),Lb=function(){},Wb=function(e){return e.setHeader&&typeof e.abort=="function"},Bb=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Vp=function(e,t,r){if(typeof t=="function")return Vp(e,null,t);t||(t={}),r=kb(r||Lb);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,l=t.writable||t.writable!==!1&&e.writable,u=!1,d=function(){e.writable||p()},p=function(){l=!1,o||r.call(e)},S=function(){o=!1,l||r.call(e)},b=function(_){r.call(e,_?new Error("exited with error code: "+_):null)},T=function(_){r.call(e,_)},v=function(){process.nextTick(C)},C=function(){if(!u){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(l&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},g=function(){e.req.on("finish",p)};return Wb(e)?(e.on("complete",p),e.on("abort",v),e.req?g():e.on("request",g)):l&&!n&&(e.on("end",d),e.on("close",d)),Bb(e)&&e.on("exit",b),e.on("end",S),e.on("finish",p),t.error!==!1&&e.on("error",T),e.on("close",v),function(){u=!0,e.removeListener("complete",p),e.removeListener("abort",v),e.removeListener("request",g),e.req&&e.req.removeListener("finish",p),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("exit",b),e.removeListener("end",S),e.removeListener("error",T),e.removeListener("close",v)}};Yp.exports=Vp});var Qp=E((yC,Zp)=>{a();s();var{Duplex:Jp}=$p(),zp=Io(),Ub=ii(),Xp={},Mo=class extends Jp{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new Ro({parent:this,name:t});return this._substreams[t]=r,qb(this,n=>{r.destroy(n)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=Xp}_read(){}_write(t,r,n){let i=t.name,o=t.data;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let l=this._substreams[i];if(!l)return console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n();l!==Xp&&l.push(o),n()}},Ro=class extends Jp{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}};Zp.exports=Mo;function qb(e,t){let r=Ub(t);zp(e,{readable:!1},r),zp(e,{writable:!1},r)}});var rh=E((SC,th)=>{a();s();var jb=ii(),Fb=Io(),No=qw(),Cr=function(){},Hb=/^v?\.0/.test(process.version),In=function(e){return typeof e=="function"},Gb=function(e){return!Hb||!No?!1:(e instanceof(No.ReadStream||Cr)||e instanceof(No.WriteStream||Cr))&&In(e.close)},Kb=function(e){return e.setHeader&&In(e.abort)},$b=function(e,t,r,n){n=jb(n);var i=!1;e.on("close",function(){i=!0}),Fb(e,{readable:t,writable:r},function(l){if(l)return n(l);i=!0,n()});var o=!1;return function(l){if(!i&&!o){if(o=!0,Gb(e))return e.close(Cr);if(Kb(e))return e.abort();if(In(e.destroy))return e.destroy();n(l||new Error("stream was destroyed"))}}},eh=function(e){e()},Vb=function(e,t){return e.pipe(t)},Yb=function(){var e=Array.prototype.slice.call(arguments),t=In(e[e.length-1]||Cr)&&e.pop()||Cr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var l=o<e.length-1,u=o>0;return $b(i,l,u,function(d){r||(r=d),d&&n.forEach(eh),!l&&(n.forEach(eh),t(r))})});return e.reduce(Vb)};th.exports=Yb});var Kh=E((gI,Gh)=>{"use strict";a();s();Gh.exports={walletDefaultName:"\u94B1\u5305",accountDefaultName:"\u8D26\u6237",privateKeyDefaultName:"\u79C1\u94A5",mpcDefaultName:"\u65E0\u79C1\u94A5\u94B1\u5305",hardWalletDefaultName:"\u786C\u4EF6\u94B1\u5305",pre_environment:"\u9884\u53D1\u73AF\u5883",prod_environment:"\u751F\u4EA7\u73AF\u5883",development_environment:"\u5F00\u53D1\u73AF\u5883",normalMode:"\u6B63\u5E38\u6A21\u5F0F",keyMode:"key\u6A21\u5F0F",multilingualMode:"\u591A\u500D\u6587\u672C\u6A21\u5F0F",select_language_mode:"\u9009\u62E9\u591A\u8BED\u8A00\u6A21\u5F0F",current_api_environment:"\u5F53\u524D\u9009\u4E2D\u63A5\u53E3\u73AF\u5883",fullscreenMode:"\u5168\u5C4F\u5C55\u793A\u6A21\u5F0F",switchRtl:"rtl\u6A21\u5F0F\u5207\u6362",accelerateSetInterval:"setInterval \u52A0\u901F 100 \u500D\uFF0C\u5F00/\u5173\u540E\u4F1A\u91CD\u542F\u63D2\u4EF6",theme:"\u660E\u6697\u4E3B\u9898\u5207\u6362",language:"\u7B80\u4F53\u4E2D\u6587"}});a();s();a();s();Lr();globalThis.setupSentry=async()=>await Ca();globalThis.setupSentry();globalThis.sentry=Me;globalThis.Sentry=Me;a();s();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function t(g,_){for(var y=0;y<_.length;y++){var x=_[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function r(g,_,y){return _&&t(g.prototype,_),y&&t(g,y),g}function n(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),_&&o(g,_)}function i(g){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},i(g)}function o(g,_){return o=Object.setPrototypeOf||function(x,H){return x.__proto__=H,x},o(g,_)}function l(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(g,_){return _&&(typeof _=="object"||typeof _=="function")?_:l(g)}function d(g,_){for(;!Object.prototype.hasOwnProperty.call(g,_)&&(g=i(g),g!==null););return g}function p(g,_,y){return typeof Reflect<"u"&&Reflect.get?p=Reflect.get:p=function(H,Z,Y){var Ae=d(H,Z);if(!!Ae){var K=Object.getOwnPropertyDescriptor(Ae,Z);return K.get?K.get.call(Y):K.value}},p(g,_,y||g)}var S=function(){function g(){e(this,g),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(g,[{key:"addEventListener",value:function(y,x){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push(x)}},{key:"removeEventListener",value:function(y,x){if(y in this.listeners){for(var H=this.listeners[y],Z=0,Y=H.length;Z<Y;Z++)if(H[Z]===x){H.splice(Z,1);return}}}},{key:"dispatchEvent",value:function(y){var x=this;if(y.type in this.listeners){for(var H=function(lt){setTimeout(function(){return lt.call(x,y)})},Z=this.listeners[y.type],Y=0,Ae=Z.length;Y<Ae;Y++)H(Z[Y]);return!y.defaultPrevented}}}]),g}(),b=function(g){n(_,g);function _(){var y;return e(this,_),y=u(this,i(_).call(this)),y.listeners||S.call(l(y)),Object.defineProperty(l(y),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(y),"onabort",{value:null,writable:!0,configurable:!0}),y}return r(_,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(x){x.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,x)),p(i(_.prototype),"dispatchEvent",this).call(this,x)}}]),_}(S),T=function(){function g(){e(this,g),Object.defineProperty(this,"signal",{value:new b,writable:!0,configurable:!0})}return r(g,[{key:"abort",value:function(){var y;try{y=new Event("abort")}catch{typeof document<"u"?document.createEvent?(y=document.createEvent("Event"),y.initEvent("abort",!1,!1)):(y=document.createEventObject(),y.type="abort"):y={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(y)}},{key:"toString",value:function(){return"[object AbortController]"}}]),g}();typeof Symbol<"u"&&Symbol.toStringTag&&(T.prototype[Symbol.toStringTag]="AbortController",b.prototype[Symbol.toStringTag]="AbortSignal");function v(g){return g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof g.Request=="function"&&!g.Request.prototype.hasOwnProperty("signal")||!g.AbortController}function C(g){typeof g=="function"&&(g={fetch:g});var _=g,y=_.fetch,x=_.Request,H=x===void 0?y.Request:x,Z=_.AbortController,Y=_.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,Ae=Y===void 0?!1:Y;if(!v({fetch:y,Request:H,AbortController:Z,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:Ae}))return{fetch:y,Request:K};var K=H;(K&&!K.prototype.hasOwnProperty("signal")||Ae)&&(K=function(Oe,z){var be;z&&z.signal&&(be=z.signal,delete z.signal);var Se=new H(Oe,z);return be&&Object.defineProperty(Se,"signal",{writable:!1,enumerable:!1,configurable:!0,value:be}),Se},K.prototype=H.prototype);var lt=y,Ft=function(Oe,z){var be=K&&K.prototype.isPrototypeOf(Oe)?Oe.signal:z?z.signal:void 0;if(be){var Se;try{Se=new DOMException("Aborted","AbortError")}catch{Se=new Error("Aborted"),Se.name="AbortError"}if(be.aborted)return Promise.reject(Se);var Zn=new Promise(function(j,ie){be.addEventListener("abort",function(){return ie(Se)},{once:!0})});return z&&z.signal&&delete z.signal,Promise.race([Zn,lt(Oe,z)])}return lt(Oe,z)};return{fetch:Ft,Request:K}}(function(g){if(!!v(g)){if(!g.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var _=C(g),y=_.fetch,x=_.Request;g.fetch=y,g.Request=x,Object.defineProperty(g,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:T}),Object.defineProperty(g,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:b})}})(typeof self<"u"?self:globalThis)});Br();var Nw=h(Bw()),Dw=h(Hd()),va=h(Ye());a();s();var Wc=h(Ye()),Bc=h(Lc());var mr=class extends Bc.Duplex{constructor(r){super({objectMode:!0});$e(this,"onMessage",r=>{if(f.Buffer.isBuffer(r)){let n=f.Buffer.from(r);this.push(n)}else this.push(r)});$e(this,"onDisconnect",()=>{let{lastError:r}=Wc.default.runtime;r&&typeof this.opts.port=="function"?this.init():this.destroy()});this.opts={port:r},this.init()}init(){this.removePortListener(),this.port=typeof this.opts.port=="function"?this.opts.port():this.opts.port,this.port.onMessage.addListener(this.onMessage),this.port.onDisconnect.addListener(this.onDisconnect)}removePortListener(){this.port&&(this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.onDisconnect))}_read(){}_write(r,n,i){try{if(f.Buffer.isBuffer(r)){let o=r.toJSON();o._isBuffer=!0,this.port.postMessage(o)}else this.port.postMessage(r)}catch{return i(new Error("PortDuplexStream - disconnected"))}return i()}};a();s();var Qc=h(Zc()),ep=h(Uw());var uo=class{constructor(t){this.connectionStream=t,this.notificationChannel=new ep.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:n,error:i,method:o,params:l}=t,u=this.requests.get(r);if(!(o&&l&&r)){if(o&&l&&!r){this.notificationChannel.emit("notification",t);return}if(!!u){if(i){let d=new Qc.EthereumRpcError(i.code,i.message,i.data);d.stack=i.stack,this.requests.delete(r),u(d);return}this.requests.delete(r),typeof u=="function"&&u(null,n)}}}},Av=e=>{let t=new uo(e);return new Proxy(t,{get:(r,n)=>r[n]?r[n]:(...i)=>{let o=i[i.length-1],l=i.slice(0,-1),u=Na();r.requests.set(u,o),r.connectionStream.write({jsonrpc:"2.0",method:n,params:l,id:u})}})},tp=Av;a();s();var nh=h(Qp()),ih=h(rh()),zb=()=>{};function oh(e){let t=new nh.default;return(0,ih.default)(e,t,e,r=>{r&&zb(r)}),t}Kt();a();s();a();s();a();s();var ah=360;Kt();vt();var W=h(Ye());a();s();var ko=h(Ye());async function sh(e){return"getContexts"in ko.default.runtime?(await ko.default.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"],documentUrls:[e]})).length>0:(await clients.matchAll()).some(r=>r.url.includes(chrome.runtime.id))}var Pr=class{reload(){W.default.runtime.reload()}openTab(t){return new Promise((r,n)=>{W.default.tabs.create(t).then(i=>{let o=pe();return o?n(o):r(i)}).catch(i=>{n(i)})})}openWindow(t){return new Promise((r,n)=>{W.default.windows.create(t).then(i=>{let o=pe();return o?n(o):(this.lastOkPopupId=i.id,r(i))}).catch(i=>{n(i)})})}closeWindow(t){return new Promise((r,n)=>{W.default.windows.remove(t).then(()=>{let i=pe();return i?n(i):r()}).catch(i=>{n(i)})})}focusLastOkPopup(){this.lastOkPopupId&&this.getAllWindows().then(t=>{t.some(r=>r.id===this.lastOkPopupId)?this.focusWindow(this.lastOkPopupId):this.lastOkPopupId=""}).catch(()=>{})}async focusCurrentWindow(){let r=(await this.currentTab())?.windowId;await this.focusWindow(r)}focusWindow(t){return new Promise((r,n)=>{W.default.windows.update(t,{focused:!0}).then(()=>{let i=pe();return i?n(i):r()}).catch(i=>{n(i)})})}updateWindowPosition(t,r,n){return new Promise((i,o)=>{W.default.windows.update(t,{left:r,top:n}).then(()=>{let l=pe();return l?o(l):i()}).catch(l=>{o(l)})})}getLastFocusedWindow(t){return new Promise((r,n)=>{W.default.windows.getLastFocused(t).then(i=>{let o=pe();return o?n(o):r(i)}).catch(i=>{n(i)})})}closeCurrentWindow(){return W.default?.windows?.getCurrent?W.default.windows.getCurrent().then(t=>W.default.windows.remove(t.id)):Promise.resolve()}getVersion(){return W.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let n=W.default.runtime.getURL("/home.html");r&&(n+=`?${r}`),t&&(n+=`#${t}`),this.openTab({url:n}),me()!==oi&&window.close()}async openExtensionInPopup(t=null,r=null,n=!0){let i=W.default.runtime.getURL("/notification.html");r&&(i+=`?${r}`),t&&(i+=`#${t}`);let o=0,l=0,d=(await Ba())?.width||ah,p=120;try{let S=await this.getLastFocusedWindow();l=S.top,o=Math.max(S.left+(S.width-d)-p,0)}catch{let{screenX:b,screenY:T,outerWidth:v}=window;l=Math.max(T,0),o=Math.max(b+(v-d)-p,0)}this.openWindow({url:i,type:"popup",width:d,height:700,top:l,left:o}),me()!==oi&&n&&window.close()}getPlatformInfo(){return new Promise((t,r)=>{try{W.default.runtime.getPlatformInfo().then(n=>{t(n)}).catch(n=>{r(n)})}catch(n){r(n)}})}getAllWindows(){return new Promise((t,r)=>{W.default.windows.getAll().then(n=>{let i=pe();return i?r(i):t(n)}).catch(n=>{r(n)})})}getActiveTabs(){return new Promise((t,r)=>{W.default.tabs.query({active:!0}).then(n=>{let i=pe();return i?r(i):t(n)}).catch(n=>{r(n)})})}currentTab(){return new Promise((t,r)=>{W.default.tabs.getCurrent().then(n=>{let i=pe();i?r(i):t(n)}).catch(n=>{r(n)})})}closeTab(t){return new Promise((r,n)=>{W.default.tabs.remove(t).then(()=>{let i=pe();i?n(i):r()}).catch(i=>{n(i)})})}getCpuInfoName(){return new Promise((t,r)=>{try{W.default.system.cpu.getInfo(n=>{t(n.modelName)})}catch(n){r(n)}})}setPanelBehavior(t){return new Promise((r,n)=>{try{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:t}),r()}catch(i){n(i)}})}setSidepanelPath(t){return new Promise((r,n)=>{t?chrome.sidePanel.setOptions({path:t},()=>{r()}):n()})}openSidepanelWithWindowId(t){return new Promise((r,n)=>{t?chrome.sidePanel.open({windowId:t},()=>{r()}):n()})}async openSidepanel(t){let n=(await this.getLastFocusedWindow())?.id;t&&await this.setSidepanelPath(`sidepanel.html#${t}`),await this.openSidepanelWithWindowId(n),t&&await this.setSidepanelPath("sidepanel.html")}async createOffscreen(){let t="offscreen.html",r=chrome.runtime.getURL(t);await sh(r)||(this.creatingOffscreen?await this.creatingOffscreen:(this.creatingOffscreen=W.default.offscreen.createDocument({url:t,reasons:["LOCAL_STORAGE"],justification:""}),await this.creatingOffscreen,this.creatingOffscreen=null))}};var Do=Pr;vt();Fw();a();s();a();s();var Mw=h(P());Br();var Rw=h(Hw()),zn=h(Ye());he();a();s();var lh="SET_ACTIVE_TAB";function Lo(e={},t){let r={...e};switch(t.type){case lh:return t.value;default:return r}}function uh(e){return{type:lh,value:e}}a();s();Br();ti();var fh=async()=>{try{let{authMap:e}=await ze.get("authMap"),{data:t}=await ze.get("data"),r=Gt(t,"TransactionController.transactions");return{authMap:e,evmTransactions:r}}catch{return{}}};Ks();a();s();var Mn=h(as());$w();a();s();Kr();Lr();Yt();a();s();function dh(e){return typeof e=="string"?e:typeof e>"u"?"Undefined error":e instanceof DOMException?`Error Name: ${e.name}, Message: ${e.message}, Code: ${e.code}`:`Error Object: ${JSON.stringify(e,["message","arguments","type","name"])}`}var Xb=Xe({name:"coins",initialState:{coinsMap:{},ready:!1},reducers:{updateCoinsMap(e,t){e.coinsMap=t.payload,e.ready=!0}}}),{actions:Jb,reducer:Zb}=Xb,{updateCoinsMap:Qb}=Jb;var ch=()=>async e=>{(await za.common_coins).liveQuery().subscribe(async(r,n)=>{if(n)Me.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:`subscribe coins error, ${dh(n)}`}]},level:"error"}),Ne().fallbackToAllCoinsMap();else{r.sort((o,l)=>o.rank-l.rank);let i=r.reduce((o,l)=>(o[String(l.coinId)]=l,o),{});e(Qb(i))}})},ph=Zb;a();s();var xh=h(as());a();s();Yw();function Wo(e={},t){let r={shouldClose:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{transitionName:"",type:"",props:{}},accountDetail:{subview:"transactions"},isLoading:!1,warning:null,requestAccountTabs:{},currentWindowTab:{},...e};switch(t.type){case Cs:return{...r,forgottenPassword:t.value};case Os:return{...r,warning:null};case Rs:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case Ns:return{...r,txId:t.id,warning:null,isLoading:!1};case Ds:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case ks:return{...r};case Ps:return{...r,warning:t.value||"Incorrect password. Try again."};case As:return{...r,warning:""};case Ls:return{...r,isLoading:!0,loadingMessage:t.value};case Ws:return{...r,isLoading:!1};case Is:return{...r,warning:t.value,isLoading:!1};case Ms:return{...r,warning:void 0};case Bs:return{...r,requestAccountTabs:t.value};case Us:return{...r,currentWindowTab:t.value};default:return r}}a();s();a();s();Kr();var hh={solana:{replacedTxs:[],signInfo:null},evm:{gasInfo:null,forceUpdateGasLimit:null}},eS=Xe({name:"sendGiftBusiness",initialState:hh,reducers:{setSolanaReplacedTxs:(e,t)=>{e.solana.replacedTxs=t.payload},setSolanaSignInfo:(e,t)=>{e.solana.signInfo=t.payload},setEvmSendGiftGasInfo:(e,t)=>{e.evm.gasInfo=t.payload},setEvmForceUpdateGasLimit:e=>{e.evm.forceUpdateGasLimit=+new Date},resetSendGiftBusiness:e=>{Object.assign(e,hh)}}}),{actions:tS,reducer:rS}=eS,mh=rS;var{setSolanaReplacedTxs:b0,setSolanaSignInfo:S0,setEvmSendGiftGasInfo:E0,setEvmForceUpdateGasLimit:T0,resetSendGiftBusiness:x0}=tS;a();s();Kr();var gh={key:"",args:{},type:""},tt={selectedCoinId:null,selectedAddressType:null,assetTokensList:[],packageMetaInfo:{},sendGiftAmount:null,quantityAmount:null,bestWishesInput:"",fee:null,feeLoading:!1,feeError:!1,claimConditions:{},calldataInfo:null,refreshCalldataInfo:0,isMax:!1,amountPageError:gh,confirmPageError:gh,savedTxInfo:null,hideAmountPageConfirmButton:!1},nS=Xe({name:"sendGift",initialState:tt,reducers:{setSelectedCoinId:(e,t)=>{e.selectedCoinId=t.payload},setSelectedAddressType:(e,t)=>{e.selectedAddressType=t.payload},setAssetTokensList:(e,t)=>{e.assetTokensList=t.payload},setSendGiftAmount:(e,t)=>{e.sendGiftAmount=t.payload},setQuantityAmount:(e,t)=>{e.quantityAmount=t.payload},setBestWishesInput:(e,t)=>{e.bestWishesInput=t.payload},setSendGiftFee:(e,t)=>{e.fee=t.payload},setSendGiftFeeLoading:(e,t)=>{e.feeLoading=t.payload},setSendGiftFeeError:(e,t)=>{e.feeError=t.payload},setPackageMetaInfo:(e,t)=>{e.packageMetaInfo=t.payload},setClaimConditions:(e,t)=>{e.claimConditions=t.payload},setIsSendGiftMax:(e,t)=>{e.isMax=t.payload},setCalldataInfo:(e,t)=>{e.calldataInfo=t.payload},setRefreshCalldataInfo:e=>{e.refreshCalldataInfo=+new Date},setSendGiftAmountPageError:(e,t)=>{e.amountPageError=t.payload},setSendGiftConfirmPageError:(e,t)=>{e.confirmPageError=t.payload},setSavedTxInfo:(e,t)=>{e.savedTxInfo=t.payload},setHideAmountPageConfirmButton:(e,t)=>{e.hideAmountPageConfirmButton=t.payload},resetByCoinChanged:e=>{e.sendGiftAmount=tt.sendGiftAmount,e.fee=tt.fee,e.feeError=tt.feeError,e.isMax=tt.isMax,e.amountPageError=tt.amountPageError,e.confirmPageError=tt.confirmPageError},resetSendGift:e=>{Object.assign(e,tt)}}}),{actions:iS,reducer:oS}=nS,wh=oS;var{setSelectedCoinId:I0,setSelectedAddressType:M0,setAssetTokensList:R0,setSendGiftAmount:N0,setQuantityAmount:D0,setBestWishesInput:k0,setSendGiftFee:L0,setSendGiftFeeLoading:W0,setSendGiftFeeError:B0,setPackageMetaInfo:U0,setClaimConditions:q0,setIsSendGiftMax:j0,setCalldataInfo:F0,setRefreshCalldataInfo:H0,setSendGiftAmountPageError:G0,setSendGiftConfirmPageError:K0,setSavedTxInfo:$0,setHideAmountPageConfirmButton:V0,resetByCoinChanged:Y0,resetSendGift:z0}=iS;var aS={sendGift:wh,sendGiftBusiness:mh},_h=aS;a();s();Kr();var sS={mostRecentOverviewPage:fe},lS="history",uS=Xe({name:lS,initialState:sS,reducers:{pageChanged:(e,t)=>{let r=t.payload;(r===fe||r.startsWith(zr))&&(e.mostRecentOverviewPage=r)}}}),{actions:fS,reducer:dS}=uS,yh=dS;var{pageChanged:vh}=fS;zw();a();s();a();s();var bh={[Yu]:zu};a();s();var Sh={[Xu]:Ju,[Zu]:Qu,[ef]:tf,[rf]:nf};var Eh={...bh,...Sh};a();s();var cS="metamask/send/OPEN_TO_DROPDOWN",pS="metamask/send/CLOSE_TO_DROPDOWN",hS="metamask/send/UPDATE_SEND_ERRORS",mS="metamask/send/RESET_SEND_STATE",gS="metamask/send/SHOW_GAS_BUTTON_GROUP",wS="metamask/send/HIDE_GAS_BUTTON_GROUP",Th={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function Bo(e=Th,t){switch(t.type){case cS:return{...e,toDropdownOpen:!0};case pS:return{...e,toDropdownOpen:!1};case hS:return{...e,errors:{...e.errors,...t.value}};case gS:return{...e,gasButtonGroupShown:!0};case wS:return{...e,gasButtonGroupShown:!1};case mS:return{...Th};default:return e}}a();s();var Ch=(0,xh.combineReducers)({activeTab:Lo,metamask:Hu,appState:Wo,history:yh,send:Bo,nftSend:Vu,newDapp:il,localeMessages:Bu,importAccount:Wu,coinDetail:rl,txHistory:af,approve:Js,txConfirm:of,balanceSlice:_s,currencySlice:nl,providerSlice:ds,coins:ph,assetsSlice:Ys,Nft:$u,addressBookState:Xs,batchTransfer:el,batchAddAccount:Zs,batchImportPrivateKey:Qs,bulkRename:tl,commonSend:ci,walletConfig:Gu,businessSend:pi,...Eh,activityBanners:zs,keyring:qs,..._h,dialog:ol});function Uo(e){return(0,Mn.createStore)(Ch,e,(0,Mn.applyMiddleware)(ss))}var Ph=()=>e=>{e(fs()),e(ch()),e(ws()),e(Vs())};a();s();if((process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"||process.env.ASSETS_BUILD_TYPE==="prepub")&&localStorage.getItem("speedUp")){let t=window.setInterval;window.setInterval=function(r,n,...i){let o=n>=1e3?n/100:n;return t(r,o,...i)}}a();s();Kt();vt();a();s();var qt=window.history,_S=qt.pushState,yS=qt.replaceState,qo=new Event("locationChange");qt.pushState=(...e)=>{let t=_S.apply(qt,e);return window.dispatchEvent(qo),t};qt.replaceState=(...e)=>{let t=yS.apply(qt,e);return window.dispatchEvent(qo),t};window.addEventListener("popstate",()=>{window.dispatchEvent(qo)});function jo(e=""){return e.replace(/^#/,"")}function Ah(e){window.addEventListener("locationChange",()=>{e(jo(window.location.hash))})}a();s();var vS=[/^(\/wallet-add\/import-with-seed-phrase-and-private-key)/,/^(\/batch-import-private-key\/edit)/,/^(\/wallet\/mnemonic\/backup)/,/^(\/wallet\/mnemonic-privateKey)/,/^(\/wallet\/account\/privateKey)/,/^(\/reset-password)/];function Rn(e,t=vS){for(let n=0;n<t.length;n++){let i=t[n];if(typeof i=="string"&&e.endsWith(i)||typeof i!="string"&&i.test(e))return!0}return!1}function bS(){let e=me();return e===qr?1:e===Da?2:e===jr?3:0}var Ih=bS(),Fo="lastPageDetentionTimeParams",Mh=sf(),rt,He,Ho="";async function SS(){let e=window.localStorage.getItem(Fo);if(window.localStorage.removeItem(Fo),e)try{await hi(JSON.parse(e))}catch{console.log("Failed to report last page detention time")}let t=window.location.hash;t&&t!==fe&&(rt=new Date,He=jo(t))}function Oh(){if(!rt||!He||!Rn(He))return;let e=new Date,t={s:Mh,u:He,r:Ho,d:e.getTime()-rt.getTime(),p:Ih,e:rt.toLocaleString(),l:e.toLocaleString()};window.localStorage.setItem(Fo,JSON.stringify(t))}function ES(e){if(e===fe)return;let t=new Date;He&&rt&&Rn(He)&&hi({s:Mh,u:He,r:Ho,d:t.getTime()-rt.getTime(),p:Ih,e:rt.toLocaleString(),l:t.toLocaleString()}),rt=t,Ho=He||"",He=e}Ah(ES),SS(),window.addEventListener("beforeunload",Oh),window.onblur=Oh;a();s();var ne=h(P()),pa=h(ee()),Pw=h(we());he();Lr();a();s();var Ar=h(P());he();a();s();var Go={"error-page":"_error-page_1qj8r_1",errorPage:"_error-page_1qj8r_1","error-page-details":"_error-page-details_1qj8r_13",errorPageDetails:"_error-page-details_1qj8r_13"};var xS=()=>{let e=Hr(),t=Ee.State.getImgMap(e),r=`${Zr()}${t[Ee.State.TYPE.noNetwork]}`;return Ar.default.createElement("div",{className:Go.errorPage},Ar.default.createElement("div",{className:Go.errorPageDetails},Ar.default.createElement(Ee.State,{type:Ee.State.TYPE.noNetwork,title:O("wallet_extension_tg_empty_title_load_failed"),description:O("wallet_extension_tg_empty_desc_load_failed"),imgSrc:r,renderButton:()=>Ar.default.createElement(Q,{category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{window.location.href=window.location.pathname}},O("wallet_extension_tg_empty_btn_load_failed"))})))},Rh=xS;a();s();var ve=h(P()),Nn=h(ee());he();ri();var Ko={fetchConfig:{project:"okx_extension_wallet",site:"okx"}};var $o=0,PS=1,Vo=null;function Dh(){return e=>(Ko.fetchConfig.locale=e.locale,ve.default.createElement(Ra,{localeData:e.localeData,isDev:!0,noRemoteData:!0,fetchConfig:Ko.fetchConfig},e.children))}var AS=Dh(),OS=Dh(),IS=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,Nh=(0,ve.createContext)(e=>`[${e}]`),Yo=e=>{let t=window.localStorage.getItem("languageKeyMode"),r=IS&&t==="multilingualMode",n=(0,Nn.useSelector)(Jr),i=ju(n),o=(0,Nn.useSelector)(Uu),l=(0,Nn.useSelector)(qu),u=(0,ve.useMemo)(()=>(Fu(n,window),Vo=Vo===$o?PS:$o,Object.keys(o).reduce((d,p)=>{let S=o[p].message;return d[p]=r?`${S}${S}${S}`:S,d},{})),[i,o,r]);return(0,ve.useMemo)(()=>{$t.setConfig({frozenScroll:!1,localeProviderProps:{fetchConfig:{noFetch:!0},isDev:!0,localeData:l}})},[n]),Vo===$o?ve.default.createElement(AS,{localeData:u,locale:i},ve.default.createElement(Nh.Provider,{value:G},e.children)):ve.default.createElement(OS,{localeData:u,locale:i},ve.default.createElement(Nh.Provider,{value:G},e.children))};a();s();a();s();var kh=h(P());ni();var Lh=()=>{let e=de("staticDomain");(0,kh.useLayoutEffect)(()=>{window.okGlobal||(window.okGlobal={}),e?(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap=e.data):(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap={default:"https://static.okx.com",CN:"https://static.coinall.ltd",RU:"https://static.okx.cab",ID:"https://static.okx.cab"})},[e])};function MS(){Lh()}var Wh=MS;a();s();a();s();var B=h(P());var Bh=h(qa()),Uh=h(Ye());he();Kt();jw();vt();Va();ui();Yt();var zo=class extends B.PureComponent{constructor(){super(...arguments);$e(this,"state",{downloadUrl:!1})}renderErrorDetail(r){return B.default.createElement("li",null,B.default.createElement("p",null,r))}renderErrorStack(r,n){return B.default.createElement("li",null,B.default.createElement("span",null,r),B.default.createElement("pre",{className:"error-page__stack"},n))}componentDidMount(){zt(Gr.getExtensionVersion).then(({data:r})=>{let n=Fr(),i=Uh.default.runtime.getManifest().version;if(n===ka&&r.edge!==i){this.setState({downloadUrl:"https://microsoftedge.microsoft.com/addons/detail/pbpjkcldjiffchgbbndmhojiacbgflha"});return}r.chrome!==i&&this.setState({downloadUrl:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge?hl=zh-CN"})}).catch(()=>{})}render(){let{error:r}=this.props,{downloadUrl:n}=this.state,o=me()===Ur?O("wallet_home_subtitle_errortip_error_popup_message"):O("wallet_home_subtitle_errortip_errorpage_message"),l=Hr(),u=Ee.State.getImgMap(l),d=`${Zr()}${u[Ee.State.TYPE.systemError]}`;return B.default.createElement("div",{className:"error-page"},B.default.createElement("div",{className:"error-page__header"},O("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&B.default.createElement(ae,{className:"okx-wallet-plugin-close error-page__right",onClick:async()=>{await Ne().clearDappData(),window.location.href=window.location.pathname}})),B.default.createElement("div",{className:"error-page__details"},B.default.createElement(Ee.State,{type:Ee.State.TYPE.systemError,title:n?O("extension_wallet_mid_text_update_latest_version"):o,imgSrc:d,renderButton:()=>B.default.createElement(B.default.Fragment,null,B.default.createElement("div",null,B.default.createElement(Q,{category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{globalThis.platform.openTab({url:n})}},O("extension_wallet_mid_btn_goto_store")," "),B.default.createElement(Q,{className:"error-page_button_left",category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{chrome.runtime.reload()}},O("wallet_extension_settings_item_clear_cache")," ")))}),B.default.createElement(Fa,{className:"error-page__accordion",titleClass:"error-page__accordion-title",customHeaderIcon:p=>B.default.createElement(ae,{icon:"okds-arrow-chevron-down-md",size:ae.SIZE.xs,className:(0,Bh.default)("error-page__icon",{"okui-accordion-header-icon-expanded":p})}),title:O("wallet_home_subtitle_errortip_errordetail"),onToggle:p=>{this.setState({expand:p})}}),this.state.expand?B.default.createElement("ul",{className:"error-page__list"},r.message?this.renderErrorDetail(O("wallet_home_subtitle_errortip_errormessage",{errorMessage:r.message})):null,r.code?this.renderErrorDetail(O("wallet_home_subtitle_errortip_errorcode",{errorCode:r.code})):null,r.name?this.renderErrorDetail(O("wallet_home_subtitle_errortip_errorname",{errorName:r.name})):null,r.stack?this.renderErrorStack(O("wallet_home_subtitle_errortip_error_stack"),r.stack):null):null))}},Xo=zo;a();s();var Ge=h(P()),st=h(ee()),Ew=h(we()),Tw=h(Xt()),xw=h(qa());he();a();s();var RS=document.documentElement,NS={en:"en",zh_CN:"zh-hans",zh_TW:"zh-hant",fr:"fr",ru:"ru",vi:"vi",id:"id",tr:"tr",de:"de",it:"it",pl:"pl",en_IN:"en-in",pt_BR:"pt",pt_PT:"pt-pt",es:"es-es",es_419:"es",cs:"cs",ro:"ro",uk:"uk",ar_EH:"ar"},DS=e=>{RS.setAttribute("lang",NS[e])},qh=DS;a();s();var Jo=h(P()),jh=h(Xt());he();ui();function kS(e,t,r){let n=os(e),i="";switch(n){case"ERR_NETWORK":t();return;case"ERR_SERVER_LIMIT":i=O("wallet_extension_home_notif_network_high_traffic");break;case"ERR_SERVER_TINE_LIMIT":i=O("wallet_extension_error_check_device_time");break;default:if(r){r(e);return}i=n||O("wallet_extension_alert_wallet_data_error")}oe.error({key:n,title:i,duration:2,placement:oe.DIRECTION.top})}var Fh=(e,t={})=>{let{uniq:r=!1,params:n={},config:i={},method:o="get",cache:l=!1,origin:u=!1,errorCallback:d}=t,[p,S]=(0,Jo.useState)(null),[b,T]=(0,Jo.useState)(!1),v=uf();return(0,jh.useDeepCompareEffect)(()=>{let C=async()=>{switch(o){case"get":return r?rs(e,n,i):l?is(e,n,i):u?Ja(e,n,i):zt(e,n);case"post":return r?ns(e,n,i):u?Za(e,n,i):es(e,n,i);case"delete":return Qa(e,n);default:return zt(e,n)}};T(!0),C().then(g=>{S(g)}).catch(g=>{kS(g,v,d)}).finally(()=>{T(!1)})},[n]),[b,p]};a();s();a();s();function Dn(){}Va();ri();a();s();var N=h(P()),Ln=h(Xt());a();s();var Zo=h(P());a();s();var Hh=e=>de("allowShowComponent",{..._e,componentName:e,location:window.location.href})?.data;var kn=({children:e,componentName:t})=>Hh(t)?Zo.default.createElement(Zo.default.Fragment,null,e):null;ti();var le=h(Kh());a();s();var Qo={"wallet-helper":"_wallet-helper_4h5lm_1",walletHelper:"_wallet-helper_4h5lm_1","wallet-helper-enter":"_wallet-helper-enter_4h5lm_11",walletHelperEnter:"_wallet-helper-enter_4h5lm_11"};var LS=[{label:le.default.development_environment,value:"http://forked-test2-cat20.defi.swim.env"},{label:le.default.pre_environment,value:"https://beta.okex.org"},{label:le.default.prod_environment,value:"https://wallet.okex.org"}],WS=[{label:le.default.normalMode,value:"normalMode"},{label:le.default.keyMode,value:"keyMode"},{label:le.default.multilingualMode,value:"multilingualMode"}],BS=()=>{let{width:e}=(0,Ln.useSize)(document.querySelector("body")),[t,r]=(0,N.useState)("https://beta.okex.org");(0,N.useEffect)(()=>{(async()=>{let{envApiDomain:v}=await ze.get("envApiDomain");v&&r(v)})()},[]);let n=()=>{window.location.reload()},i=window.localStorage,o=i.getItem("languageKeyMode")||"normalMode",l=(0,N.useCallback)(v=>{v==="normalMode"?(i.removeItem("languageKeyMode"),bt(!1)):v==="keyMode"?(i.setItem("languageKeyMode",v),bt(!0)):(i.setItem("languageKeyMode",v),bt(!1)),n()},[o]),u=(0,Ln.useUpdate)(),d=()=>{let v=ff()===en.LIGHT?en.DARK:en.LIGHT;df(v),u()},p=i.getItem("speedUp")||!1,[S,b]=(0,N.useState)(p);(0,N.useEffect)(()=>{b(p)},[p]);let T=(0,N.useCallback)(()=>{p?(i.removeItem("speedUp"),b(!1)):(i.setItem("speedUp",!0),b(!0)),chrome.runtime.reload()},[p]);return N.default.createElement(kn,{componentName:"walletHelper"},N.default.createElement(mi.Box,{className:Qo["wallet-helper"]},N.default.createElement(Vt,{description:N.default.createElement(mi.Space,{space:"8px"},N.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-slow",tooltip:le.default.select_language_mode,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:N.default.createElement(Jt,{dataSource:WS,renderItem:({label:v,value:C})=>N.default.createElement(Jt.Cell,{title:v,onClick:()=>{l(C)}},o===C&&N.default.createElement(li.Circle,{checked:!0}))})})}}),N.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-fast",tooltip:`${le.default.current_api_environment}${t}`,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:N.default.createElement(Jt,{dataSource:LS,renderItem:({label:v,value:C})=>N.default.createElement(Jt.Cell,{title:v,onClick:async()=>{await ze.set({envApiDomain:C}),n()}},t===C&&N.default.createElement(li.Circle,{checked:!0}))})})}}),N.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-swap",tooltip:le.default.switchRtl,onClick:()=>{let C=document.documentElement.getAttribute("dir");Qr(C==="rtl"?void 0:"rtl")}}),e>360&&N.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-switch",tooltip:le.default.fullscreenMode,onClick:()=>{let v=document.querySelector("#app");["notification","popup"].includes(v.className)?v.className="fullscreen":v.className="popup"}}),N.default.createElement(ae.IconButton,{style:{color:S?"orange":"unset"},icon:"okx-wallet-plugin-coin-quick-withdraw",tooltip:le.default.accelerateSetInterval,onClick:T}),N.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-swap-1",tooltip:le.default.theme,onClick:()=>{d()}})),trigger:Vt.TRIGGER.click,placement:document.documentElement.getAttribute("dir")==="rtl"?Vt.DIRECTION.topLeft:Vt.DIRECTION.topRight,autoHeight:{marginBottom:50},smartMode:!1},N.default.createElement(ae,{bordered:!0,size:ae.SIZE.lg,className:Qo["wallet-helper-enter"],icon:"okx-wallet-plugin-wrenches"}))))},$h=BS;a();s();a();s();var at=h(P());a();s();var Or=h(P());a();s();var ea={url:"https://beta.okex.org/pisces",name:"pisces>>"};ni();a();s();var ta={noRadius:"_noRadius_e5d59_1",scale:"_scale_e5d59_15"};var Vh=()=>Or.default.createElement(kn,{componentName:"EnvAlert"},Or.default.createElement(Ha,{className:ta.noRadius,type:"warn",showIcon:!1,title:Or.default.createElement("div",{className:ta.scale},`${process.env.ASSETS_BUILD_TYPE}-${process.env.COMMIT_HASH}, API: ${Ea()} WSS: ${xa()} STATIC: ${Ht()}`,Or.default.createElement("a",{href:ea.url},ea.name)),closable:!1}));a();s();var Wn=h(P()),Ir=h(ee()),Bn=h(we()),Yh=h(Xt());function US(e){return e}var zh=()=>{let e=(0,Ir.useSelector)(US),t=(0,Yh.useLatest)(e),r=(0,Bn.useHistory)(),n=(0,Ir.useSelector)(St),i=(0,Ir.useSelector)(Te),o=(0,Ir.useSelector)(gf),l=(0,Wn.useRef)(o),d=(0,Bn.useLocation)()?.pathname;return(0,Wn.useEffect)(()=>{if(o!==l.current){if(n&&i&&![fe,Je].includes(d)){let p=t.current,S={isRpcMode:Ku(p)?.isRpcMode,permissionsRequestId:hf(p),isNotBackup:vf(gs(p)).isNotBackupWallet,lastOptType:mf(p)},b=bf(S);b&&r.replace(b)}l.current=o}},[d,o,n,i]),null};Ks();var Vn=h(ee());a();s();a();s();var c=h(P());a();s();var Zh=h(P()),V=h(Gw()),qS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jS=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},FS=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),HS=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},GS=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},ra=(typeof window>"u"||typeof window>"u"?"undefined":qS(window))==="object",KS=ra?document:{},$S=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],na=function(e){function t(r){jS(this,t);var n=GS(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(i){var o=n.state,l=o.remaining,u=o.pageX,d=o.pageY,p=o.idle,S=n.props,b=S.timeout,T=S.onAction,v=S.debounce,C=S.throttle,g=S.stopOnIdle;if(v>0?n.debouncedAction(i):C>0?n.throttledAction(i):T(i),!l){if(i.type==="mousemove"&&(i.pageX===u&&i.pageY===d||i.pageX===void 0&&i.pageY===void 0||n.getElapsedTime()<200))return;clearTimeout(n.tId),n.tId=null,p&&!g&&n.toggleIdleState(i),n.setState({lastActive:+new Date,pageX:i.pageX,pageY:i.pageY}),p&&g||(n.tId=setTimeout(n.toggleIdleState,b))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(n.debouncedAction=Xh(r.onAction,r.debounce)),r.throttle>0&&(n.throttledAction=Jh(r.onAction,r.throttle)),r.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return HS(t,Zh.Component),FS(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=Xh(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=Jh(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(ra){var n=this.state.eventsBound,i=this.props,o=i.element,l=i.events,u=i.passive,d=i.capture;n||(l.forEach(function(p){o.addEventListener(p,r._handleEvent,{capture:d,passive:u})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(ra){var n=this.props,i=n.element,o=n.events,l=n.passive,u=n.capture;this.state.eventsBound&&(o.forEach(function(d){i.removeEventListener(d,r._handleEvent,{capture:u,passive:l})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var n=this,i=this.state.idle,o=this.props,l=o.onActive,u=o.onIdle,d=o.stopOnIdle;this.setState({idle:!i},function(){i?d||(n._bindEvents(),l(r)):(d&&(clearTimeout(n.tId),n.tId=null,n._unbindEvents()),u(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,n=r.remaining,i=r.idle;n!==null&&(this._bindEvents(),i||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,n)))}},{key:"_getRemainingTime",value:function(){var r=this.state,n=r.remaining,i=r.idle,o=r.lastActive;if(i)return 0;if(n!==null)return n;var l=this.props.timeout-(+new Date-o);return l<0&&(l=0),l}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function Xh(e,t){var r=void 0;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i),r=null},t)}}function Jh(e,t){var r=0;return function(){var n=new Date().getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}na.propTypes={timeout:V.default.number,events:V.default.arrayOf(V.default.string),onIdle:V.default.func,onActive:V.default.func,onAction:V.default.func,debounce:V.default.number,throttle:V.default.number,element:V.default.oneOfType([V.default.object,V.default.element]),startOnMount:V.default.bool,stopOnIdle:V.default.bool,passive:V.default.bool,capture:V.default.bool},na.defaultProps={timeout:12e5,element:KS,events:$S,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var Qh=na;var ue=h(we());a();s();var re=h(P()),oa=h(ee()),rm=h(we());he();a();s();var Un=h(P()),em=()=>{let[e,t]=(0,Un.useState)(0);return(0,Un.useEffect)(()=>{function r(){let n=window.visualViewport?.height<window?.innerHeight?window?.innerHeight-window.visualViewport?.height:0;t(n)}return window?.visualViewport?.addEventListener("resize",r),()=>{window?.visualViewport?.removeEventListener("resize",r)}},[]),{keyboardHeight:e}};Yt();a();s();var qn=h(P()),tm=h(we()),nt=({preload:e=[],...t})=>((0,qn.useEffect)(()=>{e.forEach(r=>{typeof r=="function"&&r()})},[e]),qn.default.createElement(tm.Route,{...t}));vt();a();s();var ia={dialog:"_dialog_18vnm_1",mask:"_mask_18vnm_6"};function VS(e){return e.metamask.passwordModal}var aa=e=>{let[t,r]=(0,re.useState)(!1),n=(0,oa.useSelector)(VS),i=(0,oa.useSelector)(Te),o=Ga.useForm(),l=(0,rm.useLocation)(),{onSubmit:u}=Of({form:o}),d=(0,re.useCallback)(async()=>{await Ne().rejectPassword(),r(!1)},[]),{currentPasswordType:p,onVerifyPasskeyFailed:S,onResetPasswordType:b}=Tf(d);(0,re.useEffect)(()=>{r(!!n&&i),n&&b()},[b,n,i]),(0,re.useEffect)(()=>()=>{t&&d()},[l]);let{keyboardHeight:T}=em(),v=p===2&&n?.modalType===ai.default,C=!!n&&t&&!v;return re.default.createElement(re.default.Fragment,null,re.default.createElement(nt,{...e}),!!n&&t&&v&&re.default.createElement(xf,{onPass:async g=>{o.setFieldsValue({password:g}),await u()},onCancel:S,noContent:!0}),re.default.createElement(ge,{onClose:d,visible:C,title:n?.modalType===ai.default?O("wallet_extension_tg_enter_password"):"",noMargin:!0,alignBottom:!0,maskClosable:!0,noTopRadius:!1,windowStyle:{padding:"0",overflow:"hidden",bottom:`${T}px`,height:`${600-T}px`,touchAction:"none"},zIndex:40001,className:ia.dialog,scrollBoxClassName:ia.mask,transitionProps:{type:"slide",placement:"bottom",timeout:300}},C&&re.default.createElement(If,{passwordModal:n,passwordType:p,onVerifyPasskeyFailed:S})))};a();s();var A=h(P()),Nr=h(ee()),ot=h(we()),la=h(Ye());he();Lr();a();s();var nm=(e,t)=>{if(t&&t.includes("{")&&!t.includes("first")){let n=/\{(.+?)\}/gi,i={};return t.match(n).forEach((o,l)=>{let u=o.replace("{","").replace("}","");i[`${u}`]=e[l]}),i}let r=["first","second","third","fourth"];return e.filter((n,i)=>i in r).reduce((n,i,o)=>(n[r[o]]=i,n),{})};a();s();var im=()=>{let e=de("lockPage",{..._e,location:window.location.href});return e?e.data:null};a();s();var om=h(P());ti();var am=()=>{let e=de("changeLocalStorage",{..._e,location:window.location.href});(0,om.useEffect)(()=>{e&&(e?.data?.windowLocalStorage&&Object.keys(e?.data.windowLocalStorage).forEach(t=>{window.localStorage.setItem(t,e?.data?.windowLocalStorage[t])}),e?.data?.localStorage&&Object.keys(e?.data.localStorage).forEach(t=>{t==="data"||t==="apiDomain"||t==="envApiDomain"||t==="staticDomain"||ze.set({[t]:e?.data?.localStorage[t]})}))},[e])};a();s();var sm=h(P());var lm=()=>{let e=de("resetExtension",{..._e,location:window.location.href});return(0,sm.useMemo)(()=>{if(e){if(!e.data?.needReload)return!1;let r=window.localStorage.getItem("extensionReload");return!r||r!=e?.data.time?e.data.time:!1}return!1},[e])};a();s();var um=h(P());var fm=()=>{let e=de("versionExtensionUpdate",{..._e,location:window.location.href});return(0,um.useMemo)(()=>{if(e){if(!e.data?.needUpdate)return!1;let r=window.localStorage.getItem("versionExtensionUpdate");if(r&&r===e?.data.version&&!e.data?.repeat)return!1;if(_e.version!==e.data.version)return{version:e?.data.version,repeat:e.data?.repeat}}return!1},[e])};a();s();var dm=h(P()),jn=h(we()),wt=h(Ye());var YS=()=>{let e=(0,jn.useHistory)(),{search:t}=(0,jn.useLocation)(),r=kf();(0,dm.useEffect)(()=>{let n=(i,o,l)=>{if(!(i.type===Mf&&i.method===Rf.notifyRedirect))return;let{redirectSearchParams:d}=i.params,{redirectPathname:p,redirectSearchParams:S}=Df(d);p&&r(p,{overrideCurrentPath:Je,removeExistingSearchKeys:["redirect_pathname","redirect_search_params"],preserveState:!0,newSearchParams:Nf(S)}),l({success:!0,redirected:!0})};return typeof wt.default<"u"&&wt.default.runtime?.onMessage?wt.default.runtime.onMessage.addListener(n):typeof chrome<"u"&&chrome.runtime?.onMessage&&chrome.runtime.onMessage.addListener(n),()=>{typeof wt.default<"u"&&wt.default.runtime?.onMessage?wt.default.runtime.onMessage.removeListener(n):typeof chrome<"u"&&chrome.runtime?.onMessage&&chrome.runtime.onMessage.removeListener(n)}},[e,r,t])},cm=YS;a();s();var pm=[];a();s();var Mr=h(Jw());Yt();var zS=e=>{if(!Array.isArray(e))return 1;for(let t=0;t<e.length;t++){let r=e[t];if(r.status===3)return 3;if(r.status===2)return 2}return 1},XS=({supportChainList:e=[],account:t})=>{let r=!1,n={...t?.status7702?.chains||{}},i={},o=Object.keys(n).length,l=e?.length||0;return o!==l&&(r=!0),e?.forEach(({chainIndex:p,status:S})=>{i[p]=S,!r&&n?.[p]!==S&&(r=!0)}),{chainStatusChanged:r,chains:r?i:n}},JS=(e,t)=>{if((0,Mr.isEmpty)(t)||!Array.isArray(e))return{needUpdate:!1};let{chainStatusChanged:r,chains:n}=XS({supportChainList:e,account:t}),i=t?.status7702?.status||1;return r&&(i=zS(e)),{needUpdate:r,status7702:{status:i,chains:n}}},hm=async e=>{let{address:t,data:r}=e,{chainIndex:n,status:i}=r||{};if(!t||(0,Mr.isNil)(n)||(0,Mr.isNil)(i))return;let o=await Ne().getAccountsByAddressAndChainIndex(t,n);if(Array.isArray(o)&&!o.length)return;let l=o.map(async u=>{let d={...u?.status7702?.chains||{}};d[n]=i;let p=[];Object.keys(d).forEach(T=>{p.push({chainIndex:Number(T),status:d[T],address:t})});let{needUpdate:S,status7702:b}=JS(p,u);if(S){let T=u.walletId;T&&await Ne().updateAccountIdentityData(T,{status7702:b})}});await Promise.allSettled(l)};a();s();var Rr=h(P());function sa(e){let[t,r]=(0,Rr.useState)(!1);return t?Rr.default.createElement(nt,{...e}):Rr.default.createElement(Bf,{path:e.path,guard:!0,callback:()=>{r(!0)}})}a();s();var mm=h(P()),gm=h(ee());function wm(){return!(0,gm.useSelector)(St)}var _m=e=>mm.default.createElement(nt,{...e});a();s();var ym=h(P()),vm=h(ee());Br();function Fn(e,t){let r=se(t),n=(0,vm.useDispatch)();(0,ym.useEffect)(()=>{!r||e.includes(r.data.address||Gt(r.data,"data.address")||Gt(r.data,"data.content.address"))&&n(Tt({data:r.data,channel:t}))},[r,n,e,t])}a();s();var it=h(P()),bm=h(we());he();var ZS=20,Hn=[];var QS=(e,t)=>{let r=`${e}_${t}`;Hn.unshift(r),Hn=Hn.slice(0,ZS)},eE=(e,t)=>{let r=`${e}_${t}`;return Hn.includes(r)},tE=e=>{let t=null;e.url?t=it.default.createElement(rn,{url:e.url,urlText:O(e.urlText)}):e.desc&&(t=e.desc),oe[e.type]({title:O(e.titleKey,e.titleParams),key:e.id,desc:t})},rE=e=>{let{status:t,orderId:r,fromAmount:n,fromTokenSymbol:i,toTokenSymbol:o,toAmount:l,isMemeTimeOut:u,chainId:d,fromTokenAddress:p,toTokenAddress:S,exploreUrl:b}=e,T=`/dex-swap/meme/${i==="SOL"?"buy":"sell"}?inputChain=${d}&inputCurrency=${p}&outputChain=${d}&outputCurrency=${S}`;return u?{type:"warn",titleKey:"wallet_extension_toast_likely_fail",titleParams:{num:n,token1:i,token2:o},id:`toast-${r}-${t}`,url:T,urlText:"wallet_extension_cta_trade_again"}:{["0"]:{type:"success",titleKey:"wallet_extension_toast_swap_submitted",id:`toast-${r}-${t}`},["1"]:{type:"success",titleKey:"wallet_extension_toast_swap_success",titleParams:{fromCount:n,fromToken:i,toCount:o,toToken:l},id:`toast-${r}-${t}`,url:b,urlText:"wallet_extension_cta_check_details"},["-1"]:{type:"error",titleKey:"wallet_extension_toast_swap_failed",titleParams:{num:n,token1:i,token2:o},id:`toast-${r}-${t}`,url:T,urlText:"wallet_extension_cta_trade_again"}}[t]},nE=e=>{let{status:t,orderId:r,fromAmount:n,fromTokenSymbol:i,toAmount:o,toTokenSymbol:l}=e;return{["0"]:{type:"success",titleKey:"swaptrade_extension_feedback_toast_transaction_submitted",id:`toast-${r}-${t}`},["-1"]:{type:"error",titleKey:"swaptrade_extension_feedback_toast_fillup_gas_failed",titleParams:{nativeToken:l},id:`toast-${r}-${t}`},["1"]:{type:"success",titleKey:"swaptrade_extension_feedback_toast_swapped_successfully",titleParams:{payValue:n,paySymbol:i,receiveValue:qf(o,{fixed:6,wipeTailZero:!0}),receiveSymbol:l},id:`toast-${r}-${t}`}}[t]},iE=e=>{let{status:t,orderId:r,fromTokenSymbol:n,exploreUrl:i,solanaToast:o}=e,l={["1"]:{type:"success",titleKey:"swaptrade_extension_notif_desc_token_approved",titleParams:{tokenSymbol:n},url:i,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`},["-1"]:{type:"error",titleKey:"swaptrade_extension_notif_desc_token_not_approved",titleParams:{tokenSymbol:n},url:i,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`}};return l[t]?l[t]:o==="1"?{type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${o}`}:null},oE=(e,t)=>{let{status:r,orderId:n,fromAmount:i,fromTokenSymbol:o,toAmount:l,toTokenSymbol:u,exploreUrl:d,fromChildOrder:p={},toChainName:S,willNeedManualClaim:b}=e;if(eE(n,r))return null;let T=p?.receiveTokenStatus!=="3",v=null;return r==="0"&&p?.status=="0"?v={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${r}-${n}`}:r==="200"?v={type:"success",titleKey:"wallet_extension_bridge_alert_title_ready_to_claim",desc:it.default.createElement(it.default.Fragment,null,it.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},O("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:S,token:u})),it.default.createElement(ja,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},onClick:()=>{t.push(`${Su}?orderId=${n}`)}},O("commonall_modal_btn_claim"))),id:`toast-${r}-${n}`}:r==="202"?v={type:"error",titleKey:"wallet_extension_bridge_alert_failed_to_claim_please",id:`toast-${r}-${n}`}:r==="1"&&T?b==="1"?v={type:"success",titleKey:"wallet_extension_bridge_alert_youve_successfully_claimed_amt",titleParams:{amt:l,token:u},id:`toast-${r}-${n}`}:v={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_info",titleParams:{fromTokenAmount:i,fromTokenSymbol:o,toTokenAmount:l,toTokenSymbol:u},url:d,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${r}-${n}`}:r==="-1"&&T?v={type:"error",titleKey:"swaptrade_extension_notif_desc_swap_fail",url:d,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${r}-${n}`}:r==="-2"&&T&&(v={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_canceled",url:d,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${r}-${n}`}),v?(QS(n,r),v):null};function Sm(){let e=se("dex-across-order-info"),t=(0,bm.useHistory)();(0,it.useEffect)(()=>{if(!e?.data)return;let{dexData:r,type:n}=e.data,{type:i,swapTradeType:o}=r,l=null;o==="7"?l=rE(r):i==="gasStation"&&r.solanaToast==="1"?l=nE(r):i==="approve"&&n==="1"?l=iE(r):!["approve","register","gasStation"].includes(i)&&(n==="1"||n==="3")&&(l=oE(r,t)),l&&tE(l)},[e,t])}a();s();var Em=h(P());he();function Tm(){let e=se("wallet-nft");(0,Em.useEffect)(()=>{!e||oe.success({title:O("wallet_transfer_notif_nft_transaction_success"),key:"toast8"})},[e])}a();s();var xm=h(P()),Cm=h(ee());function Pm(){let e=se("wallet-coin"),t=(0,Cm.useDispatch)();(0,xm.useEffect)(()=>{!e||t(Tt())},[e,t])}a();s();var jt={link:"_link_ywwad_1",updateCotainer:"_updateCotainer_ywwad_11",centerImage:"_centerImage_ywwad_14",titleUpdate:"_titleUpdate_ywwad_23",textUpdate:"_textUpdate_ywwad_27",updateMb32:"_updateMb32_ywwad_32"};function aE({walletId:e,keyringIdentities:t}){let r;if(t.find(l=>(r=l.walletIdentities.find(u=>u.walletId===e),r)),!r)return[];let n=Object.values(r.account),i=r.accountsMap,o=[];return i&&Object.keys(i).forEach(l=>{let u=i[l];Object.keys(u).forEach(d=>{let p=u[d];p.address&&o.push(p.address)})}),[...new Set([...n,...o])]}var sE=1;function w(e){let{guard:t,openMoonCat:r=!1}=e,n=(0,Nr.useSelector)(St),i=(0,Nr.useSelector)(Te),o=(0,Nr.useSelector)($r),l=(0,Nr.useSelector)(cs),u=se("login"),d=se("wallet-tx-status-toast"),p=se("nft-operate"),S=se("wallet-inform"),b=(0,ot.useHistory)(),T=(0,ot.useLocation)(),[v,C]=(0,A.useState)(null),g=Pf(),_=wm(),{isCloudChecked:y,onCloudUpdatedCallBack:x,onCloudResetLocalCallBack:H,isRestingFromCloud:Z}=Wf();cm();let Y=(0,A.useMemo)(()=>aE({walletId:o,keyringIdentities:l}),[o,l]),{isMoonCat:Ae,loadingMoonCatData:K}=Lf();(0,A.useEffect)(()=>{if(g){let{initialType:j}=g,{path:ie}=e;if(_f()&&wf(j)&&!pm.includes(ie)){let{location:Ke}=e||{},{pathname:Ie,search:ft=""}=Ke||{};setTimeout(()=>{globalThis.platform.openExtensionInPopup(Ie+ft||"")},200)}}},[g?.initialType]);let lt=im(),Ft=lm(),ut=fm();am(),(0,A.useEffect)(()=>{Ft&&ge.warn({alignBottom:!1,title:G("wallet_extension_home_popup_title_update_now"),text:G("wallet_extension_home_popup_text_update_now"),confirmText:G("wallet_extension_home_popup_btn_update"),maskClosable:!1,onConfirm:()=>{window.localStorage.setItem("extensionReload",Ft),la.default.runtime.reload()}})},[Ft]);let[Oe,z]=(0,A.useState)(!1),[be]=(0,A.useState)(la.default.runtime.getManifest().version),Se=Cf(),Zn=cf({dark:"/cdn/assets/imgs/246/F624BDAD9E2C018D.png",light:"/cdn/assets/imgs/246/234578340DAE2A80.png"});return(0,A.useEffect)(()=>{be!==ut.version&&!Oe&&ut&&ge.action({mobileWidth:"77.777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,children:A.default.createElement("div",{className:jt.updateMb32},A.default.createElement("div",{className:jt.centerImage},A.default.createElement("img",{src:Zn,alt:""})),A.default.createElement("div",{className:jt.titleUpdate},G("wallet_extension_home_popup_title_update_available")),A.default.createElement("div",{className:jt.textUpdate},G("wallet_extension_home_popup_text_update_available")),A.default.createElement(si,{size:si.SIZE.sm,className:jt.link,onClick:()=>{globalThis.platform.openTab({url:`https://${Se}/help/how-do-i-update-my-okx-wallet-extension-on-google-chrome`})}},G("wallet_extension_home_popup_link_update_available"))),confirmText:G("wallet_extension_home_popup_text_ok"),maskClosable:!1,onConfirm:j=>{ut.repeat?z(!0):window.localStorage.setItem("versionExtensionUpdate",ut.version),j.destroy()}})},[Oe,ut,be]),(0,A.useEffect)(()=>{lt&&ge.warn({alignBottom:!1,maskClosable:!1,title:G("wallet_extension_clearcache_modaltitle_step_locked"),text:G("wallet_extension_clearcache_modaldesc_step_locked"),confirmText:G("wallet_extension_btn_general_gotit"),onConfirm:j=>{j.destroy(),b.go(-1)}})},[lt]),(0,A.useEffect)(()=>{if(n&&i){v&&Array.isArray(v)&&tn.sendChannel({op:"logout",args:v});let j=Y.map(ie=>({token:ie}));tn.sendChannel({op:"login",args:j}),C(j)}},[n,i,o]),(0,A.useEffect)(()=>{if(p){let{scene:j,status:ie}=p.data;j===21&&ie===2&&oe.success({title:G("extension_home_toast_receivecompleted")})}},[p]),(0,A.useEffect)(()=>{(async()=>{S&&S?.data&&S?.data?.type===sE&&await hm(S.data)})()},[S]),(0,A.useEffect)(()=>{if(u){let j=Object.keys(Et).map(ie=>({channel:Et[ie]}));tn.sendChannel({op:"subscribe",args:j})}},[u]),(0,A.useEffect)(()=>{let ie=b.location.pathname.match(Xr);if(d&&!ie){let{data:Ke}=d,{pushToastCode:Ie,pushToastParams:ft=[],txStatus:Ww,url:ba}=Ke,kr;Ie===20||Ie===21?kr={amount:ft[0],crypto:ft[1]}:Ie===23?kr={num:ft[0],symbol:ft[1]}:kr=nm(ft),oe[ys[Ww]]({title:G(vs[Ie],kr),desc:ba?A.default.createElement(rn,{url:ba,urlText:G("wallet_transfer_notif_view_on_explorer")}):null})}},[d]),(0,A.useEffect)(()=>{let j=new PerformanceObserver(ie=>{let Ke={};ie.getEntries().forEach(Ie=>{Ke[Ie.name]=Ie.startTime}),performance.memory&&(Ke.memory={totalJSHeapSize:performance.memory?.totalJSHeapSize,usedJSHeapSize:performance.memory?.usedJSHeapSize,jsHeapSizeLimit:performance.memory?.jsHeapSizeLimit}),Ke["first-contentful-paint"]>1e3&&Me.captureEvent({message:`PERFORMANCE_WARN_1s ${b.location.pathname}`,contexts:{report:{info:JSON.stringify(Ke)}},exception:{values:[{type:`PERFORMANCE_WARN_1s ${b.location.pathname}`,value:"Performance Data"}]},level:"info"})});return j.observe({type:"paint",buffered:!0}),()=>{j.disconnect()}},[b.location.pathname]),(0,A.useEffect)(()=>{H?.()},[H]),Sm(),Fn(Y,"wallet-asset"),Fn(Y,"invest-DeFi"),Fn(Y,"wallet-nft"),Tm(),Pm(),Uf(),r&&K?A.default.createElement(A.default.Fragment,null):r&&!K&&Ae?A.default.createElement(ot.Redirect,{to:{pathname:Je}}):!y||Z?A.default.createElement(A.default.Fragment,null):_?A.default.createElement(ot.Redirect,{to:{pathname:Yr,search:Aa(T.search)}}):x?x():i?t?A.default.createElement(sa,{...e}):A.default.createElement(_m,{...e}):A.default.createElement(ot.Redirect,{to:{pathname:xt}})}a();s();var ua=h(P()),Im=h(we());a();s();var Am=h(ee());function Om(){return!(0,Am.useSelector)(Te)}function Gn(e){return Om()?ua.default.createElement(Im.Redirect,{to:{pathname:xt}}):ua.default.createElement(nt,{...e})}a();s();var fa=h(P()),Mm=h(ee()),Kn=h(we());function Dr(e){return(0,Mm.useSelector)(Te)?fa.default.createElement(Kn.Redirect,{to:{pathname:fe}}):fa.default.createElement(Kn.Route,{...e})}a();s();var $n=h(P());a();s();var m=h(P()),Rm=(0,m.lazy)(()=>import("./dex-BTF2EXEU.js")),lE=()=>import("./new-home-page-DJWBOWEP.js"),OD=(0,m.lazy)(()=>import("./common-A5LT3QYT.js")),Nm=(0,m.lazy)(lE),Dm=(0,m.lazy)(()=>import("./wallet-aggregate-GF2IBKPQ.js")),km=(0,m.lazy)(()=>import("./ConnectHardware-KOSPC5UK.js")),da=(0,m.lazy)(()=>import("./ImportSeedPhraseAndPrivateKey-IMOFKMKD.js")),Lm=(0,m.lazy)(()=>import("./WalletMnemonicBackup-EAT6PSFJ.js")),Wm=(0,m.lazy)(()=>import("./WalletMnemonicBackupLandingPage-AVSJY7IG.js")),Bm=(0,m.lazy)(()=>import("./WalletList-KE5G4SHK.js")),Um=(0,m.lazy)(()=>import("./WalletEdit-YLGQFTKL.js")),qm=(0,m.lazy)(()=>import("./WalletBackUp-NC5KUDIG.js")),jm=(0,m.lazy)(()=>import("./WalletAccountAddress-TIRM6KFM.js")),Fm=(0,m.lazy)(()=>import("./WalletAccountPrivateKey-RI3LTCEC.js")),Hm=(0,m.lazy)(()=>import("./WalletMnemonicAndPrivateKey-NLF5PCEL.js")),Gm=(0,m.lazy)(()=>import("./LedgerNetworkManage-SJQTTBPM.js")),Km=(0,m.lazy)(()=>import("./WalletDetail-IMSOTDZE.js")),$m=(0,m.lazy)(()=>import("./WalletAccountDetail-IACLLZBF.js")),Vm=(0,m.lazy)(()=>import("./CreatePassword-CBBW5TWX.js")),Ym=(0,m.lazy)(()=>import("./VerifyPassword-HRJX2BBI.js")),zm=(0,m.lazy)(()=>import("./Onboard-4G34DVE2.js")),Xm=(0,m.lazy)(()=>import("./InitialCreate-K4TBNNKR.js")),Jm=(0,m.lazy)(()=>import("./InitialImport-B2H4UPCX.js")),Zm=(0,m.lazy)(()=>import("./wallet-add-page-IP6RZHZF.js")),Qm=(0,m.lazy)(()=>import("./walletAddImport-QPPYJD2G.js")),eg=(0,m.lazy)(()=>import("./Login-2L5QOFX2.js")),tg=(0,m.lazy)(()=>import("./Import-OZPZBTS2.js")),rg=(0,m.lazy)(()=>import("./show-supported-chains-A66W5J5O.js")),ng=(0,m.lazy)(()=>import("./Unlock-MWIEQW77.js")),ig=(0,m.lazy)(()=>import("./Receive-QJVEYFM7.js")),og=(0,m.lazy)(()=>import("./Lock-A2CNROG3.js")),ag=(0,m.lazy)(()=>import("./ForgetPassword-FBWMDFLB.js")),sg=(0,m.lazy)(()=>import("./ResetPassword-JBOLGL3Q.js")),lg=(0,m.lazy)(()=>import("./select-network-L4JYJHWO.js")),ug=(0,m.lazy)(()=>import("./select-coin-FSZ3XVQN.js")),fg=(0,m.lazy)(()=>import("./SelectNetwork-KQIA262R.js")),dg=(0,m.lazy)(()=>import("./SelectProtocol-XRYP6JC7.js")),cg=(0,m.lazy)(()=>import("./SendNft-U2VIFSLQ.js")),pg=(0,m.lazy)(()=>import("./SendPageContainer-QGJHUCPP.js")),hg=(0,m.lazy)(()=>import("./CoinManage-7YSSAS4X.js")),mg=(0,m.lazy)(()=>import("./CustomCrypto-IU55XDEB.js")),gg=(0,m.lazy)(()=>import("./Setting-74QYSSVJ.js")),wg=(0,m.lazy)(()=>import("./Preference-GKWHEEVP.js")),_g=(0,m.lazy)(()=>import("./WalletSafely-BEVTZ6BY.js")),yg=(0,m.lazy)(()=>import("./DefaultWallet-JKI3TOPV.js")),vg=(0,m.lazy)(()=>import("./SwitchRandomPassword-WRNLZVQS.js")),bg=(0,m.lazy)(()=>import("./AboutWallet-I4VFEIBT.js")),Sg=(0,m.lazy)(()=>import("./WalletHistory-MZJA5SB5.js")),Eg=(0,m.lazy)(()=>import("./coinSearch-KQFMQRSU.js")),Tg=(0,m.lazy)(()=>import("./TxConfirmEntry-5LXTFXQF.js")),xg=(0,m.lazy)(()=>import("./Selector-WGX5NMNI.js")),Cg=(0,m.lazy)(()=>import("./RpcMode-MCPHUKEC.js")),Pg=(0,m.lazy)(()=>import("./DappEntry-5HWMMVLI.js")),Ag=(0,m.lazy)(()=>import("./DappReady-PFV7VDO4.js")),Og=(0,m.lazy)(()=>import("./NetworkManagement-HVYBWKHI.js")),Ig=(0,m.lazy)(()=>import("./Form-G3CQN7ZF.js")),Mg=(0,m.lazy)(()=>import("./PermissionsConnect-5LPHOLVR.js")),Rg=(0,m.lazy)(()=>import("./Detail-7I7FIKNU.js")),Ng=(0,m.lazy)(()=>import("./NftFilter-GO5PCX4G.js")),Dg=(0,m.lazy)(()=>import("./DAppNetworkManage-LKTVBMJ5.js")),kg=(0,m.lazy)(()=>import("./CoinDetail-6CMM363J.js")),Lg=(0,m.lazy)(()=>import("./address-MOYLETNB.js")),Wg=(0,m.lazy)(()=>import("./ZKSpace-42OGS6AE.js")),Bg=(0,m.lazy)(()=>import("./Pi-EGXAES3T.js")),Ug=(0,m.lazy)(()=>import("./ZKSyncLite-GX5RGXHP.js")),qg=(0,m.lazy)(()=>import("./Starknet-Z2PZ3JZG.js")),jg=(0,m.lazy)(()=>import("./CreateAccount-W677ARG2.js")),Fg=(0,m.lazy)(()=>import("./ConfirmPay-BWCM4U6C.js")),Hg=(0,m.lazy)(()=>import("./rpc-mode-HLDUMYQZ.js")),Gg=(0,m.lazy)(()=>import("./RiskApprovePage-NVJWS3FP.js")),Kg=(0,m.lazy)(()=>import("./ApproveDetailPage-3RBNSL7P.js")),$g=(0,m.lazy)(()=>import("./BatchTransfer-MALBUPSU.js")),Vg=(0,m.lazy)(()=>import("./Bitcoin-JO3CTZAU.js")),Yg=(0,m.lazy)(()=>import("./BatchAddAccount-MVGNUW2N.js")),zg=(0,m.lazy)(()=>import("./BulkRename-TUSGZU27.js")),Xg=(0,m.lazy)(()=>import("./Edit-RZNEVFZA.js")),Jg=(0,m.lazy)(()=>import("./Confirm-PYB747OV.js")),ID=(0,m.lazy)(()=>import("./FractalBTCInscribe-DKCB5T5M.js")),Zg=(0,m.lazy)(()=>import("./ManageUtxo-N2KM6QFX.js")),Qg=(0,m.lazy)(()=>import("./CoinInfo-O6TNDQQJ.js")),ew=(0,m.lazy)(()=>import("./DownloadAddresses-CA665C7U.js")),tw=(0,m.lazy)(()=>import("./GasTracker-NYMKP24V.js")),rw=(0,m.lazy)(()=>import("./Advanced-M23LPH2K.js")),nw=(0,m.lazy)(()=>import("./PasswordType-R74BSQ2D.js")),iw=(0,m.lazy)(()=>import("./WebWidget-4MFOHDRV.js")),ow=(0,m.lazy)(()=>import("./FeaturePanel-U2FD7ZDY.js")),aw=(0,m.lazy)(()=>import("./Upgrade7702Entry-QTKOBXEV.js")),sw=(0,m.lazy)(()=>import("./Upgrade7702SelectWallet-6UX3BAFA.js")),lw=(0,m.lazy)(()=>import("./7702Revoke-NE4LVDA5.js"));var uw=(0,$n.lazy)(()=>import("./MoonCat-3FPGYPW6.js")),fw=(0,$n.lazy)(()=>import("./MoonCatDay-2TWDGDJZ.js")),dw=(0,$n.lazy)(()=>import("./MoonCatNight-7JDSJES7.js"));var cw=({autoLockTimeLimit:e,setLastActiveTime:t})=>{let n=(0,ue.useHistory)().location?.state?.noGuard||{},i=c.default.createElement(c.Suspense,null,c.default.createElement(ue.Switch,null,c.default.createElement(ue.Route,{path:pl,component:km}),c.default.createElement(w,{path:zl,component:da,exact:!0}),c.default.createElement(aa,{path:yu,component:Xg,exact:!0}),c.default.createElement(aa,{path:vu,component:Jg,exact:!0}),c.default.createElement(w,{path:di,guard:!n[di],component:Lm,openMoonCat:!0,exact:!0}),c.default.createElement(w,{path:ou,component:Wm,exact:!0}),c.default.createElement(w,{path:Zl,component:Bm,exact:!0}),c.default.createElement(w,{path:Ql,component:Um,exact:!0}),c.default.createElement(w,{path:Ol,component:qm,exact:!0,openMoonCat:!0}),c.default.createElement(w,{path:ku,component:Tg,exact:!0}),c.default.createElement(w,{path:iu,guard:!0,component:Hm,exact:!0,openMoonCat:!0}),c.default.createElement(ue.Route,{path:Mu,component:nw,exact:!0}),c.default.createElement(ue.Route,{path:Sl,component:Vm,exact:!0}),c.default.createElement(w,{path:El,component:Ym}),c.default.createElement(Dr,{path:Tl,component:da,exact:!0}),c.default.createElement(ue.Route,{path:`${xl}/:type`,component:rg}),c.default.createElement(w,{path:eu,component:Km}),c.default.createElement(w,{path:au,component:Gm}),c.default.createElement(w,{path:tu,component:$m}),c.default.createElement(w,{path:ru,component:jm}),c.default.createElement(w,{path:nu,guard:!0,component:Fm,openMoonCat:!0}),c.default.createElement(ue.Route,{path:Eu,component:Dm}),c.default.createElement(w,{path:gl,component:ig,exact:!0}),c.default.createElement(ue.Route,{path:al,component:og,exact:!0}),c.default.createElement(Dr,{path:xt,component:zm}),c.default.createElement(Dr,{path:vl,component:Xm,exact:!0}),c.default.createElement(Dr,{path:yl,component:Jm,exact:!0}),c.default.createElement(w,{path:Xl,component:Zm,exact:!0}),c.default.createElement(w,{path:Jl,component:Qm,exact:!0}),c.default.createElement(ue.Route,{path:xu,component:eg,exact:!0}),c.default.createElement(ue.Route,{path:Cu,component:tg,exact:!0}),c.default.createElement(Gn,{path:Yr,exact:!0,component:ng}),c.default.createElement(Gn,{path:wl,component:ag}),c.default.createElement(w,{path:_l,component:sg}),c.default.createElement(w,{path:gu,component:Hg}),c.default.createElement(w,{path:wu,component:$g}),c.default.createElement(w,{path:bl,component:sw}),c.default.createElement(w,{path:_u,component:Yg}),c.default.createElement(w,{path:bu,component:zg}),c.default.createElement(w,{path:cl,component:dg}),c.default.createElement(w,{path:dl,component:fg}),c.default.createElement(w,{path:Yl,component:lg}),c.default.createElement(w,{path:Vl,component:ug}),c.default.createElement(w,{path:`${ll}/:nftPath`,component:cg,exact:!0}),c.default.createElement(w,{path:`${sl}/:coinId?`,component:pg}),c.default.createElement(w,{path:Cl,component:hg}),c.default.createElement(w,{path:Pl,component:mg}),c.default.createElement(w,{path:Al,component:gg}),c.default.createElement(w,{path:Il,component:wg}),c.default.createElement(w,{path:Ml,component:_g}),c.default.createElement(w,{path:Rl,component:yg}),c.default.createElement(w,{path:Bl,component:vg}),c.default.createElement(w,{path:Ll,component:bg}),c.default.createElement(w,{path:Nl,component:uw}),c.default.createElement(w,{path:kl,component:dw}),c.default.createElement(w,{path:Dl,component:fw}),c.default.createElement(w,{path:Ul,component:iw}),c.default.createElement(w,{path:ql,component:ow}),c.default.createElement(w,{path:su,component:Sg,exact:!0}),c.default.createElement(w,{path:lu,component:Eg,exact:!0}),c.default.createElement(w,{path:Wl,component:xg}),c.default.createElement(w,{path:jl,component:Cg}),c.default.createElement(w,{path:Kl,component:Ag}),c.default.createElement(w,{path:Gl,component:Pg}),c.default.createElement(w,{path:Fl,component:Og}),c.default.createElement(w,{path:Hl,component:Ig}),c.default.createElement(w,{path:`${ul}/:id`,component:Mg}),c.default.createElement(w,{path:`${hl}`,component:Rg,exact:!0}),c.default.createElement(w,{path:ml,component:Ng,exact:!0}),c.default.createElement(w,{path:`${fl}`,component:Dg}),c.default.createElement(w,{path:zr,component:kg,exact:!0}),c.default.createElement(w,{path:Pu,component:Qg}),c.default.createElement(w,{path:Au,component:ew}),c.default.createElement(w,{path:uu,component:Lg}),c.default.createElement(w,{path:fu,component:Wg}),c.default.createElement(w,{path:du,component:Bg}),c.default.createElement(w,{path:cu,component:Ug}),c.default.createElement(w,{path:pu,component:qg}),c.default.createElement(w,{path:hu,component:jg}),c.default.createElement(w,{path:mu,component:Fg}),c.default.createElement(w,{path:$l,component:Vg}),c.default.createElement(w,{path:Xr},c.default.createElement(c.Suspense,{fallback:c.default.createElement(Ef,null)},c.default.createElement(Rm,null))),c.default.createElement(w,{path:Tu,component:Zg}),c.default.createElement(w,{path:Ou,component:tw}),c.default.createElement(w,{path:Iu,component:rw}),c.default.createElement(w,{path:Ru,component:aw}),c.default.createElement(w,{path:Nu,component:Gg}),c.default.createElement(w,{path:Du,component:Kg}),c.default.createElement(w,{path:Lu,component:lw}),c.default.createElement(w,{path:[fe,Je],component:Nm})));return e>0?c.default.createElement(Qh,{onAction:t,throttle:1e3},i):i};var pw=cw;var hw=({isLoading:e})=>{let{autoLockTimeLimit:t=0}=(0,Vn.useSelector)(hs),r=(0,Vn.useDispatch)();return at.default.createElement(at.default.Fragment,null,at.default.createElement(Vh,null),at.default.createElement(zh,null),at.default.createElement("div",{className:"main-container-wrapper"},e&&at.default.createElement(Sf,null),at.default.createElement(pw,{autoLockTimeLimit:t,setLastActiveTime:()=>{r(Gs())}})))};var mw=({isLoading:e})=>React.createElement(hw,{isLoading:e});a();s();var Yn=h(P()),gw=h(ee()),ww=h(Xt());var uE=()=>{let e=(0,Yn.useRef)(!1),{walletId:t,platformAssetUSD:r,nftBalanceUSD:n,defiBalanceUSD:i,tokenBalanceUSD:o}=(0,gw.useSelector)(Ff),l=(0,ww.usePrevious)(t,()=>!0);(0,Yn.useEffect)(()=>{l!==t&&(e.current=!1),r!==jf&&e.current===!1&&(xs({wallet_id:t,coin_balance:o,nft_balance:n,defi_balance:i,platform_coin_balance:r}),e.current=!0)},[t,l,r,n,o,i])},_w=uE;a();s();var yw=h(P()),ca=h(ee());Kt();vt();var fE=()=>{let e=(0,ca.useSelector)($r),t=(0,ca.useSelector)(Af),n=me()===qr;(0,yw.useEffect)(()=>{e&&Es({islogin:"yes",isbydapp:n?"yes":"no",dapp_url:Wa?"web3.okx.com/pc":t,wallet_id:e})},[e])},vw=fE;a();s();a();s();var dE=()=>{},bw=dE;var Sw=bw;oe.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:oe.DIRECTION.top,isInline:!0});var Cw=()=>{let e=Sw(),t=(0,Ew.useHistory)(),r=(0,st.useDispatch)(),[,n]=Fh(Gr.getCheckCountryLimit);(0,Ge.useEffect)(()=>{if(n){let{data:{web3:{limit:v,displayCountryName:C}}}=n;v&&ge.warn({maskClosable:!1,renderFooter:()=>Ge.default.createElement("div",null),alignBottom:!1,title:O("wallet_extension_login_title_access_restricted"),text:O("wallet_extension_login_toast_unavailable_inyourregion",{area:C})})}},[n]),Dn(),vw(),_w();let i=(0,st.useSelector)(v=>v.appState.isLoading),{os:o,browser:l}=(0,st.useSelector)(v=>v.metamask.browserEnvironment)||{},u=(0,st.useSelector)(ms),d=(0,st.useSelector)(ps)?.isoCode||"usd",p=(0,st.useSelector)(Jr),S=process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY,b=()=>{t.listen((v,C)=>{C==="PUSH"&&vh(v.pathname)})},T=()=>{d||r(yf("usd"))};return(0,Tw.useMount)(()=>{b(),pf(),Qr(u),T(),qh(p)}),Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement("div",{className:(0,xw.default)("app-content",{[`os-${o}`]:o,[`browser-${l}`]:l}),style:{height:e}},Ge.default.createElement(mw,{isLoading:i})),!!S&&Ge.default.createElement($h,null))};a();s();var ha=class extends ne.PureComponent{constructor(){super(...arguments);$e(this,"state",{});$e(this,"isNetworkError",()=>{let{error:r}=this.state;return r instanceof TypeError&&r.message?.toLocaleLowerCase().match(/failed to fetch/)})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){Me.captureException(r)}render(){let{error:r}=this.state,{store:n}=this.props;if(r){let i=r&&this.isNetworkError();return ne.default.createElement(pa.Provider,{store:n},ne.default.createElement(Yo,null,i?ne.default.createElement(Rh,null):ne.default.createElement(Xo,{error:r})))}return ne.default.createElement(pa.Provider,{store:n},ne.default.createElement(Wh,null),ne.default.createElement(Pw.HashRouter,null,ne.default.createElement(Yo,null,ne.default.createElement(Ia,{options:Ya},ne.default.createElement(Ma,null,ne.default.createElement(Cw,null))))))}},Aw=ha;var wa=h(Kw());Vw();ri();ui();Xw();ni();Yt();a();s();function Ow(e){let t={accountIdentities:e.accountIdentities,keyringIdentities:e.keyringIdentities,selectedWallet:e.selectedWallet,multiAddressBaseChainsMap:e.multiAddressBaseChainsMap};return delete e.accountIdentities,delete e.keyringIdentities,delete e.selectedWallet,delete e.multiAddressBaseChainsMap,t}var ma=null,Xn=null,Iw=!1,ga={current:{},okdCurrent:{},dexCurrent:{}};function cE(){if(!Iw){if(Ka.config({top:16}),Oa.config({returnString:!0,isConvertToZero:!0,exponentialAt:[-40,40]}),$t.setConfig({Dialog:{maskClosable:!0,getContainer:()=>document.querySelector(".main-container-wrapper")},Drawer:{getContainer:()=>document.querySelector(".main-container-wrapper")},[$t.componentNames.Select]:{bottomSafeSpace:0}}),process.env.ASSETS_BUILD_TYPE===Re.DEV||process.env.ASSETS_BUILD_TYPE===Re.DAILY){let e=window.localStorage.getItem("languageKeyMode");bt(e==="keyMode")}Iw=!0}}function pE(e){window.getCleanAppState=function(){let t=Pa(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t}}async function hE(){return await Ta.setUrlFromLocalAsync(),await Sa.setUrlFromLocalAsync(),Promise.allSettled([Ss(),Ts()])}function mE(e){async function t(r){let n=await zn.default.tabs.get(r),{active:i,id:o,title:l,url:u}=n;if(i===!1)return;let{origin:d,protocol:p}=u?new URL(u):{};!d||d==="null"||e.dispatch(uh({id:o,title:l,origin:d,protocol:p,url:u}))}zn.default.tabs.onActivated.addListener(async({tabId:r})=>{await t(r)}),zn.default.tabs.onUpdated.addListener(async r=>{await t(r)})}async function gE(e){return new Promise((t,r)=>{e.getStateByDomain((n,i)=>{if(n){r(n);return}t(i)})})}async function wE({metamaskState:e,backgroundConnection:t,opts:r,isFirstRun:n}){let i;if(n){ts(e.currentLocale);let b=await Promise.allSettled([Vr(e.currentLocale),Vr(e.currentLocale,wa.LOCALE_TYPE.okd),Vr(e.currentLocale,wa.LOCALE_TYPE.dex)]);ga={current:b[0].value,okdCurrent:b[1].value,dexCurrent:b[2].value},js(e.currentLocale),i=ga}else i=ga;let o=Ow(e),u={...{activeTab:r.activeTab,metamask:e,appState:{},localeMessages:i}},d;n?(d=Uo(u),Xn=d,mE(d),d.dispatch(Ph())):(d=Xn,d.dispatch(fi(e)));let p=us(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return p.length>0&&d.dispatch($s({id:p[0].id})),t.onNotification(b=>{switch(b.method){case"sendUpdate":{let T=b.params[0];d.dispatch(fi(T))}break;case"sendPartialUpdate":{let T=b.params[0];d.dispatch(Hs(T))}break;case"sendUpdateBalance":{let T=b.params[0];d.dispatch(T?bs(T):Tt())}break;default:throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(b)}`)}}),Fs(o,d.dispatch.bind(d),!1),ma=ma||(0,Rw.createRoot)(r.container),ma.render(Mw.default.createElement(Aw,{store:d})),d}async function _a(e,t){cE();let{backgroundConnection:r}=e;$a(r),Xa(r.refreshHttpDNS);try{let n=await gE(r);ls(n.chainList);let i=!Xn;i&&await hE();let o=await wE({metamaskState:n,backgroundConnection:r,opts:e,isFirstRun:i});i&&pE(o),t(null,o)}catch(n){Xn=null,t(n)}}window.logStateString=async function(e){let t=window.getCleanAppState();try{let r=await globalThis.platform.getPlatformInfo();t.platform=r;try{t.log=await lf()}catch{t.log=[]}let n=await fh();Object.keys(n).forEach(o=>{t[o]=n[o]});let i=JSON.stringify(t,null,2);e(null,i)}catch(r){e(r)}};a();s();var _E=["popup.html","notification.html","home.html"];navigator.userAgent.includes("Android")&&_E.forEach(e=>{location.href.includes(e)&&(location.href=location.href.replace(e,"fullscreen.html"))});var ya=!1,Jn=null;function yE(e){let t=new Dw.default;t.pipe(e).pipe(t),e.on("error",Wr),t.on("error",Wr)}function vE(e,t){let r=tp(e);t(null,r)}function bE(e,t){let r=oh(e);vE(r.createStream("controller"),t),yE(r.createStream("provider"))}function SE(e,t,r,n){bE(r,(i,o)=>{if(i){n(i);return}_a({activeTab:e,container:t,backgroundConnection:o},n)})}async function EE(e){return new Promise(t=>{if(e!==Ur&&e!==jr){t({});return}va.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[n]=r,{id:i,title:o,url:l}=n,{origin:u,protocol:d}=l?new URL(l):{};if(!u||u==="null"){t({});return}t({id:i,title:o,origin:u,protocol:d,url:l})}).catch(Wr)})}async function kw(e,t){let r=await EE(e);Fr()===La&&(r.origin="https://web3.okx.com");let n=document.getElementById("app");SE(r,n,t,i=>{if(i)throw i})}function TE(){if(!ya)try{globalThis.platform=new Do,Jn=me(),Ua(),ya=!0}catch{ya=!1}}function Lw(){let e=va.default.runtime.connect({name:Jn}),t=new mr(e);return t.once("end",()=>{let r=Lw();kw(Jn,r)}),t}async function xE(){TE();let e=Lw();kw(Jn,e)}xE().catch(Nw.default.error);

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ui.js.map

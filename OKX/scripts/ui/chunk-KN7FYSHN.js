import{a as A}from"./chunk-GCXGJXXN.js";import{ob as p,z as f}from"./chunk-YALUYHLV.js";import{a as w}from"./chunk-ON6S2DB7.js";import{H as a,o as R}from"./chunk-PUSMMCUD.js";import{R as M,z as t}from"./chunk-UWJLNJLY.js";import{f as L,o as e,q as o}from"./chunk-6KXF36WM.js";e();o();var I=L(w());M();e();o();var c={OVER_LIMIT_ACCOUNT_NUMBER:"OVER_LIMIT_ACCOUNT_NUMBER",SERVER_ERROR:"SERVER_ERROR",NOT_SUPPORT_SYNC:"NOT_SUPPORT_SYNC",UNKNOWN_ERROR:"UNKNOWN_ERROR",PASSWORD_ERROR:"PASSWORD_ERROR",DOWNLOAD_ERROR:"DOWNLOAD_ERROR",UPLOAD_ERROR:"UPLOAD_ERROR",DATA_ERROR:"DATA_ERROR",HAS_CLOUD_UPDATE:"HAS_CLOUD_UPDATE",CLOUD_DATA_RESET:"CLOUD_DATA_RESET",EXCEED_MAXIMUM_ITEMS_LIMIt:"EXCEED_MAXIMUM_ITEMS_LIMIt",DATA_INVALID:"DATA_INVALID",NO_META_DATA:"NO_META_DATA"};e();o();e();o();e();o();var T={idle:"idle",syncing:"syncing",completed:"completed",failed:"failed"};var W=()=>{let _=async()=>{},i=async()=>{},u=async()=>{};return{isSyncSupported:!1,hasSyncEnabled:!1,hasUpdateOnCloud:!1,hasWalletDataOnCloud:!1,syncStatus:T.idle,syncError:null,manualSync:_,closeSync:i,hasCheckedCloudSyncInfo:!0,checkedCloudSyncInfoError:null,startSync:u}},m=W;var D=m;var g=()=>{let{isSyncSupported:_,hasSyncEnabled:i,hasUpdateOnCloud:u,hasWalletDataOnCloud:h,manualSync:S,closeSync:d,hasCheckedCloudSyncInfo:y,checkedCloudSyncInfoError:E}=D(),{cloudResetTip:U}=A(),O=(0,I.useHistory)();return{isSyncSupported:_,hasSyncEnabled:i,hasUpdateOnCloud:u,hasWalletDataOnCloud:h,manualSync:S,manualSyncWithCatch:async n=>{let s={success:!0,error:void 0};try{await S(n),a.success(t("wallet_extension_home_notification_backed_up"))}catch(C){s.success=!1,s.error=C;let r=C?.message;if(r===c.OVER_LIMIT_ACCOUNT_NUMBER){let N=R.tip({infoType:R.Tip.INFO_TYPE.default,title:t("wallet_extension_tgsync_dialog_title_reach_limit"),children:t("wallet_extension_tgsync_notification_failed"),confirmText:t("commonall_text_btn_ok_passive"),btnFull:!1,onConfirm:()=>{d(),N.destroy(),O.replace(f)}})}else r===c.HAS_CLOUD_UPDATE?O.replace(p):r===c.CLOUD_DATA_RESET?U():a.warn({title:r===c.PASSWORD_ERROR?t("wallet_tgsync_error_wrong_password"):t("wallet_extension_tgsync_notification_failed")})}return s},closeSync:d,closeSyncWithCatch:async()=>{let n={success:!0,error:void 0};try{await d()}catch(s){n.success=!1,n.error=s,a.warn({title:t("wallet_home_toast_network_error")})}return n},hasCheckedCloudSyncInfo:y,checkedCloudSyncInfoError:E,isDataValidated:y&&!E}},te=g;export{te as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KN7FYSHN.js.map

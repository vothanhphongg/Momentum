import{a as be,b as Me}from"./chunk-IBTV5Y4U.js";import{b as Yt}from"./chunk-224TCEMU.js";import{a as yt}from"./chunk-TTIQ7D3T.js";import{a as Ht,b as Se,c as ve}from"./chunk-7FJETTPZ.js";import{a as Lt,b as dt}from"./chunk-H5FQUSH6.js";import{f as Pt}from"./chunk-K7CEH6LH.js";import"./chunk-SRCBMK3B.js";import"./chunk-4EEXXMXA.js";import"./chunk-KN7FYSHN.js";import"./chunk-AQOCVER4.js";import{a as Ae}from"./chunk-MGYCOFIC.js";import"./chunk-S7NLB5XS.js";import"./chunk-UUWJWUOY.js";import{a as ke}from"./chunk-YRSBWGKR.js";import{h as Te,i as ye,p as Ne,q as Ee}from"./chunk-J4ZNYN2W.js";import"./chunk-UIZERJWY.js";import"./chunk-N4CUQAO7.js";import"./chunk-X4AGSDQV.js";import"./chunk-KLLSVAFY.js";import"./chunk-KBS3PMLQ.js";import"./chunk-7GKX3YKG.js";import"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import"./chunk-JCM7SRK2.js";import"./chunk-Y2TZQZGL.js";import{d as Ce,e as Ie}from"./chunk-4FBPDXIS.js";import"./chunk-ZV5BZTW2.js";import"./chunk-3NWEQ7OH.js";import"./chunk-YDPPVPLV.js";import{a as Mt}from"./chunk-GCXGJXXN.js";import"./chunk-U4JANCGD.js";import"./chunk-SNHC6HKE.js";import"./chunk-UBFC7TLG.js";import{c as pe,d as _e}from"./chunk-XKL64FTO.js";import{a as bt}from"./chunk-PTD7UCOR.js";import"./chunk-Q4YTGP2G.js";import{b as U}from"./chunk-ETJEH7T4.js";import"./chunk-LLZAOPDB.js";import{a as tt}from"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-Y2TPPS4H.js";import"./chunk-ITY22AD4.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{G as we,Ya as ge,a as At,ca as kt,mb as St}from"./chunk-YALUYHLV.js";import{q as P}from"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import{o as ue}from"./chunk-5QMHGZLF.js";import{Tb as ce,d as re,ec as vt}from"./chunk-HPWCPLRR.js";import"./chunk-O6ZBO5JF.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import"./chunk-ON6S2DB7.js";import"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import{m as Ct,n as It,r as le}from"./chunk-3DZ7WRLL.js";import{d as xt,f as oe}from"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-XV444F26.js";import{oa as me}from"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import{a as de,c as fe,i as he}from"./chunk-JGEHAFTO.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import{a as xe,c as W}from"./chunk-43VURGIT.js";import{$c as rt,B as Rt,Eb as ne,H as Ze,Sc as qe,ia as te,ja as Ve,kb as Ft,rc as je,rd as ae,sc as ie}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{H as at,N as ut,p as Et,q as zt,x as $t}from"./chunk-PUSMMCUD.js";import{A as Qt,R as it,z as s}from"./chunk-UWJLNJLY.js";import{a as se}from"./chunk-VRY2ADKE.js";import"./chunk-5U7FO2PW.js";import"./chunk-PDUOSATP.js";import{r as _t,ra as Wt}from"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{W as ee,c as Ge,ea as C}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as ot}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import"./chunk-7U3DN5ZD.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f as v,o as a,q as l}from"./chunk-6KXF36WM.js";a();l();var G=v(ot()),Ue=v(vt());it();a();l();var T=v(ot()),Ot=v(vt()),ht=v(ue());Wt();it();le();je();oe();a();l();var O=v(ot()),Le=v(vt());it();qe();a();l();function Ut({visible:t,setVisible:o,confirm:u,chooseNetworkList:h,supportChainsList:c,setChooseNetWorkList:E}){let f=(0,Le.useSelector)(ce),[d,M]=(0,O.useState)(!1),$=(0,O.useMemo)(()=>c.map(i=>i.chainName),[c]),H=(0,O.useMemo)(()=>c.filter(i=>!(Lt.includes(i.chainName)||dt.includes(i.chainName))).map(i=>({...f.find(w=>w.baseChain===i.chainName),imported:i.imported})),[f,c]),L=(0,O.useMemo)(()=>ve.map(({chain:i,...I})=>$.includes(i)?{chain:i,config:I,allChains:f.filter(w=>i===ie&&dt.includes(w.baseChain)?!0:w.baseChain===i),imported:c.find(w=>w.chainName===i)?.imported}:null),[f,c]);return t?O.default.createElement("div",{className:"chains-choose-network-modal__wrap"},O.default.createElement(bt,{title:s("wallet_transfer_multichain_coin_maintitle_select_network"),className:"chains-choose-network-modal__navigator",onBack:()=>o(),closeable:!1}),O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__wrap"},O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__container"},L.map(i=>{if(!i)return null;let{chain:I,imported:w,allChains:y,config:D}=i,{titleKey:V,remindKey:F,networkCountKey:J,importPrivateKeyConfig:{supportNetworksKey:A}}=D;return O.default.createElement(Ht,{imported:w,selected:h.includes(I),handleClick:()=>{w||E(I)}},O.default.createElement(Se,{titleKey:V,remindKey:F,networkCountKey:J,descriptionKey:A,chainsList:y,imported:w}))}),H.map(i=>O.default.createElement(Ht,{key:i.chainName,selected:h.includes(i.baseChain),handleClick:()=>{i.imported||E(i.baseChain)},...i}))),O.default.createElement("div",{className:"chains-choose-network-modal__confirm-button-wrap"},O.default.createElement(C,{block:!0,loading:d,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:async i=>{try{M(!0),i.preventDefault(),i.stopPropagation(),await u(),M(!1)}catch{M(!1)}},className:"chains-choose-network-modal__confirm-button"},s("wallet_set_password_btn_confirm"))))):null}a();l();var ft={root:"_root_o5han_1",title:"_title_o5han_4",input:"_input_o5han_7",link:"_link_o5han_12",bulk:"_bulk_o5han_18"};var Pe=t=>{let{history:o}=t,u=(0,Ot.useDispatch)(),h=(0,Ot.useSelector)(re),[c,E]=(0,T.useState)(!1),[f,d]=(0,T.useState)(""),[M,$]=(0,T.useState)(""),[H,L]=(0,T.useState)(!1),[i,I]=(0,T.useState)(!1),[w,y]=(0,T.useState)(!1),[D,V]=(0,T.useState)([]),[F,J]=(0,T.useState)([]),{handleCloudResetError:A}=Mt();(0,ht.useMount)(()=>{E(o.location.pathname===kt)}),(0,ht.useUnmount)(()=>{L(!1),d(""),$(""),I(!1)});let et=n=>{y(!!n)},j=n=>{V([n])},st=async n=>{let{keyringName:g="",walletName:z=""}=n||{},Q=`${g}-${z}`;o.push({pathname:`${we}/key`,state:{walletName:Q,anim:"1",next:At}})},q=(0,ht.useMemoizedFn)(async()=>{let n="",g=!0;f&&!await Me(f,h)&&(g=!1,n=s("wallet_import_errortip_wrong_private_key")),L(!1),V([]),$(n),I(g)},[f]),nt=_t(q,200),p=async n=>{L(!0),d(n),$(""),I(!1),await nt()},r=async n=>{if(n?.preventDefault(),!i)return;yt();let z=(await be(f,h))?.filter(K=>K!==ne),Q=[];for(let K=0,Tt=z.length;K<Tt;K++){let R=z[K],ct=[R];R===Ft&&(ct=[...ct,...dt]),Q.push(xt().checkPrivateKeyIsImported({baseChains:ct,wallets:[{privateKey:f}]}))}let mt=(await Promise.allSettled(Q)).map((K,Tt)=>{let{value:R}=K;return R===void 0&&(R=!0),{chainName:z[Tt],imported:R}}),wt=mt.filter(({imported:K})=>!K).map(({chainName:K})=>K),gt=Lt.find(K=>wt.includes(K))||wt[0];gt?(V([gt]),J(mt),et(!0)):at.error({title:s("wallet_extension_imported_toast_wallet_existes"),top:0}),yt()},m=async()=>{if(!i)return;let n;try{let g=D;g.includes(Ft)&&(g=[...g,...dt]),c?n=await u(_e({privateKey:f,baseChains:g})):(await u(ye(f)),await u(Ne(g))),c?st(n):o.push(`${St}?from=${Pt.KEY}`)}catch(g){g.message===Ct&&at.error(s("wallet_home_toast_network_error")),g.message===It&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),$(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),A(g)}},x=s("wallet_import_subtitle_import_private_key_desc");return T.default.createElement(T.default.Fragment,null,T.default.createElement(W.Container,{className:ft.root},T.default.createElement("form",{onSubmit:r},T.default.createElement(P.Text,{size:P.SIZE.sm,className:ft.title},s("wallet_addwallet_btn_import_private_key")),T.default.createElement(Ie,{elementName:"ipk"},T.default.createElement(zt.TextArea,{inputClassName:ft.input,value:f,type:"password",size:zt.SIZE.lg,placeholder:x,onChange:n=>p(n.target.value),onPressEnter:r,errorType:"blur",error:M,autoComplete:"off",cleanable:!0})),!w&&T.default.createElement(tt.FooterActions,{usePortal:!0,direction:xe.vertical},T.default.createElement(P.Text,{size:P.SIZE.sm,align:P.ALIGN.center,className:ft.link,onClick:()=>{ke(ge)}},s("wallet_extension_private_key_maintitle_bulk_import"),T.default.createElement(ee,{className:`okds-arrow-pointer-right-md ${ft.bulk}`})),T.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!i,loading:H,onClick:r,block:!0},s("wallet_set_password_btn_confirm"))))),T.default.createElement(Ut,{visible:w,chooseNetworkList:D,supportChainsList:F,setVisible:et,setChooseNetWorkList:j,confirm:m}))};a();l();var N=v(ot()),Fe=v(vt()),Dt=v(ue()),He=v(Ae());Wt();it();oe();ae();le();a();l();ae();se();a();l();se();function Zt(t,o){switch(t){case 501:return`m/44'/501'/${o}'/0'`;case 637:return`m/44'/637'/${o}'/0'/0'`;case 118:return`m/44'/118'/0'/0/${o}`;case 1001:case 1011:case 2892:return`m/44'/60'/0'/0/${o}`;case 1003:return`m/44'/394'/0'/0/${o}`;case 1006:return`m/44'/459'/0'/0/${o}`;case 1008:return`m/44'/529'/0'/0/${o}`;case 1010:return`m/44'/330'/0'/0/${o}`;case 784:return`m/44'/784'/${o}'/0'/0'`;case 804:return`m/44'/60'/0'/0/${o}`;case 9004:return`m/44'/9004'/0'/0/${o}`;case 1815:return`m/1852'/1815'/${o}'/0/0`;case 1237:return`m/44'/1237'/${o}'/0/0`;case 111111:return`m/44'/111111'/0'/0/${o}`;case 397:return`m/44'/397'/${o}'`;case 607:return`m/44'/607'/${o}'`;case 70000074:return`m/44'/314159'/${o}'`;default:return`m/44'/${t}'/0'/0/${o}`}}async function Oe(t=""){try{let{wallet:o}=await fe(607);return await o.validateMnemonicOfTon({mnemonicArray:t.split(" "),password:""})}catch{return!1}}async function Be(t){let o=[{type:rt.HD_KEYRING,address:"",hdPath:Zt(607,0)},{type:rt.TON_HD_KEYRING,address:"",hdPath:""}],{getNewAddress:u,getDerivedPrivateKey:h}=await de();return Promise.all(o.map(async c=>{let E=await h(607,{mnemonic:t,hdPath:c.hdPath}),{address:f}=await u(607,{privateKey:E});return c.address=f,c}))}a();l();var e=v(ot()),Gt=v(Ae()),jt=v(Ge());Wt();it();Ve();a();l();var Bt=v(ot());function Vt(t,o=[]){let u=(0,Bt.useRef)(!1);(0,Bt.useEffect)(()=>{if(u.current)return t();u.current=!0},o)}Ze();a();l();var De={topWrapper:"_topWrapper_c7vcn_1"};a();l();var Je=({onWordsChange:t,onAnyWordError:o,onEditStateChange:u,onClear:h,error:c})=>{let[E,f]=(0,e.useState)("12"),[d,M]=(0,e.useState)(new Array(12).fill(null)),[$,H]=(0,e.useState)(!1),[L,i]=(0,e.useState)(-1),[I,w]=(0,e.useState)(!1),y=(0,e.useRef)(new Array(12).fill(null)),D=({text:r})=>e.default.createElement("div",{className:"mnemonic-words-menu-item"},r),V=(0,e.useMemo)(()=>[{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_12word",{length:"12"})}),value:"12"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_15word",{length:"15"})}),value:"15"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_18word",{length:"18"})}),value:"18"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_21word",{length:"21"})}),value:"21"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_24word",{length:"24"})}),value:"24"}],[s]),[F,J]=(0,e.useState)(!1),A=(0,e.useMemo)(()=>_t(r=>{J(r)},300),[]),et=(0,e.useCallback)(({value:r})=>{f(r),H(!0);let m=parseInt(r,10);if(m===d.length)return;let x=[...d],n=x.length;n<m?(x.length=m,y.current.length=m,x.fill(null,n,m),y.current.fill(!1,n,m)):(y.current.length=m,x.length=m),M(x),t&&t(x)},[d,t]),j=(0,e.useCallback)((r,m)=>{M(x=>{x[m]=r;let n=[...x];return t&&t(n),n}),w(!1)},[t]),st=(0,e.useCallback)((r,m)=>{let n=(r.trim().toLowerCase().match(/\w+/gu)?.join(" ")||"").split(/\s/u);if(n.length===0)return;if($===!1&&d.every(z=>!z)&&[12,15,18,21,24].includes(n.length)){f(`${n.length}`),M(n),t&&t(n);return}let g=[...d];for(let z=0;z<n.length;z++){let Q=m+z;if(Q>=g.length)break;g[Q]=n[z]}M(g),t&&t(g)},[t,d]),q=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].error=r;let x=y.current.filter(n=>n&&n.error===!0).length;o&&o(x>0)},[o]),nt=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].focus=r;let x=y.current.filter(n=>n&&n.focus===!0).length>0;A(x),i(m)},[A]);Vt(()=>{u&&u(F)},[F,u]);let p=()=>{let r=d.map(()=>null);M(r),t&&t(r),h&&h(),w(!0)};return e.default.createElement("div",{className:"mnemonic-words-inputs"},e.default.createElement(W.FlexBox,{className:De.topWrapper,align:W.ALIGN.center,justify:"space-between"},e.default.createElement("span",{className:"mnemonic-words-inputs__length-type__text"},Qt("wallet_extension_import_seed_phrase_dropdown_text_ihave2",{words:e.default.createElement($t,{align:$t.DIRECTION.right,isPcShowCheck:!0,options:V,onChange:et,value:E,optionContClassName:"mnemonic-words-inputs__length-type-dropdown-list",optionItemClassName:"mnemonic-words-inputs__length-type-item"})})),d.some(r=>r)&&e.default.createElement("div",{className:"mnemonic-words-inputs__clear"},e.default.createElement("div",{className:"mnemonic-words-inputs__clear-button",onClick:p},e.default.createElement("span",null,s("wallet_extension_import_seed_phrase_button_clear"))))),e.default.createElement("div",{className:"mnemonic-words-inputs__container"},d.map((r,m)=>e.default.createElement(Qe,{key:m,word:d[m]?d[m]:"",onWordChange:j,onFocusChange:nt,onPaste:st,onValidate:q,index:m,focusIndex:L,cleared:I}))),c&&e.default.createElement("span",{className:"mnemonic-words-inputs__error"},c))},Qe=({index:t,onWordChange:o,onPaste:u,word:h,onValidate:c,onFocusChange:E,focusIndex:f,cleared:d})=>{let[M,$]=(0,e.useState)(!1),[H,L]=(0,e.useState)(!0),[i,I]=(0,e.useState)(!1),[w,y]=(0,e.useState)(""),D=(0,e.useCallback)(p=>{let r=p.target.value;if(te()===Rt&&r.includes(" ")){u(r,t),L(!0),E(!1,t);return}let m=(r||"").trim().toLowerCase();o(m,t),y(m)},[t,o]),V=(0,e.useCallback)(p=>{p.preventDefault(),p.stopPropagation();let r=p.clipboardData.getData("text");u(r,t),L(!0),E(!1,t)},[t,u]),F=(0,e.useCallback)(p=>{let r=Boolean(p)&&!Gt.wordlists.english.includes(p);$(r),c&&c(r,t)},[t,c]),J=(0,e.useCallback)(()=>{L(!0),E(!1,t)},[t,E]);Vt(()=>{H&&F(h)},[h,H,F]);let A=(0,e.useMemo)(()=>{if(!w)return[];let p=w.replace(/[^a-zA-Z]/gm,"");if(!p)return[];let r=Gt.wordlists.english.filter(m=>new RegExp(`^${p}`).test(m));return r.length===1&&r[0]===p?[]:(r.length>6&&(r.length=6),r)},[w]),et=(0,e.useCallback)(()=>{L(!1),I(!0),E(!0,t),c&&c(!1,t)},[t,E,c]),j=p=>{D({target:{value:p}}),I(!1),$(!1),c&&c(!1,t),L(!0),E(!1,t),setTimeout(()=>{let r=document.querySelectorAll(".mnemonic-words-inputs__container__input");r[t+1]&&r[t+1].focus()})},st=(0,e.useCallback)(({key:p})=>{p==="Enter"&&A.length===1&&j(A[0])},[A]),q=(0,e.useRef)(null),nt=H&&h&&!M;return(0,e.useEffect)(()=>{function p(r){q.current&&!q.current.contains(r.target)&&I(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[q]),(0,e.useEffect)(()=>{f!==t&&(I(!1),F(h))},[f,t]),(0,e.useEffect)(()=>{F(h)},[d]),e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-item"},e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-index"},t+1),e.default.createElement(Et,{className:"mnemonic-words-inputs__container__input-popup",arrowSize:Et.SIZE.lg,arrowStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:"8px",disabled:A.length===0,content:e.default.createElement("div",{ref:q,className:(0,jt.default)("mnemonic-words-inputs__container__candidate",{"columns-3":A.length>=3,"columns-2":A.length===2,"columns-1":A.length===1})},A.map(p=>e.default.createElement("div",{key:p,className:"mnemonic-words-inputs__container__candidate-word",onClick:()=>j(p)},p))),show:i,placement:Et.DIRECTION.bottom,smartMode:!0,modifiers:[{name:"preventOverflow",options:{padding:16}}]},e.default.createElement(Ce,{elementName:"m"},e.default.createElement("input",{className:(0,jt.default)("mnemonic-words-inputs__container__input",{"mnemonic-words-inputs__container__input-error":M}),value:h,onBlur:J,onFocus:et,onPaste:V,onChange:D,onKeyDown:st,autoComplete:"off",type:nt?"password":"text"}))))},Ke=Je;a();l();var Z=v(ot());it();a();l();var X={root:"_root_1337z_1",fixBox:"_fixBox_1337z_4",closeBox:"_closeBox_1337z_8",textBox:"_textBox_1337z_13",iconBox:"_iconBox_1337z_21",icon:"_icon_1337z_21",tonTitle:"_tonTitle_1337z_30",text:"_text_1337z_13"};var Re=({onClose:t=()=>{},onConfirm:o=()=>{},isImporting:u=!1})=>Z.default.createElement(W.Portal,{className:X.root},Z.default.createElement(tt.FooterActions,{className:X.fixBox},Z.default.createElement("div",{className:X.closeBox},Z.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:X.icon,onClick:t})),Z.default.createElement(W.Box,{className:X.textBox},Z.default.createElement("div",{className:X.iconBox},Z.default.createElement(U,{size:U.SIZE.xxl,icon:"okx-wallet-plugin-warning-circle",className:X.icon})),Z.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:X.tonTitle},s("wallet_extension_import_title_being_imported")),Z.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:X.text},s("wallet_extension_import_subtitle_being_imported")),Z.default.createElement(tt.FooterActions,null,Z.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:o,block:!0,loading:u},s("commonall_text_btn_ok_passive")))))),We=Re;a();l();var S=v(ot());it();a();l();var B={root:"_root_1rxd9_1",fixBox:"_fixBox_1rxd9_4",closeBox:"_closeBox_1rxd9_9",textBox:"_textBox_1rxd9_14",iconBox:"_iconBox_1rxd9_23",icon:"_icon_1rxd9_23",tonTitle:"_tonTitle_1rxd9_32",text:"_text_1rxd9_14",switchItem:"_switchItem_1rxd9_43",address:"_address_1rxd9_50",addressTitle:"_addressTitle_1rxd9_55",tonAddress:"_tonAddress_1rxd9_59"};var to=({item:t})=>{let{address:o,tonTitle:u,onClick:h,iconLink:c}=t;return S.default.createElement("div",{className:B.switchItem,onClick:()=>{h&&h(t)}},S.default.createElement("div",{className:B.iconTps},S.default.createElement(U,{size:U.SIZE.lg,icon:c,className:B.icon})),S.default.createElement("div",{className:B.address},S.default.createElement("span",{className:B.addressTitle},u),S.default.createElement("div",null,s("wallet_extension_ton_select_ton_address")),S.default.createElement("span",{className:B.tonAddress},o)),S.default.createElement("div",{className:B.iconArrow},S.default.createElement(U,{size:U.SIZE.lg,icon:"okx-wallet-plugin-right",className:B.icon})))},eo=({onClose:t=()=>{},addressList:o=[]})=>S.default.createElement(W.Portal,{className:B.root},S.default.createElement(tt.FooterActions,{className:B.fixBox},S.default.createElement("div",{className:B.closeBox},S.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:B.icon,onClick:t})),S.default.createElement(W.Box,{className:B.textBox},S.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:B.tonTitle},s("wallet_extension_ton_title_input_address")),S.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:B.text},s("wallet_extension_ton_desc_input_address")),o.map(u=>S.default.createElement(to,{item:u}))))),ze=eo;a();l();var $e={root:"_root_v31gt_1"};var Ye=t=>{let{history:o}=t,u=(0,Fe.useDispatch)(),[h,c]=(0,N.useState)(!1),[E,f]=(0,N.useState)(!1),[d,M]=(0,N.useState)([]),[$,H]=(0,N.useState)(!1),[L,i]=(0,N.useState)(""),[I,w]=(0,N.useState)(!1),[y,D]=(0,N.useState)(!1),[V,F]=(0,N.useState)(!1),[J,A]=(0,N.useState)(!1),[et,j]=(0,N.useState)(!1),[st,q]=(0,N.useState)([]),[nt,p]=(0,N.useState)(!1),{handleCloudResetError:r}=Mt();(0,Dt.useMount)(()=>{f(o.location.pathname===kt)});let m=()=>{o.replace(At)},x=(0,Dt.useMemoizedFn)(async()=>{let _=d.length>0,k=!1;for(let pt=0;pt<d.length;pt++){let Jt=d[pt];(!Jt||!He.wordlists.english.includes(Jt))&&(_=!1)}let Y=!1,Nt=!1;if(_){let{ethers:pt}=await he();_=pt.utils.isValidMnemonic(d.join(" ")),d.length===me.TWENTYFOUR&&(Y=await Oe(d.join(" ")),_&&!Y||!_&&Y?_=!0:_&&Y?(Nt=!0,_=!0):_=!1),y||(k=!_)}return y&&(k=!1),H(_),F(k),{isValid:_,isTonMnemonic:Y,isMnemonicNormalAndTon:Nt}},[d,y]),n=_t(x,500),g=async _=>{M(_),i(""),await n()},z=_=>{w(_)},Q=_=>{D(_),x()},Xt=()=>I?s("wallet_import_wallet_errortip_seed_phase_wrong"):V?s("wallet_import_wallet_errortip_seed_phase_order_wrong"):L||"",mt=async({isTonMnemonic:_})=>{let k=d.join(" ");try{E?await u(pe({mnemonic:k,isTonMnemonic:_})):await u(Te(k)),E?m():o.push(`${St}?from=${Pt.SEED}`)}catch(Y){Y.message===Ct&&at.error(s("wallet_home_toast_network_error")),Y.message===It&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),i(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),Y.message===Yt&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),r(Y)}finally{c(!1)}yt()},wt=async()=>{try{p(!0),await u(Ee(!0)),await mt({isTonMnemonic:!0}),A(!1)}finally{p(!1)}},gt=async _=>{_.type===rt.HD_KEYRING&&await mt({isTonMnemonic:!1}),_.type===rt.TON_HD_KEYRING&&await wt(),j(!1)},K=async()=>{let _=await Be(d.join(" "));q(_.map(k=>(k.type===rt.HD_KEYRING&&(k.tonTitle=s("wallet_extension_ton_select_multi_chain_wallet"),k.iconLink="okx-wallet-plugin-ton-seedphrase",k.onClick=gt),k.type===rt.TON_HD_KEYRING&&(k.tonTitle=s("wallet_extension_ton_select_ton_wallet"),k.iconLink="okx-wallet-plugin-ton-wallet",k.onClick=gt),k))),j(!0)},Tt=async()=>{try{if(E)await xt().checkMnemonicIsImported({mnemonic:d.join(" ")});else return!0}catch(_){return _.message===Yt&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),c(!1),!1}return!0},R=async _=>{_?.preventDefault(),c(!0);let{isValid:k,isTonMnemonic:Y,isMnemonicNormalAndTon:Nt}=await x();if(!(!k||!await Tt())){if(Nt){K();return}if(Y){A(!0);return}await mt({isTonMnemonic:!1})}},ct=Xt();return N.default.createElement(W.Box,{className:$e.root},N.default.createElement("form",{onSubmit:R},N.default.createElement(Ke,{onEditStateChange:Q,onAnyWordError:z,onWordsChange:g,onClear:()=>{H(!1)},error:ct}),N.default.createElement(tt.FooterActions,{usePortal:!0},N.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!$||ct,loading:h,onClick:R,block:!0},s("wallet_set_password_btn_confirm"))),J&&N.default.createElement(We,{isImporting:nt,onClose:()=>{A(!1),c(!1)},onConfirm:wt}),et&&N.default.createElement(ze,{onClose:()=>{j(!1),c(!1)},addressList:st})))};a();l();var Kt={connect:"_connect_1lqck_1",tabs:"_tabs_1lqck_4","tabs-header":"_tabs-header_1lqck_7",tabsHeader:"_tabs-header_1lqck_7"};var qt=class extends G.PureComponent{render(){return this.props?G.default.createElement(W.Container,null,G.default.createElement(bt,{title:s("wallet_extension_import_card_title_import"),closeable:!1,stickyStyle:{zIndex:10}}),G.default.createElement("div",{className:Kt.connect},G.default.createElement(ut.Segmented,{average:!0,destroyOnHide:!0,className:Kt.tabs,headerClassName:Kt.tabsHeader,size:ut.SIZE.sm,color:ut.COLOR.grey},G.default.createElement(ut.TabPane,{id:"1",tab:s("wallet_extension_import_tab_seed_phrase")},G.default.createElement(Ye,{...this.props})),G.default.createElement(ut.TabPane,{id:"2",tab:s("wallet_extension_import_tab_private_key")},G.default.createElement(Pe,{...this.props}))))):null}},an=(0,Ue.connect)(null,null)(qt);export{an as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ImportSeedPhraseAndPrivateKey-IMOFKMKD.js.map

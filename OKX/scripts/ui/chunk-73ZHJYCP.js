import{a as rt}from"./chunk-H6SNSZIS.js";import{h as De}from"./chunk-RH4ISAHA.js";import{r as it}from"./chunk-PQK3LXXN.js";import{Oa as ve}from"./chunk-FTRHGHDS.js";import{a as Ae}from"./chunk-XT3EOPTE.js";import{B as ce}from"./chunk-A6Z53EN6.js";import{R as Ne,a as nt,f as se}from"./chunk-UWJLNJLY.js";import{j as Qe,la as et,ra as tt}from"./chunk-XDY6V34Y.js";import{c as M,f as xn,n as process,o as h,q as _}from"./chunk-6KXF36WM.js";var fe=M(P=>{"use strict";h();_();var Sn=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Tn(t,n){return Object.prototype.hasOwnProperty.call(t,n)}P.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var i in e)Tn(e,i)&&(t[i]=e[i])}}return t};P.shrinkBuf=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};var Cn={arraySet:function(t,n,e,i,c){if(n.subarray&&t.subarray){t.set(n.subarray(e,e+i),c);return}for(var r=0;r<i;r++)t[c+r]=n[e+r]},flattenChunks:function(t){var n,e,i,c,r,f;for(i=0,n=0,e=t.length;n<e;n++)i+=t[n].length;for(f=new Uint8Array(i),c=0,n=0,e=t.length;n<e;n++)r=t[n],f.set(r,c),c+=r.length;return f}},Rn={arraySet:function(t,n,e,i,c){for(var r=0;r<i;r++)t[c+r]=n[e+r]},flattenChunks:function(t){return[].concat.apply([],t)}};P.setTyped=function(t){t?(P.Buf8=Uint8Array,P.Buf16=Uint16Array,P.Buf32=Int32Array,P.assign(P,Cn)):(P.Buf8=Array,P.Buf16=Array,P.Buf32=Array,P.assign(P,Rn))};P.setTyped(Sn)});var ot=M((Ai,at)=>{"use strict";h();_();function Nn(t,n,e,i){for(var c=t&65535|0,r=t>>>16&65535|0,f=0;e!==0;){f=e>2e3?2e3:e,e-=f;do c=c+n[i++]|0,r=r+c|0;while(--f);c%=65521,r%=65521}return c|r<<16|0}at.exports=Nn});var ct=M((Li,st)=>{"use strict";h();_();function An(){for(var t,n=[],e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n}var Dn=An();function In(t,n,e,i){var c=Dn,r=i+e;t^=-1;for(var f=i;f<r;f++)t=t>>>8^c[(t^n[f])&255];return t^-1}st.exports=In});var lt=M((Pi,ft)=>{"use strict";h();_();var me=30,Ln=12;ft.exports=function(n,e){var i,c,r,f,o,g,s,a,T,v,l,p,m,x,b,A,R,E,d,N,S,w,C,L,k;i=n.state,c=n.next_in,L=n.input,r=c+(n.avail_in-5),f=n.next_out,k=n.output,o=f-(e-n.avail_out),g=f+(n.avail_out-257),s=i.dmax,a=i.wsize,T=i.whave,v=i.wnext,l=i.window,p=i.hold,m=i.bits,x=i.lencode,b=i.distcode,A=(1<<i.lenbits)-1,R=(1<<i.distbits)-1;e:do{m<15&&(p+=L[c++]<<m,m+=8,p+=L[c++]<<m,m+=8),E=x[p&A];t:for(;;){if(d=E>>>24,p>>>=d,m-=d,d=E>>>16&255,d===0)k[f++]=E&65535;else if(d&16){N=E&65535,d&=15,d&&(m<d&&(p+=L[c++]<<m,m+=8),N+=p&(1<<d)-1,p>>>=d,m-=d),m<15&&(p+=L[c++]<<m,m+=8,p+=L[c++]<<m,m+=8),E=b[p&R];n:for(;;){if(d=E>>>24,p>>>=d,m-=d,d=E>>>16&255,d&16){if(S=E&65535,d&=15,m<d&&(p+=L[c++]<<m,m+=8,m<d&&(p+=L[c++]<<m,m+=8)),S+=p&(1<<d)-1,S>s){n.msg="invalid distance too far back",i.mode=me;break e}if(p>>>=d,m-=d,d=f-o,S>d){if(d=S-d,d>T&&i.sane){n.msg="invalid distance too far back",i.mode=me;break e}if(w=0,C=l,v===0){if(w+=a-d,d<N){N-=d;do k[f++]=l[w++];while(--d);w=f-S,C=k}}else if(v<d){if(w+=a+v-d,d-=v,d<N){N-=d;do k[f++]=l[w++];while(--d);if(w=0,v<N){d=v,N-=d;do k[f++]=l[w++];while(--d);w=f-S,C=k}}}else if(w+=v-d,d<N){N-=d;do k[f++]=l[w++];while(--d);w=f-S,C=k}for(;N>2;)k[f++]=C[w++],k[f++]=C[w++],k[f++]=C[w++],N-=3;N&&(k[f++]=C[w++],N>1&&(k[f++]=C[w++]))}else{w=f-S;do k[f++]=k[w++],k[f++]=k[w++],k[f++]=k[w++],N-=3;while(N>2);N&&(k[f++]=k[w++],N>1&&(k[f++]=k[w++]))}}else if((d&64)===0){E=b[(E&65535)+(p&(1<<d)-1)];continue n}else{n.msg="invalid distance code",i.mode=me;break e}break}}else if((d&64)===0){E=x[(E&65535)+(p&(1<<d)-1)];continue t}else if(d&32){i.mode=Ln;break e}else{n.msg="invalid literal/length code",i.mode=me;break e}break}}while(c<r&&f<g);N=m>>3,c-=N,m-=N<<3,p&=(1<<m)-1,n.next_in=c,n.next_out=f,n.avail_in=c<r?5+(r-c):5-(c-r),n.avail_out=f<g?257+(g-f):257-(f-g),i.hold=p,i.bits=m}});var mt=M((Fi,vt)=>{"use strict";h();_();var dt=fe(),ne=15,ut=852,ht=592,_t=0,Oe=1,gt=2,On=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Pn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Un=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];vt.exports=function(n,e,i,c,r,f,o,g){var s=g.bits,a=0,T=0,v=0,l=0,p=0,m=0,x=0,b=0,A=0,R=0,E,d,N,S,w,C=null,L=0,k,U=new dt.Buf16(ne+1),u=new dt.Buf16(ne+1),y=null,F=0,J,V,te;for(a=0;a<=ne;a++)U[a]=0;for(T=0;T<c;T++)U[e[i+T]]++;for(p=s,l=ne;l>=1&&U[l]===0;l--);if(p>l&&(p=l),l===0)return r[f++]=1<<24|64<<16|0,r[f++]=1<<24|64<<16|0,g.bits=1,0;for(v=1;v<l&&U[v]===0;v++);for(p<v&&(p=v),b=1,a=1;a<=ne;a++)if(b<<=1,b-=U[a],b<0)return-1;if(b>0&&(n===_t||l!==1))return-1;for(u[1]=0,a=1;a<ne;a++)u[a+1]=u[a]+U[a];for(T=0;T<c;T++)e[i+T]!==0&&(o[u[e[i+T]]++]=T);if(n===_t?(C=y=o,k=19):n===Oe?(C=On,L-=257,y=yn,F-=257,k=256):(C=Pn,y=Un,k=-1),R=0,T=0,a=v,w=f,m=p,x=0,N=-1,A=1<<p,S=A-1,n===Oe&&A>ut||n===gt&&A>ht)return 1;for(;;){J=a-x,o[T]<k?(V=0,te=o[T]):o[T]>k?(V=y[F+o[T]],te=C[L+o[T]]):(V=32+64,te=0),E=1<<a-x,d=1<<m,v=d;do d-=E,r[w+(R>>x)+d]=J<<24|V<<16|te|0;while(d!==0);for(E=1<<a-1;R&E;)E>>=1;if(E!==0?(R&=E-1,R+=E):R=0,T++,--U[a]===0){if(a===l)break;a=e[i+o[T]]}if(a>p&&(R&S)!==N){for(x===0&&(x=p),w+=v,m=a-x,b=1<<m;m+x<l&&(b-=U[m+x],!(b<=0));)m++,b<<=1;if(A+=1<<m,n===Oe&&A>ut||n===gt&&A>ht)return 1;N=R&S,r[N]=p<<24|m<<16|w-f|0}}return R!==0&&(r[w+R]=a-x<<24|64<<16|0),g.bits=p,0}});var $t=M(H=>{"use strict";h();_();var B=fe(),Me=ot(),K=ct(),Bn=lt(),le=mt(),Fn=0,Wt=1,Gt=2,bt=4,Mn=5,be=6,q=0,Zn=1,Hn=2,Z=-2,Xt=-3,Ze=-4,Kn=-5,pt=8,jt=1,xt=2,wt=3,kt=4,Et=5,St=6,Tt=7,Ct=8,Rt=9,Nt=10,we=11,W=12,ye=13,At=14,Pe=15,Dt=16,It=17,Lt=18,Ot=19,pe=20,xe=21,yt=22,Pt=23,Ut=24,Bt=25,Ft=26,Ue=27,Mt=28,Zt=29,I=30,He=31,Wn=32,Gn=852,Xn=592,jn=15,Yn=jn;function Ht(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function zn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new B.Buf16(320),this.work=new B.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Yt(t){var n;return!t||!t.state?Z:(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=jt,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new B.Buf32(Gn),n.distcode=n.distdyn=new B.Buf32(Xn),n.sane=1,n.back=-1,q)}function zt(t){var n;return!t||!t.state?Z:(n=t.state,n.wsize=0,n.whave=0,n.wnext=0,Yt(t))}function Jt(t,n){var e,i;return!t||!t.state||(i=t.state,n<0?(e=0,n=-n):(e=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15))?Z:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,zt(t))}function Vt(t,n){var e,i;return t?(i=new zn,t.state=i,i.window=null,e=Jt(t,n),e!==q&&(t.state=null),e):Z}function Jn(t){return Vt(t,Yn)}var Kt=!0,Be,Fe;function Vn(t){if(Kt){var n;for(Be=new B.Buf32(512),Fe=new B.Buf32(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(le(Wt,t.lens,0,288,Be,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;le(Gt,t.lens,0,32,Fe,0,t.work,{bits:5}),Kt=!1}t.lencode=Be,t.lenbits=9,t.distcode=Fe,t.distbits=5}function qt(t,n,e,i){var c,r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new B.Buf8(r.wsize)),i>=r.wsize?(B.arraySet(r.window,n,e-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(c=r.wsize-r.wnext,c>i&&(c=i),B.arraySet(r.window,n,e-i,c,r.wnext),i-=c,i?(B.arraySet(r.window,n,e-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=c,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=c))),0}function qn(t,n){var e,i,c,r,f,o,g,s,a,T,v,l,p,m,x=0,b,A,R,E,d,N,S,w,C=new B.Buf8(4),L,k,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Z;e=t.state,e.mode===W&&(e.mode=ye),f=t.next_out,c=t.output,g=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,s=e.hold,a=e.bits,T=o,v=g,w=q;e:for(;;)switch(e.mode){case jt:if(e.wrap===0){e.mode=ye;break}for(;a<16;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(e.wrap&2&&s===35615){e.check=0,C[0]=s&255,C[1]=s>>>8&255,e.check=K(e.check,C,2,0),s=0,a=0,e.mode=xt;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((s&255)<<8)+(s>>8))%31){t.msg="incorrect header check",e.mode=I;break}if((s&15)!==pt){t.msg="unknown compression method",e.mode=I;break}if(s>>>=4,a-=4,S=(s&15)+8,e.wbits===0)e.wbits=S;else if(S>e.wbits){t.msg="invalid window size",e.mode=I;break}e.dmax=1<<S,t.adler=e.check=1,e.mode=s&512?Nt:W,s=0,a=0;break;case xt:for(;a<16;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(e.flags=s,(e.flags&255)!==pt){t.msg="unknown compression method",e.mode=I;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=I;break}e.head&&(e.head.text=s>>8&1),e.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,e.check=K(e.check,C,2,0)),s=0,a=0,e.mode=wt;case wt:for(;a<32;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.head&&(e.head.time=s),e.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,C[2]=s>>>16&255,C[3]=s>>>24&255,e.check=K(e.check,C,4,0)),s=0,a=0,e.mode=kt;case kt:for(;a<16;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.head&&(e.head.xflags=s&255,e.head.os=s>>8),e.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,e.check=K(e.check,C,2,0)),s=0,a=0,e.mode=Et;case Et:if(e.flags&1024){for(;a<16;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.length=s,e.head&&(e.head.extra_len=s),e.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,e.check=K(e.check,C,2,0)),s=0,a=0}else e.head&&(e.head.extra=null);e.mode=St;case St:if(e.flags&1024&&(l=e.length,l>o&&(l=o),l&&(e.head&&(S=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),B.arraySet(e.head.extra,i,r,l,S)),e.flags&512&&(e.check=K(e.check,i,l,r)),o-=l,r+=l,e.length-=l),e.length))break e;e.length=0,e.mode=Tt;case Tt:if(e.flags&2048){if(o===0)break e;l=0;do S=i[r+l++],e.head&&S&&e.length<65536&&(e.head.name+=String.fromCharCode(S));while(S&&l<o);if(e.flags&512&&(e.check=K(e.check,i,l,r)),o-=l,r+=l,S)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Ct;case Ct:if(e.flags&4096){if(o===0)break e;l=0;do S=i[r+l++],e.head&&S&&e.length<65536&&(e.head.comment+=String.fromCharCode(S));while(S&&l<o);if(e.flags&512&&(e.check=K(e.check,i,l,r)),o-=l,r+=l,S)break e}else e.head&&(e.head.comment=null);e.mode=Rt;case Rt:if(e.flags&512){for(;a<16;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(s!==(e.check&65535)){t.msg="header crc mismatch",e.mode=I;break}s=0,a=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=W;break;case Nt:for(;a<32;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}t.adler=e.check=Ht(s),s=0,a=0,e.mode=we;case we:if(e.havedict===0)return t.next_out=f,t.avail_out=g,t.next_in=r,t.avail_in=o,e.hold=s,e.bits=a,Hn;t.adler=e.check=1,e.mode=W;case W:if(n===Mn||n===be)break e;case ye:if(e.last){s>>>=a&7,a-=a&7,e.mode=Ue;break}for(;a<3;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}switch(e.last=s&1,s>>>=1,a-=1,s&3){case 0:e.mode=At;break;case 1:if(Vn(e),e.mode=pe,n===be){s>>>=2,a-=2;break e}break;case 2:e.mode=It;break;case 3:t.msg="invalid block type",e.mode=I}s>>>=2,a-=2;break;case At:for(s>>>=a&7,a-=a&7;a<32;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if((s&65535)!==(s>>>16^65535)){t.msg="invalid stored block lengths",e.mode=I;break}if(e.length=s&65535,s=0,a=0,e.mode=Pe,n===be)break e;case Pe:e.mode=Dt;case Dt:if(l=e.length,l){if(l>o&&(l=o),l>g&&(l=g),l===0)break e;B.arraySet(c,i,r,l,f),o-=l,r+=l,g-=l,f+=l,e.length-=l;break}e.mode=W;break;case It:for(;a<14;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(e.nlen=(s&31)+257,s>>>=5,a-=5,e.ndist=(s&31)+1,s>>>=5,a-=5,e.ncode=(s&15)+4,s>>>=4,a-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=I;break}e.have=0,e.mode=Lt;case Lt:for(;e.have<e.ncode;){for(;a<3;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.lens[U[e.have++]]=s&7,s>>>=3,a-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,L={bits:e.lenbits},w=le(Fn,e.lens,0,19,e.lencode,0,e.work,L),e.lenbits=L.bits,w){t.msg="invalid code lengths set",e.mode=I;break}e.have=0,e.mode=Ot;case Ot:for(;e.have<e.nlen+e.ndist;){for(;x=e.lencode[s&(1<<e.lenbits)-1],b=x>>>24,A=x>>>16&255,R=x&65535,!(b<=a);){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(R<16)s>>>=b,a-=b,e.lens[e.have++]=R;else{if(R===16){for(k=b+2;a<k;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(s>>>=b,a-=b,e.have===0){t.msg="invalid bit length repeat",e.mode=I;break}S=e.lens[e.have-1],l=3+(s&3),s>>>=2,a-=2}else if(R===17){for(k=b+3;a<k;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}s>>>=b,a-=b,S=0,l=3+(s&7),s>>>=3,a-=3}else{for(k=b+7;a<k;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}s>>>=b,a-=b,S=0,l=11+(s&127),s>>>=7,a-=7}if(e.have+l>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=I;break}for(;l--;)e.lens[e.have++]=S}}if(e.mode===I)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=I;break}if(e.lenbits=9,L={bits:e.lenbits},w=le(Wt,e.lens,0,e.nlen,e.lencode,0,e.work,L),e.lenbits=L.bits,w){t.msg="invalid literal/lengths set",e.mode=I;break}if(e.distbits=6,e.distcode=e.distdyn,L={bits:e.distbits},w=le(Gt,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,L),e.distbits=L.bits,w){t.msg="invalid distances set",e.mode=I;break}if(e.mode=pe,n===be)break e;case pe:e.mode=xe;case xe:if(o>=6&&g>=258){t.next_out=f,t.avail_out=g,t.next_in=r,t.avail_in=o,e.hold=s,e.bits=a,Bn(t,v),f=t.next_out,c=t.output,g=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,s=e.hold,a=e.bits,e.mode===W&&(e.back=-1);break}for(e.back=0;x=e.lencode[s&(1<<e.lenbits)-1],b=x>>>24,A=x>>>16&255,R=x&65535,!(b<=a);){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(A&&(A&240)===0){for(E=b,d=A,N=R;x=e.lencode[N+((s&(1<<E+d)-1)>>E)],b=x>>>24,A=x>>>16&255,R=x&65535,!(E+b<=a);){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}s>>>=E,a-=E,e.back+=E}if(s>>>=b,a-=b,e.back+=b,e.length=R,A===0){e.mode=Ft;break}if(A&32){e.back=-1,e.mode=W;break}if(A&64){t.msg="invalid literal/length code",e.mode=I;break}e.extra=A&15,e.mode=yt;case yt:if(e.extra){for(k=e.extra;a<k;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.length+=s&(1<<e.extra)-1,s>>>=e.extra,a-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Pt;case Pt:for(;x=e.distcode[s&(1<<e.distbits)-1],b=x>>>24,A=x>>>16&255,R=x&65535,!(b<=a);){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if((A&240)===0){for(E=b,d=A,N=R;x=e.distcode[N+((s&(1<<E+d)-1)>>E)],b=x>>>24,A=x>>>16&255,R=x&65535,!(E+b<=a);){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}s>>>=E,a-=E,e.back+=E}if(s>>>=b,a-=b,e.back+=b,A&64){t.msg="invalid distance code",e.mode=I;break}e.offset=R,e.extra=A&15,e.mode=Ut;case Ut:if(e.extra){for(k=e.extra;a<k;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}e.offset+=s&(1<<e.extra)-1,s>>>=e.extra,a-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=I;break}e.mode=Bt;case Bt:if(g===0)break e;if(l=v-g,e.offset>l){if(l=e.offset-l,l>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=I;break}l>e.wnext?(l-=e.wnext,p=e.wsize-l):p=e.wnext-l,l>e.length&&(l=e.length),m=e.window}else m=c,p=f-e.offset,l=e.length;l>g&&(l=g),g-=l,e.length-=l;do c[f++]=m[p++];while(--l);e.length===0&&(e.mode=xe);break;case Ft:if(g===0)break e;c[f++]=e.length,g--,e.mode=xe;break;case Ue:if(e.wrap){for(;a<32;){if(o===0)break e;o--,s|=i[r++]<<a,a+=8}if(v-=g,t.total_out+=v,e.total+=v,v&&(t.adler=e.check=e.flags?K(e.check,c,v,f-v):Me(e.check,c,v,f-v)),v=g,(e.flags?s:Ht(s))!==e.check){t.msg="incorrect data check",e.mode=I;break}s=0,a=0}e.mode=Mt;case Mt:if(e.wrap&&e.flags){for(;a<32;){if(o===0)break e;o--,s+=i[r++]<<a,a+=8}if(s!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=I;break}s=0,a=0}e.mode=Zt;case Zt:w=Zn;break e;case I:w=Xt;break e;case He:return Ze;case Wn:default:return Z}return t.next_out=f,t.avail_out=g,t.next_in=r,t.avail_in=o,e.hold=s,e.bits=a,(e.wsize||v!==t.avail_out&&e.mode<I&&(e.mode<Ue||n!==bt))&&qt(t,t.output,t.next_out,v-t.avail_out)?(e.mode=He,Ze):(T-=t.avail_in,v-=t.avail_out,t.total_in+=T,t.total_out+=v,e.total+=v,e.wrap&&v&&(t.adler=e.check=e.flags?K(e.check,c,v,t.next_out-v):Me(e.check,c,v,t.next_out-v)),t.data_type=e.bits+(e.last?64:0)+(e.mode===W?128:0)+(e.mode===pe||e.mode===Pe?256:0),(T===0&&v===0||n===bt)&&w===q&&(w=Kn),w)}function $n(t){if(!t||!t.state)return Z;var n=t.state;return n.window&&(n.window=null),t.state=null,q}function Qn(t,n){var e;return!t||!t.state||(e=t.state,(e.wrap&2)===0)?Z:(e.head=n,n.done=!1,q)}function ei(t,n){var e=n.length,i,c,r;return!t||!t.state||(i=t.state,i.wrap!==0&&i.mode!==we)?Z:i.mode===we&&(c=1,c=Me(c,n,e,0),c!==i.check)?Xt:(r=qt(t,n,e,e),r?(i.mode=He,Ze):(i.havedict=1,q))}H.inflateReset=zt;H.inflateReset2=Jt;H.inflateResetKeep=Yt;H.inflateInit=Jn;H.inflateInit2=Vt;H.inflate=qn;H.inflateEnd=$n;H.inflateGetHeader=Qn;H.inflateSetDictionary=ei;H.inflateInfo="pako inflate (from Nodeca project)"});var nn=M(ie=>{"use strict";h();_();var ke=fe(),Qt=!0,en=!0;try{String.fromCharCode.apply(null,[0])}catch{Qt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{en=!1}var de=new ke.Buf8(256);for(G=0;G<256;G++)de[G]=G>=252?6:G>=248?5:G>=240?4:G>=224?3:G>=192?2:1;var G;de[254]=de[254]=1;ie.string2buf=function(t){var n,e,i,c,r,f=t.length,o=0;for(c=0;c<f;c++)e=t.charCodeAt(c),(e&64512)===55296&&c+1<f&&(i=t.charCodeAt(c+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),c++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(n=new ke.Buf8(o),r=0,c=0;r<o;c++)e=t.charCodeAt(c),(e&64512)===55296&&c+1<f&&(i=t.charCodeAt(c+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),c++)),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|e&63):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|e&63):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|e&63);return n};function tn(t,n){if(n<65534&&(t.subarray&&en||!t.subarray&&Qt))return String.fromCharCode.apply(null,ke.shrinkBuf(t,n));for(var e="",i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e}ie.buf2binstring=function(t){return tn(t,t.length)};ie.binstring2buf=function(t){for(var n=new ke.Buf8(t.length),e=0,i=n.length;e<i;e++)n[e]=t.charCodeAt(e);return n};ie.buf2string=function(t,n){var e,i,c,r,f=n||t.length,o=new Array(f*2);for(i=0,e=0;e<f;){if(c=t[e++],c<128){o[i++]=c;continue}if(r=de[c],r>4){o[i++]=65533,e+=r-1;continue}for(c&=r===2?31:r===3?15:7;r>1&&e<f;)c=c<<6|t[e++]&63,r--;if(r>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return tn(o,i)};ie.utf8border=function(t,n){var e;for(n=n||t.length,n>t.length&&(n=t.length),e=n-1;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+de[t[e]]>n?e:n}});var an=M((Yi,rn)=>{"use strict";h();_();rn.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var sn=M((Vi,on)=>{"use strict";h();_();on.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var fn=M((Qi,cn)=>{"use strict";h();_();function ti(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}cn.exports=ti});var dn=M((nr,ln)=>{"use strict";h();_();function ni(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}ln.exports=ni});var hn=M(he=>{"use strict";h();_();var re=$t(),ue=fe(),Ee=nn(),O=an(),Ke=sn(),ii=fn(),ri=dn(),un=Object.prototype.toString;function $(t){if(!(this instanceof $))return new $(t);this.options=ue.assign({chunkSize:16384,windowBits:0,to:""},t||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ii,this.strm.avail_out=0;var e=re.inflateInit2(this.strm,n.windowBits);if(e!==O.Z_OK)throw new Error(Ke[e]);if(this.header=new ri,re.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ee.string2buf(n.dictionary):un.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=re.inflateSetDictionary(this.strm,n.dictionary),e!==O.Z_OK)))throw new Error(Ke[e])}$.prototype.push=function(t,n){var e=this.strm,i=this.options.chunkSize,c=this.options.dictionary,r,f,o,g,s,a=!1;if(this.ended)return!1;f=n===~~n?n:n===!0?O.Z_FINISH:O.Z_NO_FLUSH,typeof t=="string"?e.input=Ee.binstring2buf(t):un.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new ue.Buf8(i),e.next_out=0,e.avail_out=i),r=re.inflate(e,O.Z_NO_FLUSH),r===O.Z_NEED_DICT&&c&&(r=re.inflateSetDictionary(this.strm,c)),r===O.Z_BUF_ERROR&&a===!0&&(r=O.Z_OK,a=!1),r!==O.Z_STREAM_END&&r!==O.Z_OK)return this.onEnd(r),this.ended=!0,!1;e.next_out&&(e.avail_out===0||r===O.Z_STREAM_END||e.avail_in===0&&(f===O.Z_FINISH||f===O.Z_SYNC_FLUSH))&&(this.options.to==="string"?(o=Ee.utf8border(e.output,e.next_out),g=e.next_out-o,s=Ee.buf2string(e.output,o),e.next_out=g,e.avail_out=i-g,g&&ue.arraySet(e.output,e.output,o,g,0),this.onData(s)):this.onData(ue.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(a=!0)}while((e.avail_in>0||e.avail_out===0)&&r!==O.Z_STREAM_END);return r===O.Z_STREAM_END&&(f=O.Z_FINISH),f===O.Z_FINISH?(r=re.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===O.Z_OK):(f===O.Z_SYNC_FLUSH&&(this.onEnd(O.Z_OK),e.avail_out=0),!0)};$.prototype.onData=function(t){this.chunks.push(t)};$.prototype.onEnd=function(t){t===O.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ue.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function We(t,n){var e=new $(n);if(e.push(t,!0),e.err)throw e.msg||Ke[e.err];return e.result}function ai(t,n){return n=n||{},n.raw=!0,We(t,n)}he.Inflate=$;he.inflate=We;he.inflateRaw=ai;he.ungzip=We});h();_();tt();h();_();var Ie="1",wn="2",kn="3",fi="0",li={[Ie]:"swaptrade_aggregator_tag_best_value",[wn]:"swaptrade_xrouting_tag_fastest",[kn]:"swaptrade_xrouting_tag_best_in_all_dimensions"};var En=()=>{let{accountStore:t,quoteStore:n}=Ae(),e=Qe(n,"quote.bestRoute",{}),i=e.defiPlatformInfoList?.findIndex(c=>c.defiPlatformId===n.aggregateSelectId)+1;return{wallet_address:t.address,provider_name:e.name,best_price:e.isBest?"yes":"no",price_difference:it(e.reducePercent),price_ranking:i}},pi=()=>{let{accountStore:t,liquidityChooseStore:n,quoteStore:e}=Ae(),{bestRoute:i}=e.quote;if(!i)return{};let{slippage:c,slippageType:r}=e.computedSlippage,{fromToken:f,fromTokenAmount:o,fromTokenPrice:g,toTokenPrice:s,receiveAmount:a,toToken:T,swapType:v,routerLabel:l}=i,p=Number(v)===0,m=p?{liquidity_source:n.computedMonitorLiquidSelectType}:{},x=p?{}:{bridge_selection:l?.includes(Ie)?"overall best":"custom"};return{wallet_address:t.address,from_token_name:f?.tokenName,from_token_address:f?.tokenContractAddress,from_token_amount:o,from_amount_usdt:g,to_token_address:T?.tokenContractAddress,to_token_amount:a,to_amount_usdt:s,chain:f?.chainName,from_chain:f?.chainName,to_chain:T?.chainName,swap_type:p?"swap":"cross_chain_swap",slippage:{type:r===rt.AUTO?"auto":"custom",amount:c},...m,...x,...En()}};h();_();tt();h();_();var j={JWT:"jwt",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PING:"ping",PONG:"pong",LOGIN:"login",LOGOUT:"logout"},Le=()=>{};h();_();Ne();h();_();h();_();var vn=xn(hn());h();_();h();_();h();_();h();_();var Se=()=>Boolean(typeof window>"u"||process.env.SSR_ENV);h();_();var Ge={PING:"ping",PONG:"pong"},ae={CONNECTED:0,DISCONNECTED:1,PING_PENDING:2,PING_PENDING_OVER:3},Y=!Se(),Te=Y&&!window.inOKXExtension;var oi=/^\{|\[/,_n="";Y&&(_n=window?.okGlobal?.socketBaseUrls?.trade);var Ce={isPushingJSON(t){return oi.test(t)},getRealConnectUrl(t=_n){return t}};h();_();var gn={decode(t){let n=0,e,i,c,r,f,o=[],g=t.length;for(;n<g;)e=t[n++],e<128?f=e:e<224?(i=t[n++],f=(e&31)<<6|i&63):e<240?(i=t[n++],c=t[n++],f=(e&15)<<12|(i&63)<<6|c&63):(i=t[n++],c=t[n++],r=t[n++],f=(e&7)<<18|(i&63)<<12|(c&63)<<6|r&63),o.push(String.fromCodePoint(f));return o.join("")}};var mn=gn;if(Y&&Te){let{location:t,TextDecoder:n}=window;n&&(mn=new n("utf-8")),window.$has_debug_push_param$=t.href.indexOf("debug_push=true")>-1}var Xe={};function je(t={}){let n=this,e=Ce.getRealConnectUrl(t.connectUrl),i={maxPendingTime:5e3,maxReconnectTime:1e4,maxWaitingResponseTime:1e4,maxSleepRecoveringTime:3e3,...t,connectUrl:e},c=Xe[i.connectUrl];if(c)return c;let r={isConnected:!1,isConnectPending:!1,isClosingByClient:!1,isKillingUnWakeUp:!1,isPingPending:!1},f,o={reconnectTimer:0,handlePendingTimer:0,discontinueTimer:0,killingUnWakeUpTimer:0,pingPendingTimer:0},g={currReconnectTime:0,lastReceivingTime:0},s=[],a=[],T=[],v=[],l=[],p=()=>{},m=()=>{this.isConnected()&&(p(),o.pingPendingTimer=setTimeout(()=>{r.isPingPending=!0,v.forEach(u=>{u(ae.PING_PENDING)})},i.maxPendingTime))},x=(u,y)=>{for(let F=0;F<u.length;F++)if(u[F]===y){u.splice(F,1);break}},b=()=>{r.isPingPending=!1,clearTimeout(o.pingPendingTimer)},A=()=>{clearInterval(o.handlePendingTimer)},R=()=>{g.currReconnectTime=0,o.reconnectTimer&&(clearTimeout(o.reconnectTimer),delete o.reconnectTimer)},E=()=>{!this.isConnected()&&!r.isConnectPending&&(R(),d())},d=function(){f=new WebSocket(i.connectUrl),r.isConnectPending=!0,f.onopen=N,f.onmessage=w,f.onclose=L,f.onerror=k,o.handlePendingTimer=setInterval(n.handleConnectPending,i.maxPendingTime)},N=function(){r.isConnected=!0,r.isConnectPending=!1,r.isClosingByClient=!1,R(),A(),a.forEach(u=>{u(),u.triggered=!0}),v.forEach(u=>{u(ae.CONNECTED)})},S=function(){r.isPingPending&&v.forEach(u=>{u(ae.PING_PENDING_OVER)}),b()},w=function(u){if(g.lastReceivingTime=Date.now(),clearTimeout(o.discontinueTimer),clearTimeout(o.killingUnWakeUpTimer),o.discontinueTimer=setTimeout(m,i.maxPendingTime),u.data instanceof Blob){let y=u.data,F=new FileReader,J={done:!1,resultString:""};l.push(J),F.onload=function(V){if(V.target.readyState==FileReader.DONE){let te=(0,vn.inflateRaw)(V.target.result);for(J.done=!0,J.resultString=mn.decode(te);l[0]&&l[0].done;){let{resultString:oe}=l.shift();oe===Ge.PONG&&S();let $e=Ce.isPushingJSON(oe)?JSON.parse(oe):oe;U($e),window.$has_debug_push_param$&&(console.log(oe),window.$ok_debug_push_callback$&&window.$ok_debug_push_callback$($e))}}},F.readAsArrayBuffer(y)}else{let y=u.data;y===Ge.PONG&&S(),U(Ce.isPushingJSON(y)?JSON.parse(y):y),window.$has_debug_push_param$&&console.log(y)}},C=function(){r.isConnected=!1,r.isConnectPending=!1,b(),a.forEach(u=>{u.triggered=!1})},L=function(){if(r.isKillingUnWakeUp){r.isKillingUnWakeUp=!1;return}r.isClosingByClient?C():o.reconnectTimer||k()},k=function(){C(),A(),s.forEach(y=>{y()}),v.forEach(y=>{y(ae.DISCONNECTED)}),o.reconnectTimer=setTimeout(d,g.currReconnectTime);let u=g.currReconnectTime+1e3;u>i.maxReconnectTime&&(u=i.maxReconnectTime),g.currReconnectTime=u},U=function(u){if(u.event==="error"&&Number(u.errorCode)===30026){f.close();return}T.forEach(F=>F(u))};if(this.setPushDataResolver=function(u){return T.push(u),()=>{x(T,u)}},this.connect=function(){if(Y){if(this.isConnected()){a.forEach(u=>{u.triggered||(u(),u.triggered=!0)});return}!this.isConnected()&&!r.isConnectPending&&d()}},this.disconnect=function(){clearTimeout(o.reconnectTimer),clearTimeout(o.discontinueTimer),delete o.reconnectTimer,delete o.discontinueTimer,r.isClosingByClient=!0,f.close(),s.length=0,a.length=0,T.length=0,p=()=>{},delete Xe[i.connectUrl];let{connection:u}=navigator;u&&u.removeEventListener&&u.removeEventListener("change",this.handleConnectionChange),Te&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.isConnected=function(){return r.isConnected},this.sendChannel=function(u){f.readyState===WebSocket.OPEN?f.send(u):console.error("WebSocket is not in open state, can not send!")},this.onSocketConnected=function(u){return a.push(u),()=>{x(a,u)}},this.onSocketError=function(u){return s.push(u),()=>{x(s,u)}},this.onPushDiscontinue=function(u){return p=u,()=>{}},this.onStatusChange=function(u){return v.push(u),()=>{x(v,u)}},this.handleConnectPending=function(){r.isConnectPending&&s.forEach(u=>{u()})},this.handleConnectionChange=()=>{navigator.onLine===!0&&E()},this.handleVisibilityChange=()=>{if(!document.hidden){if(!this.isConnected()){E();return}Date.now()-g.lastReceivingTime>i.maxWaitingResponseTime&&(m(),o.killingUnWakeUpTimer=setTimeout(()=>{C(),R(),r.isKillingUnWakeUp=!0,f.close(),d()},i.maxSleepRecoveringTime))}},Y){let{connection:u}=navigator;u&&u.addEventListener&&u.addEventListener("change",this.handleConnectionChange),Te&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}return Xe[i.connectUrl]=this,this}je.STATUS=ae;Y&&!window.WebSocketCore&&(window.WebSocketCore=je);var bn=je;h();_();Ne();function z(t,n){!t||t.forEach(e=>{e(n)})}function Ye(t,n){t?.has(n)&&t.delete(n)}function Q(t,n){return nt()||t.add(n),()=>Ye(t,n)}function _e(t){return Array.isArray(t)?t:[t]}function ge(t){if(!t)return"";let n={};return Object.keys(t).sort().forEach(e=>{n[e]=t[e]}),JSON.stringify(n)}var ze=t=>t?t.split(",").map(e=>({token:e})):[];function Re(t){switch(t){case"dex-token-candle1m":case"dex-token-candle15m":case"dex-token-candle4H":return t;default:return""}}var{SUBSCRIBE:Je,UNSUBSCRIBE:si,PING:ci}=j,ee=class{constructor(){this.wsInstance=null;this.initDone=!1;this.authenticated=!0;this.disconnected=!1;this.dataFnsMap=new Map;this.channelCache=new Map;this.wsDataCache={};this.errorFnsList=new Set}connect(){if(this.initDone)return;this.initDone=!0;let n=this.getWsUrl();this.wsInstance=new bn({connectUrl:n,reconnectTime:1e4,maxPendingTime:2e4}),this.wsInstance.onSocketConnected(this.connectedCallback.bind(this)),this.wsInstance.setPushDataResolver(this.dataCallback.bind(this)),this.wsInstance.onSocketError(this.errorCallback.bind(this)),this.wsInstance.onPushDiscontinue(()=>{this.wsInstance.sendChannel(ci)}),this.wsInstance.connect()}subscribe(n,{needLogin:e}={needLogin:!1}){let i=_e(n),c=[];if(i.forEach(r=>{let f=ge(r),o=this.channelCache.get(f);if(o){this.channelCache.set(f,o+1);let{channel:g}=r,s=Re(g),a=this.wsDataCache[s]?.[f];a&&z(this.dataFnsMap.get(s),a);return}this.channelCache.set(f,1),c.push(r)}),!this.initDone){this.connect();return}!this.isConnected()||e&&!this.authenticated||this.sendChannel({op:Je,args:c})}unsubscribe(n){let e=_e(n),i=[];e.forEach(c=>{let r=ge(c),f=this.channelCache.get(r);if(f>1){this.channelCache.set(r,f-1);return}this.channelCache.delete(r),i.push(c);let o=Re(c.channel);o&&delete this.wsDataCache[o]?.[r]}),!(!this.initDone||!this.isConnected())&&this.sendChannel({op:si,args:i})}sendChannel({op:n,args:e=[]}){this.isConnected()&&e.length&&this.wsInstance.sendChannel(JSON.stringify({op:n,args:e}))}dataCallback(n={}){let{arg:e}=n;if(!e?.channel)return;z(this.dataFnsMap.get(e.channel),n);let i=Re(e?.channel);if(!i)return;let c=ge(e);this.wsDataCache[i]?this.wsDataCache[i][c]=n:this.wsDataCache[i]={[c]:n}}addListenerData(n,e,i){let{argsParam:c}=i||{},r=ge(c);return this.channelCache.get(r)>1&&e({event:Je}),this.dataFnsMap.get(n)||this.dataFnsMap.set(n,new Set),this.wsDataCache[n]&&Object.values(this.wsDataCache[n]).forEach(o=>{e(o)}),Q(this.dataFnsMap.get(n),e)}remoteListenerData(n,e){return Ye(this.dataFnsMap.get(n),e)}addListenerError(n){return Q(this.errorFnsList,n)}errorCallback(n){this.disconnected=!0,z(this.errorFnsList,n)}connectedCallback(){let n=[];this.channelCache.forEach((e,i)=>{try{n.push(JSON.parse(i))}catch{}}),this.sendChannel({op:Je,args:n})}isConnected(){return!!this.wsInstance?.isConnected()}getWsUrl(){return""}};var Ve=class extends ee{constructor(){super(...arguments);this.connectedFnsList=new Set;this.authenticated=!1;this.loginResolveFn=Le;this.loginRejectFn=Le;this.tokens=""}connectedCallback(){super.connectedCallback(),this.tokens&&this.login(this.tokens).then(()=>{this.authenticated=!0,super.connectedCallback(),z(this.connectedFnsList,{disconnected:this.disconnected})}).catch(()=>{De.stuff("ws login fail")})}addListenerConnected(e){return Q(this.connectedFnsList,e)}dataCallback(e){let{event:i,code:c}=e;if(i===j.LOGIN){if(Number(c)===0){this.loginResolveFn();return}this.loginRejectFn()}else super.dataCallback(e)}login(e){return new Promise((i,c)=>{this.wsInstance.sendChannel(JSON.stringify({op:j.LOGIN,args:ze(e)})),this.loginResolveFn=i,this.loginRejectFn=c})}logout(e){!this.authenticated||!this.isConnected()||(this.authenticated=!1,this.wsInstance.sendChannel(JSON.stringify({op:j.LOGOUT,args:ze(e)})))}getWsUrl(){let e=localStorage.getItem("dev_ct_wsPress"),i="";return ve()?i=`wss://${ce.global?.getWssHostname()}`:i=se.socketBaseUrls?.dex,i||De.error("SOCKET_BASE_URL_EMPTY",{wallet:`wss://${ce.global?.getWssHostname()}`,webDev:process.env.SOCKET_URL_DEX,web:se.socketBaseUrls?.dex}),e||`${i}/ws/v5/iprivate`}},X=new Ve;h();_();Ne();var qe=class extends ee{constructor(){super(...arguments);this.connectedFnsList=new Set}connectedCallback(){super.connectedCallback(),z(this.connectedFnsList,{disconnected:this.disconnected})}addListenerConnected(e){return Q(this.connectedFnsList,e)}getWsUrl(){let e=localStorage.getItem("dev_ct_wsPress"),i="";return ve()?process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"?i="wss://wsdexpre.coinall.ltd:8443":i=`wss://${ce.global?.getWssHostname()}`:i=se.socketBaseUrls?.dex,e||`${i||""}/ws/v5/ipublic`}},pn=new qe;var Ra=({isPri:t=!1,subscribeParams:n,onSubscribeSuccess:e,onListenData:i,onListenError:c,onListenReconnected:r,needLogin:f=!1})=>{let o=t?X:pn,g=_e(n);if(g.length<=0||!n)return()=>{};o.subscribe(g,{needLogin:f});let a=et(g.map(l=>l.channel)).map((l,p)=>{let m=!1;return o.addListenerData(l,x=>{let{data:b,event:A,arg:R}=x;if(A===j.SUBSCRIBE){!m&&e?.(l),m=!0;return}!b||!m||i?.(b,R)},{argsParam:g[p]})}),T=o.addListenerError(l=>{c?.(l)}),v=o.addListenerConnected(()=>{r?.()});return()=>{o.unsubscribe(g),a.forEach(l=>{l?.()}),T(),v()}};var Na=t=>{let n=()=>{X.tokens="",X.logout(t)};return t===X.tokens||(X.tokens=t,X.connect(),X.isConnected()&&X.connectedCallback()),n};h();_();var La={DEX_MARKET_CHANNEL:"dex-market",DEX_MARKET_TX_CHANNEL:"dex-market-v3",DEX_MARKET_HOLDER_CHANNEL_V2:"dex-market-holder-v2",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL:"dex-market-trade-history",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL_PUB:"dex-market-trade-history-pub",DEX_MARKET_ADDRESS_SWAP_HISTORY:"dex-market-address-swap-history",DEX_MARKET_POOL_CHANGES_CHANNEL:"dex-market-pool-history",DEX_MARKET_PNL_LATEST:"dex-market-pnl-latest",DEX_MARKET_PNL_HISTORY:"dex-market-pnl-history",DEX_MARKET_TOKEN_KLINE_BAR:"dex-token-candle{bar}",DEX_MARKET_KLINE_HOLDER_BS:"dex-market-kline-bs",DEX_MARKET_HOLDER_TRADE_STATISTICS:"dex-market-trade-history-statistics",DEX_MARKET_SM_PLATFORM_SIGNAL:"dex-market-sm-platform-signal",DEX_MARKET_PNL_LATEST_PUB:"dex-market-pnl-latest-pub",DEX_MARKET_TRADER_CHANNEL_V1:"dex-market-trader-v1",DEX_MARKET_TOKEN_EARLY_BUYER:"dex-market-token-early-buyer",DEX_MARKET_TRACKER_SM_ACTIVITY:"dex-market-tracker-sm-activity"},Oa={DEX_PUSH_ENGINE:"dex-across-order-info",WALLET_ASSET:"wallet-asset",DEX_MARKET_TRACKER_ACTIVITY:"dex-market-tracker-activity",DEX_MARKET_TRACKER_TRENDS:"dex-market-tracker-trends",DEX_MARKET_TRACKER_RANKING:"dex-market-tracker-ranking",SM_RANKING:"dex-market-sm-ranking",DEX_STRATEGY_BALANCE:"dex-strategy-balance"};export{Ie as a,wn as b,kn as c,fi as d,En as e,pi as f,X as g,Ra as h,Na as i,La as j,Oa as k};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-73ZHJYCP.js.map

import{a as jn,b as ee,c as D}from"./chunk-SSJV2YJB.js";import{b as Ye}from"./chunk-ONKZ57T6.js";import{c as N,d as Dt,e as I,f as B,n as process,o as p,p as v,q as y}from"./chunk-6KXF36WM.js";var er=N((Yo,Qt)=>{"use strict";p();y();function ei(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}Qt.exports=ti;function ti(e,t,r){var n=r&&r.stringify||ei,s=1;if(typeof e=="object"&&e!==null){var o=t.length+s;if(o===1)return e;var f=new Array(o);f[0]=n(e);for(var l=1;l<o;l++)f[l]=n(t[l]);return f.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var i="",c=1-s,a=-1,h=e&&e.length||0,g=0;g<h;){if(e.charCodeAt(g)===37&&g+1<h){switch(a=a>-1?a:0,e.charCodeAt(g+1)){case 100:case 102:if(c>=u||t[c]==null)break;a<g&&(i+=e.slice(a,g)),i+=Number(t[c]),a=g+2,g++;break;case 105:if(c>=u||t[c]==null)break;a<g&&(i+=e.slice(a,g)),i+=Math.floor(Number(t[c])),a=g+2,g++;break;case 79:case 111:case 106:if(c>=u||t[c]===void 0)break;a<g&&(i+=e.slice(a,g));var d=typeof t[c];if(d==="string"){i+="'"+t[c]+"'",a=g+2,g++;break}if(d==="function"){i+=t[c].name||"<anonymous>",a=g+2,g++;break}i+=n(t[c]),a=g+2,g++;break;case 115:if(c>=u)break;a<g&&(i+=e.slice(a,g)),i+=String(t[c]),a=g+2,g++;break;case 37:a<g&&(i+=e.slice(a,g)),i+="%",a=g+2,g++,c--;break}++c}++g}return a===-1?e:(a<h&&(i+=e.slice(a)),i)}});var ct=N((ea,ir)=>{"use strict";p();y();var tr=er();ir.exports=T;var se=fi().console||{},ri={mapHttpRequest:be,mapHttpResponse:be,wrapRequestSerializer:ot,wrapResponseSerializer:ot,wrapErrorSerializer:ot,req:be,res:be,err:ai};function ni(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function T(e){e=e||{},e.browser=e.browser||{};let t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");let r=e.browser.write||se;e.browser.write&&(e.browser.asObject=!0);let n=e.serializers||{},s=ni(e.browser.serialize,n),o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let f=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");let l=e.level||"info",u=Object.create(r);u.log||(u.log=oe),Object.defineProperty(u,"levelVal",{get:c}),Object.defineProperty(u,"level",{get:a,set:h});let i={transmit:t,serialize:s,asObject:e.browser.asObject,levels:f,timestamp:ci(e)};u.levels=T.levels,u.level=l,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=oe,u.serializers=n,u._serialize=s,u._stdErrSerialize=o,u.child=g,t&&(u._logEvent=at());function c(){return this.level==="silent"?1/0:this.levels.values[this.level]}function a(){return this._level}function h(d){if(d!=="silent"&&!this.levels.values[d])throw Error("unknown level "+d);this._level=d,H(i,u,"error","log"),H(i,u,"fatal","error"),H(i,u,"warn","error"),H(i,u,"info","log"),H(i,u,"debug","log"),H(i,u,"trace","log")}function g(d,m){if(!d)throw new Error("missing bindings for child Pino");m=m||{},s&&d.serializers&&(m.serializers=d.serializers);let _=m.serializers;if(s&&_){var b=Object.assign({},n,_),C=e.browser.serialize===!0?Object.keys(b):s;delete d.serializers,Ee([d],C,b,this._stdErrSerialize)}function L(x){this._childLevel=(x._childLevel|0)+1,this.error=q(x,d,"error"),this.fatal=q(x,d,"fatal"),this.warn=q(x,d,"warn"),this.info=q(x,d,"info"),this.debug=q(x,d,"debug"),this.trace=q(x,d,"trace"),b&&(this.serializers=b,this._serialize=C),t&&(this._logEvent=at([].concat(x._logEvent.bindings,d)))}return L.prototype=this,new L(this)}return u}T.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};T.stdSerializers=ri;T.stdTimeFunctions=Object.assign({},{nullTime:rr,epochTime:nr,unixTime:ui,isoTime:li});function H(e,t,r,n){let s=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?oe:s[r]?s[r]:se[r]||se[n]||oe,ii(e,t,r)}function ii(e,t,r){!e.transmit&&t[r]===oe||(t[r]=function(n){return function(){let o=e.timestamp(),f=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===se?se:this;for(var u=0;u<f.length;u++)f[u]=arguments[u];if(e.serialize&&!e.asObject&&Ee(f,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(l,si(this,r,f,o)):n.apply(l,f),e.transmit){let i=e.transmit.level||t.level,c=T.levels.values[i],a=T.levels.values[r];if(a<c)return;oi(this,{ts:o,methodLevel:r,methodValue:a,transmitLevel:i,transmitValue:T.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},f)}}}(t[r]))}function si(e,t,r,n){e._serialize&&Ee(r,e._serialize,e.serializers,e._stdErrSerialize);let s=r.slice(),o=s[0],f={};n&&(f.time=n),f.level=T.levels.values[t];let l=(e._childLevel|0)+1;if(l<1&&(l=1),o!==null&&typeof o=="object"){for(;l--&&typeof s[0]=="object";)Object.assign(f,s.shift());o=s.length?tr(s.shift(),s):void 0}else typeof o=="string"&&(o=tr(s.shift(),s));return o!==void 0&&(f.msg=o),f}function Ee(e,t,r,n){for(let s in e)if(n&&e[s]instanceof Error)e[s]=T.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(let o in e[s])t&&t.indexOf(o)>-1&&o in r&&(e[s][o]=r[o](e[s][o]))}function q(e,t,r){return function(){let n=new Array(1+arguments.length);n[0]=t;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return e[r].apply(this,n)}}function oi(e,t,r){let n=t.send,s=t.ts,o=t.methodLevel,f=t.methodValue,l=t.val,u=e._logEvent.bindings;Ee(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter(function(i){return u.indexOf(i)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=f,n(o,e._logEvent,l),e._logEvent=at(u)}function at(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function ai(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)t[r]===void 0&&(t[r]=e[r]);return t}function ci(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?rr:nr}function be(){return{}}function ot(e){return e}function oe(){}function rr(){return!1}function nr(){return Date.now()}function ui(){return Math.round(Date.now()/1e3)}function li(){return new Date(Date.now()).toISOString()}function fi(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}});var zr=N((Oa,ze)=>{p();y();var gr,pr,yr,mr,vr,wr,_r,br,Er,je,bt,Sr,Ir,X,Or,Rr,xr,Lr,Tr,Ar,Cr,Pr,jr;(function(e){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof ze=="object"&&typeof ze.exports=="object"?e(r(t,r(ze.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,f){return n[o]=s?s(o,f):f}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};gr=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},pr=Object.assign||function(r){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(r[f]=n[f])}return r},yr=function(r,n){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(r);f<o.length;f++)n.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(r,o[f])&&(s[o[f]]=r[o[f]]);return s},mr=function(r,n,s,o){var f=arguments.length,l=f<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,s):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,n,s,o);else for(var i=r.length-1;i>=0;i--)(u=r[i])&&(l=(f<3?u(l):f>3?u(n,s,l):u(n,s))||l);return f>3&&l&&Object.defineProperty(n,s,l),l},vr=function(r,n){return function(s,o){n(s,o,r)}},wr=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},_r=function(r,n,s,o){function f(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function i(h){try{a(o.next(h))}catch(g){u(g)}}function c(h){try{a(o.throw(h))}catch(g){u(g)}}function a(h){h.done?l(h.value):f(h.value).then(i,c)}a((o=o.apply(r,n||[])).next())})},br=function(r,n){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,f,l,u;return u={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function i(a){return function(h){return c([a,h])}}function c(a){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,f&&(l=a[0]&2?f.return:a[0]?f.throw||((l=f.return)&&l.call(f),0):f.next)&&!(l=l.call(f,a[1])).done)return l;switch(f=0,l&&(a=[a[0]&2,l.value]),a[0]){case 0:case 1:l=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,f=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(a[0]===6||a[0]===2)){s=0;continue}if(a[0]===3&&(!l||a[1]>l[0]&&a[1]<l[3])){s.label=a[1];break}if(a[0]===6&&s.label<l[1]){s.label=l[1],l=a;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(a);break}l[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(r,s)}catch(h){a=[6,h],f=0}finally{o=l=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},jr=function(r,n,s,o){o===void 0&&(o=s),r[o]=n[s]},Er=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},je=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),f,l=[],u;try{for(;(n===void 0||n-- >0)&&!(f=o.next()).done;)l.push(f.value)}catch(i){u={error:i}}finally{try{f&&!f.done&&(s=o.return)&&s.call(o)}finally{if(u)throw u.error}}return l},Sr=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(bt(arguments[n]));return r},Ir=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var o=Array(r),f=0,n=0;n<s;n++)for(var l=arguments[n],u=0,i=l.length;u<i;u++,f++)o[f]=l[u];return o},X=function(r){return this instanceof X?(this.v=r,this):new X(r)},Or=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,n||[]),f,l=[];return f={},u("next"),u("throw"),u("return"),f[Symbol.asyncIterator]=function(){return this},f;function u(d){o[d]&&(f[d]=function(m){return new Promise(function(_,b){l.push([d,m,_,b])>1||i(d,m)})})}function i(d,m){try{c(o[d](m))}catch(_){g(l[0][3],_)}}function c(d){d.value instanceof X?Promise.resolve(d.value.v).then(a,h):g(l[0][2],d)}function a(d){i("next",d)}function h(d){i("throw",d)}function g(d,m){d(m),l.shift(),l.length&&i(l[0][0],l[0][1])}},Rr=function(r){var n,s;return n={},o("next"),o("throw",function(f){throw f}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(f,l){n[f]=r[f]?function(u){return(s=!s)?{value:X(r[f](u)),done:f==="return"}:l?l(u):u}:l}},xr=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof je=="function"?je(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(u){return new Promise(function(i,c){u=r[l](u),f(i,c,u.done,u.value)})}}function f(l,u,i,c){Promise.resolve(c).then(function(a){l({value:a,done:i})},u)}},Lr=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},Tr=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},Ar=function(r){return r&&r.__esModule?r:{default:r}},Cr=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Pr=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",gr),e("__assign",pr),e("__rest",yr),e("__decorate",mr),e("__param",vr),e("__metadata",wr),e("__awaiter",_r),e("__generator",br),e("__exportStar",Er),e("__createBinding",jr),e("__values",je),e("__read",bt),e("__spread",Sr),e("__spreadArrays",Ir),e("__await",X),e("__asyncGenerator",Or),e("__asyncDelegator",Rr),e("__asyncValues",xr),e("__makeTemplateObject",Lr),e("__importStar",Tr),e("__importDefault",Ar),e("__classPrivateFieldGet",Cr),e("__classPrivateFieldSet",Pr)})});var Br=N(K=>{"use strict";p();y();Object.defineProperty(K,"__esModule",{value:!0});K.isBrowserCryptoAvailable=K.getSubtleCrypto=K.getBrowerCrypto=void 0;function Et(){return globalThis?.crypto||globalThis?.msCrypto||{}}K.getBrowerCrypto=Et;function Nr(){let e=Et();return e.subtle||e.webkitSubtle}K.getSubtleCrypto=Nr;function Ai(){return!!Et()&&!!Nr()}K.isBrowserCryptoAvailable=Ai});var Kr=N(V=>{"use strict";p();y();Object.defineProperty(V,"__esModule",{value:!0});V.isBrowser=V.isNode=V.isReactNative=void 0;function Dr(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}V.isReactNative=Dr;function Mr(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}V.isNode=Mr;function Ci(){return!Dr()&&!Mr()}V.isBrowser=Ci});var St=N(Ne=>{"use strict";p();y();Object.defineProperty(Ne,"__esModule",{value:!0});var Vr=zr();Vr.__exportStar(Br(),Ne);Vr.__exportStar(Kr(),Ne)});var Gr=N((dc,kr)=>{"use strict";p();y();kr.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var wo=N((he,Z)=>{p();y();var Ui=200,Bt="__lodash_hash_undefined__",Ge=1,ln=2,fn=9007199254740991,Ve="[object Arguments]",Tt="[object Array]",Wi="[object AsyncFunction]",hn="[object Boolean]",dn="[object Date]",gn="[object Error]",pn="[object Function]",Fi="[object GeneratorFunction]",Je="[object Map]",yn="[object Number]",$i="[object Null]",Y="[object Object]",Zr="[object Promise]",ki="[object Proxy]",mn="[object RegExp]",Ue="[object Set]",vn="[object String]",Gi="[object Symbol]",Hi="[object Undefined]",At="[object WeakMap]",wn="[object ArrayBuffer]",We="[object DataView]",qi="[object Float32Array]",Xi="[object Float64Array]",Yi="[object Int8Array]",Zi="[object Int16Array]",Qi="[object Int32Array]",es="[object Uint8Array]",ts="[object Uint8ClampedArray]",rs="[object Uint16Array]",ns="[object Uint32Array]",is=/[\\^$.*+?()[\]{}|]/g,ss=/^\[object .+?Constructor\]$/,os=/^(?:0|[1-9]\d*)$/,w={};w[qi]=w[Xi]=w[Yi]=w[Zi]=w[Qi]=w[es]=w[ts]=w[rs]=w[ns]=!0;w[Ve]=w[Tt]=w[wn]=w[hn]=w[We]=w[dn]=w[gn]=w[pn]=w[Je]=w[yn]=w[Y]=w[mn]=w[Ue]=w[vn]=w[At]=!1;var _n=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,as=typeof self=="object"&&self&&self.Object===Object&&self,j=_n||as||Function("return this")(),bn=typeof he=="object"&&he&&!he.nodeType&&he,Qr=bn&&typeof Z=="object"&&Z&&!Z.nodeType&&Z,En=Qr&&Qr.exports===bn,Rt=En&&_n.process,en=function(){try{return Rt&&Rt.binding&&Rt.binding("util")}catch{}}(),tn=en&&en.isTypedArray;function cs(e,t){for(var r=-1,n=e==null?0:e.length,s=0,o=[];++r<n;){var f=e[r];t(f,r,e)&&(o[s++]=f)}return o}function us(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function ls(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function fs(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function hs(e){return function(t){return e(t)}}function ds(e,t){return e.has(t)}function gs(e,t){return e?.[t]}function ps(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function ys(e,t){return function(r){return e(t(r))}}function ms(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var vs=Array.prototype,ws=Function.prototype,He=Object.prototype,xt=j["__core-js_shared__"],Sn=ws.toString,A=He.hasOwnProperty,rn=function(){var e=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),In=He.toString,_s=RegExp("^"+Sn.call(A).replace(is,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nn=En?j.Buffer:void 0,Fe=j.Symbol,sn=j.Uint8Array,On=He.propertyIsEnumerable,bs=vs.splice,F=Fe?Fe.toStringTag:void 0,on=Object.getOwnPropertySymbols,Es=nn?nn.isBuffer:void 0,Ss=ys(Object.keys,Object),Ct=Q(j,"DataView"),de=Q(j,"Map"),Pt=Q(j,"Promise"),jt=Q(j,"Set"),zt=Q(j,"WeakMap"),ge=Q(Object,"create"),Is=G(Ct),Os=G(de),Rs=G(Pt),xs=G(jt),Ls=G(zt),an=Fe?Fe.prototype:void 0,Lt=an?an.valueOf:void 0;function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ts(){this.__data__=ge?ge(null):{},this.size=0}function As(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Cs(e){var t=this.__data__;if(ge){var r=t[e];return r===Bt?void 0:r}return A.call(t,e)?t[e]:void 0}function Ps(e){var t=this.__data__;return ge?t[e]!==void 0:A.call(t,e)}function js(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&t===void 0?Bt:t,this}$.prototype.clear=Ts;$.prototype.delete=As;$.prototype.get=Cs;$.prototype.has=Ps;$.prototype.set=js;function z(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zs(){this.__data__=[],this.size=0}function Ns(e){var t=this.__data__,r=qe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bs.call(t,r,1),--this.size,!0}function Bs(e){var t=this.__data__,r=qe(t,e);return r<0?void 0:t[r][1]}function Ds(e){return qe(this.__data__,e)>-1}function Ms(e,t){var r=this.__data__,n=qe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}z.prototype.clear=zs;z.prototype.delete=Ns;z.prototype.get=Bs;z.prototype.has=Ds;z.prototype.set=Ms;function k(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ks(){this.size=0,this.__data__={hash:new $,map:new(de||z),string:new $}}function Vs(e){var t=Xe(this,e).delete(e);return this.size-=t?1:0,t}function Js(e){return Xe(this,e).get(e)}function Us(e){return Xe(this,e).has(e)}function Ws(e,t){var r=Xe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}k.prototype.clear=Ks;k.prototype.delete=Vs;k.prototype.get=Js;k.prototype.has=Us;k.prototype.set=Ws;function $e(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new k;++t<r;)this.add(e[t])}function Fs(e){return this.__data__.set(e,Bt),this}function $s(e){return this.__data__.has(e)}$e.prototype.add=$e.prototype.push=Fs;$e.prototype.has=$s;function U(e){var t=this.__data__=new z(e);this.size=t.size}function ks(){this.__data__=new z,this.size=0}function Gs(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Hs(e){return this.__data__.get(e)}function qs(e){return this.__data__.has(e)}function Xs(e,t){var r=this.__data__;if(r instanceof z){var n=r.__data__;if(!de||n.length<Ui-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new k(n)}return r.set(e,t),this.size=r.size,this}U.prototype.clear=ks;U.prototype.delete=Gs;U.prototype.get=Hs;U.prototype.has=qs;U.prototype.set=Xs;function Ys(e,t){var r=ke(e),n=!r&&ho(e),s=!r&&!n&&Nt(e),o=!r&&!n&&!s&&Pn(e),f=r||n||s||o,l=f?fs(e.length,String):[],u=l.length;for(var i in e)(t||A.call(e,i))&&!(f&&(i=="length"||s&&(i=="offset"||i=="parent")||o&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||ao(i,u)))&&l.push(i);return l}function qe(e,t){for(var r=e.length;r--;)if(Ln(e[r][0],t))return r;return-1}function Zs(e,t,r){var n=t(e);return ke(e)?n:us(n,r(e))}function ye(e){return e==null?e===void 0?Hi:$i:F&&F in Object(e)?so(e):fo(e)}function cn(e){return pe(e)&&ye(e)==Ve}function Rn(e,t,r,n,s){return e===t?!0:e==null||t==null||!pe(e)&&!pe(t)?e!==e&&t!==t:Qs(e,t,r,n,Rn,s)}function Qs(e,t,r,n,s,o){var f=ke(e),l=ke(t),u=f?Tt:J(e),i=l?Tt:J(t);u=u==Ve?Y:u,i=i==Ve?Y:i;var c=u==Y,a=i==Y,h=u==i;if(h&&Nt(e)){if(!Nt(t))return!1;f=!0,c=!1}if(h&&!c)return o||(o=new U),f||Pn(e)?xn(e,t,r,n,s,o):no(e,t,u,r,n,s,o);if(!(r&Ge)){var g=c&&A.call(e,"__wrapped__"),d=a&&A.call(t,"__wrapped__");if(g||d){var m=g?e.value():e,_=d?t.value():t;return o||(o=new U),s(m,_,r,n,o)}}return h?(o||(o=new U),io(e,t,r,n,s,o)):!1}function eo(e){if(!Cn(e)||uo(e))return!1;var t=Tn(e)?_s:ss;return t.test(G(e))}function to(e){return pe(e)&&An(e.length)&&!!w[ye(e)]}function ro(e){if(!lo(e))return Ss(e);var t=[];for(var r in Object(e))A.call(e,r)&&r!="constructor"&&t.push(r);return t}function xn(e,t,r,n,s,o){var f=r&Ge,l=e.length,u=t.length;if(l!=u&&!(f&&u>l))return!1;var i=o.get(e);if(i&&o.get(t))return i==t;var c=-1,a=!0,h=r&ln?new $e:void 0;for(o.set(e,t),o.set(t,e);++c<l;){var g=e[c],d=t[c];if(n)var m=f?n(d,g,c,t,e,o):n(g,d,c,e,t,o);if(m!==void 0){if(m)continue;a=!1;break}if(h){if(!ls(t,function(_,b){if(!ds(h,b)&&(g===_||s(g,_,r,n,o)))return h.push(b)})){a=!1;break}}else if(!(g===d||s(g,d,r,n,o))){a=!1;break}}return o.delete(e),o.delete(t),a}function no(e,t,r,n,s,o,f){switch(r){case We:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wn:return!(e.byteLength!=t.byteLength||!o(new sn(e),new sn(t)));case hn:case dn:case yn:return Ln(+e,+t);case gn:return e.name==t.name&&e.message==t.message;case mn:case vn:return e==t+"";case Je:var l=ps;case Ue:var u=n&Ge;if(l||(l=ms),e.size!=t.size&&!u)return!1;var i=f.get(e);if(i)return i==t;n|=ln,f.set(e,t);var c=xn(l(e),l(t),n,s,o,f);return f.delete(e),c;case Gi:if(Lt)return Lt.call(e)==Lt.call(t)}return!1}function io(e,t,r,n,s,o){var f=r&Ge,l=un(e),u=l.length,i=un(t),c=i.length;if(u!=c&&!f)return!1;for(var a=u;a--;){var h=l[a];if(!(f?h in t:A.call(t,h)))return!1}var g=o.get(e);if(g&&o.get(t))return g==t;var d=!0;o.set(e,t),o.set(t,e);for(var m=f;++a<u;){h=l[a];var _=e[h],b=t[h];if(n)var C=f?n(b,_,h,t,e,o):n(_,b,h,e,t,o);if(!(C===void 0?_===b||s(_,b,r,n,o):C)){d=!1;break}m||(m=h=="constructor")}if(d&&!m){var L=e.constructor,x=t.constructor;L!=x&&"constructor"in e&&"constructor"in t&&!(typeof L=="function"&&L instanceof L&&typeof x=="function"&&x instanceof x)&&(d=!1)}return o.delete(e),o.delete(t),d}function un(e){return Zs(e,yo,oo)}function Xe(e,t){var r=e.__data__;return co(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Q(e,t){var r=gs(e,t);return eo(r)?r:void 0}function so(e){var t=A.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch{}var s=In.call(e);return n&&(t?e[F]=r:delete e[F]),s}var oo=on?function(e){return e==null?[]:(e=Object(e),cs(on(e),function(t){return On.call(e,t)}))}:mo,J=ye;(Ct&&J(new Ct(new ArrayBuffer(1)))!=We||de&&J(new de)!=Je||Pt&&J(Pt.resolve())!=Zr||jt&&J(new jt)!=Ue||zt&&J(new zt)!=At)&&(J=function(e){var t=ye(e),r=t==Y?e.constructor:void 0,n=r?G(r):"";if(n)switch(n){case Is:return We;case Os:return Je;case Rs:return Zr;case xs:return Ue;case Ls:return At}return t});function ao(e,t){return t=t??fn,!!t&&(typeof e=="number"||os.test(e))&&e>-1&&e%1==0&&e<t}function co(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function uo(e){return!!rn&&rn in e}function lo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||He;return e===r}function fo(e){return In.call(e)}function G(e){if(e!=null){try{return Sn.call(e)}catch{}try{return e+""}catch{}}return""}function Ln(e,t){return e===t||e!==e&&t!==t}var ho=cn(function(){return arguments}())?cn:function(e){return pe(e)&&A.call(e,"callee")&&!On.call(e,"callee")},ke=Array.isArray;function go(e){return e!=null&&An(e.length)&&!Tn(e)}var Nt=Es||vo;function po(e,t){return Rn(e,t)}function Tn(e){if(!Cn(e))return!1;var t=ye(e);return t==pn||t==Fi||t==Wi||t==ki}function An(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fn}function Cn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pe(e){return e!=null&&typeof e=="object"}var Pn=tn?hs(tn):to;function yo(e){return go(e)?Ys(e):ro(e)}function mo(){return[]}function vo(){return!1}Z.exports=po});p();y();var Kt=B(Ye()),we=B(jn());p();y();p();y();var me=class{};var Ze=class extends me{constructor(t){super()}},Mt=we.FIVE_SECONDS,zn={pulse:"heartbeat_pulse"},ve=class extends Ze{constructor(t){super(t),this.events=new Kt.EventEmitter,this.interval=Mt,this.interval=t?.interval||Mt}static async init(t){let r=new ve(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,we.toMiliseconds)(this.interval))}pulse(){this.events.emit(zn.pulse)}};p();y();p();y();p();y();var Nn=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Bn=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Dn=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Mn(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Kn(e);return}return t}function Kn(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function te(e,t={}){if(typeof e!="string")return e;let r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Dn.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Nn.test(e)||Bn.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Mn)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}p();y();function Vn(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function E(e,...t){try{return Vn(e(...t))}catch(r){return Promise.reject(r)}}function Jn(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function Un(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function re(e){if(Jn(e))return String(e);if(Un(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return re(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Vt(){if(typeof v.Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}var Qe="base64:";function Jt(e){if(typeof e=="string")return e;Vt();let t=v.Buffer.from(e).toString("base64");return Qe+t}function Ut(e){return typeof e!="string"||!e.startsWith(Qe)?e:(Vt(),v.Buffer.from(e.slice(Qe.length),"base64"))}function R(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Wt(...e){return R(e.join(":"))}function ne(e){return e=R(e),e?e+":":""}var Wn="memory",Fn=()=>{let e=new Map;return{name:Wn,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function kt(e={}){let t={mounts:{"":e.driver||Fn()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=i=>{for(let c of t.mountpoints)if(i.startsWith(c))return{base:c,relativeKey:i.slice(c.length),driver:t.mounts[c]};return{base:"",relativeKey:i,driver:t.mounts[""]}},n=(i,c)=>t.mountpoints.filter(a=>a.startsWith(i)||c&&i.startsWith(a)).map(a=>({relativeBase:i.length>a.length?i.slice(a.length):void 0,mountpoint:a,driver:t.mounts[a]})),s=(i,c)=>{if(!!t.watching){c=R(c);for(let a of t.watchListeners)a(i,c)}},o=async()=>{if(!t.watching){t.watching=!0;for(let i in t.mounts)t.unwatch[i]=await Ft(t.mounts[i],s,i)}},f=async()=>{if(!!t.watching){for(let i in t.unwatch)await t.unwatch[i]();t.unwatch={},t.watching=!1}},l=(i,c,a)=>{let h=new Map,g=d=>{let m=h.get(d.base);return m||(m={driver:d.driver,base:d.base,items:[]},h.set(d.base,m)),m};for(let d of i){let m=typeof d=="string",_=R(m?d:d.key),b=m?void 0:d.value,C=m||!d.options?c:{...c,...d.options},L=r(_);g(L).items.push({key:_,value:b,relativeKey:L.relativeKey,options:C})}return Promise.all([...h.values()].map(d=>a(d))).then(d=>d.flat())},u={hasItem(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return E(h.hasItem,a,c)},getItem(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return E(h.getItem,a,c).then(g=>te(g))},getItems(i,c){return l(i,c,a=>a.driver.getItems?E(a.driver.getItems,a.items.map(h=>({key:h.relativeKey,options:h.options})),c).then(h=>h.map(g=>({key:Wt(a.base,g.key),value:te(g.value)}))):Promise.all(a.items.map(h=>E(a.driver.getItem,h.relativeKey,h.options).then(g=>({key:h.key,value:te(g)})))))},getItemRaw(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return h.getItemRaw?E(h.getItemRaw,a,c):E(h.getItem,a,c).then(g=>Ut(g))},async setItem(i,c,a={}){if(c===void 0)return u.removeItem(i);i=R(i);let{relativeKey:h,driver:g}=r(i);!g.setItem||(await E(g.setItem,h,re(c),a),g.watch||s("update",i))},async setItems(i,c){await l(i,c,async a=>{if(a.driver.setItems)return E(a.driver.setItems,a.items.map(h=>({key:h.relativeKey,value:re(h.value),options:h.options})),c);!a.driver.setItem||await Promise.all(a.items.map(h=>E(a.driver.setItem,h.relativeKey,re(h.value),h.options)))})},async setItemRaw(i,c,a={}){if(c===void 0)return u.removeItem(i,a);i=R(i);let{relativeKey:h,driver:g}=r(i);if(g.setItemRaw)await E(g.setItemRaw,h,c,a);else if(g.setItem)await E(g.setItem,h,Jt(c),a);else return;g.watch||s("update",i)},async removeItem(i,c={}){typeof c=="boolean"&&(c={removeMeta:c}),i=R(i);let{relativeKey:a,driver:h}=r(i);!h.removeItem||(await E(h.removeItem,a,c),(c.removeMeta||c.removeMata)&&await E(h.removeItem,a+"$",c),h.watch||s("remove",i))},async getMeta(i,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),i=R(i);let{relativeKey:a,driver:h}=r(i),g=Object.create(null);if(h.getMeta&&Object.assign(g,await E(h.getMeta,a,c)),!c.nativeOnly){let d=await E(h.getItem,a+"$",c).then(m=>te(m));d&&typeof d=="object"&&(typeof d.atime=="string"&&(d.atime=new Date(d.atime)),typeof d.mtime=="string"&&(d.mtime=new Date(d.mtime)),Object.assign(g,d))}return g},setMeta(i,c,a={}){return this.setItem(i+"$",c,a)},removeMeta(i,c={}){return this.removeItem(i+"$",c)},async getKeys(i,c={}){i=ne(i);let a=n(i,!0),h=[],g=[];for(let d of a){let m=await E(d.driver.getKeys,d.relativeBase,c);for(let _ of m){let b=d.mountpoint+R(_);h.some(C=>b.startsWith(C))||g.push(b)}h=[d.mountpoint,...h.filter(_=>!_.startsWith(d.mountpoint))]}return i?g.filter(d=>d.startsWith(i)&&d[d.length-1]!=="$"):g.filter(d=>d[d.length-1]!=="$")},async clear(i,c={}){i=ne(i),await Promise.all(n(i,!1).map(async a=>{if(a.driver.clear)return E(a.driver.clear,a.relativeBase,c);if(a.driver.removeItem){let h=await a.driver.getKeys(a.relativeBase||"",c);return Promise.all(h.map(g=>a.driver.removeItem(g,c)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(i=>$t(i)))},async watch(i){return await o(),t.watchListeners.push(i),async()=>{t.watchListeners=t.watchListeners.filter(c=>c!==i),t.watchListeners.length===0&&await f()}},async unwatch(){t.watchListeners=[],await f()},mount(i,c){if(i=ne(i),i&&t.mounts[i])throw new Error(`already mounted at ${i}`);return i&&(t.mountpoints.push(i),t.mountpoints.sort((a,h)=>h.length-a.length)),t.mounts[i]=c,t.watching&&Promise.resolve(Ft(c,s,i)).then(a=>{t.unwatch[i]=a}).catch(console.error),u},async unmount(i,c=!0){i=ne(i),!(!i||!t.mounts[i])&&(t.watching&&i in t.unwatch&&(t.unwatch[i](),delete t.unwatch[i]),c&&await $t(t.mounts[i]),t.mountpoints=t.mountpoints.filter(a=>a!==i),delete t.mounts[i])},getMount(i=""){i=R(i)+":";let c=r(i);return{driver:c.driver,base:c.base}},getMounts(i="",c={}){return i=R(i),n(i,c.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(i,c={})=>u.getKeys(i,c),get:(i,c={})=>u.getItem(i,c),set:(i,c,a={})=>u.setItem(i,c,a),has:(i,c={})=>u.hasItem(i,c),del:(i,c={})=>u.removeItem(i,c),remove:(i,c={})=>u.removeItem(i,c)};return u}function Ft(e,t,r){return e.watch?e.watch((n,s)=>t(n,r+s)):()=>{}}async function $t(e){typeof e.dispose=="function"&&await E(e.dispose)}p();y();function W(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function tt(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=W(r);return(s,o)=>n.then(f=>o(f.transaction(t,s).objectStore(t)))}var et;function ie(){return et||(et=tt("keyval-store","keyval")),et}function rt(e,t=ie()){return t("readonly",r=>W(r.get(e)))}function Gt(e,t,r=ie()){return r("readwrite",n=>(n.put(t,e),W(n.transaction)))}function Ht(e,t=ie()){return t("readwrite",r=>(r.delete(e),W(r.transaction)))}function qt(e=ie()){return e("readwrite",t=>(t.clear(),W(t.transaction)))}function $n(e,t){return e.openCursor().onsuccess=function(){!this.result||(t(this.result),this.result.continue())},W(e.transaction)}function Xt(e=ie()){return e("readonly",t=>{if(t.getAllKeys)return W(t.getAllKeys());let r=[];return $n(t,n=>r.push(n.key)).then(()=>r)})}var kn="idb-keyval",Gn=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s,n;return e.dbName&&e.storeName&&(n=tt(e.dbName,e.storeName)),{name:kn,options:e,async hasItem(s){return!(typeof await rt(r(s),n)>"u")},async getItem(s){return await rt(r(s),n)??null},setItem(s,o){return Gt(r(s),o,n)},removeItem(s){return Ht(r(s),n)},getKeys(){return Xt(n)},clear(){return qt(n)}}},Hn="WALLET_CONNECT_V2_INDEXED_DB",qn="keyvaluestorage",it=class{constructor(){this.indexedDb=kt({driver:Gn({dbName:Hn,storeName:qn})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){let r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,D(r))}async removeItem(t){await this.indexedDb.removeItem(t)}},nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},_e={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof nt<"u"&&nt.localStorage?_e.exports=nt.localStorage:typeof window<"u"&&window.localStorage?_e.exports=window.localStorage:_e.exports=new t})();function Xn(e){var t;return[e[0],ee((t=e[1])!=null?t:"")]}var st=class{constructor(){this.localStorage=_e.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Xn)}async getItem(t){let r=this.localStorage.getItem(t);if(r!==null)return ee(r)}async setItem(t,r){this.localStorage.setItem(t,D(r))}async removeItem(t){this.localStorage.removeItem(t)}},Yn="wc_storage_version",Yt=1,Zn=async(e,t,r)=>{let n=Yn,s=await t.getItem(n);if(s&&s>=Yt){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let f=[];for(;o.length;){let l=o.shift();if(!l)continue;let u=l.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){let i=await e.getItem(l);await t.setItem(l,i),f.push(l)}}await t.setItem(n,Yt),r(t),Qn(e,f)},Qn=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})},Zt=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new st;this.storage=t;try{let r=new it;Zn(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};p();y();var P=B(ct()),hi=B(ct());var di={level:"info"},ae="custom_context",ht=1e3*1024,ut=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Se=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){let r=new ut(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){let t=[],r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};let r=t.value;return t=t.next,{done:!1,value:r}}}}},Ie=class{constructor(t,r=ht){this.level=t??"error",this.levelValue=P.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Se(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===P.levels.values.error?console.error(t):r===P.levels.values.warn?console.warn(t):r===P.levels.values.debug?console.debug(t):r===P.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(D({timestamp:new Date().toISOString(),log:t}));let r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Se(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){let r=this.getLogArray();return r.push(D({extraMetadata:t})),new Blob(r,{type:"application/json"})}},lt=class{constructor(t,r=ht){this.baseChunkLogger=new Ie(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){let r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},ft=class{constructor(t,r=ht){this.baseChunkLogger=new Ie(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}},gi=Object.defineProperty,pi=Object.defineProperties,yi=Object.getOwnPropertyDescriptors,sr=Object.getOwnPropertySymbols,mi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable,or=(e,t,r)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oe=(e,t)=>{for(var r in t||(t={}))mi.call(t,r)&&or(e,r,t[r]);if(sr)for(var r of sr(t))vi.call(t,r)&&or(e,r,t[r]);return e},Re=(e,t)=>pi(e,yi(t));function ia(e){return Re(Oe({},e),{level:e?.level||di.level})}function wi(e,t=ae){return e[t]||""}function _i(e,t,r=ae){return e[r]=t,e}function bi(e,t=ae){let r="";return typeof e.bindings>"u"?r=wi(e,t):r=e.bindings().context||"",r}function Ei(e,t,r=ae){let n=bi(e,r);return n.trim()?`${n}/${t}`:t}function sa(e,t,r=ae){let n=Ei(e,t,r),s=e.child({context:n});return _i(s,n,r)}function Si(e){var t,r;let n=new lt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,P.default)(Re(Oe({},e.opts),{level:"trace",browser:Re(Oe({},(r=e.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Ii(e){var t;let r=new ft((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,P.default)(Re(Oe({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function oa(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Si(e):Ii(e)}p();y();p();y();p();y();var ar="PARSE_ERROR",cr="INVALID_REQUEST",ur="METHOD_NOT_FOUND",lr="INVALID_PARAMS",xe="INTERNAL_ERROR",ce="SERVER_ERROR",dt=[-32700,-32600,-32601,-32602,-32603],Le=[-32e3,-32099],M={[ar]:{code:-32700,message:"Parse error"},[cr]:{code:-32600,message:"Invalid Request"},[ur]:{code:-32601,message:"Method not found"},[lr]:{code:-32602,message:"Invalid params"},[xe]:{code:-32603,message:"Internal error"},[ce]:{code:-32e3,message:"Server error"}},ue=ce;function Oi(e){return e<=Le[0]&&e>=Le[1]}function Te(e){return dt.includes(e)}function fr(e){return typeof e=="number"}function Ae(e){return Object.keys(M).includes(e)?M[e]:M[ue]}function Ce(e){let t=Object.values(M).find(r=>r.code===e);return t||M[ue]}function Ri(e){if(typeof e.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof e.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!fr(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(Te(e.error.code)){let t=Ce(e.error.code);if(t.message!==M[ue].message&&e.error.message===t.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}function gt(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}function pt(e=3){let t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function yt(e=6){return BigInt(pt(e))}function mt(e,t,r){return{id:r||pt(),jsonrpc:"2.0",method:e,params:t}}function xi(e,t){return{id:e,jsonrpc:"2.0",result:t}}function vt(e,t,r){return{id:e,jsonrpc:"2.0",error:hr(t,r)}}function hr(e,t){return typeof e>"u"?Ae(xe):(typeof e=="string"&&(e=Object.assign(Object.assign({},Ae(ce)),{message:e})),typeof t<"u"&&(e.data=t),Te(e.code)&&(e=Ce(e.code)),e)}p();y();function wt(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Li(e){return wt(e)&&"method"in e}function _t(e){return wt(e)&&(dr(e)||Pe(e))}function dr(e){return"result"in e}function Pe(e){return"error"in e}function Ti(e){return"error"in e&&e.valid===!1}var O={};Dt(O,{DEFAULT_ERROR:()=>ue,IBaseJsonRpcProvider:()=>Me,IEvents:()=>le,IJsonRpcConnection:()=>It,IJsonRpcProvider:()=>fe,INTERNAL_ERROR:()=>xe,INVALID_PARAMS:()=>lr,INVALID_REQUEST:()=>cr,METHOD_NOT_FOUND:()=>ur,PARSE_ERROR:()=>ar,RESERVED_ERROR_CODES:()=>dt,SERVER_ERROR:()=>ce,SERVER_ERROR_CODE_RANGE:()=>Le,STANDARD_ERROR_MAP:()=>M,formatErrorMessage:()=>hr,formatJsonRpcError:()=>vt,formatJsonRpcRequest:()=>mt,formatJsonRpcResult:()=>xi,getBigIntRpcId:()=>yt,getError:()=>Ae,getErrorByCode:()=>Ce,isHttpUrl:()=>Mi,isJsonRpcError:()=>Pe,isJsonRpcPayload:()=>wt,isJsonRpcRequest:()=>Li,isJsonRpcResponse:()=>_t,isJsonRpcResult:()=>dr,isJsonRpcValidationInvalid:()=>Ti,isLocalhostUrl:()=>Ot,isNodeJs:()=>Ur,isReservedErrorCode:()=>Te,isServerErrorCode:()=>Oi,isValidDefaultRoute:()=>Be,isValidErrorCode:()=>fr,isValidLeadingWildcardRoute:()=>ji,isValidRoute:()=>Pi,isValidTrailingWildcardRoute:()=>zi,isValidWildcardRoute:()=>De,isWsUrl:()=>Ke,parseConnectionError:()=>gt,payloadId:()=>pt,validateJsonRpcError:()=>Ri});p();y();var S={};Dt(S,{isNodeJs:()=>Ur});p();y();var Jr=B(St());I(S,B(St()));var Ur=Jr.isNode;I(O,S);p();y();function Pi(e){return e.includes("*")?De(e):!/\W/g.test(e)}function Be(e){return e==="*"}function De(e){return Be(e)?!0:!(!e.includes("*")||e.split("*").length!==2||e.split("*").filter(t=>t.trim()==="").length!==1)}function ji(e){return!Be(e)&&De(e)&&!e.split("*")[0].trim()}function zi(e){return!Be(e)&&De(e)&&!e.split("*")[1].trim()}p();y();p();y();var le=class{},It=class extends le{constructor(t){super()}},Me=class extends le{constructor(){super()}},fe=class extends Me{constructor(t){super()}};p();y();var Ni="^https?:",Bi="^wss?:";function Di(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Wr(e,t){let r=Di(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Mi(e){return Wr(e,Ni)}function Ke(e){return Wr(e,Bi)}function Ot(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}p();y();var $r=B(Ye());var Fr=class extends fe{constructor(t){super(t),this.events=new $r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(mt(t.method,t.params||[],t.id||yt().toString()),r)}async requestStrict(t,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(o){s(o)}this.events.on(`${t.id}`,o=>{Pe(o)?s(o.error):n(o.result)});try{await this.connection.send(t,r)}catch(o){s(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),_t(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};p();y();var Yr=B(Ye());var Ki=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:Gr(),Vi=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Hr=e=>e.split("?")[0],qr=10,Ji=Ki(),Xr=class{constructor(t){if(this.url=t,this.events=new Yr.EventEmitter,this.registering=!1,!Ke(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(D(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Ke(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let s=new URLSearchParams(t).get("origin"),o=(0,O.isReactNative)()?{headers:{origin:s}}:{rejectUnauthorized:!Ot(t)},f=new Ji(t,[],o);Vi()?f.onerror=l=>{let u=l;n(this.emitError(u.error))}:f.on("error",l=>{n(this.emitError(l))}),f.onopen=()=>{this.onOpen(f),r(f)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?ee(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),s=n.message||n.toString(),o=vt(t,s);this.events.emit("payload",o)}parseError(t,r=this.url){return gt(t,Hr(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>qr&&this.events.setMaxListeners(qr)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Hr(this.url)}`));return this.events.emit("register_error",r),r}};export{me as a,zn as b,ve as c,Zt as d,hi as e,ia as f,bi as g,sa as h,oa as i,pt as j,yt as k,mt as l,xi as m,vt as n,Li as o,_t as p,dr as q,Pe as r,O as s,Fr as t,Xr as u,wo as v};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3YVLLZI2.js.map

import{a as Ot,b as Rt}from"./chunk-OAOTBWD6.js";import{a as At}from"./chunk-DMNTGO4X.js";import{a as Ut}from"./chunk-VIG2JFWH.js";import{a as Q}from"./chunk-J2QAPBIL.js";import"./chunk-HQA3BGLM.js";import{a as Mt}from"./chunk-UUWJWUOY.js";import{a as Pt}from"./chunk-YRSBWGKR.js";import{a as Ft}from"./chunk-PJTYQKWA.js";import{a as St}from"./chunk-3USSVI5T.js";import"./chunk-4EFZXPDV.js";import"./chunk-4KODREVA.js";import{a as $,b as L,c as ht,e as xt}from"./chunk-XIYLMV6I.js";import{a as Lt,f as vt}from"./chunk-AKE54ZCC.js";import{a as Nt}from"./chunk-6SEP5B7P.js";import"./chunk-ELJJJNTC.js";import"./chunk-EPWGNYZZ.js";import"./chunk-DZLXEJHX.js";import"./chunk-YIAOHVF5.js";import"./chunk-ZTAZ2272.js";import"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import{b as E}from"./chunk-PDC447BO.js";import"./chunk-JCM7SRK2.js";import{a as Dt}from"./chunk-PTD7UCOR.js";import{b as N}from"./chunk-ETJEH7T4.js";import{a as Et}from"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{Ea as st,X as bt,Y as A,a as Tt}from"./chunk-YALUYHLV.js";import{q as f}from"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import{o as fe}from"./chunk-5QMHGZLF.js";import{ec as It}from"./chunk-HPWCPLRR.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import{a as j}from"./chunk-ON6S2DB7.js";import{j as kt,p as de}from"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import"./chunk-3DZ7WRLL.js";import{d as gt,f as _e}from"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-2HSCH6R3.js";import"./chunk-CWNIM6RS.js";import"./chunk-NNAD25BL.js";import{e as Ct}from"./chunk-XV444F26.js";import"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import{c as g}from"./chunk-43VURGIT.js";import"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{N as H,q as it,x as Y,y as yt}from"./chunk-PUSMMCUD.js";import{R as S,z as a}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-5U7FO2PW.js";import"./chunk-PDUOSATP.js";import"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{$ as nt,W as wt,c as V,ea as B}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as T}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f as m,o as t,q as e}from"./chunk-6KXF36WM.js";t();e();var p=m(T()),ee=m(It()),oe=m(j()),re=m(fe());S();_e();de();t();e();var P=m(T());var qt=m(j());t();e();var O={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var zt=({currentTab:o,onTabChange:r,tabsConfig:l})=>{let n=(0,qt.useHistory)(),s=(0,P.useCallback)(i=>{r(i),n.replace(`${bt}?tab=${String(i)}`)},[n]);return P.default.createElement(P.default.Fragment,null,P.default.createElement(H,{className:O.tabsContainer,headerClassName:O.tabs,panelListClassName:O.panelList,activeId:o,size:H.SIZE.xl,color:H.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:s,navLeftClassName:O.left,navRightClassName:O.right},l.map(i=>{let{title:d,id:w}=i;return P.default.createElement(H.TabPane,{tab:d,key:w,id:w},i.contentComponent)})))};t();e();var F=m(T()),Zt=m(It()),Vt=m(j()),Yt=m(V());S();t();e();var h=m(T()),Bt=m(V());S();t();e();var R={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var ue=({onViewDetail:o,onDelete:r})=>{let l=(0,h.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:a("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:a("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>h.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:R.moreIcon}),s=({option:d})=>{let w=d;return h.default.createElement("div",{className:R.option},h.default.createElement(N,{className:(0,Bt.default)(w.icon,R.optionIcon)}),h.default.createElement("span",{className:R.optionText},w.label))},i=(0,h.useCallback)(d=>{d.preventDefault(),d.stopPropagation()},[]);return h.default.createElement("div",{onClick:i},h.default.createElement(Y,{options:l,align:Y.DIRECTION.right,optionAlign:Y.DIRECTION.left,displayArea:n,renderOption:s,onChange:d=>{d?.action()},optionItemClassName:R.optionItem}))},Ht=ue;t();e();var b=m(T()),Gt=m(V());S();t();e();var k=m(T()),Kt=m(V());t();e();var K={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var we=({icon:o,name:r,rpcUrl:l,children:n,keyword:s,className:i,onClick:d,id:w,...x})=>{let D=Q(),M=w===D,C=(0,k.useMemo)(()=>{if(o&&k.default.isValidElement(o))return o;let c={size:N.SIZE.lg};return o&&typeof o=="string"?{src:o,type:N.TYPE.image,defaultIcon:Ct,...c}:o&&typeof o=="object"?{...c,...o}:r&&typeof r=="string"?{text:r,type:N.TYPE.text,textTheme:N.TEXT_THEME.black,...c}:!1},[o,r]);return k.default.createElement(Lt,{icon:C,className:(0,Kt.default)(K["wallet-list-token"],i),onClick:d,keyword:s,...x},k.default.createElement(g.FlexBox,{style:{flex:1,overflow:"hidden"},direction:g.DIRECTION.vertical},k.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:K.title__wrap},k.default.createElement(f.HighlightKeyword,{strong:!0,text:r,keyword:s,ellipsis:{tooltip:!0}})),!!l&&k.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:K.desc__wrap},k.default.createElement(f.Text,{strong:!0,ellipsis:{tooltip:!0},size:f.SIZE.xs,type:f.TYPE.secondary},l))),M&&k.default.createElement(N,{icon:"okds-success-circle-fill",className:K.checkIcon}),n)},Wt=k.default.memo(we);t();e();var X={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var v=({listData:o,keywords:r,onSelect:l,emptyText:n,renderCustomItem:s,isRpcMode:i,children:d,listContainerClassName:w,searchMode:x=!1})=>{let D=(0,b.useRef)(null),M=(0,b.useCallback)(c=>{let{chainName:z,icon:G,rpcUrl:et,id:ot}=c||{};return b.default.createElement(Wt,{id:c.id,name:z,icon:ot===""?{size:"32px",fontSize:"32px",icon:G,type:"icon",text:z}:G,rpcUrl:et,keyword:r,onClick:()=>{l(c,i)}},s?.(c))},[r,l,i,s]),C=(0,b.useCallback)(()=>x?null:b.default.createElement(yt.State,{className:X.emptyContainer,title:n??a("wallet_extension_cryptodetail_text_nodata_found")}),[n,x]);return b.default.createElement("div",{ref:D,className:(0,Gt.default)(X.listContainer,w,{[X.searchMode]:x})},b.default.createElement(vt,{virtualable:!x,itemKey:"id",searchable:!1,dataSource:o,renderItem:M,renderEmpty:C}),d)};t();e();var at={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var J=({isEVMChainExisted:o,disableScroll:r=!1,...l})=>{let n=(0,Vt.useHistory)(),s=(0,Zt.useDispatch)(),i=Q(),d=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(A):Pt(A)},w=async c=>{n.push(`${A}?id=${encodeURIComponent(c.id)}&modify=${$.CAN}`)},x=At(),D=c=>{x({editRpcInfo:{uniqueId:c.id,rpcUrl:c.rpcUrl},onDeleted:()=>{i===c.id&&(s(E("currentNetworkUniqueId","")),s(E("isRpcMode",!1)))}})},M=c=>F.default.createElement(Ht,{onDelete:()=>{D(c)},onViewDetail:()=>{w(c)}}),C=o;return F.default.createElement(F.default.Fragment,null,F.default.createElement(v,{...l,listContainerClassName:(0,Yt.default)({[at.listContainer]:C,[at.unScollListContainer]:r}),renderCustomItem:M},C&&F.default.createElement(Et.FooterActions,null,F.default.createElement(B,{block:!0,size:B.SIZE.lg,type:B.TYPE.highlight,category:B.CATEGORY.fill,onClick:d},a("developer_mode_network_maintitle_add_network")))))};t();e();var jt=m(T());S();t();e();var $t={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Qt=({onSearch:o,searchKeyword:r})=>jt.default.createElement(it.Search,{className:$t.searchInput,placeholder:a("extension_wallet_network_input_search_network"),size:it.SIZE.md,value:r,onChange:l=>{let n=l.target.value;o(n)}});t();e();var mt=m(T());var Xt=m(j());t();e();var lt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var tt=o=>{let r=(0,Xt.useHistory)();return mt.default.createElement(v,{...o,renderCustomItem:n=>mt.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:lt.moreIcon,coreClassName:lt["more-icon__core"],onClick:s=>{s.preventDefault(),s.stopPropagation(),r.push(`${A}?id=${encodeURIComponent(n.id)}&modify=${$.CANT}`)}})})};t();e();var q=m(T());S();t();e();var Jt=o=>{let{onClose:r,visible:l,network:n}=o;return l?q.default.createElement(g.Portal,{component:g.Container,className:"net-loading"},q.default.createElement(wt,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),q.default.createElement("div",{className:"net-loading__content"},q.default.createElement(nt,{size:nt.SIZE.xl}),q.default.createElement("div",{className:"net-loading__content-text"},a("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=m(T());S();t();e();var W={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function ct(o){let{mainnetList:r,testnetList:l,customList:n,debouncedKeywords:s,onSelect:i}=o;return u.default.createElement("div",{className:W.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("extension_wallet_network_tab_main_network")),u.default.createElement(v,{listData:r,keywords:s,onSelect:i,isRpcMode:!1,searchMode:!0})):null,l.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("developer_mode_network_title_test_network")),u.default.createElement(tt,{listData:l,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("developer_mode_network_title_editcustom")),u.default.createElement(J,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var te={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var ye=()=>{let o=(0,oe.useHistory)(),r=(0,ee.useDispatch)(),l=Mt(),n=(0,p.useCallback)(()=>{o.replace(Tt)},[o]),[s,i]=(0,p.useState)(L.init),[d,w]=(0,p.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:x}=xt(),{extensionConfig:D,setExtensionConfig:M}=Nt("rpc_info"),C=(0,p.useRef)(!1),c=async y=>{i(L.loading),C.current=!1;try{let{rpcUrl:I,uniqueId:rt}=y;await Ot(I),C.current||(await r(E("isRpcMode",!0)),await r(E("currentNetworkUniqueId",rt)),await M(y),i(L.success),o.replace(st))}catch{C.current||i(L.failed)}},[z,G]=(0,p.useState)(""),et=y=>{G(y)},[ot,ne]=(0,p.useState)(parseInt(l.get("tab")||"0",10)),ie=y=>{ne(y)},U=(0,re.useDebounce)(z,{wait:300}),{resetFilterInfo:se}=Ft(),{mainnetListForUI:pt,customListForUI:_t,testnetListForUI:dt,isEVMChainExisted:ft}=Ut(U),{isRpcMode:ae}=St(),le=async y=>{let I=x.find(rt=>rt.uniqueId===y.id);if(ae&&ht(D,I)){o.replace(st);return}I&&(w(I),await c(I))},me=async y=>{await r(E("isRpcMode",!1)),await r(E("currentNetworkUniqueId",y.id)),se(!0),n()},ce=async()=>{await gt().clearDappData(),await kt(r)},Z=async(y,I)=>{await ce(),I?await le(y):await me(y)},ut=ft?a("wallet_extension_cryptodetail_text_nodata_found"):a("extension_wallet_network_text_unused_testnet"),pe=[{title:a("extension_wallet_network_tab_main_network"),id:0,contentComponent:p.default.createElement(v,{listData:pt,keywords:U,onSelect:Z,isRpcMode:!1})},{title:a("developer_mode_network_title_test_network"),id:1,contentComponent:p.default.createElement(tt,{listData:dt,keywords:U,onSelect:Z,emptyText:ut,isRpcMode:!0})},{title:a("developer_mode_network_title_editcustom"),id:2,contentComponent:p.default.createElement(J,{isEVMChainExisted:ft,emptyText:ut,listData:_t,keywords:U,onSelect:Z,isRpcMode:!0})}];return p.default.createElement(g.Container,{className:te.root},p.default.createElement(Dt,{title:a("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),p.default.createElement(Qt,{onSearch:et,searchKeyword:z}),U?p.default.createElement(ct,{mainnetList:pt,testnetList:dt,customList:_t,debouncedKeywords:U,onSelect:Z}):p.default.createElement(zt,{currentTab:ot,onTabChange:ie,tabsConfig:pe}),p.default.createElement(Rt,{visible:s===L.failed,onRetry:async()=>{await c(d)},onChangeNet:()=>{i(L.init)}}),p.default.createElement(Jt,{visible:s===L.loading,network:d?.name,onClose:()=>{i(L.init),C.current=!0}}))},xn=ye;export{ye as NetworkManagement,xn as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-HVYBWKHI.js.map

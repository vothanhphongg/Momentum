import{o as rn}from"./chunk-5QMHGZLF.js";import{o as Be,s as Qt,ya as Ue,za as nn}from"./chunk-TM67VPZU.js";import{R as tn,i as Ze}from"./chunk-UWJLNJLY.js";import{b as en}from"./chunk-JWYCKY2V.js";import{c as W,f as _e,n as process,o as b,q as _}from"./chunk-6KXF36WM.js";var ae=W(B=>{"use strict";b();_();var an=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function on(t,n){return Object.prototype.hasOwnProperty.call(t,n)}B.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var r in e)on(e,r)&&(t[r]=e[r])}}return t};B.shrinkBuf=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};var sn={arraySet:function(t,n,e,r,f){if(n.subarray&&t.subarray){t.set(n.subarray(e,e+r),f);return}for(var i=0;i<r;i++)t[f+i]=n[e+i]},flattenChunks:function(t){var n,e,r,f,i,l;for(r=0,n=0,e=t.length;n<e;n++)r+=t[n].length;for(l=new Uint8Array(r),f=0,n=0,e=t.length;n<e;n++)i=t[n],l.set(i,f),f+=i.length;return l}},fn={arraySet:function(t,n,e,r,f){for(var i=0;i<r;i++)t[f+i]=n[e+i]},flattenChunks:function(t){return[].concat.apply([],t)}};B.setTyped=function(t){t?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,sn)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,fn))};B.setTyped(an)});var He=W((jn,Fe)=>{"use strict";b();_();function ln(t,n,e,r){for(var f=t&65535|0,i=t>>>16&65535|0,l=0;e!==0;){l=e>2e3?2e3:e,e-=l;do f=f+n[r++]|0,i=i+f|0;while(--l);f%=65521,i%=65521}return f|i<<16|0}Fe.exports=ln});var Ge=W((Jn,We)=>{"use strict";b();_();function cn(){for(var t,n=[],e=0;e<256;e++){t=e;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n}var un=cn();function dn(t,n,e,r){var f=un,i=r+e;t^=-1;for(var l=r;l<i;l++)t=t>>>8^f[(t^n[l])&255];return t^-1}We.exports=dn});var Ke=W((qn,Me)=>{"use strict";b();_();var ce=30,hn=12;Me.exports=function(n,e){var r,f,i,l,s,v,o,a,C,h,c,m,w,S,g,D,N,p,u,R,E,x,T,y,k;r=n.state,f=n.next_in,y=n.input,i=f+(n.avail_in-5),l=n.next_out,k=n.output,s=l-(e-n.avail_out),v=l+(n.avail_out-257),o=r.dmax,a=r.wsize,C=r.whave,h=r.wnext,c=r.window,m=r.hold,w=r.bits,S=r.lencode,g=r.distcode,D=(1<<r.lenbits)-1,N=(1<<r.distbits)-1;e:do{w<15&&(m+=y[f++]<<w,w+=8,m+=y[f++]<<w,w+=8),p=S[m&D];t:for(;;){if(u=p>>>24,m>>>=u,w-=u,u=p>>>16&255,u===0)k[l++]=p&65535;else if(u&16){R=p&65535,u&=15,u&&(w<u&&(m+=y[f++]<<w,w+=8),R+=m&(1<<u)-1,m>>>=u,w-=u),w<15&&(m+=y[f++]<<w,w+=8,m+=y[f++]<<w,w+=8),p=g[m&N];n:for(;;){if(u=p>>>24,m>>>=u,w-=u,u=p>>>16&255,u&16){if(E=p&65535,u&=15,w<u&&(m+=y[f++]<<w,w+=8,w<u&&(m+=y[f++]<<w,w+=8)),E+=m&(1<<u)-1,E>o){n.msg="invalid distance too far back",r.mode=ce;break e}if(m>>>=u,w-=u,u=l-s,E>u){if(u=E-u,u>C&&r.sane){n.msg="invalid distance too far back",r.mode=ce;break e}if(x=0,T=c,h===0){if(x+=a-u,u<R){R-=u;do k[l++]=c[x++];while(--u);x=l-E,T=k}}else if(h<u){if(x+=a+h-u,u-=h,u<R){R-=u;do k[l++]=c[x++];while(--u);if(x=0,h<R){u=h,R-=u;do k[l++]=c[x++];while(--u);x=l-E,T=k}}}else if(x+=h-u,u<R){R-=u;do k[l++]=c[x++];while(--u);x=l-E,T=k}for(;R>2;)k[l++]=T[x++],k[l++]=T[x++],k[l++]=T[x++],R-=3;R&&(k[l++]=T[x++],R>1&&(k[l++]=T[x++]))}else{x=l-E;do k[l++]=k[x++],k[l++]=k[x++],k[l++]=k[x++],R-=3;while(R>2);R&&(k[l++]=k[x++],R>1&&(k[l++]=k[x++]))}}else if((u&64)===0){p=g[(p&65535)+(m&(1<<u)-1)];continue n}else{n.msg="invalid distance code",r.mode=ce;break e}break}}else if((u&64)===0){p=S[(p&65535)+(m&(1<<u)-1)];continue t}else if(u&32){r.mode=hn;break e}else{n.msg="invalid literal/length code",r.mode=ce;break e}break}}while(f<i&&l<v);R=w>>3,f-=R,w-=R<<3,m&=(1<<w)-1,n.next_in=f,n.next_out=l,n.avail_in=f<i?5+(i-f):5-(f-i),n.avail_out=l<v?257+(v-l):257-(l-v),r.hold=m,r.bits=w}});var Ve=W((ti,$e)=>{"use strict";b();_();var ze=ae(),ee=15,je=852,Xe=592,Ye=0,me=1,Je=2,vn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],gn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],wn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];$e.exports=function(n,e,r,f,i,l,s,v){var o=v.bits,a=0,C=0,h=0,c=0,m=0,w=0,S=0,g=0,D=0,N=0,p,u,R,E,x,T=null,y=0,k,U=new ze.Buf16(ee+1),d=new ze.Buf16(ee+1),A=null,H=0,J,$,Q;for(a=0;a<=ee;a++)U[a]=0;for(C=0;C<f;C++)U[e[r+C]]++;for(m=o,c=ee;c>=1&&U[c]===0;c--);if(m>c&&(m=c),c===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,v.bits=1,0;for(h=1;h<c&&U[h]===0;h++);for(m<h&&(m=h),g=1,a=1;a<=ee;a++)if(g<<=1,g-=U[a],g<0)return-1;if(g>0&&(n===Ye||c!==1))return-1;for(d[1]=0,a=1;a<ee;a++)d[a+1]=d[a]+U[a];for(C=0;C<f;C++)e[r+C]!==0&&(s[d[e[r+C]]++]=C);if(n===Ye?(T=A=s,k=19):n===me?(T=vn,y-=257,A=gn,H-=257,k=256):(T=wn,A=xn,k=-1),N=0,C=0,a=h,x=l,w=m,S=0,R=-1,D=1<<m,E=D-1,n===me&&D>je||n===Je&&D>Xe)return 1;for(;;){J=a-S,s[C]<k?($=0,Q=s[C]):s[C]>k?($=A[H+s[C]],Q=T[y+s[C]]):($=32+64,Q=0),p=1<<a-S,u=1<<w,h=u;do u-=p,i[x+(N>>S)+u]=J<<24|$<<16|Q|0;while(u!==0);for(p=1<<a-1;N&p;)p>>=1;if(p!==0?(N&=p-1,N+=p):N=0,C++,--U[a]===0){if(a===c)break;a=e[r+s[C]]}if(a>m&&(N&E)!==R){for(S===0&&(S=m),x+=h,w=a-S,g=1<<w;w+S<c&&(g-=U[w+S],!(g<=0));)w++,g<<=1;if(D+=1<<w,n===me&&D>je||n===Je&&D>Xe)return 1;R=N&E,i[R]=m<<24|w<<16|x-l|0}}return N!==0&&(i[x+N]=a-S<<24|64<<16|0),v.bits=m,0}});var yt=W(M=>{"use strict";b();_();var F=ae(),Re=He(),K=Ge(),kn=Ke(),oe=Ve(),bn=0,pt=1,Et=2,qe=4,_n=5,ue=6,V=0,mn=1,Sn=2,G=-2,Ct=-3,Ne=-4,pn=-5,Qe=8,Tt=1,et=2,tt=3,nt=4,it=5,rt=6,at=7,ot=8,st=9,ft=10,ve=11,z=12,Se=13,lt=14,pe=15,ct=16,ut=17,dt=18,ht=19,de=20,he=21,vt=22,gt=23,wt=24,xt=25,kt=26,Ee=27,bt=28,_t=29,I=30,Oe=31,En=32,Cn=852,Tn=592,Rn=15,Nn=Rn;function mt(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function On(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new F.Buf16(320),this.work=new F.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Rt(t){var n;return!t||!t.state?G:(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=Tt,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new F.Buf32(Cn),n.distcode=n.distdyn=new F.Buf32(Tn),n.sane=1,n.back=-1,V)}function Nt(t){var n;return!t||!t.state?G:(n=t.state,n.wsize=0,n.whave=0,n.wnext=0,Rt(t))}function Ot(t,n){var e,r;return!t||!t.state||(r=t.state,n<0?(e=0,n=-n):(e=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15))?G:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=e,r.wbits=n,Nt(t))}function Dt(t,n){var e,r;return t?(r=new On,t.state=r,r.window=null,e=Ot(t,n),e!==V&&(t.state=null),e):G}function Dn(t){return Dt(t,Nn)}var St=!0,Ce,Te;function In(t){if(St){var n;for(Ce=new F.Buf32(512),Te=new F.Buf32(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(oe(pt,t.lens,0,288,Ce,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;oe(Et,t.lens,0,32,Te,0,t.work,{bits:5}),St=!1}t.lencode=Ce,t.lenbits=9,t.distcode=Te,t.distbits=5}function It(t,n,e,r){var f,i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new F.Buf8(i.wsize)),r>=i.wsize?(F.arraySet(i.window,n,e-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(f=i.wsize-i.wnext,f>r&&(f=r),F.arraySet(i.window,n,e-r,f,i.wnext),r-=f,r?(F.arraySet(i.window,n,e-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=f,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=f))),0}function yn(t,n){var e,r,f,i,l,s,v,o,a,C,h,c,m,w,S=0,g,D,N,p,u,R,E,x,T=new F.Buf8(4),y,k,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return G;e=t.state,e.mode===z&&(e.mode=Se),l=t.next_out,f=t.output,v=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,o=e.hold,a=e.bits,C=s,h=v,x=V;e:for(;;)switch(e.mode){case Tt:if(e.wrap===0){e.mode=Se;break}for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.wrap&2&&o===35615){e.check=0,T[0]=o&255,T[1]=o>>>8&255,e.check=K(e.check,T,2,0),o=0,a=0,e.mode=et;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((o&255)<<8)+(o>>8))%31){t.msg="incorrect header check",e.mode=I;break}if((o&15)!==Qe){t.msg="unknown compression method",e.mode=I;break}if(o>>>=4,a-=4,E=(o&15)+8,e.wbits===0)e.wbits=E;else if(E>e.wbits){t.msg="invalid window size",e.mode=I;break}e.dmax=1<<E,t.adler=e.check=1,e.mode=o&512?ft:z,o=0,a=0;break;case et:for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.flags=o,(e.flags&255)!==Qe){t.msg="unknown compression method",e.mode=I;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=I;break}e.head&&(e.head.text=o>>8&1),e.flags&512&&(T[0]=o&255,T[1]=o>>>8&255,e.check=K(e.check,T,2,0)),o=0,a=0,e.mode=tt;case tt:for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.head&&(e.head.time=o),e.flags&512&&(T[0]=o&255,T[1]=o>>>8&255,T[2]=o>>>16&255,T[3]=o>>>24&255,e.check=K(e.check,T,4,0)),o=0,a=0,e.mode=nt;case nt:for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.head&&(e.head.xflags=o&255,e.head.os=o>>8),e.flags&512&&(T[0]=o&255,T[1]=o>>>8&255,e.check=K(e.check,T,2,0)),o=0,a=0,e.mode=it;case it:if(e.flags&1024){for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.length=o,e.head&&(e.head.extra_len=o),e.flags&512&&(T[0]=o&255,T[1]=o>>>8&255,e.check=K(e.check,T,2,0)),o=0,a=0}else e.head&&(e.head.extra=null);e.mode=rt;case rt:if(e.flags&1024&&(c=e.length,c>s&&(c=s),c&&(e.head&&(E=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),F.arraySet(e.head.extra,r,i,c,E)),e.flags&512&&(e.check=K(e.check,r,c,i)),s-=c,i+=c,e.length-=c),e.length))break e;e.length=0,e.mode=at;case at:if(e.flags&2048){if(s===0)break e;c=0;do E=r[i+c++],e.head&&E&&e.length<65536&&(e.head.name+=String.fromCharCode(E));while(E&&c<s);if(e.flags&512&&(e.check=K(e.check,r,c,i)),s-=c,i+=c,E)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=ot;case ot:if(e.flags&4096){if(s===0)break e;c=0;do E=r[i+c++],e.head&&E&&e.length<65536&&(e.head.comment+=String.fromCharCode(E));while(E&&c<s);if(e.flags&512&&(e.check=K(e.check,r,c,i)),s-=c,i+=c,E)break e}else e.head&&(e.head.comment=null);e.mode=st;case st:if(e.flags&512){for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o!==(e.check&65535)){t.msg="header crc mismatch",e.mode=I;break}o=0,a=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=z;break;case ft:for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}t.adler=e.check=mt(o),o=0,a=0,e.mode=ve;case ve:if(e.havedict===0)return t.next_out=l,t.avail_out=v,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,Sn;t.adler=e.check=1,e.mode=z;case z:if(n===_n||n===ue)break e;case Se:if(e.last){o>>>=a&7,a-=a&7,e.mode=Ee;break}for(;a<3;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}switch(e.last=o&1,o>>>=1,a-=1,o&3){case 0:e.mode=lt;break;case 1:if(In(e),e.mode=de,n===ue){o>>>=2,a-=2;break e}break;case 2:e.mode=ut;break;case 3:t.msg="invalid block type",e.mode=I}o>>>=2,a-=2;break;case lt:for(o>>>=a&7,a-=a&7;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if((o&65535)!==(o>>>16^65535)){t.msg="invalid stored block lengths",e.mode=I;break}if(e.length=o&65535,o=0,a=0,e.mode=pe,n===ue)break e;case pe:e.mode=ct;case ct:if(c=e.length,c){if(c>s&&(c=s),c>v&&(c=v),c===0)break e;F.arraySet(f,r,i,c,l),s-=c,i+=c,v-=c,l+=c,e.length-=c;break}e.mode=z;break;case ut:for(;a<14;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.nlen=(o&31)+257,o>>>=5,a-=5,e.ndist=(o&31)+1,o>>>=5,a-=5,e.ncode=(o&15)+4,o>>>=4,a-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=I;break}e.have=0,e.mode=dt;case dt:for(;e.have<e.ncode;){for(;a<3;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.lens[U[e.have++]]=o&7,o>>>=3,a-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,y={bits:e.lenbits},x=oe(bn,e.lens,0,19,e.lencode,0,e.work,y),e.lenbits=y.bits,x){t.msg="invalid code lengths set",e.mode=I;break}e.have=0,e.mode=ht;case ht:for(;e.have<e.nlen+e.ndist;){for(;S=e.lencode[o&(1<<e.lenbits)-1],g=S>>>24,D=S>>>16&255,N=S&65535,!(g<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(N<16)o>>>=g,a-=g,e.lens[e.have++]=N;else{if(N===16){for(k=g+2;a<k;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o>>>=g,a-=g,e.have===0){t.msg="invalid bit length repeat",e.mode=I;break}E=e.lens[e.have-1],c=3+(o&3),o>>>=2,a-=2}else if(N===17){for(k=g+3;a<k;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=g,a-=g,E=0,c=3+(o&7),o>>>=3,a-=3}else{for(k=g+7;a<k;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=g,a-=g,E=0,c=11+(o&127),o>>>=7,a-=7}if(e.have+c>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=I;break}for(;c--;)e.lens[e.have++]=E}}if(e.mode===I)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=I;break}if(e.lenbits=9,y={bits:e.lenbits},x=oe(pt,e.lens,0,e.nlen,e.lencode,0,e.work,y),e.lenbits=y.bits,x){t.msg="invalid literal/lengths set",e.mode=I;break}if(e.distbits=6,e.distcode=e.distdyn,y={bits:e.distbits},x=oe(Et,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,y),e.distbits=y.bits,x){t.msg="invalid distances set",e.mode=I;break}if(e.mode=de,n===ue)break e;case de:e.mode=he;case he:if(s>=6&&v>=258){t.next_out=l,t.avail_out=v,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,kn(t,h),l=t.next_out,f=t.output,v=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,o=e.hold,a=e.bits,e.mode===z&&(e.back=-1);break}for(e.back=0;S=e.lencode[o&(1<<e.lenbits)-1],g=S>>>24,D=S>>>16&255,N=S&65535,!(g<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(D&&(D&240)===0){for(p=g,u=D,R=N;S=e.lencode[R+((o&(1<<p+u)-1)>>p)],g=S>>>24,D=S>>>16&255,N=S&65535,!(p+g<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=p,a-=p,e.back+=p}if(o>>>=g,a-=g,e.back+=g,e.length=N,D===0){e.mode=kt;break}if(D&32){e.back=-1,e.mode=z;break}if(D&64){t.msg="invalid literal/length code",e.mode=I;break}e.extra=D&15,e.mode=vt;case vt:if(e.extra){for(k=e.extra;a<k;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,a-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=gt;case gt:for(;S=e.distcode[o&(1<<e.distbits)-1],g=S>>>24,D=S>>>16&255,N=S&65535,!(g<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if((D&240)===0){for(p=g,u=D,R=N;S=e.distcode[R+((o&(1<<p+u)-1)>>p)],g=S>>>24,D=S>>>16&255,N=S&65535,!(p+g<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=p,a-=p,e.back+=p}if(o>>>=g,a-=g,e.back+=g,D&64){t.msg="invalid distance code",e.mode=I;break}e.offset=N,e.extra=D&15,e.mode=wt;case wt:if(e.extra){for(k=e.extra;a<k;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,a-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=I;break}e.mode=xt;case xt:if(v===0)break e;if(c=h-v,e.offset>c){if(c=e.offset-c,c>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=I;break}c>e.wnext?(c-=e.wnext,m=e.wsize-c):m=e.wnext-c,c>e.length&&(c=e.length),w=e.window}else w=f,m=l-e.offset,c=e.length;c>v&&(c=v),v-=c,e.length-=c;do f[l++]=w[m++];while(--c);e.length===0&&(e.mode=he);break;case kt:if(v===0)break e;f[l++]=e.length,v--,e.mode=he;break;case Ee:if(e.wrap){for(;a<32;){if(s===0)break e;s--,o|=r[i++]<<a,a+=8}if(h-=v,t.total_out+=h,e.total+=h,h&&(t.adler=e.check=e.flags?K(e.check,f,h,l-h):Re(e.check,f,h,l-h)),h=v,(e.flags?o:mt(o))!==e.check){t.msg="incorrect data check",e.mode=I;break}o=0,a=0}e.mode=bt;case bt:if(e.wrap&&e.flags){for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=I;break}o=0,a=0}e.mode=_t;case _t:x=mn;break e;case I:x=Ct;break e;case Oe:return Ne;case En:default:return G}return t.next_out=l,t.avail_out=v,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,(e.wsize||h!==t.avail_out&&e.mode<I&&(e.mode<Ee||n!==qe))&&It(t,t.output,t.next_out,h-t.avail_out)?(e.mode=Oe,Ne):(C-=t.avail_in,h-=t.avail_out,t.total_in+=C,t.total_out+=h,e.total+=h,e.wrap&&h&&(t.adler=e.check=e.flags?K(e.check,f,h,t.next_out-h):Re(e.check,f,h,t.next_out-h)),t.data_type=e.bits+(e.last?64:0)+(e.mode===z?128:0)+(e.mode===de||e.mode===pe?256:0),(C===0&&h===0||n===qe)&&x===V&&(x=pn),x)}function Pn(t){if(!t||!t.state)return G;var n=t.state;return n.window&&(n.window=null),t.state=null,V}function Ln(t,n){var e;return!t||!t.state||(e=t.state,(e.wrap&2)===0)?G:(e.head=n,n.done=!1,V)}function An(t,n){var e=n.length,r,f,i;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==ve)?G:r.mode===ve&&(f=1,f=Re(f,n,e,0),f!==r.check)?Ct:(i=It(t,n,e,e),i?(r.mode=Oe,Ne):(r.havedict=1,V))}M.inflateReset=Nt;M.inflateReset2=Ot;M.inflateResetKeep=Rt;M.inflateInit=Dn;M.inflateInit2=Dt;M.inflate=yn;M.inflateEnd=Pn;M.inflateGetHeader=Ln;M.inflateSetDictionary=An;M.inflateInfo="pako inflate (from Nodeca project)"});var Bt=W(te=>{"use strict";b();_();var ge=ae(),Pt=!0,Lt=!0;try{String.fromCharCode.apply(null,[0])}catch{Pt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lt=!1}var se=new ge.Buf8(256);for(j=0;j<256;j++)se[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;var j;se[254]=se[254]=1;te.string2buf=function(t){var n,e,r,f,i,l=t.length,s=0;for(f=0;f<l;f++)e=t.charCodeAt(f),(e&64512)===55296&&f+1<l&&(r=t.charCodeAt(f+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),f++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(n=new ge.Buf8(s),i=0,f=0;i<s;f++)e=t.charCodeAt(f),(e&64512)===55296&&f+1<l&&(r=t.charCodeAt(f+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),f++)),e<128?n[i++]=e:e<2048?(n[i++]=192|e>>>6,n[i++]=128|e&63):e<65536?(n[i++]=224|e>>>12,n[i++]=128|e>>>6&63,n[i++]=128|e&63):(n[i++]=240|e>>>18,n[i++]=128|e>>>12&63,n[i++]=128|e>>>6&63,n[i++]=128|e&63);return n};function At(t,n){if(n<65534&&(t.subarray&&Lt||!t.subarray&&Pt))return String.fromCharCode.apply(null,ge.shrinkBuf(t,n));for(var e="",r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}te.buf2binstring=function(t){return At(t,t.length)};te.binstring2buf=function(t){for(var n=new ge.Buf8(t.length),e=0,r=n.length;e<r;e++)n[e]=t.charCodeAt(e);return n};te.buf2string=function(t,n){var e,r,f,i,l=n||t.length,s=new Array(l*2);for(r=0,e=0;e<l;){if(f=t[e++],f<128){s[r++]=f;continue}if(i=se[f],i>4){s[r++]=65533,e+=i-1;continue}for(f&=i===2?31:i===3?15:7;i>1&&e<l;)f=f<<6|t[e++]&63,i--;if(i>1){s[r++]=65533;continue}f<65536?s[r++]=f:(f-=65536,s[r++]=55296|f>>10&1023,s[r++]=56320|f&1023)}return At(s,r)};te.utf8border=function(t,n){var e;for(n=n||t.length,n>t.length&&(n=t.length),e=n-1;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+se[t[e]]>n?e:n}});var Ut=W((ci,Zt)=>{"use strict";b();_();Zt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var Ht=W((hi,Ft)=>{"use strict";b();_();Ft.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var Gt=W((wi,Wt)=>{"use strict";b();_();function Bn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Wt.exports=Bn});var Kt=W((bi,Mt)=>{"use strict";b();_();function Zn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Mt.exports=Zn});var jt=W(le=>{"use strict";b();_();var ne=yt(),fe=ae(),we=Bt(),P=Ut(),De=Ht(),Un=Gt(),Fn=Kt(),zt=Object.prototype.toString;function q(t){if(!(this instanceof q))return new q(t);this.options=fe.assign({chunkSize:16384,windowBits:0,to:""},t||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Un,this.strm.avail_out=0;var e=ne.inflateInit2(this.strm,n.windowBits);if(e!==P.Z_OK)throw new Error(De[e]);if(this.header=new Fn,ne.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=we.string2buf(n.dictionary):zt.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=ne.inflateSetDictionary(this.strm,n.dictionary),e!==P.Z_OK)))throw new Error(De[e])}q.prototype.push=function(t,n){var e=this.strm,r=this.options.chunkSize,f=this.options.dictionary,i,l,s,v,o,a=!1;if(this.ended)return!1;l=n===~~n?n:n===!0?P.Z_FINISH:P.Z_NO_FLUSH,typeof t=="string"?e.input=we.binstring2buf(t):zt.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new fe.Buf8(r),e.next_out=0,e.avail_out=r),i=ne.inflate(e,P.Z_NO_FLUSH),i===P.Z_NEED_DICT&&f&&(i=ne.inflateSetDictionary(this.strm,f)),i===P.Z_BUF_ERROR&&a===!0&&(i=P.Z_OK,a=!1),i!==P.Z_STREAM_END&&i!==P.Z_OK)return this.onEnd(i),this.ended=!0,!1;e.next_out&&(e.avail_out===0||i===P.Z_STREAM_END||e.avail_in===0&&(l===P.Z_FINISH||l===P.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=we.utf8border(e.output,e.next_out),v=e.next_out-s,o=we.buf2string(e.output,s),e.next_out=v,e.avail_out=r-v,v&&fe.arraySet(e.output,e.output,s,v,0),this.onData(o)):this.onData(fe.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(a=!0)}while((e.avail_in>0||e.avail_out===0)&&i!==P.Z_STREAM_END);return i===P.Z_STREAM_END&&(l=P.Z_FINISH),l===P.Z_FINISH?(i=ne.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===P.Z_OK):(l===P.Z_SYNC_FLUSH&&(this.onEnd(P.Z_OK),e.avail_out=0),!0)};q.prototype.onData=function(t){this.chunks.push(t)};q.prototype.onEnd=function(t){t===P.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fe.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ie(t,n){var e=new q(n);if(e.push(t,!0),e.err)throw e.msg||De[e.err];return e.result}function Hn(t,n){return n=n||{},n.raw=!0,Ie(t,n)}le.Inflate=q;le.inflate=Ie;le.inflateRaw=Hn;le.ungzip=Ie});b();_();var X=_e(en()),qt=_e(rn());tn();b();_();b();_();var Jt=_e(jt());b();_();b();_();b();_();b();_();b();_();var xe=()=>Boolean(typeof window>"u"||process.env.SSR_ENV);var ye={PING:"ping",PONG:"pong"},ie={CONNECTED:0,DISCONNECTED:1,PING_PENDING:2,PING_PENDING_OVER:3},Y=!xe(),ke=Y&&!window.inOKXExtension;var Wn=/^\{|\[/,Xt="";Y&&(Xt=window?.okGlobal?.socketBaseUrls?.trade);var be={isPushingJSON(t){return Wn.test(t)},getRealConnectUrl(t=Xt){return t}};b();_();var Yt={decode(t){let n=0,e,r,f,i,l,s=[],v=t.length;for(;n<v;)e=t[n++],e<128?l=e:e<224?(r=t[n++],l=(e&31)<<6|r&63):e<240?(r=t[n++],f=t[n++],l=(e&15)<<12|(r&63)<<6|f&63):(r=t[n++],f=t[n++],i=t[n++],l=(e&7)<<18|(r&63)<<12|(f&63)<<6|i&63),s.push(String.fromCodePoint(l));return s.join("")}};var $t=Yt;if(Y&&ke){let{location:t,TextDecoder:n}=window;n&&($t=new n("utf-8")),window.$has_debug_push_param$=t.href.indexOf("debug_push=true")>-1}var Pe={};function Le(t={}){let n=this,e=be.getRealConnectUrl(t.connectUrl),r={maxPendingTime:5e3,maxReconnectTime:1e4,maxWaitingResponseTime:1e4,maxSleepRecoveringTime:3e3,...t,connectUrl:e},f=Pe[r.connectUrl];if(f)return f;let i={isClosingByClient:!1,isKillingUnWakeUp:!1,isPingPending:!1,isErrorOccurred:!1},l,s={reconnectTimer:0,handlePendingTimer:0,discontinueTimer:0,killingUnWakeUpTimer:0,pingPendingTimer:0},v={currReconnectTime:0,lastReceivingTime:0},o=[],a=[],C=[],h=[],c=[],m=()=>{},w=()=>{this.isConnected()&&(m(),s.pingPendingTimer=setTimeout(()=>{i.isErrorOccurred&&this.isConnected()||(i.isErrorOccurred=!1,i.isPingPending=!0,h.forEach(d=>{d(ie.PING_PENDING)}))},r.maxPendingTime))},S=(d,A)=>{for(let H=0;H<d.length;H++)if(d[H]===A){d.splice(H,1);break}},g=()=>{i.isPingPending=!1,clearTimeout(s.pingPendingTimer)},D=()=>{clearInterval(s.handlePendingTimer)},N=()=>{v.currReconnectTime=0,s.reconnectTimer&&(clearTimeout(s.reconnectTimer),delete s.reconnectTimer)},p=()=>{!this.isConnected()&&!this.isConnecting()&&(N(),u())},u=function(){l=new WebSocket(r.connectUrl),l.onopen=R,l.onmessage=x,l.onclose=y,l.onerror=k,s.handlePendingTimer=setInterval(n.handleConnectPending,r.maxPendingTime)},R=function(){i.isClosingByClient=!1,N(),D(),g(),a.forEach(d=>{d(),d.triggered=!0}),h.forEach(d=>{d(ie.CONNECTED)})},E=function(){i.isPingPending&&h.forEach(d=>{d(ie.PING_PENDING_OVER)}),g()},x=function(d){if(v.lastReceivingTime=Date.now(),clearTimeout(s.discontinueTimer),clearTimeout(s.killingUnWakeUpTimer),s.discontinueTimer=setTimeout(w,r.maxPendingTime),d.data instanceof Blob){let A=d.data,H=new FileReader,J={done:!1,resultString:""};c.push(J),H.onload=function($){if($.target.readyState==FileReader.DONE){let Q=(0,Jt.inflateRaw)($.target.result);for(J.done=!0,J.resultString=$t.decode(Q);c[0]&&c[0].done;){let{resultString:re}=c.shift();re===ye.PONG&&E();let Ae=be.isPushingJSON(re)?JSON.parse(re):re;U(Ae),window.$has_debug_push_param$&&(console.log(re),window.$ok_debug_push_callback$&&window.$ok_debug_push_callback$(Ae))}}},H.readAsArrayBuffer(A)}else{let A=d.data;A===ye.PONG&&E(),U(be.isPushingJSON(A)?JSON.parse(A):A),window.$has_debug_push_param$&&console.log(A)}},T=function(){g(),a.forEach(d=>{d.triggered=!1})},y=function(){if(i.isKillingUnWakeUp){i.isKillingUnWakeUp=!1;return}i.isClosingByClient?T():s.reconnectTimer||k()},k=function(){T(),D(),i.isErrorOccurred=!0,s.reconnectTimer=setTimeout(u,v.currReconnectTime);let d=v.currReconnectTime+1e3;d>r.maxReconnectTime&&(d=r.maxReconnectTime),v.currReconnectTime=d,o.forEach(A=>{A()}),h.forEach(A=>{A(ie.DISCONNECTED)})},U=function(d){if(d.event==="error"&&Number(d.errorCode)===30026){l.close();return}C.forEach(H=>H(d))};if(this.setPushDataResolver=function(d){return C.push(d),()=>{S(C,d)}},this.connect=function(){if(Y){if(this.isConnected()){a.forEach(d=>{d.triggered||(d(),d.triggered=!0)});return}!this.isConnected()&&!this.isConnecting()&&u()}},this.disconnect=function(){clearTimeout(s.reconnectTimer),clearTimeout(s.discontinueTimer),delete s.reconnectTimer,delete s.discontinueTimer,i.isClosingByClient=!0,l.close(),o.length=0,a.length=0,C.length=0,m=()=>{},delete Pe[r.connectUrl];let{connection:d}=navigator;d&&d.removeEventListener&&d.removeEventListener("change",this.handleConnectionChange),ke&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.isConnecting=function(){return l?.readyState===WebSocket.CONNECTING},this.isConnected=function(){return l?.readyState===WebSocket.OPEN},this.sendChannel=function(d){this.isConnected()?l.send(d):console.error("WebSocket is not in open state, can not send!")},this.onSocketConnected=function(d){return a.push(d),()=>{S(a,d)}},this.onSocketError=function(d){return o.push(d),()=>{S(o,d)}},this.onPushDiscontinue=function(d){return m=d,()=>{}},this.onStatusChange=function(d){return h.push(d),()=>{S(h,d)}},this.handleConnectPending=()=>{this.isConnecting()&&o.forEach(d=>{d()})},this.handleConnectionChange=()=>{navigator.onLine===!0&&p()},this.handleVisibilityChange=()=>{if(document.visibilityState==="visible"){if(!this.isConnected()){p();return}Date.now()-v.lastReceivingTime>r.maxWaitingResponseTime&&(w(),s.killingUnWakeUpTimer=setTimeout(()=>{T(),N(),i.isKillingUnWakeUp=!0,l.close(),u()},r.maxSleepRecoveringTime))}},Y){let{connection:d}=navigator;d&&d.addEventListener&&d.addEventListener("change",this.handleConnectionChange),ke&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}return Pe[r.connectUrl]=this,this}Le.STATUS=ie;Y&&!window.WebSocketCore&&(window.WebSocketCore=Le);var Vt=Le;nn();Qt();var O=class{constructor(){this.online=()=>{O.socketPendingData=[...O.socketPendingData,...O.socketPendingDataOffToLine],O.socketPendingDataOffToLine=[],this.init()};this.offline=()=>{this.onSocketError()};this.onSocketError=()=>{O.socketStatus="ERROR",Object.keys(O.onStatusChange).forEach(n=>{O.onStatusChange[n](O.socketStatus)}),O.instance.disconnect()};this.init()}static sendChannel(n){O.socketStatus==="CONNECTED"?(O.instance.sendChannel(JSON.stringify(n)),O.socketPendingDataOffToLine.push(n)):O.socketPendingData.push(n)}async init(){await Be.setUrlFromLocalAsync(),window.removeEventListener("online",this.online),window.removeEventListener("offline",this.offline),window.addEventListener("online",this.online),window.addEventListener("offline",this.offline),O.instance=new Vt({connectUrl:Ue.serverPushUrl});let n=O.instance;n.onPushDiscontinue(()=>{n.sendChannel("ping")}),n.connect(),n.onSocketError(()=>{O.socketStatus="ERROR",Object.keys(O.onStatusChange).forEach(e=>{O.onStatusChange[e](O.socketStatus)}),O.instance.disconnect()}),n.onSocketConnected(()=>{O.socketStatus="CONNECTED",Object.keys(O.onStatusChange).forEach(e=>{O.onStatusChange[e](O.socketStatus)}),O.socketPendingData.forEach(e=>{O.sendChannel(e)}),O.socketPendingData=[],n.sendChannel("ping")}),n.setPushDataResolver(e=>{let{event:r,arg:f}=e,i="";if(r&&(i=r),f&&f.channel&&!r&&(i=f.channel),!!i&&i&&O.listenChanel[i]){let l=O.listenChanel[i];Object.keys(l).forEach(s=>{l[s](e)})}})}},Z=O;Z.socketStatus="PENDING",Z.socketPendingData=[],Z.socketPendingDataOffToLine=[],Z.listenChanel={},Z.onStatusChange={};var cr=new Z;var Gn=3e4,xr=(t,n)=>{let{pollingInterval:e,ready:r=!0}={pollingInterval:Gn,...n},[f,i]=(0,X.useState)(null),[l,s]=(0,X.useState)(Z.socketStatus),v=(0,X.useRef)(0),o=`${Date.now()}-${Ze.mathRandom()}`,a=(0,qt.useLatest)(n);return(0,X.useEffect)(()=>{Z.onStatusChange[t+o]=C=>{s(C)}},[]),(0,X.useEffect)(()=>(Z.listenChanel[t]||(Z.listenChanel[t]={}),Z.listenChanel[t][o]=C=>{typeof a.current?.onSuccess=="function"?a.current.onSuccess(C):i(C)},()=>{delete Z.listenChanel[t][o]}),[t]),(0,X.useEffect)(()=>(r&&l==="ERROR"&&typeof a.current?.onError=="function"&&(v.current=window.setInterval(()=>{a.current?.onError?.()},e)),r&&l==="CONNECTED"&&typeof a.current?.onError=="function"&&clearInterval(v.current),()=>{clearInterval(v.current)}),[l,r]),typeof n?.onSuccess=="function"?null:f};export{Z as a,xr as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MRB2XFLQ.js.map

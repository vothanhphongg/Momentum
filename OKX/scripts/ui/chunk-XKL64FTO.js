import{a as l}from"./chunk-B3JSNQIV.js";import{j as s,p as _}from"./chunk-SZD6WTBQ.js";import{a as h,b,c as R,d as S,e as m,f,i as T}from"./chunk-ASR4HLU7.js";import{U as O,b as x,j as v,k}from"./chunk-ANIUN6US.js";import{a as F}from"./chunk-3DZ7WRLL.js";import{c as a,f as K}from"./chunk-DEOJU4Z3.js";import{a as B}from"./chunk-7U3DN5ZD.js";import{f as p,o as y,q as A}from"./chunk-6KXF36WM.js";y();A();var P=p(F());K();T();_();O();var M=p(B());function W(e,...n){return t=>{let r;return new Promise((o,u)=>{e(...n,(i,c)=>{if(!(0,M.isNil)(i)){u(i);return}r=c,o()})}).then(async()=>(await s(t),r)).catch(async o=>(await s(t),t(f(o.message)),Promise.reject(o)))}}function I(e=!0){return{type:x,value:e}}function w(){return e=>new Promise(n=>{a().unMarkPasswordForgotten(()=>{e(I(!1)),n()})}).then(()=>s(e))}function q(){return async e=>{try{await new Promise((n,t)=>a().markPasswordForgotten(r=>{if(r){t(r);return}n()}))}finally{e(m()),e(I()),await s(e)}}}function z(){return l(),W(a().createWallet)}function J(...e){return n=>new Promise((t,r)=>{a().importWalletWithMnemonic(...e,(o,u)=>{if(o){r(o);return}l(),t(u)})}).then(async t=>(await s(n),t)).catch(t=>Promise.reject(t))}function Q(...e){return l(),W(a().importWalletWithPrivateKey,...e)}function V(...e){return W(a().removeAccountByAccountId,...e)}function Y(...e){return W(a().removeWalletsByGroupId,...e)}function Z(...e){return W(a().updateWalletAddress,...e)}function $(e,n){return t=>{let r;return new Promise((o,u)=>{a().setSelectedWallet(e,(i,c)=>{if(i){u(i);return}r=c,o()})}).then(async()=>(await s(t),r)).catch(async o=>(await s(t),t(f(o.message)),Promise.reject(o)))}}function ee(e){return n=>(n(h()),new Promise((t,r)=>{a().submitPassword(e,o=>{if(o){r(o);return}t()})}).then(()=>(n(R()),s(n))).catch(t=>(n(b(t.message)),Promise.reject(t))))}function te(e){return n=>{P.default.debug("background.createWalletAndRestore");let t;return new Promise((r,o)=>{a().createWalletAndRestore(e,(u,i)=>{if(u){o(u);return}t=i,l(),r()})}).then(()=>n(w())).then(()=>(n(N()),t)).catch(r=>(n(f(r.message)),Promise.reject(r)))}}function re(e,n,t={}){return r=>{P.default.debug("background.importWalletWithMnemonicAndRestore");let o;return new Promise((u,i)=>{a().importWalletWithMnemonicAndRestore(e,n,t,(c,d)=>{if(c){i(c);return}o=d,l(),u()})}).then(()=>r(w())).then(()=>(r(N()),o)).catch(u=>(r(f(u.message)),Promise.reject(u)))}}function ne(e,n,{noticeBackend:t=!1}={}){return r=>{P.default.debug("background.importWalletWithPrivateKeyAndRestore");let o;return new Promise((u,i)=>{a().importWalletWithPrivateKeyAndRestore(e,n,{noticeBackend:t},(c,d)=>{if(c){i(c);return}o=d,l(),u()})}).then(()=>r(w())).then(()=>(r(m()),o)).catch(u=>(r(m()),Promise.reject(u)))}}function oe(e,{cipherText:n,privateKey:t},r,o){return u=>{!o&&u(S()),P.default.debug("background.importWalletWithMpcAndRestore");let i;return new Promise((c,d)=>{a().importWalletWithMpcAndRestore(e,{cipherText:n,privateKey:t},r,(g,j)=>{if(g){d(g);return}i=j,l(),c()})}).then(()=>u(w())).then(()=>(u(m()),i)).catch(c=>(u(m()),Promise.reject(c)))}}function ue(e){return new Promise((n,t)=>{a().verifyPassword(e,r=>{if(r){t(r);return}n(!0)})})}function ae(e,n){return async t=>{await new Promise((r,o)=>{a().addPermittedAccount(e,n,u=>{if(u){o(u);return}r()})}),await s(t)}}function ie(e,n){return async t=>{await new Promise((r,o)=>{a().removePermittedAccount(e,n,u=>{if(u){o(u);return}r()})}),await s(t)}}function N(){return{type:v}}function ce({id:e}={}){return{type:k,id:e}}export{q as a,z as b,J as c,Q as d,V as e,Y as f,Z as g,$ as h,ee as i,te as j,re as k,ne as l,oe as m,ue as n,ae as o,ie as p,ce as q};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-XKL64FTO.js.map

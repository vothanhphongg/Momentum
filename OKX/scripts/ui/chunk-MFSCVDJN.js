import{k as b}from"./chunk-7C3BTQYU.js";import{h as R}from"./chunk-A57OTXBP.js";import{a as q}from"./chunk-KKG4PJ6O.js";import{e as N}from"./chunk-I3CPAVOC.js";import{o as z}from"./chunk-5QMHGZLF.js";import{H as O,ec as G,vb as x}from"./chunk-HPWCPLRR.js";import{d as h,f as v}from"./chunk-DEOJU4Z3.js";import{u as F}from"./chunk-N2BCRNDB.js";import{Ia as A,Na as W,mb as I,rc as j,ya as y,za as V}from"./chunk-TM67VPZU.js";import{R as P,o as g}from"./chunk-UWJLNJLY.js";import{b as H}from"./chunk-JWYCKY2V.js";import{f as T,o as k,q as M}from"./chunk-6KXF36WM.js";k();M();var i=T(H()),C=T(G()),w=T(z());P();v();j();V();W();function J(t={},e,m=!1){let s=(0,C.useSelector)(x),u=R(I)[e],a=q(I),c=e?u:a;return async()=>{let o=await h().getRequestHeaders({walletId:s,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:r=[]}=await A(y.getBTCUTXO,n,{headers:o});return m?r?.map(p=>({...p,utxoList:p?.utxoList?.filter(d=>d.utxoStatusType===2)})):r}catch{return[]}}}function it(t={},e,m=!1){let s=J(t,e,m),{coinAmountInt:l=0}=b(t?.coinId,e),[u,{setTrue:a,setFalse:c}]=(0,w.useBoolean)(!1),[o,{setTrue:n}]=(0,w.useBoolean)(!1),[r,p]=(0,i.useState)(""),{coinId:d,decimals:U}=t||{};return(0,i.useEffect)(()=>{O(t)?s().then((X=[])=>{X.some((f={})=>f.utxoList?.length>0)?a():c();let B=X?.reduce((f,D)=>{let E=D?.utxoList?.reduce((S,L)=>L?.utxoStatusType===2?g.add(S,L?.coinAmount):S,0);return g.add(f,E)},0);if(B){let f=N(B,{decimals:U});p(f)}n()}).catch(()=>{n(),c()}):(n(),c())},[d,U,l,n,a]),{showManageUTXO:u,NFTAmountDisplay:r,isCheckFinished:o}}function at(t,e){let[m,s]=(0,i.useState)(0),[l,u]=(0,i.useState)([]),a=(0,C.useSelector)(x),c=async()=>{let o=await h().getRequestHeaders({walletId:a,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:F.Occupy}]};try{let{data:r}=await A(y.getBTCUTXO,n,{headers:o});return r[0]||null}catch{return null}};return(0,i.useEffect)(()=>{O(e)?c().then(o=>{s(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{s(0),u([])}):(s(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:l}}export{it as a,at as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MFSCVDJN.js.map

import{a as d}from"./chunk-MBHGLWZJ.js";import{a as i}from"./chunk-QZO7W5WD.js";import{a as C,b as m,c as O}from"./chunk-Q4YTGP2G.js";import{d as c,f as L}from"./chunk-DEOJU4Z3.js";import{G as D,R as T}from"./chunk-UWJLNJLY.js";import{o as r,q as e}from"./chunk-6KXF36WM.js";r();e();var o={INVALID_MOON_CAT:"INVALID_MOON_CAT",GET_MOON_CAT_FAILED:"GET_MOON_CAT_FAILED",CHECK_MOON_CAT_FAILED:"CHECK_MOON_CAT_FAILED",READ_FAILED:"READ_FAILED",SET_FAILED:"SET_ERROR"};r();e();r();e();T();L();function w(){return"U2FhdGVkX1+7Kj#9jN$2QwRzL&v8RxYqT5pJtB!e"}var A=async()=>{let[a,t]=await D(O(C.moonCatData));if(a)throw new i(o.READ_FAILED,o.READ_FAILED);return t},I=async a=>{let[t,n]=await D(m(C.moonCatData,a));if(t)throw new i(o.SET_FAILED,o.SET_FAILED);return n};async function M(a){if((await A())?.data)return;let n=w(),[_,E]=await D(c().encrypt(n,a));if(_)throw new i(o.GET_MOON_CAT_FAILED,o.GET_MOON_CAT_FAILED);let s={data:E.vault,createdAt:Date.now()};await I(s)}async function N(a){let t=await A();if(!t?.data)return;let[n,_]=await D(c().decrypt(t.data,a));if(n)throw new i(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);return _}async function p(){let t={...await A(),data:void 0};await I(t)}async function u(a){let t=await N(a);if(t!==void 0){if(t!==w())throw new i(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);await p()}}var B=()=>{let{data:a,loading:t}=d(C.moonCatData),n=!!a?.data;return{loadingMoonCatData:t,isMoonCat:n,enableMoonCat:async s=>{n||await M(s)},disableMoonCat:async s=>{!n||await u(s)}}};export{o as a,B as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-XKFKE2T7.js.map

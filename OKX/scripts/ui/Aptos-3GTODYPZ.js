import{e as o,f as r}from"./chunk-ZMCTBWUY.js";import"./chunk-G2266BV2.js";import"./chunk-7VFUX7IX.js";import{o as u,q as g}from"./chunk-6KXF36WM.js";u();g();var c={getAccount:async({provider:t})=>{let{address:n}=await t?.aptos?.connect();return n},signMessage:async({provider:t,message:n,nonce:s})=>{try{return(await t.aptos.signMessage({message:n,nonce:s}))?.signature}catch(a){throw a}},sendTransaction:async({provider:t,payload:n,cb:s})=>{try{let a=await t.aptos.signAndSubmitTransaction(n),{hash:e}=a;return s&&s(e),e}catch(a){throw a}},getPublicKey:async({provider:t})=>{let n=await t?.aptos?.connect(),{publicKey:s}=n||{};return s},registerAptosCoin:async({provider:t,contractAddress:n})=>{let s={function:"0x1::managed_coin::register",type_arguments:[n],arguments:[],type:"entry_function_payload"};return await c.sendTransaction({provider:t,payload:s})},checkRegStatusAptosCoin:({address:t,contractAddress:n})=>r.post(o.APTOS_ADDRESS_REGISTER_STATUS,{address:t,contractAddress:n}),checkAndRegAptosCoin:async({provider:t,address:n,contractAddress:s})=>{try{let a=await c.checkRegStatusAptosCoin({address:n,contractAddress:s}),{code:e,data:i}=a||{};if(e===0&&i){let{register:p}=i;return p?!0:await c.registerAptosCoin({provider:t,contractAddress:s})}}catch(a){throw a}},getAptosBalance:async({address:t,currency:n})=>{let s=`0x1::coin::CoinStore<${n}>`;try{return(await r.getNormal(`${o.APTOS_GET_RESOURCE}/${t}/resource/${s}`))?.data?.coin?.value}catch(a){throw a}},getAptosTransaction:async t=>(await r.getNormal(`${o.APTOS_GET_TRANSACTION}/${t}`))?.success},T=c;export{T as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Aptos-3GTODYPZ.js.map

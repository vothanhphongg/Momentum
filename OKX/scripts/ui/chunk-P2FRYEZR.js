import{b as Pe,f as Tt,g as rn,h as ee,i as _o,j as co}from"./chunk-QJE5SYKN.js";import{a as nn}from"./chunk-YJKK7H74.js";import{a as en,b as tn,c as on,d as k}from"./chunk-K72LBGMX.js";import{b as ao}from"./chunk-PANWMONP.js";import{a as so}from"./chunk-LUD6HZM6.js";import{a as Qi}from"./chunk-TQFMB6UY.js";import{a as Ji}from"./chunk-AQOCVER4.js";import{a as Yi,e as Zi,m as zi,s as ji}from"./chunk-3CVTSTBR.js";import{a as $i}from"./chunk-TOV4UWR3.js";import{a as qi}from"./chunk-ZE645RND.js";import{a as Lt}from"./chunk-MDL52WR7.js";import{a as Wi,b as ro}from"./chunk-VOOXQWRX.js";import{H as io}from"./chunk-3XTUMVWB.js";import{e as Hi}from"./chunk-6THUPAMO.js";import{a as no}from"./chunk-VVYJA72I.js";import{a as Xe}from"./chunk-OWWFH26C.js";import{b as Vi,d as eo,g as to}from"./chunk-MNZIO3NP.js";import{b as lo,e as Xi}from"./chunk-YAQ2CLWQ.js";import{a as Ki}from"./chunk-7CC6X6YX.js";import{c as oo}from"./chunk-TSTKPLAO.js";import{a as Gi}from"./chunk-52XLG23J.js";import{a as Fi}from"./chunk-GYYGAM6G.js";import{b as Xt,h as Ai,i as qt,m as Jt,n as vi,o as bi}from"./chunk-DJZDGYQA.js";import{a as hi}from"./chunk-JJ3YEFIG.js";import{c as Bi}from"./chunk-O3O4HNQA.js";import{b as Mo}from"./chunk-P4EMG7RN.js";import{a as Li}from"./chunk-4EFZXPDV.js";import{a as Si}from"./chunk-4KODREVA.js";import{Z as xi,ca as Dt,ga as Ti,ka as ko,s as ui,xa as Ni}from"./chunk-KLLSVAFY.js";import{f as Uo}from"./chunk-AKE54ZCC.js";import{a as Mi}from"./chunk-K6STDTUY.js";import{a as ki,f as Oi,h as Ui}from"./chunk-A57OTXBP.js";import{g as Ri,h as Pi}from"./chunk-IRMYAC6R.js";import{b as St}from"./chunk-MRB2XFLQ.js";import{b as Di}from"./chunk-ETJEH7T4.js";import{pb as wi,qb as yi}from"./chunk-YALUYHLV.js";import{d as Ci,e as ie,q as we}from"./chunk-I3CPAVOC.js";import{e as zt,f as jt}from"./chunk-CZ2ZBAZV.js";import{o as Oo}from"./chunk-5QMHGZLF.js";import{C as K,Ga as fi,Gb as Yt,O as lt,ec as Re,ta as pi}from"./chunk-HPWCPLRR.js";import{a as xl}from"./chunk-ON6S2DB7.js";import{d as ut,f as ai}from"./chunk-DEOJU4Z3.js";import{c as Ei,d as Zt,f as Ii}from"./chunk-CWNIM6RS.js";import{e as be,n as gi}from"./chunk-XV444F26.js";import{d as L,e as bt,f as t,h as j,i as rt,k as ve}from"./chunk-N2BCRNDB.js";import{a as Qt}from"./chunk-CB7FOZNP.js";import{c as Y}from"./chunk-43VURGIT.js";import{Ea as _i,I as Ht,Ia as xt,K as $t,L as ri,Na as Ro,Uc as Wt,Xb as vt,Xc as Kt,Y as Lo,Yb as ci,_c as di,a as ti,aa as li,b as ul,fc as mi,ha as Bo,rc as Po,ya as nt,za as Fo}from"./chunk-TM67VPZU.js";import{A as fe,G as si,H as Ee,L as Ve,O as it,P as Ie,o as Ne,y as Ge}from"./chunk-PUSMMCUD.js";import{E as Q,F as ni,R as P,l as ze,z as a}from"./chunk-UWJLNJLY.js";import{H as oi,L as Ue,fa as ii,ra as pt}from"./chunk-XDY6V34Y.js";import{$ as ft,W as ge,c as Me,ea as je}from"./chunk-JT3LNHPY.js";import{b as w}from"./chunk-JWYCKY2V.js";import{f as x,o as r,q as l}from"./chunk-6KXF36WM.js";r();l();pt();P();var ln="okx-wallet-plugin-report-centre",sn="okx-wallet-plugin-nft",Tl="okx-wallet-plugin-report-centre",Nl="okx-wallet-plugin-lock-1",Cl="okx-wallet-plugin-swap-1",gl="okx-wallet-plugin-documentation",an=(e=[],o="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,_=[],s=[],m=0,d=c=>{let p=ze(c.txTime,{format:"yyyyMMdd",locale:o});Ue(n.get(p))&&(n.set(p,m),s[m]={},s[m].date=p,s[m].list=[],m++);let C=n.get(p);s[C].list.push(c)};return e.forEach(c=>{c.txStatus===L.PENDING?!c.isShowPending&&i?d(c):_.push(c):d(c)}),_.sort((c,p)=>p.txTime-c.txTime),[_,s]},Go=(e={})=>{let{txType:o}=e;return o===t.SEND_NFT||o===t.RECEIVE_NFT||o===t.MINT_NFT||o===t.CANCEL_NFT||o===t.NFT_AUTHORIZATION?sn:o===t.NFT_CANCEL_AUTHORIZATION?gl:o===t.DAPP_NFT||o===t.CONTRACTCALL||o===t.KYS?Tl:o===t.AUTHORIZATION||o===t.CANCEL_AUTHORIZATION?Nl:o===t.SWAP||o===t.BUY_NFT||o===t.SELL_NFT?Cl:ln},_n=(e={})=>{let{txType:o}=e;return o===t.SEND_NFT||o===t.RECEIVE_NFT||o===t.BUY_NFT||o===t.SELL_NFT||o===t.MINT_NFT||o===t.DAPP_NFT||o===t.CANCEL_NFT},cn=(e={},o={})=>{let{nftId:i}=e,{txType:n}=o;return i||n===t.ORDINAL_NFT?sn:n===t.ORDINAL_TEXT?`${Qt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:ln},mn=(e={})=>{let{hideTxType:o}=e;return Number.isInteger(o)&&o!==Xt.NORMAL},Nt=e=>e.txType===t.JITO_TIP&&e.okexAccount;r();l();var v=x(w()),Or=x(Oo());pt();r();l();Fo();Ro();var dn=e=>_i(nt.getGiftReceiveList,e);r();l();var se=x(w()),En=x(xl());r();l();var qe=x(w());r();l();var st=x(w());P();ai();Fo();Ro();var El=({tx:e,closeVisible:o,repeatVisible:i,onClose:n,onConfirm:_})=>{let s=_,m=o||i,{txHash:d,coinId:f,txId:c,include:p,coinSymbol:C}=e,T=p?.[0]?.protocolName,b=C,h=ki(),g=eo(f)?.chainId||0,M=async()=>{try{let D=await ut().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),B={txHash:d,accountId:h,chainId:g};return await xt(nt.postCloseTranscation,B,{headers:D})}catch(D){let B=Ne.tip({title:a("extension_biz_title_cancel_transaction_failed"),confirmText:a("commonall_text_btn_ok_active"),children:st.default.createElement("div",null,D.msg),onConfirm:()=>{s(c),B.destroy()}});throw D}},F=async()=>{try{let D=await ut().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),B={txHash:d,accountId:h,chainId:g};await xt(nt.postRepeatTranscation,B,{headers:D})}catch(D){let B=Ne.tip({title:a("extension_biz_title_cancel_broadcast_failed"),confirmText:a("commonall_text_btn_ok_active"),children:st.default.createElement("div",null,D.msg),onConfirm:()=>{s(c),B.destroy()}});throw D}},G=async()=>{try{o?(Ti({token_name:b,protocol:T}),await M()):i&&(Ni({token_name:b,protocol:T}),await F())}catch{return}_(c),Ee.success({title:a("extension_defi_toast_header_tips_request_submit")})};return st.default.createElement(Ne.Prompt,{visible:m,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:G,onClose:()=>{n&&n()},confirmText:a("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:je.TYPE.highlight,size:je.SIZE.lg},renderContent:D=>st.default.createElement(D,null,st.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},o&&a("extension_defi_toast_title_release_utxo"),i&&a("extension_defi_toast_title_rebroadcast")),st.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},o&&a("extension_defi_toast_desc_release_utxo"),i&&a("extension_defi_toast_desc_rebroadcast")))})},pn=El;function Il({data:e,onRefresh:o}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:_,coinSymbol:s}=e,[m,d]=(0,qe.useState)(!1),[f,c]=(0,qe.useState)(!1),p=_?.[0]?.protocolName,C=s;return qe.default.createElement(qe.default.Fragment,null,qe.default.createElement(Tt,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{d(!0),ko({token_name:C,protocol:p,button_name:"releaseutxo"})},onRepeat:()=>{c(!0),ko({token_name:C,protocol:p,button_name:"rebroadcast"})}}),(m||f)&&qe.default.createElement(pn,{tx:e,closeVisible:m,repeatVisible:f,onConfirm:T=>{o(T),d(!1),c(!1)},onClose:()=>{d(!1),c(!1)}}))}var fn=Il;r();l();var Bt=x(w());r();l();var $=x(w()),Ct=x(Me());P();Bo();r();l();var Z={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var wl=({currentAvgFeeRate:e,expectedFeeRate:o,currentTxSize:i,ancestorsTxSize:n,totalFee:_,totalFeeUSD:s})=>$.default.createElement("div",{className:Z.transactionDetailBox},$.default.createElement("div",{className:Z.transactionAccelerationDetails},$.default.createElement("p",{className:Z.transactionDetailRow},n?$.default.createElement(fe,{title:a("extension_defi_popup_tooltips_feerate_before_speedup"),placement:fe.DIRECTION.topLeft,arrowAlignBoundary:!0},$.default.createElement("span",{className:(0,Ct.default)(Z.transactionDetailLabel,Z.textUnderline)},a("extension_defi_toast_item_current_fee_rate"))):$.default.createElement("span",{className:Z.transactionDetailLabel},a("extension_defi_toast_item_current_fee_rate")),$.default.createElement("span",{className:Z.transactionDetailValue},`${e} sats/vb`)),$.default.createElement("p",{className:Z.transactionDetailRow},$.default.createElement("span",{className:Z.transactionDetailLabel},a("extension_defi_toast_item_speedup_rate")),$.default.createElement("span",{className:Z.transactionDetailValue},`${o} sats/vb`)),$.default.createElement("p",{className:Z.transactionDetailRow},$.default.createElement("span",{className:Z.transactionDetailLabel},a("extension_defi_toast_item_txn_size")),$.default.createElement("span",{className:Z.transactionDetailValue},`${i}vb`)),n?$.default.createElement("p",{className:Z.transactionDetailRow},$.default.createElement("span",{className:Z.transactionDetailLabel},a("extension_defi_toast_item_ancestor_txn")),$.default.createElement("span",{className:Z.transactionDetailValue},`${n}vb`)):null,$.default.createElement("div",{className:Z.transactionDetailRow},n?$.default.createElement(fe,{title:a("extension_defi_popup_tooltips_desc_total_fee_meaning")},$.default.createElement("span",{className:(0,Ct.default)(Z.transactionDetailLabel,Z.textUnderline)},a("extension_defi_toast_item_total_fee"))):$.default.createElement("span",{className:(0,Ct.default)(Z.transactionDetailLabel)},a("extension_defi_toast_item_total_fee")),$.default.createElement("p",{className:(0,Ct.default)(Z.transactionDetailValue,Z.transactionDetailFiatValue)},Lo(_)," ~ ",s))),$.default.createElement("p",{className:Z.transactionAccelerationFooter},a("extension_defi_toast_desc_0service_fee"))),yl=({tx:e,feeInfo:o,visible:i,networkError:n,onClose:_,onConfirm:s,onRetry:m})=>{let{currencyPrice:d,currencySymbol:f}=Hi(e.mainCoinId),c=`${f}${li(Ht(Lo(o.totalFee),d),2)}`;return $.default.createElement(en,{visible:i,error:n,onClose:_,onConfirm:s,title:a("extension_defi_toast_title_speedup_txn"),headerTitle:ni("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:$.default.createElement(fe,{title:a("extension_defi_popup_tooltips_cpfp_meaning")},$.default.createElement("span",{className:(0,Ct.default)(Z.transactionAccelerationSubtitle,Z.textUnderline)},`${a("extension_defi_toast_subtitle_using_cpfp")}`))}),content:$.default.createElement(wl,{...o,totalFeeUSD:c}),errContent:$.default.createElement(Ge.State,{title:a("extension_defi_toast_title_internet_error"),type:Ge.State.TYPE.noNetwork,description:a("extension_defi_toast_subtitle_cant_get_fee"),buttonText:a("extension_defi_toast_btn_retry"),onButtonClick:()=>{m&&m()},className:Z.emptyState}),confirmText:a("wallet_extension_btn_general_confirm")})},un=yl;r();l();var le=x(w()),xn=x(Re());P();Bo();var hl=(e,o)=>{let{address:i,mainCoinId:n,txHash:_,txId:s,btcSpeedUpInfo:m}=e,d=m?.cpfpSpeedUpUtxo?.[0].address||i,f=400002,[c,p]=(0,le.useState)(!1),[C,T]=(0,le.useState)(!1),[b,h]=(0,le.useState)(!1),[E,g]=(0,le.useState)(!1),[M,F]=(0,le.useState)(!1),[G,D]=(0,le.useState)({}),[B,z]=(0,le.useState)({}),[V,O,pe,X,oe]=Yi({...e,address:d}),R=(0,xn.useSelector)(Yt),{currencyId:y}=R,A=zi({address:i,coinId:n,currencyId:y,doubleConfirmSource:Zi.ACCELERATE});(0,le.useEffect)(()=>{(async()=>{if(V&&O?.expectedFeeRate){let[Ae,Fe,,At]=await X(V,O);(Ae||Fe)&&D({...O,totalFee:$t(Number(O.increaseFee)+At)})}})()},[O,V,X]);let I=(0,le.useCallback)((Te,Ae)=>{if(Ae==="init")if(Te.msg){let Fe=Ne.tip({title:a("extension_biz_title_speed_up_failed"),confirmText:a("commonall_text_btn_ok_active"),children:le.default.createElement("div",null,Te.msg),onConfirm:()=>{o(s),Fe.destroy()}})}else T(!0),p(!0);else{if(Te?.code===f){Ee.error({title:a("extension_defi_top_toast_speedup_fail")}),o(s);return}if(Te?.code===Qi.BALANCE_NOT_ENOUGH){Dt({accelerate_status:"utxo_fail"}),Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}Dt({accelerate_status:"other_fail"}),h(!0)}},[]),S=(0,le.useCallback)(async()=>{if(!E){try{if(oe)throw oe;g(!0);let[Te,Ae,,Fe]=await X(V,O);if(Te||Ae)D({...O,totalFee:$t(Number(O.increaseFee)+Fe)});else{Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}p(!0),T(!1),h(!1)}catch(Te){I(Te,"init")}g(!1)}},[oe,V,O,I,E,X]),U=Mi()?.find(Te=>Te.coinId===n)?.localType,J=ji({coinId:n,fromAddr:d,toAddr:d,outputs:[{address:d,amount:B.sendAmountInt}],networkFee:B.networkFeeInt,localType:U,dustSize:B.totalInput,satBytes:O.expectedFeeRate,coinAmount:B.sendAmountInt,extraPublishParams:{coinAmount:B.sendAmountInt,txType:t.TRANS_OUT}});(0,le.useEffect)(()=>{(async()=>{try{let{confirm:Ae,utxoList:Fe}=B;Ae&&(await J({utxoList:Fe}),Ee.success(a("extension_defi_top_toast_speedup_success")),Dt({accelerate_status:"success"}),o(s))}catch{Ee.error({title:a("extension_defi_top_toast_speedup_fail")})}})()},[B]);let Ce=(0,le.useCallback)(async()=>{if(M)return;if(F(!0),await Ki())try{let[Ae,Fe,At,dl]=await X(V,O);if(!Ae&&!Fe){Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")}),Dt({accelerate_status:"utxo_fail"}),F(!1);return}try{await A(At)}catch{F(!1);return}let Jo=At.reduce((pl,fl)=>pl+fl.coinAmount,0),Qo=$t(dl,Number(O.increaseFee)),ei=Number(ri(Jo,Qo));Fe&&(ei=pe),z({totalInput:Jo,sendAmountInt:ei,networkFeeInt:Qo,utxoList:At,confirm:!0}),T(!1),h(!1),F(!1),p(!1)}catch(Ae){I(Ae,"confirm"),F(!1)}},[V,O,_]),So=(0,le.useCallback)(async()=>{C&&S(),b&&Ce()},[S,b,C,Ce]);return{isFetchingTxFee:E,btcSpeedUpHandle:S,isBTCSpeedUpDialogVisible:c,displayFee:G,isFetchBTCFeeInfoNetworkError:C,isConfirmAccelerateError:b,onConfirmAccelerateBTCTX:Ce,setIsBTCSpeedUpDialogVisible:p,onRetryBtcSpeedUp:So}},Tn=hl;function Al({data:e,onRefresh:o}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:_,displayFee:s,isFetchBTCFeeInfoNetworkError:m,isConfirmAccelerateError:d,onConfirmAccelerateBTCTX:f,setIsBTCSpeedUpDialogVisible:c,onRetryBtcSpeedUp:p}=Tn(e,o);return Bt.default.createElement(Bt.default.Fragment,null,Bt.default.createElement(Tt,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),_&&Bt.default.createElement(un,{tx:e,feeInfo:s,networkError:m||d,visible:_,onConfirm:async()=>{await f()},onClose:()=>{c(!1)},onRetry:p}))}var Nn=Al;r();l();r();l();var vl=()=>null,Cn=vl;var gn=Cn;function bl({data:e,onRefresh:o}){let i=(0,En.useHistory)(),{from:n,coinId:_,txStatus:s,isShowSpeedUp:m,isShowCancel:d,isShowSpeedupCancel:f,mainCoinId:c,showCloseTransaction:p,showTxRepeatBroadcast:C,txType:T,bizData:b}=e,h=eo(_),[E,g]=(0,se.useState)(!1),[M,F]=(0,se.useState)(!1),G=Ei(c),D=Ii(c),B=G&&s===L.PENDING,z=D&&s===L.PENDING,V=p||C,[O]=(0,se.useState)(D&&m),pe=T===t.RED_PACKET&&s===L.SUCCESS||T===t.RECEIVE_PACKET;(0,se.useEffect)(()=>{xi({button_appear:O?"yes":"no"})},[O]);let[X,oe]=$i({coinId:_,address:n,chainId:h?.chainId},{ready:B});return se.default.createElement("div",{className:"tx-detail-action"},B&&!pe&&se.default.createElement(se.default.Fragment,null,se.default.createElement(Tt,{isShowCancel:d,isShowSpeedUp:m&&G,isShowSpeedupCancel:f,onCancel:()=>{g(!0)},onSpeedUp:()=>{F(!0)}}),E&&se.default.createElement(tn,{tx:e,signInfo:oe,visible:E,onConfirm:R=>{o(R),g(!1)},onClose:()=>{g(!1)}}),M&&se.default.createElement(on,{tx:e,loading:X,signInfo:oe,visible:M,onConfirm:R=>{o(R),F(!1)},onClose:()=>{F(!1)}})),z&&se.default.createElement(se.default.Fragment,null,V&&se.default.createElement(fn,{data:e,onRefresh:o}),O&&se.default.createElement(Nn,{data:e,onRefresh:o})),pe&&se.default.createElement(gn,{onClick:()=>{T===t.RED_PACKET?i.push(`${yi}?giftId=${b?.redPacketId}`):i.push(`${wi}?giftId=${b?.redPacketId}&backMode=1`)}}))}var In=bl;r();l();var re=x(w()),fo=x(Me());r();l();var q=x(w()),bn=x(Me());P();r();l();var mo=x(w());P();r();l();var wn=x(w()),yn=x(Oo());P();Ro();Fo();ai();var Dl=e=>{let{coinId:o}=e||{},i=(0,wn.useRef)(!1),n=Ri();return(0,yn.useMemoizedFn)(async()=>{try{if(i.current===!0||!o)return;i.current=!0;let _=await ut().getUserUniqueId(),s={coinId:o,accountId:n,userUniqueId:_},d={headers:await ut().getSignRequestHeaders({walletId:n})},[f]=await Promise.all([fi({coinId:o}),xt(nt.postAddCoin,s,d)]);await Bi(f),Ee.success(a("wallet_extension_customtoken_notification_title_token_added"))}catch{Ee.error(a("wallet_home_toast_network_error"))}finally{i.current=!1}})},hn=Dl;r();l();var An={root:"_root_4qsur_1"};function Sl({coinId:e,hideTxType:o}){let i=qi(),n=(0,mo.useMemo)(()=>!i||!e||!!i.some(s=>(s?.childrenCoin||[]).some(m=>m.coinId===e)||s.coinId===e),[e,i]),_=hn({coinId:e});return n||o===Xt.RISKY?null:mo.default.createElement(Di.IconButton,{className:An.root,icon:"okx-wallet-plugin-add",tooltip:{title:a("wallet_extension_customtoken_tooltips_add_token"),placement:fe.DIRECTION.topLeft},onClick:_})}var vn=Sl;r();l();var N={"retina-border-basic":"_retina-border-basic_1lyft_1",retinaBorderBasic:"_retina-border-basic_1lyft_1","coin-flow":"_coin-flow_1lyft_29",coinFlow:"_coin-flow_1lyft_29","coin-flow__include":"_coin-flow__include_1lyft_35",coinFlowInclude:"_coin-flow__include_1lyft_35","coin-flow__include-title":"_coin-flow__include-title_1lyft_42",coinFlowIncludeTitle:"_coin-flow__include-title_1lyft_42","coin-flow__include-item":"_coin-flow__include-item_1lyft_49",coinFlowIncludeItem:"_coin-flow__include-item_1lyft_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1lyft_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1lyft_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1lyft_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1lyft_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1lyft_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1lyft_70","coin-flow__protocol":"_coin-flow__protocol_1lyft_74",coinFlowProtocol:"_coin-flow__protocol_1lyft_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1lyft_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1lyft_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1lyft_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1lyft_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1lyft_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1lyft_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1lyft_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1lyft_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1lyft_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1lyft_109","coin-flow__hidden-label":"_coin-flow__hidden-label_1lyft_113",coinFlowHiddenLabel:"_coin-flow__hidden-label_1lyft_113","coin-flow__label-text":"_coin-flow__label-text_1lyft_113",coinFlowLabelText:"_coin-flow__label-text_1lyft_113","coin-flow__label":"_coin-flow__label_1lyft_113",coinFlowLabel:"_coin-flow__label_1lyft_113","coin-flow__label__overflow":"_coin-flow__label__overflow_1lyft_125",coinFlowLabelOverflow:"_coin-flow__label__overflow_1lyft_125","coin-flow__label__expand":"_coin-flow__label__expand_1lyft_128",coinFlowLabelExpand:"_coin-flow__label__expand_1lyft_128","coin-flow__receive":"_coin-flow__receive_1lyft_141",coinFlowReceive:"_coin-flow__receive_1lyft_141","coin-flow__record-title":"_coin-flow__record-title_1lyft_141",coinFlowRecordTitle:"_coin-flow__record-title_1lyft_141","coin-flow__record":"_coin-flow__record_1lyft_141",coinFlowRecord:"_coin-flow__record_1lyft_141","coin-flow__record-left-box":"_coin-flow__record-left-box_1lyft_152",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1lyft_152","coin-flow__record-title-box":"_coin-flow__record-title-box_1lyft_158",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1lyft_158","coin-flow__tool-tip":"_coin-flow__tool-tip_1lyft_164",coinFlowToolTip:"_coin-flow__tool-tip_1lyft_164","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1lyft_168",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1lyft_168","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1lyft_172",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1lyft_172","protocol-margin":"_protocol-margin_1lyft_188",protocolMargin:"_protocol-margin_1lyft_188","coin-flow__record-icon":"_coin-flow__record-icon_1lyft_194",coinFlowRecordIcon:"_coin-flow__record-icon_1lyft_194","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1lyft_202",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1lyft_202","coin-flow__record-right-box":"_coin-flow__record-right-box_1lyft_216",coinFlowRecordRightBox:"_coin-flow__record-right-box_1lyft_216","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1lyft_221",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1lyft_221","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1lyft_225",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1lyft_225","coin-flow__record__plus":"_coin-flow__record__plus_1lyft_232",coinFlowRecordPlus:"_coin-flow__record__plus_1lyft_232","coin-flow__pointer":"_coin-flow__pointer_1lyft_237",coinFlowPointer:"_coin-flow__pointer_1lyft_237","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1lyft_240",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1lyft_240","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1lyft_246",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1lyft_246","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1lyft_256",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1lyft_256","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1lyft_262",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1lyft_262","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1lyft_268",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1lyft_268","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1lyft_279",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1lyft_279","coin-flow__claim":"_coin-flow__claim_1lyft_284",coinFlowClaim:"_coin-flow__claim_1lyft_284","coin-flow__claim__icon":"_coin-flow__claim__icon_1lyft_288",coinFlowClaimIcon:"_coin-flow__claim__icon_1lyft_288","coin-flow__claim-info":"_coin-flow__claim-info_1lyft_291",coinFlowClaimInfo:"_coin-flow__claim-info_1lyft_291",flowRightToken:"_flowRightToken_1lyft_333",flowRightApply:"_flowRightApply_1lyft_338"};var Ll=(e,o)=>{!e||globalThis.platform.openTab({url:`https://${o}/${e}`})},Bl=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let o=e?.length;return o<=15?"18px":o<=17?"16px":o<=19?"14px":(o<=22,"12px")};function Fl(e){e||(e=""),typeof e!="string"&&(e=e.toString());let o=e?.length;return o<=13?"32px":o===14?"30px":o===15?"28px":o===16?"26px":o===17?"24px":o<=19?"22px":o<=21?"20px":o<=23?"18px":o<=26?"16px":o<=30?"14px":"12px"}function Rl({recordData:e,isNFT:o,icon:i,title:n,subTitle:_,right:s,autoWidth:m,jumpInfo:d,hasPlus:f,isNewInclude:c,addCustomCoin:p}){let C=Fi(),T=Qt(),b=typeof i=="string"?q.default.createElement(Wi,{isNFT:o,className:(0,bn.default)({}),src:i,alt:""}):i;return c?q.default.createElement("div",{className:`${c?N["coin-flow__protocol"]:N["coin-flow__include"]}`},q.default.createElement("div",{className:`${N["coin-flow__include-title"]}`},a("extension_defi_card_text_include_assets")),(e?.items||[]).map(h=>q.default.createElement("div",{className:`${N["coin-flow__include-item"]}`},q.default.createElement("img",{className:`${N["coin-flow__include-item-icon"]}`,alt:"",src:h.icon}),q.default.createElement(we.AdaptiveText,{className:`${N["coin-flow__include-item-token"]}`,text:h.title,ellipsis:{tooltip:!0},autoSize:Bl},h.title),h.right))):q.default.createElement(q.default.Fragment,null,q.default.createElement("div",{className:`${N["coin-flow__record"]} ${d?N["coin-flow__pointer"]:""}`,onClick:()=>{Ll(d,C)}},q.default.createElement("div",{className:N["coin-flow__record-icon"]},b),q.default.createElement("div",{className:N["coin-flow__record-left-box--middle"]},q.default.createElement("div",{className:s?N["coin-flow__record-left-box--has-right"]:N["coin-flow__record-left-box"]},q.default.createElement("div",{className:`${m?N["protocol-margin"]:N["coin-flow__record-title-box"]}`},!s||m?q.default.createElement(we.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:Fl},n):q.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${N["coin-flow__record-title"]}`},n),_&&q.default.createElement("div",{className:N["coin-flow__record-sub-title"]},_)),s&&q.default.createElement("div",{className:`${N["coin-flow__record-right-box"]} ${m?"":N["coin-flow__record-halfwidth"]}`},s))),p&&q.default.createElement(vn,{...p}),d&&q.default.createElement("img",{className:N["coin-flow__record-jumpInfo-box"],src:`${T}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:""})),f&&q.default.createElement(ge,{className:`${N["coin-flow__record__plus"]} okds-plus`}))}var Ft=Rl;r();l();var ne=x(w()),Vo=x(Me());P();r();l();var at=x(w());r();l();var po={wrap:"_wrap_swpmf_1",topRight:"_topRight_swpmf_7",bottomRight:"_bottomRight_swpmf_11"};function Pl({logo:e}){let{middleLogo:o,bottomRightLogo:i,topRightLogo:n}=e||{},_,s;Array.isArray(o)?(_=o,s="normal"):o&&typeof o=="object"&&(_=o.logos,s=o.size);let m,d;Array.isArray(i)?(m=i,d="small"):i&&typeof i=="object"&&(m=i.logos,d=i.size);let f,c;Array.isArray(n)?(f=n,c="small"):n&&typeof n=="object"&&(f=n.logos,c=n.size);let p=m&&m.length>0,C=f&&f.length>0;return at.default.createElement(at.default.Fragment,null,at.default.createElement(ro,{srcset:_&&_.length>0?_:[be],size:s}),(C||p)&&at.default.createElement("div",{className:po.wrap},C&&at.default.createElement(ro,{className:po.topRight,size:c,srcset:f}),p&&at.default.createElement(ro,{className:po.bottomRight,size:d,srcset:m})))}var gt=Pl;r();l();var He=(e,o)=>e?o?`+ ${ie(e,{symbol:o})}`:`+ ${ie(e)}`:"--",_t=(e,o)=>e?o?`- ${ie(e,{symbol:o})}`:`- ${ie(e)}`:"--";var{NFT_AUTHORIZATION:Dn,NFT_CANCEL_AUTHORIZATION:Sn,CANCEL_NFT:Ho,AUTHORIZATION:Ln,CANCEL_AUTHORIZATION:Bn,REGISTRATION:kl,DAPP_APPLY:Fn,DAPP_REDEEM:Rn,DAPP_CLAIM:Pn,BRC20_TRADE:kn,BRC20_SEND:On,BRC20_RECEIVE:Un,BRC20_MINT:Mn,BRC20_INSCRIBE:Gn,BRC20_DEPLOY:Vn,BRC30_TRADE:Ol,EARN_BRC30_APPLY:Hn,EARN_BRC30_REDEEM:$n,EARN_BRC30_CLAIM:Wn,EARN_BRC30_DEPLOY:Ul,BRC30_SEND:Kn,BRC30_RECEIVE:Yn,BRC30_INSCRIBE:Zn,ORDINAL_NFT:zn,ORDINAL_TEXT:jn,MINT_NFT:Ml,BTC_NFT_BULK_RECEIVE:Gl,BTC_NFT_BULK_SEND:Vl,BTC_NFT_BULK_TRADE:Hl,DEFI_MINT:$l,DEFI_REPAY:Wl,RUNES_ETCH:Xn,RUNES_SWEEP:qn}=t,Kl="/static/images/tx-history/default-nft-detail.svg";function Yl(e){return e?Kl:be}var Je={[Ln]:"wallet_extension_header_approval_title_for",[Bn]:"wallet_extension_header_approval_title_for",[Ho]:"wallet_extension_text_cancel_listing_on",[Dn]:"wallet_extension_approve_text_for",[Sn]:"wallet_extension_approve_text_for",[Fn]:"wallet_extension_subtitle_into",[Rn]:"wallet_extension_subtitle_receive",[Pn]:"wallet_extension_subtitle_from",[$n]:"wallet_extension_subtitle_receive",[Hn]:"wallet_extension_subtitle_into",[Wn]:"wallet_extension_subtitle_receive",[Zn]:"wallet_extension_header_redeem_title_reveive",[Gn]:"wallet_extension_header_redeem_title_reveive",[Yn]:"extension_wallet_details_text_include",[Un]:"extension_wallet_details_text_include",[zn]:"extension_wallet_details_text_receive",[jn]:"extension_wallet_details_text_receive",[Vn]:"extension_wallet_details_text_receive",[Mn]:"extension_wallet_details_text_receive",[Kn]:"extension_wallet_details_text_include",[On]:"extension_wallet_details_text_include",[kn]:"extension_wallet_details_text_receive",[Xn]:"extension_wallet_details_text_receive",[qn]:"extension_wallet_details_text_receive",[t.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[t.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[t.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[t.DEFI_MINT]:"extension_defi_history_header_text_receive",[t.DEFI_REPAY]:"extension_defi_history_header_text_into"},Zl="/static/images/tx-history/default-protocol.svg",Rt="/static/images/tx-history/default-brcnft.svg";function zl(e){let o=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol"),n=Object.values(t);return(0,ne.useMemo)(()=>{let{txType:_,input:s,include:m,investTxData:d,contractInfo:f,output:c,hideTxType:p}=e,{investInfo:C,investOutCoins:T}=d??{},b=()=>!s||!s.length?null:{label:a("wallet_extension_header_redeem_title_reveive"),items:s.map(({name:y,amount:A,icon:I,nftId:S,protocolName:H,coinId:U})=>(I=I||Yl(S),{isNFT:!!S,icon:I,title:He(A,y),right:H?ne.default.createElement(Ie,{className:N.protocol,size:it.SIZE.sm},H):null,autoWidth:!!H,addCustomCoin:{coinId:U,hideTxType:p}})),className:"coin-flow__receive"},h=()=>d?{label:a("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:d?.investInfo?.investLogo?.middleLogo[0]||be,title:d?.investInfo?.investName,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},d?.investInfo?.poolId?`ID: ${d?.investInfo?.poolId}`:"")}]}:null,E=()=>s&&s.length>0?{label:a(Je[e.txType]),items:s.map(({name:y,amount:A,icon:I,nftId:S,brc20Coin:H,brc20sCoin:U,protocolName:J})=>(I=I||Rt,{isNFT:!!S||H||U,icon:I,title:He(A,y),right:J?ne.default.createElement(Ie,{className:N.protocol,size:it.SIZE.sm},J):null,autoWidth:!!J})),className:"coin-flow__receive"}:null,g=()=>m?.length?{isNewInclude:!0,items:(m||[]).map(({name:y,amount:A,icon:I,vdecimalNum:S,nftId:H,brc20Coin:U,brc20sCoin:J,protocolName:Ce})=>({isNFT:!!H||U||J,icon:I||Rt,title:`- ${Mo(A,{fixed:S})} ${y}`,right:Ce?ne.default.createElement(Ie,{className:N.protocol,size:it.SIZE.sm},Ce):null,autoWidth:!!Ce}))}:null,M=()=>({items:(c||[]).map(({name:y,amount:A,icon:I,vdecimalNum:S,nftId:H,brc20Coin:U,brc20sCoin:J})=>({isNFT:!!H||U||J,icon:I||Rt,title:`- ${Mo(A,{fixed:S})} ${y}`}))}),F=()=>s&&s.length>0?{items:(s||[]).map(({name:y,amount:A,icon:I,nftId:S,brc20Coin:H,brc20sCoin:U})=>({isNFT:!!S||H||U,icon:I||Rt,title:`+ ${ie(A,{symbol:y})}`}))}:null,G=()=>({label:a(Je[e.txType]),items:[{icon:f?.icon||Zl,title:f?.name||i,subTitle:e.txType!==Ho&&f?.address&&ne.default.createElement(Pe,{className:N["coin-flow__record-address"],label:K(f.address),value:f.address,message:a("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),D=()=>{let{investName:y,investLogo:A,poolId:I}=C||{},S;return{isNFT:!0,label:a(Je[e.txType]),items:[{icon:ne.default.createElement(gt,{logo:A}),title:y??o,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I?`ID: ${I}`:""),right:S}]}},B=()=>{let{investName:y,platformName:A,investLogo:I}=C||{},S,H="",U="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN&&(H=N.flowRightToken,U=N.flowRightApply),(e.investTxData.investmentDetailType===ve.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===ve.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN)&&T&&T.length>0){let[{tokenName:J,num:Ce}]=T;S=ne.default.createElement("div",{className:(0,Vo.default)(N["coin-flow__invest-apply-right"],U)},ne.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ne.default.createElement(Lt,{text:ie(Ce),maxWidth:"85px"})),ne.default.createElement("div",{className:(0,Vo.default)(N["coin-flow__invest-apply-token"],H)},J))}return{label:a(Je[e.txType]),items:[{icon:ne.default.createElement(gt,{logo:I}),title:y??o,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},A??i),right:S}]}},z=()=>({label:a(Je[e.txType]),items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:S})=>(I=He(I),{icon:S??o,title:`${I} ${A}`})),className:"coin-flow__receive"}),V=()=>!T||T?.length===0?null:{label:a(Je[e.txType]),items:(T||[]).map(({tokenName:y,num:A,tokenLogo:I,tokenId:S})=>{let H=He(A),U=e.txStatus===L.SUCCESS&&S,J=U?`${H} ${y} #${U}`:`${H} ${y}`;return{icon:I,title:J}}),className:"coin-flow__receive"},O=()=>{let y=a(Je[e.txType]);return d?{isNFT:!0,label:y,items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:S})=>(I=He(I),{icon:S??o,title:`${I} ${A}`})),className:"coin-flow__receive"}:null},pe=()=>{let{platformName:y,investLogo:A,investName:I}=C||{};return{label:a(Je[e.txType]),items:[{icon:ne.default.createElement(gt,{logo:A}),title:I??o,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},y??i)}]}},X=()=>m&&m.length>0?{isNewInclude:!0,items:(m||[]).map(({name:y,amount:A,icon:I,nftId:S,brc20Coin:H,brc20sCoin:U,protocolName:J})=>({isNFT:!!S||H||U,icon:I||Rt,title:`+ ${ie(A,{symbol:y})}`,right:J?ne.default.createElement(Ie,{className:N.protocol,size:it.SIZE.sm},J):null,autoWidth:!!J,includeAssets:m}))}:null,oe=()=>null,R={[Ul]:h,[Zn]:E,[Gn]:E,[zn]:E,[jn]:E,[Vn]:E,[Mn]:E,[Xn]:E,[qn]:E,[Yn]:X,[Un]:X,[Ol]:E,[kn]:E,[Kn]:g,[On]:g,[Dn]:G,[Sn]:G,[Bn]:G,[Ln]:G,[Ho]:G,[Hn]:D,[Fn]:B,[$n]:z,[Rn]:V,[Wn]:O,[Pn]:pe,[kl]:oe,[Ml]:b,[Vl]:M,[Gl]:F,[Hl]:E,[$l]:V,[Wl]:B};return R[_]?R[_]():n.includes(_)?b():null},[e])}var Jn=zl;r();l();var ae=x(w()),Et=x(Me());P();var tr="/static/images/tx-history/default-nft-detail.svg",jl="/static/images/tx-history/default-nft.svg",Qn="/static/images/tx-history/default-brcnft.svg";function er(e){return e?tr:be}var ke={[t.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[t.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[t.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[t.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[t.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[t.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[t.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[t.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[t.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[t.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[t.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[t.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[t.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[t.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[t.BRC20_DEPLOY]:"extension_wallet_details_text_send",[t.ORDINAL_NFT]:"extension_wallet_details_text_send",[t.ORDINAL_TEXT]:"extension_wallet_details_text_send",[t.BRC20_MINT]:"extension_wallet_details_text_send",[t.BRC30_TRADE]:"extension_wallet_details_text_send",[t.BRC20_TRADE]:"extension_wallet_details_text_send",[t.BRC20_SEND]:"extension_wallet_details_text_send",[t.BRC30_SEND]:"extension_wallet_details_text_send",[t.RUNES_SWEEP]:"extension_wallet_details_text_send",[t.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[t.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[t.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[t.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[t.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[t.DEFI_REPAY]:"extension_defi_history_header_text_repay_with",[t.EARN_BORROW]:"wallet_extension_history_bttm_desc_borrow",[t.EARN_REPAY]:"wallet_extension_transaction_bttm_desc_repay"};function Xl(e){let o=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol");return(0,ae.useMemo)(()=>{let{txType:n,txStatus:_,approveInfo:s,input:m,output:d,investTxData:f,poolId:c}=e,{investInCoins:p}=e.investTxData||{},C=Object.values(t),T=()=>d&&d.length>0?{label:a(ke[n]),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:S,brc20sCoin:H,protocolName:U})=>({isNFT:!!I||S||H,icon:A||Qn,title:_t(y,R),right:U?ae.default.createElement(Ie,{className:N.protocol,size:it.SIZE.sm},U):null,autoWidth:!!U}))}:null,b=()=>!m||!m?.length?null:{label:a("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(m||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:S,brc20sCoin:H,protocolName:U})=>({isNFT:!!I||S||H,icon:A||Qn,title:He(y,R),right:U?ae.default.createElement("div",{className:(0,Et.default)(N.protocol)},U):null,autoWidth:!!U}))},h=()=>({label:a(ke[n]),items:[{icon:s?.icon||be,title:s?.name||o}]}),E=()=>({label:a(ke[n]),items:[{icon:s?.nftCollectionIcon||jl,title:s?.nftCollectionName||a("wallet_extension_title_approve_nft_collection")}]}),g=()=>({label:a(ke[n]),items:(d||[]).map(({nftId:R,icon:y,name:A})=>({isNFT:!!R,icon:y||tr,title:A||a("wallet_extension_title_approve_nft")}))}),M=()=>{let{registerInfo:R}=e;return R?{label:"",items:[{icon:R?.icon||be,title:R?.name||o}],title:a("wallet_extension_title_approve_nft")}:null},F=()=>({label:a(ke[n]),items:(p||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=_t(y),{icon:A??o,title:`${y} ${R}`}))}),G=()=>({label:a(ke[n]),items:(p||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=_t(y),{icon:A??o,title:`${y} ${R}`}))}),D=()=>{let{investInfo:R,redeemShowNum:y}=e.investTxData||{},{investName:A,platformName:I,investLogo:S}=R||{},H=null,U="",J="";if(!e.investTxData)return null;let Ce=e.investTxData.investmentDetailType;if((Ce==ve.FARM_LP_TOKEN||Ce==ve.FARM_OTHER_TOKEN)&&(U=N.flowRightToken,J=N.flowRightApply),y&&p&&p.length){let So=_t(p[0]?.num);H=ae.default.createElement("div",{className:(0,Et.default)(N["coin-flow__invest-apply-right"],J)},ae.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ae.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:N["coin-flow__invest-apply-num__tooltip"]},So)),ae.default.createElement("div",{className:(0,Et.default)(N["coin-flow__invest-apply-token"],U)},p[0]?.tokenName))}return{label:a(ke[n]),items:[{icon:ae.default.createElement(gt,{logo:S}),title:A??o,right:H,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I??i)}]}},B=()=>f?{label:a(ke[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||be,title:f.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},f.investInfo.poolId?`ID: ${f.investInfo.poolId}`:"")}]}:null,z=()=>f?{label:a(ke[n]),items:[{isNFT:!1,icon:f.investInfo.investLogo.middleLogo[0]||be,title:f.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},c?`ID: ${c}`:"")}]}:null,V=()=>{let R;return _===L.PENDING?R=ae.default.createElement("div",{className:N["coin-flow__claim"]},a("wallet_extension_subtitle_claimwith"),ae.default.createElement(fe,{title:a("wallet_extension_card_ntfy_claim_text"),placement:fe.DIRECTION.bottomLeft},ae.default.createElement("span",{className:`okds-information-circle ${N["coin-flow__claim__icon"]}`}))):R=a(ke[n]),{label:R,items:(p||[]).map(({tokenName:y,num:A,tokenLogo:I})=>(A=He(A),{icon:I??o,title:`${A} ${y}`,className:"coin-flow__receive"}))}},O=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:S,include:H})=>({isNFT:!!I,icon:A||er(I),title:_t(y,R),right:S?ae.default.createElement("div",{className:(0,Et.default)(N.protocol)},S):null,autoWidth:!!S,includeAssets:H}))}:null,pe=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:S})=>({isNFT:!!I,icon:A||er(I),title:_t(y,R),right:S?ae.default.createElement("div",{className:(0,Et.default)(N.protocol)},S):null,autoWidth:!!S}))}:null,X=()=>null,oe={[t.BRC30_INSCRIBE]:T,[t.BRC20_INSCRIBE]:T,[t.BRC20_DEPLOY]:T,[t.ORDINAL_NFT]:T,[t.ORDINAL_TEXT]:T,[t.BRC20_MINT]:T,[t.BRC20_TRADE]:T,[t.BRC30_TRADE]:T,[t.BRC20_RECEIVE]:b,[t.BRC30_RECEIVE]:b,[t.RUNES_SWEEP]:T,[t.CANCEL_AUTHORIZATION]:h,[t.AUTHORIZATION]:h,[t.NFT_CANCEL_AUTHORIZATION]:E,[t.NFT_AUTHORIZATION]:E,[t.CANCEL_NFT]:g,[t.REGISTRATION]:M,[t.EARN_BRC30_APPLY]:F,[t.DAPP_APPLY]:G,[t.EARN_BRC30_REDEEM]:B,[t.DAPP_REDEEM]:D,[t.EARN_BRC30_CLAIM]:z,[t.DAPP_CLAIM]:V,[t.BTC_NFT_BULK_SEND]:X,[t.BTC_NFT_BULK_RECEIVE]:X,[t.BRC20_SEND]:O,[t.BRC30_SEND]:O,[t.DEFI_MINT]:D,[t.DEFI_REPAY]:G,default:pe};return oe[n]?oe[n]():C.includes(n)?pe():null},[e])}var or=Xl;function $o({className:e,label:o,children:i}){return re.default.createElement("div",{className:(0,fo.default)(o?N["coin-flow__label"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},o),re.default.createElement("div",null,i))}function ql({className:e,label:o,children:i,isExpand:n,setExpand:_}){return re.default.createElement("div",{className:(0,fo.default)(o?N["coin-flow__label__overflow"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},o),re.default.createElement("div",null,n?i:i.slice(0,2)),re.default.createElement(ao,{className:N["coin-flow__label__expand"],side:n?ao.SIDE.TOP:ao.SIDE.BOTTOM,onClick:()=>{_(!n)}}))}function Jl({data:e={}}){let{txType:o}=e,i=or(e),n=Jn(e),[_,s]=(0,re.useState)(!1);if(!i&&!n||o===t.CANCEL_NFT&&i.items.length===0)return null;let m=!i||!n,d=f=>{if(!f)return null;let{items:c,label:p,...C}=f,T=e?.investmentPath;return f?.isNewInclude?re.default.createElement($o,{...C,label:p},re.default.createElement(Ft,{recordData:f,isNewInclude:f?.isNewInclude})):o===t.DAPP_APPLY||o===t.DAPP_REDEEM?re.default.createElement($o,{...C,label:p},c.map((b,h)=>re.default.createElement(Ft,{jumpInfo:b.subTitle?T:void 0,...b,key:h,hasPlus:c.length>=2&&h!==c.length-1,label:p}))):c?.length>2?re.default.createElement(ql,{...C,label:p,isExpand:_,setExpand:s},c.map((b,h)=>re.default.createElement(Ft,{...b,key:h}))):re.default.createElement($o,{...C,label:p},c?.map((b,h)=>re.default.createElement(Ft,{jumpInfo:b.subTitle?T:void 0,...b,key:h})))};return re.default.createElement("div",{className:(0,fo.default)(N["coin-flow"],{[N["coin-flow__hidden-label"]]:m})},d(i),d(n))}var ir=Jl;r();l();var ce=x(w()),nr=x(Oo());pt();P();di();r();l();var De=x(w());P();r();l();var uo={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function Ql({address:e,network:o}){let[i,n]=(0,De.useState)(!1),[_,s]=(0,De.useState)({}),[m,d]=(0,De.useState)(""),f=Xi(()=>{d(so.TYPE.ADD),s({address:e,network:o}),n(!0)}),c=C=>{n(!1),setTimeout(()=>{d(so.TYPE.EDIT),s({...C,network:o}),n(!0)})},p=()=>{n(!1),s({}),d("")};return De.default.createElement(De.default.Fragment,null,De.default.createElement("div",{className:uo["tx-detail-info__add-address"]},De.default.createElement(fe,{className:uo["tx-detail-info__add-address__tooltip"],title:i?null:a("wallet_extension_history_pop_tap_to_add"),type:fe.TYPES.neutral,placement:fe.DIRECTION.bottomRight},De.default.createElement(ge,{className:`${uo["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:f}))),De.default.createElement(so,{visible:i,type:m,data:_,onClose:p,onChangeToEdit:c}))}var xo=Ql;r();l();var Se={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function es(e,o){let i=e||[{address:o}];return[...new Set(i.map(({address:n})=>n))]}function ts({data:e}){let{inAdrList:o,txType:i,mainCoinId:n,coinId:_,okexAccount:s,txStatus:m}=e,[,d]=to(_),c=oo({coinId:+n})?.localType,[p,C]=ce.default.useState(!0),T=lo(c),b=Oi(),h=es(o,s),E=(0,nr.useCreation)(()=>h.map(g=>{let M=!1,F;(i===t.TRANS_IN||i===t.TRANS_OUT||i===t.SEND_NFT||i===t.RECEIVE_NFT||i===t.BRC20_RECEIVE||i===t.BRC20_SEND||i===t.BRC20_INSCRIBE||i===t.BRC20_MINT||i===t.BRC20_DEPLOY||i===t.ORDINAL_NFT||i===t.ORDINAL_TEXT||i===t.BRC20_TRADE||i===t.BRC30_TRADE||i===t.RUNES_SWEEP||i===t.EARN_BORROW||i===t.EARN_REPAY)&&(F=T(g),M=!F),i===t.REDEEM&&m===L.SUCCESS&&(F={address:g,name:s});let D=Object.values(b).find(V=>!Ue(V[g]))?.[g],B=D?no(a,D,d):a("wallet_extension_popup_title_receiving_address_copied"),z=D?a(Wt[Kt?.[c]?.[D]]):"";return{address:g,canAdd:M,msg:B,tag:z,tag2:F}}),[o,i,T,b,d,a]);return!E||E.length===0?null:ce.default.createElement("div",{className:Se.address},ce.default.createElement("div",{className:Se["address-type"]},a("wallet_extension_mid_text_from")),E.map(g=>ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:Se["address-content"]},ce.default.createElement("div",{className:Se["address-string"]},g.address),ce.default.createElement("div",{className:Se["address-right"]},ce.default.createElement(Pe,{label:g.label,value:g.address,message:g.msg}),g.canAdd&&ce.default.createElement(xo,{address:g.address,network:c}))),ce.default.createElement("div",{className:Se["address-container"]},g.tag&&ce.default.createElement(Ie,{className:Se["address-tag"]},g?.tag),g?.tag2?.name&&ce.default.createElement(Ie,{className:Se["address-tag"]},g?.tag2?.name)))),ce.default.createElement("div",{className:p?Se.fold:Se.unfold,onClick:()=>{C(!p)}}))}var rr=ts;r();l();var $e=x(w());P();r();l();var Qe={container:"_container_a2v75_1",label:"_label_a2v75_4",content:"_content_a2v75_11","user-name":"_user-name_a2v75_17",userName:"_user-name_a2v75_17",address:"_address_a2v75_24"};var os=({data:e})=>{let{bizData:o,txType:i,from:n}=e;return $e.default.createElement("div",{className:Qe.container},$e.default.createElement("div",{className:Qe.label},Q("commonall_colheader_text_from")),$e.default.createElement("div",{className:Qe.content},$e.default.createElement("div",{className:Qe.contentLeft},$e.default.createElement("div",{className:Qe.userName},i===t.RED_PACKET?lt(o.fromTgName):lt(o.senderTgName)),i===t.RED_PACKET&&$e.default.createElement("div",{className:Qe.address},K(n))),i===t.RED_PACKET&&$e.default.createElement("div",{className:Qe["content-right"]},$e.default.createElement(Pe,{value:i===t.RED_PACKET?n:o.senderTgName}))))},lr=os;r();l();r();l();var No=x(w());P();r();l();var ct=x(w());P();r();l();var Ke=x(w()),sr=x(Me());P();r();l();var We={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function is({className:e="",label:o="",value:i="",message:n="",tag:_,url:s,showExplorerUrl:m}){let[d,f]=nn(),c=()=>{d||(f(i),si.success({title:n||a("wallet_receive_toast_address_copied"),desc:Ke.default.createElement("div",{className:We["tx-hash__message"]},i)}))},p=()=>{!m||globalThis.platform.openTab({url:s})};return Ke.default.createElement("div",{className:(0,sr.default)(We["tx-hash"],e)},Ke.default.createElement("div",{className:We["tx-hash__inner"]},Ke.default.createElement("div",{className:We[m?"tx-hash__inner-wrap":""],onClick:p},o,_&&Ke.default.createElement("div",{className:We["tx-hash__tag"]},_)),Ke.default.createElement("div",{className:We["tx-hash__vertical"]}),Ke.default.createElement("div",{className:We["tx-hash__icon"],onClick:c},Ke.default.createElement(ge,{className:`okx-wallet-plugin-copy-1 ${We["okx-wallet-plugin-copy-1"]}`}))))}var It=is;r();l();var me={records:"_records_c1ld0_1",label:"_label_c1ld0_7",expand:"_expand_c1ld0_8","expanded-icon":"_expanded-icon_c1ld0_19",expandedIcon:"_expanded-icon_c1ld0_19",record:"_record_c1ld0_1","record-left":"_record-left_c1ld0_26",recordLeft:"_record-left_c1ld0_26","record-right":"_record-right_c1ld0_27",recordRight:"_record-right_c1ld0_27","copy-icon":"_copy-icon_c1ld0_34",copyIcon:"_copy-icon_c1ld0_34",name:"_name_c1ld0_38",adress:"_adress_c1ld0_45",hash:"_hash_c1ld0_52",divder:"_divder_c1ld0_60",empty:"_empty_c1ld0_65"};var ns=({record:e})=>{let{claimerTgName:o,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e;return ct.default.createElement(Y.FlexBox,{align:Y.ALIGN.center,className:me.record},ct.default.createElement(Y.FlexBox,{direction:Y.DIRECTION.vertical,className:me.recordLeft},ct.default.createElement("span",{className:me.name},lt(o)),ct.default.createElement("span",{className:me.adress},K(i))),n&&ct.default.createElement(Y.FlexBox,{align:Y.ALIGN.center,justify:"flex-end",className:me.recordRight},ct.default.createElement(It,{showExplorerUrl:_,label:K(n),value:n,url:s,message:Q("wallet_extension_popup_title_transaction_hash_copied")})))},To=ns;var rs=({data:e})=>{let{bizData:o,from:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e,m={claimerTgName:o.fromTgName,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s};return No.default.createElement("div",{className:me.records},No.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_wallet_hash")),No.default.createElement(To,{record:m}))},ar=rs;r();l();var ue=x(w()),mr=x(Me());P();r();l();var Wo=x(w()),cr=x(Me());r();l();var _r={root:"_root_17ca3_1"};function ls({className:e}){return Wo.default.createElement("div",{className:(0,cr.default)(_r.root,e)},Wo.default.createElement(ft.Circle,{size:ft.SIZE.md}))}var mt=ls;var ss=({data:e,isExpanded:o,onToggle:i,loading:n,noMore:_,hasExpandedBtn:s,loadingMore:m})=>{let d=(0,ue.useMemo)(()=>o?n?ue.default.createElement(mt,null):e?.list.length===0?ue.default.createElement(Ge.State,{className:me.empty,type:Ge.State.TYPE.noRecord,title:Q("wallet_extension_gift_empty_not_claim")}):ue.default.createElement(ue.default.Fragment,null,e?.list?.map(f=>ue.default.createElement(To,{key:f.rowId,record:f}))):null,[e,n,o]);return ue.default.createElement("div",{className:me.records},ue.default.createElement(Y.FlexBox,{justify:"space-between"},ue.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_gift_hash")),s&&ue.default.createElement("span",{className:me.expand,onClick:i},Q("wallet_extension_btn_general_show"),ue.default.createElement(ge,{className:(0,mr.default)("okx-wallet-plugin-add-arrow-chevrons",o&&me.expandedIcon)}))),d,!_&&m&&ue.default.createElement(mt,null))},dr=ss;var Ko={Receive:dr,Create:ar};r();l();var ye=x(w());P();r();l();var Ye={container:"_container_1ezsj_1",label:"_label_1ezsj_4",content:"_content_1ezsj_11","content-left":"_content-left_1ezsj_17",contentLeft:"_content-left_1ezsj_17","user-name":"_user-name_1ezsj_21",userName:"_user-name_1ezsj_21",address:"_address_1ezsj_28"};var as=({data:e})=>{let{bizData:o,txType:i,to:n}=e,_=o?.addressToTgNames?o.addressToTgNames[n]:"";return ye.default.createElement("div",{className:Ye.container},ye.default.createElement("div",{className:Ye.label},Q("commonall_colheader_text_to")),ye.default.createElement("div",{className:Ye.content},ye.default.createElement("div",{className:Ye.contentLeft},i===t.RED_PACKET?ye.default.createElement("div",{className:Ye.userName},Q("wallet_extension_gift_your_telegram_contact")):ye.default.createElement(ye.default.Fragment,null,ye.default.createElement("div",{className:Ye.userName},lt(_)),ye.default.createElement("div",{className:Ye.address},K(n)))),i===t.RECEIVE_PACKET&&ye.default.createElement("div",{className:Ye["content-right"]},ye.default.createElement(Pe,{value:n}))))},pr=as;r();l();var _e=x(w());r();l();var fr={loaderContainer:"_loaderContainer_1dvk5_1"};var _s=()=>_e.default.createElement(Y.Space,{space:54,direction:Y.DIRECTION.vertical,className:fr.loaderContainer},_e.default.createElement(Y.Space,{space:30,direction:Y.DIRECTION.vertical},_e.default.createElement(Y.Space,{space:12,direction:Y.DIRECTION.vertical},_e.default.createElement(Ve.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Ve.Input,{active:!0,style:{width:"178px",height:"32px"}})),_e.default.createElement(Y.Space,{space:12,direction:Y.DIRECTION.vertical},_e.default.createElement(Ve.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Ve.Input,{active:!0,style:{width:"178px",height:"32px"}}))),_e.default.createElement(Y.Space,{space:30,direction:Y.DIRECTION.vertical},_e.default.createElement(Y.Space,{space:12,direction:Y.DIRECTION.vertical},_e.default.createElement(Ve.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Ve.Input,{active:!0,style:{width:"250px",height:"32px"}})),_e.default.createElement(Y.Space,{space:12,direction:Y.DIRECTION.vertical},_e.default.createElement(Ve.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Ve.Input,{active:!0,style:{width:"250px",height:"32px"}})))),ur=_s;r();l();var xe=x(w());P();di();r();l();var et={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};var cs=({addressType:e,baseCoin:o})=>e?no(a,e,o):a("wallet_extension_popup_title_receiving_address_copied");function ms({data:e}){let{to:o,txType:i,contractInfo:n,mainCoinId:_,coinId:s}=e,[,m]=to(s),f=oo({coinId:+_})?.localType,c=lo(f),p=Ui(f),{label:C,toAddress:T,msg:b,tags:h,canAdd:E}=(0,xe.useMemo)(()=>{let g,M,F=!1,G=[];if(i===t.TRANS_IN||i===t.TRANS_OUT||i===t.SEND_NFT||i===t.RECEIVE_NFT||i===t.REDEEM||i===t.JITO_TIP||i===t.EARN_BORROW||i===t.EARN_REPAY||[t.BRC20_INSCRIBE,t.BRC20_MINT,t.ORDINAL_NFT,t.ORDINAL_TEXT,t.BRC20_DEPLOY,t.BRC20_RECEIVE,t.BRC20_SEND,t.BRC20_TRADE,t.EARN_BRC30_APPLY,t.EARN_BRC30_REDEEM,t.EARN_BRC30_CLAIM,t.EARN_BRC30_DEPLOY,t.BRC30_SEND,t.BRC30_RECEIVE,t.EARN_BRC30_CLAIM,t.BRC30_INSCRIBE,t.BRC30_TRADE,t.RUNES_SWEEP].includes(i)){let V=c(o);F=!V,g=a("wallet_extension_mid_text_to"),V?.name&&G.push(V.name);let O=Nt(e);O&&G.push(O),M=o}else{let{address:V,name:O}=n||{};g=i===t.REGISTRATION?a("wallet_extension_item_register_address"):a("wallet_extension_mid_text_interaction_address"),G.push(O),i===t.AUTHORIZATION||i===t.CANCEL_AUTHORIZATION||i===t.NFT_AUTHORIZATION||i===t.NFT_CANCEL_AUTHORIZATION?M=o:M=V}let D=p[M],B=D?a(Wt[Kt?.[f]?.[D]]):"",z=cs({addressType:D,baseCoin:m});return G.unshift(B),{label:g,toAddress:M,tags:G,canAdd:F,msg:z}},[i,p,c,o,a,n]);return[t.ZK_REGISTER,t.REVOKE_7702].includes(i)||!T?null:xe.default.createElement(xe.default.Fragment,null,xe.default.createElement("div",{className:et["address-to"]},xe.default.createElement("div",{className:et["address-type"]},C),xe.default.createElement("div",{className:et["address-content"]},xe.default.createElement("div",{className:et["address-string"]},T),xe.default.createElement("div",{className:et["address-right"]},xe.default.createElement(Pe,{value:T,message:b}),E&&xe.default.createElement(xo,{address:T,network:f}))),xe.default.createElement("div",{className:et["address-container"]},h.map(g=>g&&xe.default.createElement(Ie,{className:et["tx-clipboard__tag"]},g)))))}var xr=ms;r();l();var W=x(w()),Fr=x(Re());pt();P();Po();r();l();var Co=x(w());P();function ds(e){let{txType:o,approveInfo:i}=e,{amount:n,decimalNum:_}=i||{},s=(0,Co.useMemo)(()=>n===gi?a("wallet_extension_mid_text_unlimited"):ie(n,{decimals:_}),[n]);return o!==t.AUTHORIZATION?null:Co.default.createElement(ee,{label:a("wallet_extension_mid_text_approved_amount"),value:s})}var Tr=ds;r();l();var Nr=x(w());P();Po();function ps({txType:e,mainCoinId:o,confirmedCount:i}){return e===t.ZK_REGISTER&&o===vt?null:Nr.default.createElement(ee,{label:a("wallet_extension_mid_text_block_confirmation"),value:i})}var Cr=ps;r();l();var go=x(w());P();r();l();var gr=x(w());ul();function Yo(){let e=Vi(),o=Gi();return(0,gr.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;ti.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(o??{}).length,coinExisted:i!=null?o?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,o])}function fs({mainCoinId:e}){let{coin:o}=Xe(e,!1),i=Yo();return(0,go.useEffect)(()=>{setTimeout(()=>{o?.coinId||i(e)},1500)},[o,e,i]),go.default.createElement(ee,{label:a("wallet_extension_mid_text_network"),value:o.chainName})}var Er=fs;r();l();var kt=x(w()),wr=x(Re());P();Po();Bo();r();l();var Pt=x(w());P();var us=()=>Pt.default.createElement(Y.FlexBox,{align:Y.ALIGN.center,style:{gap:4}},Q("wallet_extension_gift_title_network_fee_pre"),Pt.default.createElement(ge,{style:{cursor:"pointer"},className:"okx-wallet-plugin-information-circle",a11yText:Q("wallet_extension_gift_dialog_title_network_fee_pre"),onClick:()=>{let e=Ne.tip({infoType:Ne.Tip.INFO_TYPE.default,title:Q("wallet_extension_gift_dialog_title_network_fee_pre"),children:Pt.default.createElement(we.Text,{type:we.TYPE.secondary,size:we.SIZE.sm,style:{lineHeight:"22px"}},Q("wallet_extension_gift_dialog_desc_explain_fee",{history:Pt.default.createElement(we.Text,{size:we.SIZE.sm},Q("wallet_extension_gift_dialog_icu_explain_fee"))})),confirmText:Q("commonall_text_btn_ok_active"),onConfirm:()=>{e.destroy()}})}})),Ir=us;var xs=[vt,ci];function Ts(e,o){let i;return e===t.RED_PACKET?i=kt.default.createElement(Ir,null):o?i=a("wallet_extension_sui_desc_network_fee_refund"):i=a("wallet_extension_mid_text_network_fee"),i}function Ns({mainCoinId:e,txStatus:o,feeRebate:i,feeRebateUsd:n,serviceCharge:_,chainSymbol:s,serviceChargeUsd:m,feeName:d,feeDecimalNum:f,txType:c,bizData:p}){let C=xs.includes(e),{coin:T}=Xe(e,!1),b=(0,wr.useSelector)(Yt),h,E;if(c===t.DAPP_UNISAT||c===t.ZK_REGISTER&&e===vt||c===t.RECEIVE_PACKET)return null;C?(h=f,E=d):(h=T.decimals,E=s);let g=0,M="";c===t.RED_PACKET?(g=p.prepaidGasFee||0,M=p.prepaidGasFeeFiatValue||""):g=i||_||0;let F=ie(g,{symbol:E,decimals:h||0});if(c===t.RED_PACKET)F+=` (${M})`;else if(o!==L.PENDING){let D=n||m,{usdToThisRate:B}=b,z=Ht(D,B);F+=` (${Ci(z,{useApproximate:!1,symbol:b.symbol})})`}let G=Ts(c,i);return kt.default.createElement(kt.default.Fragment,null,kt.default.createElement(ee,{label:G,value:F}))}var yr=Ns;r();l();var hr=x(w());P();function Cs({txType:e,investTxData:o}){if(!o||!o.lpTokenInfo||[ve.FARM_LP_TOKEN,ve.FARM_OTHER_TOKEN].includes(o?.investmentDetailType))return null;let i;if(e===t.DAPP_APPLY?i="wallet_extension_info_receive":e===t.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:_}=o.lpTokenInfo;return hr.default.createElement(ee,{label:a(i),value:ie(n,{symbol:_})})}var Ar=Cs;r();l();var Sr=x(w());P();r();l();pt();P();var gs="okx-wallet-plugin-lock-1",Es="okx-wallet-plugin-enrollment",vr=(e={})=>{let{txType:o,assetChange:i=[],poolLogo:n}=e;if(o===t.AUTHORIZATION||o===t.CANCEL_AUTHORIZATION||o===t.DAPP_NFT||o===t.CONTRACTCALL||o===t.KYS||o===t.CANCEL_NFT||o===t.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||Go(e)];if(o===t.NFT_AUTHORIZATION)return[e.contractIcon||gs];if(o===t.ZK_REGISTER)return[Es];if(o===t.EARN_BRC30_DEPLOY)return[n];let _=i.map(s=>{let{coinImgUrl:m}=s||{};return m||cn(s,e)});return _.reverse(),_.length===0?[Go(e)]:_},Eo=(e={})=>{let{txType:o,approveSymbol:i,nftCollectionName:n}=e;return co(o,{symbol:i,collection:n},e)};function Is(e){let o=Nt(e)||K(e.to);return`${a("wallet_extension_history_list_send_to")}   ${o}`}function ws(e){let o=K(e.from);return`${a("wallet_extension_history_list_receive_from")}   ${o}`}function ys(e){return e.contractName||K(e.to)}function hs(e){return K(e.from)}function As(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function vs(e){return K(e.from)}function bs(e){return`${a("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function Ds(e){let{contractName:o,contractAddress:i}=e;return o||K(i)||""}function Ss(e,o){return[t.TRANS_OUT,t.JITO_TIP,t.SEND_NFT,t.BRC20_SEND,t.BRC20_RECEIVE,t.BRC30_TRADE,t.BRC30_SEND,t.EARN_REPAY].includes(e)?Is(o):[t.TRANS_IN,t.RECEIVE_NFT,t.BRC30_RECEIVE].includes(e)?ws(o):e===t.CANCEL_NFT?ys(o):e===t.ZK_REGISTER?hs(o):[t.EARN_BRC30_APPLY,t.EARN_BRC30_REDEEM,t.EARN_BRC30_CLAIM,t.EARN_BRC30_DEPLOY].includes(e)?As(o):e===t.BRC30_INSCRIBE?vs(o):e===t.REDEEM?bs(o):Ds(o)}var br=(e={},o="en-US")=>{let i=[],{txType:n,txStatus:_}=e,s=Ss(n,e);if(s&&i.push(s),_===L.PENDING){let m=ze(e.txTime,{format:"yyyyMMddHHmmss",locale:o});i.push(m)}return i},Dr=(e={})=>{let{assetChange:o=[],txType:i,repeatTxType:n,coinId:_}=e,{baseCoin:s}=Xe(_,!0),m=Zt(s.coinId);return o.map(f=>{let{direction:c,coinAmount:p,coinSymbol:C}=f||{};if(Ue(p))return null;let T=null;return(p!=="0"||m&&(i===t.TRANS_IN||i===t.TRANS_OUT)&&n!==j.CANCELING&&n!==j.SPEEDING_CANCEL)&&(T=ie(p)),i===t.CANCEL_NFT?{coinAmount:"",symbol:C}:{direction:c,coinAmount:T,symbol:C}}).filter(Boolean)};function Ls(e){let{txType:o}=e,i=Eo(e);return o===t.ZK_REGISTER&&(i=a("wallet_extension_history_text_change_pubkey")),Sr.default.createElement(ee,{label:a("wallet_extension_info_text_type"),value:i})}var Lr=Ls;r();l();var Br={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function Bs({memo:e,mainCoinId:o}){return Ue(e)?null:W.default.createElement(ee,{label:o===mi?a("wallet_extension_import_desc_comment"):a("wallet_extension_text_memocontent"),value:W.default.createElement(Lt,{text:e||"--",maxWidth:"260px"})})}function Fs({mev:e}){return Ue(e)?null:W.default.createElement(ee,{label:a("wallet_extension_ton_order_header_mev"),value:W.default.createElement(Lt,{text:e||"--",maxWidth:"260px"})})}function Rs({data:e}){let o=(0,Fr.useSelector)(jt),{txTime:i,txHash:n,investTxData:_,txHash1:s,txHash2:m,explorerUrl:d,explorerUrl1:f,explorerUrl2:c,showExplorerUrl:p,txType:C}=e,T=C===t.RED_PACKET||C===t.RECEIVE_PACKET;return W.default.createElement("div",{className:Br["tx-detail-info"]},W.default.createElement(ee,{label:a("wallet_extension_mid_text_time"),value:ze(i,{format:"yyyyMMddHHmmss",locale:o})}),W.default.createElement(Lr,{...e}),W.default.createElement(Ar,{...e}),W.default.createElement(yr,{...e}),W.default.createElement(Er,{...e}),!T&&W.default.createElement(W.default.Fragment,null,!s&&n&&W.default.createElement(ee,{label:a("wallet_extension_mid_text_transaction_hash"),value:W.default.createElement(It,{showExplorerUrl:p,label:K(n),value:n,url:d,message:a("wallet_extension_popup_title_transaction_hash_copied")})}),s&&W.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash1"),value:W.default.createElement(W.default.Fragment,null,W.default.createElement(It,{showExplorerUrl:p,label:K(s),value:s,url:f,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),m&&W.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash2"),value:W.default.createElement(W.default.Fragment,null,W.default.createElement(It,{showExplorerUrl:p,label:K(m),value:m,url:c,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),W.default.createElement(Cr,{...e}),_?.validateName&&W.default.createElement(ee,{label:a("extension_wallet_history_text_validator"),value:K(_?.validateName)}),W.default.createElement(Tr,{...e}),W.default.createElement(Fs,{...e}),W.default.createElement(Bs,{...e})))}var Rr=Rs;r();l();var Ze={"retina-border-basic":"_retina-border-basic_khfbo_1",retinaBorderBasic:"_retina-border-basic_khfbo_1","tx-detail":"_tx-detail_khfbo_29",txDetail:"_tx-detail_khfbo_29","metax-ok-navigator":"_metax-ok-navigator_khfbo_35",metaxOkNavigator:"_metax-ok-navigator_khfbo_35","tx-detail__inner":"_tx-detail__inner_khfbo_41",txDetailInner:"_tx-detail__inner_khfbo_41","tx-detail__underline":"_tx-detail__underline_khfbo_45",txDetailUnderline:"_tx-detail__underline_khfbo_45","tx-detail__loading":"_tx-detail__loading_khfbo_80",txDetailLoading:"_tx-detail__loading_khfbo_80"};r();l();var dt=x(w()),Pr=x(Me());P();r();l();var wt={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var Ps={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},ks={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function Os({className:e,data:o}){if(!o)return dt.default.createElement(dt.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:_}=o,s="";i===L.CONFIRMING||i===L.SUCCESS?i===L.SUCCESS&&_===j.SPEEDING_CANCEL||_===j.CANCELING?s="tx-detail-canceled":s="tx-detail-completed":i===L.PENDING?(n&&_===j.CONFIRMING&&(s="tx-detail-pending"),!n&&_===j.CONFIRMING&&(s="tx-detail-waiting"),_===j.SPEEDING&&(s="tx-detail-speeding"),_===j.CANCELING&&(s="tx-detail-canceling"),_===j.SPEEDING_CANCEL&&(s="tx-detail-speedingcancel")):i===L.ERROR?s="tx-detail-failed":i===L.WITHDRAWING&&(s="tx-detail-withdraw");let m=ks[s]||"";return dt.default.createElement("div",{className:(0,Pr.default)(wt["tx-detail-status"],{[wt["tx-detail-failed"]]:s==="tx-detail-failed"},e)},dt.default.createElement(ge,{className:`${wt["tx-detail-icon"]} ${m}`}),!m&&dt.default.createElement(ft.Circle,{size:ft.SIZE.md,className:wt["tx-detail-loading"],loaderClassName:wt["tx-detail-loader"]}),dt.default.createElement("div",null,a(Ps[s])))}var kr=Os;r();l();var Ms=e=>{if(typeof e?.bizData=="string")try{return JSON.parse(e.bizData)}catch{return{}}return e?.bizData||{}};function Gs({params:e,onRefresh:o,onClose:i,visible:n}){let _=(0,v.useRef)(""),s=(0,v.useRef)(null),m=(0,v.useRef)(null),[d,f]=(0,v.useState)(!1),[c,p]=(0,v.useState)(),[C,T]=(0,v.useState)(!1),b=()=>{if(!e)return;let{coinId:z,address:V,orderType:O,orderId:pe}=e;T(!0),pi({coinId:z,txId:_.current,address:V,orderType:O,orderId:pe}).then(X=>{if(e&&!oi(X)){let oe={};try{X.bizData&&(oe=Ms(X))}catch{}p({...X,address:V,bizData:oe})}}).catch(()=>{}).finally(()=>{T(!1)})};(0,v.useEffect)(()=>{e?(_.current=e.txId,b(),s.current=b):(_.current="",p(null))},[e]);let h=()=>{s.current&&_.current&&s.current()},E=St("wallet-transaction"),g=St("wallet-tx-confirm",{onError:h,pollingInterval:10*1e3});(0,v.useEffect)(()=>{(E&&c?.orderTxIdList?.includes(E.data?.txId)||g&&g.data?.txId===_.current&&g.data?.confirmedCount<=g.data?.totalConfirm)&&b()},[E,g]);let{data:M,loading:F,noMore:G,loadingMore:D}=(0,Or.useInfiniteScroll)(async z=>{if(d&&c?.bizData){let{bizData:V,txType:O,to:pe}=c||{},X;if(O===t.RECEIVE_PACKET){if(!V?.addressAndTgIds?.[pe])return null;X=V?.addressAndTgIds?.[pe]}let{data:oe}=await dn({redPacketId:V?.redPacketId,claimerTgId:X,type:O===t.RED_PACKET?1:2,lastRowId:z?.lastRowId||0,limit:10});return{list:oe.claimInfos,lastRowId:oe.claimInfos[oe.claimInfos.length-1]?.rowId||0,hasNext:oe.hasNext}}return null},{target:m.current,isNoMore:z=>!z?.hasNext,reloadDeps:[d,c]});(0,v.useEffect)(()=>{c?.txType===t.RECEIVE_PACKET?f(!0):f(!1)},[c]);let B=[t.UPGRADE_7702,t.REVOKE_7702].includes(c?.txType);return v.default.createElement(Ne.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:c?v.default.createElement(kr,{data:c,className:Ze["tx-detail__status"]}):v.default.createElement(v.default.Fragment,null),renderContent:()=>v.default.createElement("div",{className:Ze["tx-detail"],ref:m},c&&!C&&v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:Ze["tx-detail__underline"]}),v.default.createElement(rn,{message:c.failReason}),v.default.createElement("div",{className:Ze["tx-detail__inner"]},!B&&v.default.createElement(v.default.Fragment,null,v.default.createElement(ir,{data:c}),v.default.createElement("div",{className:Ze["tx-detail__underline"]})),c.txType===t.RED_PACKET||c.txType===t.RECEIVE_PACKET?v.default.createElement(v.default.Fragment,null,v.default.createElement(lr,{data:c}),v.default.createElement(pr,{data:c})):v.default.createElement(v.default.Fragment,null,v.default.createElement(rr,{data:c}),v.default.createElement(xr,{data:c})),v.default.createElement("div",{className:Ze["tx-detail__underline"]}),v.default.createElement(Rr,{data:c}),v.default.createElement("div",{className:Ze["tx-detail__underline"]}),c.txType===t.RED_PACKET&&v.default.createElement(v.default.Fragment,null,v.default.createElement(Ko.Create,{data:c}),v.default.createElement("div",{className:Ze["tx-detail__underline"]})),(c.txType===t.RED_PACKET||c.txType===t.RECEIVE_PACKET)&&v.default.createElement(Ko.Receive,{info:c,data:M,isExpanded:d,loading:F,noMore:G,hasExpandedBtn:c.txType===t.RED_PACKET,onToggle:()=>{f(!d)},loadingMore:D}),v.default.createElement(In,{data:c,onRefresh:z=>{_.current=z,b(),o&&o()}}))),C&&v.default.createElement(ur,null))})}var Zo=Gs;r();l();r();l();var yo=x(w());r();l();var Le=x(w()),Ur=x(Re());r();l();P();function Vs(e,o,i){if(e===L.PENDING&&!o)return a("wallet_extension_history_list_status_waiting");if(e===L.PENDING&&o){if(i===j.CONFIRMING)return"";if(i===j.SPEEDING)return a("wallet_extension_send_status_speedingup");if(i===j.CANCELING)return a("wallet_extension_send_status_canceling");if(i===j.SPEEDING_CANCEL)return a("wallet_extension_send_status_canceling")}return""}var Io=(e={})=>{let{txStatus:o,claimableStatus:i,isShowPending:n,repeatTxType:_}=e;return i===bt.CLAIMABLE?a("wallet_extension_cell_tag_ready_to_claim"):i===bt.CLAIMING?a("wallet_extension_cell_tag_claiming"):o===L.SUCCESS&&(_===j.CANCELING||_===j.SPEEDING_CANCEL)?a("wallet_extension_send_status_canceled"):o===L.CONFIRMING||o===L.SUCCESS?"":o===L.ERROR?a("wallet_extension_history_status_failed"):o===L.WITHDRAWING?a("wallet_extension_status_tag_withdraw"):Vs(o,n,_)},wo=(e={})=>{let{txStatus:o,claimableStatus:i,isShowPending:n,repeatTxType:_}=e;return i===bt.CLAIMABLE?rt.CLAIMABLE:i===bt.CLAIMING?rt.CLAIMING:o===L.SUCCESS&&(_===j.CANCELING||_===j.SPEEDING_CANCEL)?rt.CANCELED:o===L.CONFIRMING||o===L.SUCCESS?"":o===L.ERROR?rt.FAILED:o===L.PENDING&&!n?rt.WAITING:rt.PENDING};var Hs=({data:e={},onClick:o,onRepeat:i})=>{let n=(0,Ur.useSelector)(zt),_=vr(e),s=Dr(e),m=Eo(e),d=br(e,n),f=wo(e),c=Io(e),p=_n(e),C=mn(e),T=_o(d,s),b=Le.default.createElement(k.Label,{className:"tx-history-ml4",type:f,text:c,data:e}),h=e?.dexOrderId,{openDexTxDetailDialog:E}=io();return Le.default.createElement(k.ItemContainer,{onClick:()=>{if(h){E(e?.dexOrderId);return}o()}},Le.default.createElement(k.Row,{assets:s,align:T},Le.default.createElement(k.Info,{icons:_,title:m,details:d,label:b,data:e}),Le.default.createElement(k.Assets,{assets:s,isValuelessNftTxType:C})),p&&Le.default.createElement(k.NFTs,{data:e}),!h&&Le.default.createElement(k.Actions,{data:e,onRepeat:i}),Le.default.createElement(k.Claim,{data:e}))},Mr=(0,Le.memo)(Hs);var $s=({data:e={},onClick:o,onRepeat:i})=>yo.default.createElement(Mr,{data:e,onClick:o,onRepeat:i}),yt=(0,yo.memo)($s);r();l();var te=x(w()),Ot=x(Re());P();r();l();var ht=x(w());var Ws=({date:e,list:o,onClick:i})=>ht.default.createElement(k.List,null,ht.default.createElement(k.Date,null,e),o.map((n,_)=>ht.default.createElement(yt,{data:n,key:_,onClick:()=>{i(n)}}))),Gr=(0,ht.memo)(Ws);r();l();var Ao=x(w());r();l();var ho=x(w());P();r();l();var Vr={dialogContainer:"_dialogContainer_1av5q_1"};var Hr=({onClose:e,visible:o,onClick:i,options:n})=>{let _=(s,m)=>{let{label:d,image:f}=s||{};return ho.default.createElement(Uo.Coin,{symbol:d,icon:f,keyword:m,onClick:()=>{i(s)}})};return ho.default.createElement(Ne,{isFull:!0,onClose:e,visible:o,title:a("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:Vr.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},ho.default.createElement(Uo,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:a("wallet_extension_input_search_network")},dataSource:n,renderItem:_,emptyText:a("wallet_extension_text_noresults")}))};var zo=({visible:e,setVisible:o,handleSelectNetwork:i,options:n,children:_})=>Ao.default.createElement(Ao.default.Fragment,null,_,Ao.default.createElement(Hr,{visible:e,onClose:()=>o(!1),onClick:i,options:n}));r();l();var Yr=x(w()),Zr=x(Re());r();l();var $r=x(w()),Wr=x(Re());var Kr=(e="coinId")=>{let o=(0,Wr.useSelector)(Li),[i]=Si(o);return{options:(0,$r.useMemo)(()=>(i||[]).map(_=>{let{chainName:s}=_;return{label:s,value:_[e],..._}}),[o])}};var zr=({explorerUrl:e})=>{let[o,i]=Yr.default.useState(!1),n=(0,Zr.useSelector)(qt),{account:_}=Pi(),{options:s}=Kr(),m=n?.chainId;return{visible:o,setVisible:i,gotoExplore:()=>{if(m==="")i(!0);else{let c=s.find(T=>T.chainId===m),p=c?.localType,C=c?.coinId;globalThis.open(`${e?.[C]}${_?.[p]}`)}},handleSelectNetwork:c=>{let p=c.coinId;i(!1),globalThis.open(`${e?.[p]}${_?.[c.localType]}`)},options:s}};r();l();var jo={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var Ks=({pendingList:e,completedList:o,isLoading:i,onRepeat:n,onClick:_,onContainer:s,explorerUrl:m})=>{let d=(0,Ot.useSelector)(Jt),f=(0,Ot.useSelector)(bi),{init:c}=(0,Ot.useSelector)(qt),p=(0,Ot.useSelector)(vi),[C,T]=(0,te.useState)({}),[b,h]=(0,te.useState)(0),{visible:E,setVisible:g,gotoExplore:M,handleSelectNetwork:F,options:G}=zr({explorerUrl:m});return f?te.default.createElement(k.Loading,{top:160}):i||!e?null:!i&&e.length===0&&o.length===0?te.default.createElement(zo,{visible:E,setVisible:g,handleSelectNetwork:F,options:G},te.default.createElement(k.Empty,{top:72,onButtonClick:M,buttonText:a("wallet_extension_history_btn_check_in_explorer"),description:c?a("wallet_extension_history_emptystate_no_transactions_day",{num:hi}):a("commonall_emptystate_text_no_records")})):te.default.createElement(k.ListContainer,{onContainer:s,className:"tx-history-extra"},te.default.createElement(k.Dialogs,{data:C,type:b,onConfirm:()=>{T({}),h(0),n()},onCancel:()=>{h(0)}}),e.length>0?te.default.createElement(te.default.Fragment,null,te.default.createElement(k.PendingTag,null),te.default.createElement("div",{className:jo.list},e.map((D,B)=>te.default.createElement(yt,{data:D,key:B,onClick:()=>{_(D)},onRepeat:z=>{T(D),h(z)}})))):null,o.map(({date:D,list:B},z)=>te.default.createElement(Gr,{date:D,list:B,key:z,onClick:_})),!p&&te.default.createElement(zo,{visible:E,setVisible:g,handleSelectNetwork:F,options:G},te.default.createElement(je,{category:je.CATEGORY.fill,type:je.TYPE.gray,size:je.SIZE.md,className:jo.explore,onClick:M},a("wallet_extension_history_btn_check_in_explorer"))),d&&te.default.createElement(mt,null))},jr=(0,te.memo)(Ks);var Ys={VirtualItem:yt,HistoryList:jr};r();l();r();l();r();l();var de=x(w()),qo=x(Re());P();r();l();var ot=x(w());r();l();var bo=x(w());r();l();var Oe=x(w()),rl=x(Re());r();l();P();r();l();var Qr="okx-wallet-plugin-report-centre",Ut="okx-wallet-plugin-pointer-up",Mt="okx-wallet-plugin-pointer-down",Xr="okx-wallet-plugin-lock-1",tt="okx-wallet-plugin-swap-1",Zs="okx-wallet-plugin-mint-nft",Xo="okx-wallet-plugin-report-centre",zs="okx-wallet-plugin-supply",Gt="okx-wallet-plugin-claim",qr="okx-wallet-plugin-enrollment",vo="okx-wallet-plugin-mint",js="okx-wallet-plugin-mint",Jr="okx-wallet-plugin-coin-inscribe-brc20",Xs="okx-wallet-plugin-pointer-down",qs="okx-wallet-plugin-pointer-up",Js="okx-wallet-plugin-quick",el={[t.TRANS_OUT]:Ut,[t.PERPETUAIL]:Xs,[t.WITHDRAW]:qs,[t.QUICK_WITHDRAW]:Js,[t.TRANS_IN]:Mt,[t.AUTHORIZATION]:Xr,[t.CANCEL_AUTHORIZATION]:Xr,[t.SWAP]:tt,[t.BUY_NFT]:tt,[t.SELL_NFT]:tt,[t.GAS_STATION]:tt,[t.DEX_CROSS_CHAIN_SWAP]:tt,[t.BRC20_TRADE]:tt,[t.BRC30_TRADE]:tt,[t.RUNES_SWEEP]:tt,[t.MINT_NFT]:Zs,[t.CONTRACTCALL]:Xo,[t.KYS]:Xo,[t.DAPP_NFT]:Xo,[t.DAPP_APPLY]:zs,[t.DAPP_REDEEM]:Gt,[t.DAPP_CLAIM]:Gt,[t.EARN_BRC30_CLAIM]:Gt,[t.EARN_BRC30_APPLY]:Gt,[t.EARN_BRC30_REDEEM]:Gt,[t.REGISTRATION]:qr,[t.ZK_REGISTER]:qr,[t.BRC20_RECEIVE]:Mt,[t.BRC30_RECEIVE]:Mt,[t.DEFI_MINT]:Mt,[t.BRC20_INSCRIBE]:Jr,[t.BRC30_INSCRIBE]:Jr,[t.BRC20_MINT]:vo,[t.ORDINAL_NFT]:vo,[t.ORDINAL_TEXT]:vo,[t.BRC20_DEPLOY]:vo,[t.BRC20_SEND]:Ut,[t.BRC30_SEND]:Ut,[t.DEFI_REPAY]:Ut,[t.EARN_BRC30_DEPLOY]:js,[t.EARN_BORROW]:Mt,[t.EARN_REPAY]:Ut};var tl=(e={})=>{let{txType:o}=e;return[el[o]||Qr]},ol=(e={})=>{let{txType:o,coinSymbol:i}=e;return co(o,{symbol:i},e)},il=(e={},o="en-US")=>{let i=[],{txType:n,txStatus:_}=e;if(n===t.TRANS_OUT||n===t.SEND_NFT||n===t.BRC20_SEND||n===t.BRC20_TRADE||n===t.BRC30_SEND||n===t.RUNES_SWEEP||n===t.EARN_REPAY){let s=Nt(e)||K(e.to),m=`${a("wallet_extension_history_list_send_to")}  ${s}`;i.push(m)}else if(n===t.TRANS_IN||n===t.RECEIVE_NFT||n===t.BRC20_RECEIVE||n===t.BRC20_MINT||n===t.ORDINAL_NFT||n===t.ORDINAL_TEXT||n===t.BRC20_INSCRIBE||n===t.BRC20_DEPLOY||n===t.BRC30_RECEIVE||n===t.RUNES_ETCH){let s=K(e.from),m=`${a("wallet_extension_history_list_receive_from")}   ${s}`;i.push(m)}else if(n===t.BRC30_INSCRIBE){let s=K(e.to);i.push(s)}else if(n===t.ZK_REGISTER)i.push(K(e.from));else{let{contractName:s,contractAddress:m}=e,d=s||K(m)||"";i.push(d)}if(_===L.PENDING){let s=ze(e.txTime,{format:"yyyyMMddHHmmss",locale:o});i.push(s)}return i},nl=(e={})=>{let o=[],{direction:i,coinAmount:n,coinSymbol:_,txType:s,repeatTxType:m,coinId:d}=e,{baseCoin:f}=Xe(d,!0),c=Zt(f.coinId);if(s===t.AUTHORIZATION||s===t.CANCEL_AUTHORIZATION||s===t.REGISTRATION)return o;let p=null;return(n!=="0"||c&&(s===t.TRANS_IN||s===t.TRANS_OUT)&&m!==j.CANCELING&&m!==j.SPEEDING_CANCEL)&&(p=ie(n)),o.push({direction:i,coinAmount:p,symbol:_}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&o.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),o};var Qs=({data:e={},onClick:o,onRepeat:i})=>{let n=(0,rl.useSelector)(zt),_=tl(e),s=ol(e),m=il(e,n),d=nl(e),f=_o(m,d),c=wo(e),p=Io(e),C=Oe.default.createElement(k.Label,{className:"tx-history-ml4",type:c,text:p,data:e});return Oe.default.createElement(k.ItemContainer,{onClick:o},Oe.default.createElement(k.Row,{assets:d,align:f},Oe.default.createElement(k.Info,{icons:_,title:s,details:m,label:C,data:e}),Oe.default.createElement(k.CoinAssets,{assets:d})),Oe.default.createElement(k.Actions,{data:e,onRepeat:i}),Oe.default.createElement(k.Claim,{data:e,source:"coin"}))},ll=(0,Oe.memo)(Qs);var ea=({data:e={},onRepeat:o,onClick:i})=>bo.default.createElement(ll,{data:e,onClick:i,onRepeat:o}),Do=(0,bo.memo)(ea);var ta=({completedList:e,onClick:o})=>ot.default.createElement(ot.default.Fragment,null,e.map(({date:i,list:n},_)=>ot.default.createElement(k.List,{key:_},ot.default.createElement(k.Date,null,i),n.map((s,m)=>ot.default.createElement(Do,{data:s,key:m,onClick:()=>{o(s)}}))))),sl=(0,ot.memo)(ta);r();l();var Be=x(w());r();l();var al={root:"_root_1otry_1"};var oa=({pendingList:e,onRepeat:o,onClick:i})=>{let[n,_]=(0,Be.useState)({}),[s,m]=(0,Be.useState)(0);return e.length===0?null:Be.default.createElement(Be.default.Fragment,null,Be.default.createElement(k.Dialogs,{data:n,type:s,onConfirm:()=>{_({}),m(0),o()},onCancel:()=>{m(0)}}),Be.default.createElement("div",{className:al.root},e.map((d,f)=>Be.default.createElement(Do,{data:d,key:f,onRepeat:c=>{_(d),m(c)},onClick:()=>{i(d)}}))))},_l=(0,Be.memo)(oa);r();l();var Vt={loading:"_loading_vgn6r_1",scrollLoading:"_scrollLoading_vgn6r_7",empty:"_empty_vgn6r_10",emptyImg:"_emptyImg_vgn6r_16"};var ia=({txList:e,isLoading:o,onRepeat:i,txDetailData:n,setTxDetailData:_})=>{let s=(0,qo.useSelector)(jt),m=(0,qo.useSelector)(Jt),d=Ji(ui),{openDexTxDetailDialog:f}=io(),[c,p]=(0,de.useMemo)(()=>an(e,s,!0),[e,s]);if(!o&&c.length===0&&p.length===0)return de.default.createElement("div",{className:Vt.empty},de.default.createElement(Ge.State,{imgClassName:Vt.emptyImg,title:"",type:Ge.State.TYPE.noRecord,description:a("wallet_transaction_history_subtitle_no_records")}));if(o)return de.default.createElement(k.Loading,{top:0,className:Vt.loading});if(!Array.isArray(e))return null;let C=T=>{d({button_clicked:"history"}),T?.dexOrderId?f(T?.dexOrderId):_(T)};return de.default.createElement(de.default.Fragment,null,de.default.createElement("div",{className:"coin-history__list"},de.default.createElement(_l,{pendingList:c,onRepeat:i,onClick:C}),de.default.createElement(sl,{completedList:p,onClick:C}),m&&de.default.createElement(mt,{className:Vt.scrollLoading})),de.default.createElement(Zo,{visible:!!n,params:n,onRefresh:i,onClose:()=>{_(null)}}))},cl=(0,de.memo)(ia);var na={TxList:cl};r();l();var he=x(w()),ml=x(Re());pt();function eg({scrollContainer:e,selector:o=".tx-history-item-container",index:i=15},n){let _=(0,he.useRef)(null),s=(0,he.useRef)(null),m=(0,ml.useSelector)(Ai),d=()=>{if(_.current)if(s.current){let{bottom:E}=_.current.getBoundingClientRect(),{top:g}=s.current.getBoundingClientRect();g>=E&&n()}else n()},f=St("wallet-transaction",{onError:d}),[c,p]=(0,he.useState)(!1),[C,T]=(0,he.useState)(!1),[b,h]=(0,he.useState)(0);(0,he.useEffect)(()=>{f&&T(!0)},[f]),(0,he.useLayoutEffect)(()=>{let E;if(e){let g=e.querySelectorAll(o);E=ii(()=>{let{bottom:M}=e.getBoundingClientRect(),{top:F}=s.current.getBoundingClientRect();p(F>=M)},200),s.current=g[i],s.current?(E(),e.addEventListener("scroll",E)):p(!0),_.current=e}else p(!0);return()=>{e&&(e.removeEventListener("scroll",E),s.current=null)}},[b,e,o,i,m]),(0,he.useEffect)(()=>{c&&C&&(n&&n(),p(!1),T(!1),h(E=>{let g=E+1;return g>=1e6&&(g=1),g}))},[c,C])}export{an as a,Zo as b,na as c,Ys as d,eg as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-P2FRYEZR.js.map

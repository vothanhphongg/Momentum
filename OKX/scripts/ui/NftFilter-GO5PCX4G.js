import{a as mt}from"./chunk-MDL52WR7.js";import"./chunk-PSDESO5W.js";import"./chunk-VOOXQWRX.js";import{a as ut}from"./chunk-JERBXJLS.js";import{a as _t}from"./chunk-XEVQJIQN.js";import{a as ht}from"./chunk-PJTYQKWA.js";import{a as dt}from"./chunk-3USSVI5T.js";import{a as ct}from"./chunk-7KFMUYBX.js";import"./chunk-K6STDTUY.js";import{b as p,i as at}from"./chunk-ELJJJNTC.js";import{b as K}from"./chunk-EPWGNYZZ.js";import"./chunk-DZLXEJHX.js";import"./chunk-ZTAZ2272.js";import"./chunk-IRMYAC6R.js";import"./chunk-Q76QXAWY.js";import"./chunk-THSNJ5WU.js";import"./chunk-PDC447BO.js";import"./chunk-JCM7SRK2.js";import{a as ft}from"./chunk-PTD7UCOR.js";import"./chunk-ETJEH7T4.js";import{a as st}from"./chunk-V3IFYKWM.js";import"./chunk-EWTTD4DL.js";import"./chunk-E2JYOUYE.js";import"./chunk-B3JSNQIV.js";import{a as rt}from"./chunk-YALUYHLV.js";import{q as I}from"./chunk-I3CPAVOC.js";import"./chunk-ARWSGU73.js";import"./chunk-CZ2ZBAZV.js";import{o as nt}from"./chunk-5QMHGZLF.js";import{ec as Vt}from"./chunk-HPWCPLRR.js";import"./chunk-TSTPZ3JM.js";import"./chunk-D2LKUI4F.js";import{a as Yt}from"./chunk-ON6S2DB7.js";import"./chunk-SZD6WTBQ.js";import"./chunk-ASR4HLU7.js";import"./chunk-ANIUN6US.js";import"./chunk-3DZ7WRLL.js";import"./chunk-DEOJU4Z3.js";import"./chunk-PLIIQKFY.js";import"./chunk-CWNIM6RS.js";import"./chunk-NNAD25BL.js";import"./chunk-XV444F26.js";import"./chunk-N2BCRNDB.js";import"./chunk-RTFE54S3.js";import"./chunk-GCQ4H2BA.js";import"./chunk-UVFOW4HH.js";import"./chunk-LNOPECCQ.js";import"./chunk-CB7FOZNP.js";import{c as j}from"./chunk-43VURGIT.js";import{Ia as lt,Na as qt,ya as it,za as Wt}from"./chunk-TM67VPZU.js";import"./chunk-VW6OQNWT.js";import{E as et,F as ot,o as R,q as tt,r as T,y as z}from"./chunk-PUSMMCUD.js";import{A as $,R as M,z as c}from"./chunk-UWJLNJLY.js";import"./chunk-VRY2ADKE.js";import"./chunk-5U7FO2PW.js";import"./chunk-PDUOSATP.js";import{I as J,oa as G,ra as Ut}from"./chunk-XDY6V34Y.js";import"./chunk-YJFNO57I.js";import"./chunk-DZ6CTC22.js";import{$ as Q,W as X,c as O,ea as N}from"./chunk-JT3LNHPY.js";import"./chunk-47UWF72W.js";import{b as F}from"./chunk-JWYCKY2V.js";import"./chunk-G2266BV2.js";import"./chunk-L4PAIYPH.js";import"./chunk-UT7LJPKF.js";import"./chunk-AFZ6A2B3.js";import"./chunk-VVPY7ZA7.js";import"./chunk-KUW5VATV.js";import"./chunk-BNAVWOJ2.js";import"./chunk-IG2Q5ALZ.js";import"./chunk-WOMUNWBT.js";import"./chunk-QYVQBXDG.js";import"./chunk-7D4PUIEN.js";import"./chunk-7QO4TZYQ.js";import"./chunk-FF4LY6PE.js";import"./chunk-76KCDJDG.js";import"./chunk-YDUDQP2P.js";import"./chunk-PGPFV4JQ.js";import"./chunk-MIBHDVGP.js";import"./chunk-7VFUX7IX.js";import"./chunk-XLF4LAH2.js";import"./chunk-ONKZ57T6.js";import"./chunk-ZC7Q7LCH.js";import{f as m,o as t,q as e}from"./chunk-6KXF36WM.js";t();e();var l=m(F()),jt=m(Vt()),It=m(Yt()),wt=m(nt()),U=m(O());Ut();M();t();e();var d=m(F());M();t();e();var a={"ok-nft-filter-main":"_ok-nft-filter-main_ihlaj_1",okNftFilterMain:"_ok-nft-filter-main_ihlaj_1","ok-nft-filter-block":"_ok-nft-filter-block_ihlaj_7",okNftFilterBlock:"_ok-nft-filter-block_ihlaj_7","ok-nft-filter-block-title":"_ok-nft-filter-block-title_ihlaj_14",okNftFilterBlockTitle:"_ok-nft-filter-block-title_ihlaj_14","add-weight":"_add-weight_ihlaj_22",addWeight:"_add-weight_ihlaj_22","ok-nft-filter-collections":"_ok-nft-filter-collections_ihlaj_22",okNftFilterCollections:"_ok-nft-filter-collections_ihlaj_22","ok-nft-filter-block-title-collections":"_ok-nft-filter-block-title-collections_ihlaj_25",okNftFilterBlockTitleCollections:"_ok-nft-filter-block-title-collections_ihlaj_25","ok-nft-filter-search-input":"_ok-nft-filter-search-input_ihlaj_28",okNftFilterSearchInput:"_ok-nft-filter-search-input_ihlaj_28","ok-nft-filter-no-collection":"_ok-nft-filter-no-collection_ihlaj_31",okNftFilterNoCollection:"_ok-nft-filter-no-collection_ihlaj_31","ok-nft-filter-search-item":"_ok-nft-filter-search-item_ihlaj_52",okNftFilterSearchItem:"_ok-nft-filter-search-item_ihlaj_52","ok-nft-filter-search-item-popup":"_ok-nft-filter-search-item-popup_ihlaj_62",okNftFilterSearchItemPopup:"_ok-nft-filter-search-item-popup_ihlaj_62","ok-nft-filter-search-icon":"_ok-nft-filter-search-icon_ihlaj_76",okNftFilterSearchIcon:"_ok-nft-filter-search-icon_ihlaj_76","ok-nft-filter-search-name":"_ok-nft-filter-search-name_ihlaj_82",okNftFilterSearchName:"_ok-nft-filter-search-name_ihlaj_82","ok-nft-filter-search-selected":"_ok-nft-filter-search-selected_ihlaj_89",okNftFilterSearchSelected:"_ok-nft-filter-search-selected_ihlaj_89","ok-nft-filter-load-more":"_ok-nft-filter-load-more_ihlaj_95",okNftFilterLoadMore:"_ok-nft-filter-load-more_ihlaj_95"};var Zt=({loading:o,loaded:r,collectionsList:i,searchResult:n,onSearchItemClick:_,loadingMore:g=!1})=>o||!r?d.default.createElement(ct,{overwriteClassName:!0,className:"ok-home--loading-parent"}):i.length===0?d.default.createElement("div",{className:a.okNftFilterNoCollection},d.default.createElement(z.State,{type:z.State.TYPE.noRecord,title:c("wallet_extension_nft_text_no_collection")})):d.default.createElement(d.default.Fragment,null,i.map((f,s)=>d.default.createElement("div",{onClick:()=>{_(f)},key:s,className:a.okNftFilterSearchItem},d.default.createElement("div",{className:a.okNftFilterSearchItemPopup}),d.default.createElement(et,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:f.icon||"/static/images/tx-history/default-nft.svg",className:a.okNftFilterSearchIcon,alt:""}),d.default.createElement(mt,{className:a.okNftFilterSearchName,maxWidth:"270px",text:f.name}),d.default.createElement(T,{checked:n.includes(f.projectId),className:a.okNftFilterSearchSelected}))),d.default.createElement("div",{className:a.okNftFilterLoadMore},g&&d.default.createElement(Q,null))),pt=Zt;t();e();var C=m(F());M();var gt=m(O());t();e();function Jt(o){let{setting:r,onChanged:i}=o,n=f=>s=>{i?.(f,s.target.checked)},_=(f,s,y)=>()=>{let S=R.show({title:f,confirmText:y,children:s,onConfirm:()=>{S.destroy()}});return S};return{settings:[{key:p.hideUnverifiedCollection,checked:r.hideUnverifiedCollection,onChange:n(p.hideUnverifiedCollection)},{key:p.hideManualHidden,checked:r.hideManualHidden,onChange:n(p.hideManualHidden)},{key:p.hideNoValue,checked:r.hideNoValue,onChange:n(p.hideNoValue),onShowDetail:_}]}}var kt=Jt;t();e();var D={[p.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[p.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[p.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};t();e();var x={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function $t(o){let{settings:r}=kt(o);return C.default.createElement(j.Box,{className:x.root},C.default.createElement(I.Text,{size:I.SIZE.md,strong:!0,className:x.title},c("extension_wallet_filter_title_itemfilter")),r.map(i=>{let n=D[i.key].dialog;return C.default.createElement(j.Box,{key:i.key,className:x.item},C.default.createElement(j.Box,{className:x.name},C.default.createElement(I.Text,{size:I.SIZE.sm},c(D[i.key].title)),n&&C.default.createElement(X,{onClick:i.onShowDetail?.(c(n.title),C.default.createElement(j.Box,{className:x.dialogContent},$(n.content)),c(n.confirm)),className:(0,gt.default)("okds-information-circle",x.icon)})),C.default.createElement(T,{checked:i.checked,onChange:i.onChange,className:x.checkbox}))}))}var Nt=$t;t();e();var L=m(F());t();e();var E=m(F()),Ct=m(O());t();e();var w={"ok-button-checkbox-content":"_ok-button-checkbox-content_zlx3l_1",okButtonCheckboxContent:"_ok-button-checkbox-content_zlx3l_1","ok-button-checkbox-item":"_ok-button-checkbox-item_zlx3l_7",okButtonCheckboxItem:"_ok-button-checkbox-item_zlx3l_7","ok-button-checkbox-item-outline":"_ok-button-checkbox-item-outline_zlx3l_32",okButtonCheckboxItemOutline:"_ok-button-checkbox-item-outline_zlx3l_32"};var Xt=({item:o,clickHandle:r,value:i})=>E.default.createElement("div",{className:(0,Ct.default)(w.okButtonCheckboxItem,i.includes(o.value)?w.okButtonCheckboxItemOutline:""),onClick:()=>{r&&r(o.value)}},o.image&&E.default.createElement("img",{src:o.image}),E.default.createElement("span",null,o.label)),xt=Xt;var Qt=({options:o,valueOption:r=[],onChange:i})=>{let n=_=>{i&&i(_)};return L.default.createElement("div",{className:w.okButtonCheckboxContent},o[0]?o.map((_,g)=>L.default.createElement(xt,{key:g,item:_,value:r,clickHandle:n})):L.default.createElement(ot,null))},St=Qt;t();e();var P=m(nt());var bt=m(F());t();e();Wt();qt();var Ft={NotCertified:0,Certified:1},yt=o=>lt(it.getNftCollections,o);var Rt=({searchKeyword:o,projectCertificated:r,hiddenStatus:i,ref:n})=>{let _=(0,P.useDebounce)(o,{wait:500}),{currentNetworkUniqueId:g}=dt(),f=_t(),[s,y]=(0,bt.useState)(!1),{data:S,loading:H,loadingMore:A}=(0,P.useInfiniteScroll)(h=>{let b=h?.nextPageNo??1;return yt({nameSearch:_,pageNo:b,address:f(g).join(","),pageSize:K,projectCertificated:r,hiddenStatus:i,chain:g}).then(B=>({list:B?.data?.list??[],nextPageNo:b*K<B?.data?.total?b+1:void 0}))},{reloadDeps:[_,g,r,i,f],isNoMore:h=>h?.nextPageNo===void 0,target:n,onError(){},onFinally(){y(!0)}});return{list:S?.list?.map(h=>({icon:h.image,name:h.name,chain:h.chain,isIdentification:h.certificateFlag===Ft.Certified,projectId:h.project}))??[],loading:H,loaded:s,ref:n,loadingMore:A}},vt=Rt;var te=()=>{let o=(0,It.useHistory)(),r=(0,l.useRef)(null),{hasCurrentWalletChanged:i,currentWalletSetting:n,setWalletSetting:_,resetWalletSetting:g,formattedCurrentSetting:f}=ut(),{filterInfo:s,changeFilterInfo:y,changeCollectionFilter:S,changeSaleStatusFilter:H,resetFilterInfo:A,resetData:W}=ht(),h=(0,l.useRef)();(0,wt.useMount)(()=>{h.current={currentWalletSetting:n,filterInfo:s}});let b=(0,jt.useSelector)(at).total,B=Object.keys(s).some(u=>s[u].length!==0),Bt=[{label:c("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:c("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[q,V]=(0,l.useState)(""),Tt=f.projectCertificated,Et=f.hiddenStatus,{list:Lt,loading:Pt,loaded:Ht,loadingMore:At}=vt({projectCertificated:Tt,hiddenStatus:Et,searchKeyword:q,ref:r}),Gt=(0,l.useCallback)(u=>{V(u.target.value)},[]),Mt=u=>{let v=G(s.collectionFilter,[u.projectId]);S(v)},Ot=u=>{let v=G(s.saleStatusFilter,[u]);H(v)},zt=()=>{J({currentWalletSetting:n,filterInfo:s},h.current)||W()},Kt=()=>{A(!0),V(""),g(),setTimeout(()=>{o.goBack()},100)},Y=()=>{zt(),o.push(rt)},Dt=(u,v)=>{y(),_(u,v)},Z=!B&&!i;return l.default.createElement("div",{className:a.okNftFilterMain,ref:r},l.default.createElement(ft,{title:c("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:Y}),l.default.createElement("div",{className:a.okNftFilterBlock},l.default.createElement("div",{className:a.okNftFilterBlockTitle},c("wallet_extension_nft_filter_status")),l.default.createElement(St,{options:Bt,onChange:u=>{Ot(u)},valueOption:s.saleStatusFilter})),l.default.createElement(Nt,{onChanged:Dt,setting:n}),l.default.createElement("div",{className:(0,U.default)(a.okNftFilterBlock,a.addWeight,a.okNftFilterCollections)},l.default.createElement("div",{className:(0,U.default)(a.okNftFilterBlockTitle,a.okNftFilterBlockTitleCollections)},c("wallet_extension_nft_text_collections")),l.default.createElement(tt.Search,{className:a.okNftFilterSearchInput,placeholder:c("wallet_extension_nft_placeholder_search_collections",{},{useBr:!1}),value:q,size:"sm",onChange:Gt}),l.default.createElement(pt,{loading:Pt,loaded:Ht,loadingMore:At,collectionsList:Lt,searchResult:s.collectionFilter,onSearchItemClick:Mt})),l.default.createElement(st.FooterActions,null,l.default.createElement(N,{category:N.CATEGORY.outline,type:N.TYPE.primary,size:N.SIZE.lg,disabled:Z,onClick:()=>{Kt()}},c("wallet_extension_nft_btn_clear")),l.default.createElement(N,{category:N.CATEGORY.fill,type:N.TYPE.highlight,size:N.SIZE.lg,disabled:Z,onClick:()=>{Y()}},c("wallet_extension_nft_btn_apply",{number:b}))))},Bo=te;export{Bo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NftFilter-GO5PCX4G.js.map

import{b as K,c as Ne,d as Ue,g as _e,o as m,q as w}from"./chunk-6KXF36WM.js";function Ut(){if(!Mt&&(Mt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Mt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mt(Rn)}var Mt,Rn,ne=K(()=>{m();w();Rn=new Uint8Array(16)});var He,Ce=K(()=>{m();w();He=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Ln(t){return typeof t=="string"&&He.test(t)}var at,_t=K(()=>{m();w();Ce();at=Ln});function Nn(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Z[t[n+0]]+Z[t[n+1]]+Z[t[n+2]]+Z[t[n+3]]+"-"+Z[t[n+4]]+Z[t[n+5]]+"-"+Z[t[n+6]]+Z[t[n+7]]+"-"+Z[t[n+8]]+Z[t[n+9]]+"-"+Z[t[n+10]]+Z[t[n+11]]+Z[t[n+12]]+Z[t[n+13]]+Z[t[n+14]]+Z[t[n+15]]).toLowerCase();if(!at(e))throw TypeError("Stringified UUID is invalid");return e}var Z,jt,ut,Ht=K(()=>{m();w();_t();Z=[];for(jt=0;jt<256;++jt)Z.push((jt+256).toString(16).substr(1));ut=Nn});function Un(t,n,e){var r=n&&e||0,o=n||new Array(16);t=t||{};var s=t.node||$e,i=t.clockseq!==void 0?t.clockseq:re;if(s==null||i==null){var c=t.random||(t.rng||Ut)();s==null&&(s=$e=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),i==null&&(i=re=(c[6]<<8|c[7])&16383)}var f=t.msecs!==void 0?t.msecs:Date.now(),a=t.nsecs!==void 0?t.nsecs:se+1,h=f-oe+(a-se)/1e4;if(h<0&&t.clockseq===void 0&&(i=i+1&16383),(h<0||f>oe)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");oe=f,se=a,re=i,f+=122192928e5;var d=((f&268435455)*1e4+a)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=d&255;var l=f/4294967296*1e4&268435455;o[r++]=l>>>8&255,o[r++]=l&255,o[r++]=l>>>24&15|16,o[r++]=l>>>16&255,o[r++]=i>>>8|128,o[r++]=i&255;for(var E=0;E<6;++E)o[r+E]=s[E];return n||ut(o)}var $e,re,oe,se,ke,Ve=K(()=>{m();w();ne();Ht();oe=0,se=0;ke=Un});function _n(t){if(!at(t))throw TypeError("Invalid UUID");var n,e=new Uint8Array(16);return e[0]=(n=parseInt(t.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=n&255,e[4]=(n=parseInt(t.slice(9,13),16))>>>8,e[5]=n&255,e[6]=(n=parseInt(t.slice(14,18),16))>>>8,e[7]=n&255,e[8]=(n=parseInt(t.slice(19,23),16))>>>8,e[9]=n&255,e[10]=(n=parseInt(t.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=n&255,e}var zt,ie=K(()=>{m();w();_t();zt=_n});function Hn(t){t=unescape(encodeURIComponent(t));for(var n=[],e=0;e<t.length;++e)n.push(t.charCodeAt(e));return n}function Dt(t,n,e){function r(o,s,i,c){if(typeof o=="string"&&(o=Hn(o)),typeof s=="string"&&(s=zt(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+o.length);if(f.set(s),f.set(o,s.length),f=e(f),f[6]=f[6]&15|n,f[8]=f[8]&63|128,i){c=c||0;for(var a=0;a<16;++a)i[c+a]=f[a];return i}return ut(f)}try{r.name=t}catch{}return r.DNS=Cn,r.URL=$n,r}var Cn,$n,fe=K(()=>{m();w();Ht();ie();Cn="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$n="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function kn(t){if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=new Uint8Array(n.length);for(var e=0;e<n.length;++e)t[e]=n.charCodeAt(e)}return Vn(Zn(Mn(t),t.length*8))}function Vn(t){for(var n=[],e=t.length*32,r="0123456789abcdef",o=0;o<e;o+=8){var s=t[o>>5]>>>o%32&255,i=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);n.push(i)}return n}function Ze(t){return(t+64>>>9<<4)+14+1}function Zn(t,n){t[n>>5]|=128<<n%32,t[Ze(n)-1]=n;for(var e=1732584193,r=-271733879,o=-1732584194,s=271733878,i=0;i<t.length;i+=16){var c=e,f=r,a=o,h=s;e=j(e,r,o,s,t[i],7,-680876936),s=j(s,e,r,o,t[i+1],12,-389564586),o=j(o,s,e,r,t[i+2],17,606105819),r=j(r,o,s,e,t[i+3],22,-1044525330),e=j(e,r,o,s,t[i+4],7,-176418897),s=j(s,e,r,o,t[i+5],12,1200080426),o=j(o,s,e,r,t[i+6],17,-1473231341),r=j(r,o,s,e,t[i+7],22,-45705983),e=j(e,r,o,s,t[i+8],7,1770035416),s=j(s,e,r,o,t[i+9],12,-1958414417),o=j(o,s,e,r,t[i+10],17,-42063),r=j(r,o,s,e,t[i+11],22,-1990404162),e=j(e,r,o,s,t[i+12],7,1804603682),s=j(s,e,r,o,t[i+13],12,-40341101),o=j(o,s,e,r,t[i+14],17,-1502002290),r=j(r,o,s,e,t[i+15],22,1236535329),e=z(e,r,o,s,t[i+1],5,-165796510),s=z(s,e,r,o,t[i+6],9,-1069501632),o=z(o,s,e,r,t[i+11],14,643717713),r=z(r,o,s,e,t[i],20,-373897302),e=z(e,r,o,s,t[i+5],5,-701558691),s=z(s,e,r,o,t[i+10],9,38016083),o=z(o,s,e,r,t[i+15],14,-660478335),r=z(r,o,s,e,t[i+4],20,-405537848),e=z(e,r,o,s,t[i+9],5,568446438),s=z(s,e,r,o,t[i+14],9,-1019803690),o=z(o,s,e,r,t[i+3],14,-187363961),r=z(r,o,s,e,t[i+8],20,1163531501),e=z(e,r,o,s,t[i+13],5,-1444681467),s=z(s,e,r,o,t[i+2],9,-51403784),o=z(o,s,e,r,t[i+7],14,1735328473),r=z(r,o,s,e,t[i+12],20,-1926607734),e=D(e,r,o,s,t[i+5],4,-378558),s=D(s,e,r,o,t[i+8],11,-2022574463),o=D(o,s,e,r,t[i+11],16,1839030562),r=D(r,o,s,e,t[i+14],23,-35309556),e=D(e,r,o,s,t[i+1],4,-1530992060),s=D(s,e,r,o,t[i+4],11,1272893353),o=D(o,s,e,r,t[i+7],16,-155497632),r=D(r,o,s,e,t[i+10],23,-1094730640),e=D(e,r,o,s,t[i+13],4,681279174),s=D(s,e,r,o,t[i],11,-358537222),o=D(o,s,e,r,t[i+3],16,-722521979),r=D(r,o,s,e,t[i+6],23,76029189),e=D(e,r,o,s,t[i+9],4,-640364487),s=D(s,e,r,o,t[i+12],11,-421815835),o=D(o,s,e,r,t[i+15],16,530742520),r=D(r,o,s,e,t[i+2],23,-995338651),e=P(e,r,o,s,t[i],6,-198630844),s=P(s,e,r,o,t[i+7],10,1126891415),o=P(o,s,e,r,t[i+14],15,-1416354905),r=P(r,o,s,e,t[i+5],21,-57434055),e=P(e,r,o,s,t[i+12],6,1700485571),s=P(s,e,r,o,t[i+3],10,-1894986606),o=P(o,s,e,r,t[i+10],15,-1051523),r=P(r,o,s,e,t[i+1],21,-2054922799),e=P(e,r,o,s,t[i+8],6,1873313359),s=P(s,e,r,o,t[i+15],10,-30611744),o=P(o,s,e,r,t[i+6],15,-1560198380),r=P(r,o,s,e,t[i+13],21,1309151649),e=P(e,r,o,s,t[i+4],6,-145523070),s=P(s,e,r,o,t[i+11],10,-1120210379),o=P(o,s,e,r,t[i+2],15,718787259),r=P(r,o,s,e,t[i+9],21,-343485551),e=lt(e,c),r=lt(r,f),o=lt(o,a),s=lt(s,h)}return[e,r,o,s]}function Mn(t){if(t.length===0)return[];for(var n=t.length*8,e=new Uint32Array(Ze(n)),r=0;r<n;r+=8)e[r>>5]|=(t[r/8]&255)<<r%32;return e}function lt(t,n){var e=(t&65535)+(n&65535),r=(t>>16)+(n>>16)+(e>>16);return r<<16|e&65535}function jn(t,n){return t<<n|t>>>32-n}function Pt(t,n,e,r,o,s){return lt(jn(lt(lt(n,t),lt(r,s)),o),e)}function j(t,n,e,r,o,s,i){return Pt(n&e|~n&r,t,n,o,s,i)}function z(t,n,e,r,o,s,i){return Pt(n&r|e&~r,t,n,o,s,i)}function D(t,n,e,r,o,s,i){return Pt(n^e^r,t,n,o,s,i)}function P(t,n,e,r,o,s,i){return Pt(e^(n|~r),t,n,o,s,i)}var Me,je=K(()=>{m();w();Me=kn});var zn,ze,De=K(()=>{m();w();fe();je();zn=Dt("v3",48,Me),ze=zn});function Dn(t,n,e){t=t||{};var r=t.random||(t.rng||Ut)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=r[o];return n}return ut(r)}var Pe,Ke=K(()=>{m();w();ne();Ht();Pe=Dn});function Pn(t,n,e,r){switch(t){case 0:return n&e^~n&r;case 1:return n^e^r;case 2:return n&e^n&r^e&r;case 3:return n^e^r}}function ce(t,n){return t<<n|t>>>32-n}function Kn(t){var n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var o=0;o<r.length;++o)t.push(r.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,i=Math.ceil(s/16),c=new Array(i),f=0;f<i;++f){for(var a=new Uint32Array(16),h=0;h<16;++h)a[h]=t[f*64+h*4]<<24|t[f*64+h*4+1]<<16|t[f*64+h*4+2]<<8|t[f*64+h*4+3];c[f]=a}c[i-1][14]=(t.length-1)*8/Math.pow(2,32),c[i-1][14]=Math.floor(c[i-1][14]),c[i-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<i;++d){for(var l=new Uint32Array(80),E=0;E<16;++E)l[E]=c[d][E];for(var L=16;L<80;++L)l[L]=ce(l[L-3]^l[L-8]^l[L-14]^l[L-16],1);for(var y=e[0],u=e[1],g=e[2],v=e[3],B=e[4],S=0;S<80;++S){var R=Math.floor(S/20),T=ce(y,5)+Pn(R,u,g,v)+B+n[R]+l[S]>>>0;B=v,v=g,g=ce(u,30)>>>0,u=y,y=T}e[0]=e[0]+y>>>0,e[1]=e[1]+u>>>0,e[2]=e[2]+g>>>0,e[3]=e[3]+v>>>0,e[4]=e[4]+B>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Ye,Ge=K(()=>{m();w();Ye=Kn});var Yn,We,Xe=K(()=>{m();w();fe();Ge();Yn=Dt("v5",80,Ye),We=Yn});var Qe,Je=K(()=>{m();w();Qe="00000000-0000-0000-0000-000000000000"});function Gn(t){if(!at(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Fe,tn=K(()=>{m();w();_t();Fe=Gn});var ae={};Ue(ae,{NIL:()=>Qe,parse:()=>zt,stringify:()=>ut,v1:()=>ke,v3:()=>ze,v4:()=>Pe,v5:()=>We,validate:()=>at,version:()=>Fe});var ue=K(()=>{m();w();Ve();De();Ke();Xe();Je();tn();_t();Ht();ie()});var nn=Ne((Yo,en)=>{"use strict";m();w();var Wn=(ue(),_e(ae)).v4,Xn=function(t,n,e,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};let o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let s={method:t};if(o===2&&(s.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");s.params=n}if(typeof e>"u"){let i=typeof r.generator=="function"?r.generator:function(){return Wn()};s.id=i(s,r)}else o===2&&e===null?r.notificationIdNull&&(s.id=null):s.id=e;return s};en.exports=Xn});var Fn=Ne((Xo,rn)=>{"use strict";m();w();var Qn=(ue(),_e(ae)).v4,Jn=nn(),Ct=function(t,n){if(!(this instanceof Ct))return new Ct(t,n);n||(n={}),this.options={reviver:typeof n.reviver<"u"?n.reviver:null,replacer:typeof n.replacer<"u"?n.replacer:null,generator:typeof n.generator<"u"?n.generator:function(){return Qn()},version:typeof n.version<"u"?n.version:2,notificationIdNull:typeof n.notificationIdNull=="boolean"?n.notificationIdNull:!1},this.callServer=t};rn.exports=Ct;Ct.prototype.request=function(t,n,e,r){let o=this,s=null,i=Array.isArray(t)&&typeof n=="function";if(this.options.version===1&&i)throw new TypeError("JSON-RPC 1.0 does not support batching");if(i||!i&&t&&typeof t=="object"&&typeof n=="function")r=n,s=t;else{typeof e=="function"&&(r=e,e=void 0);let a=typeof r=="function";try{s=Jn(t,n,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(a)return r(h);throw h}if(!a)return s}let f;try{f=JSON.stringify(s,this.options.replacer)}catch(a){return r(a)}return this.callServer(f,function(a,h){o._parseResponse(a,h,r)}),s};Ct.prototype._parseResponse=function(t,n,e){if(t){e(t);return}if(!n)return e();let r;try{r=JSON.parse(n,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(r)){let o=function(i){return typeof i.error<"u"},s=function(i){return!o(i)};return e(null,r.filter(o),r.filter(s))}else return e(null,r.error,r.result);e(null,r)}});m();w();m();w();m();w();m();w();function on(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function tr(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Tt(t,...n){if(!tr(t))throw new Error("Uint8Array expected");if(n.length>0&&!n.includes(t.length))throw new Error(`Uint8Array expected of length ${n}, not of length=${t.length}`)}function sn(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");on(t.outputLen),on(t.blockLen)}function Ot(t,n=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(n&&t.finished)throw new Error("Hash#digest() has already been called")}function fn(t,n){Tt(t);let e=n.outputLen;if(t.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}m();w();m();w();var xt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Kt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),tt=(t,n)=>t<<32-n|t>>>n;var fs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function er(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function $t(t){return typeof t=="string"&&(t=er(t)),Tt(t),t}function cn(...t){let n=0;for(let r=0;r<t.length;r++){let o=t[r];Tt(o),n+=o.length}let e=new Uint8Array(n);for(let r=0,o=0;r<t.length;r++){let s=t[r];e.set(s,o),o+=s.length}return e}var qt=class{clone(){return this._cloneInto()}},cs={}.toString;function an(t){let n=r=>t().update($t(r)).digest(),e=t();return n.outputLen=e.outputLen,n.blockLen=e.blockLen,n.create=()=>t(),n}function un(t=32){if(xt&&typeof xt.getRandomValues=="function")return xt.getRandomValues(new Uint8Array(t));if(xt&&typeof xt.randomBytes=="function")return xt.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function nr(t,n,e,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(n,e,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(e>>o&s),c=Number(e&s),f=r?4:0,a=r?0:4;t.setUint32(n+f,i,r),t.setUint32(n+a,c,r)}var ln=(t,n,e)=>t&n^~t&e,dn=(t,n,e)=>t&n^t&e^n&e,Yt=class extends qt{constructor(n,e,r,o){super(),this.blockLen=n,this.outputLen=e,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=Kt(this.buffer)}update(n){Ot(this);let{view:e,buffer:r,blockLen:o}=this;n=$t(n);let s=n.length;for(let i=0;i<s;){let c=Math.min(o-this.pos,s-i);if(c===o){let f=Kt(n);for(;o<=s-i;i+=o)this.process(f,i);continue}r.set(n.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){Ot(this),fn(n,this),this.finished=!0;let{buffer:e,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)e[d]=0;nr(r,o-8,BigInt(this.length*8),s),this.process(r,0);let c=Kt(n),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let a=f/4,h=this.get();if(a>h.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<a;d++)c.setUint32(4*d,h[d],s)}digest(){let{buffer:n,outputLen:e}=this;this.digestInto(n);let r=n.slice(0,e);return this.destroy(),r}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());let{blockLen:e,buffer:r,length:o,finished:s,destroyed:i,pos:c}=this;return n.length=o,n.pos=c,n.finished=s,n.destroyed=i,o%e&&n.buffer.set(r),n}};var rr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ht=new Uint32Array(64),le=class extends Yt{constructor(){super(64,32,8,!1),this.A=dt[0]|0,this.B=dt[1]|0,this.C=dt[2]|0,this.D=dt[3]|0,this.E=dt[4]|0,this.F=dt[5]|0,this.G=dt[6]|0,this.H=dt[7]|0}get(){let{A:n,B:e,C:r,D:o,E:s,F:i,G:c,H:f}=this;return[n,e,r,o,s,i,c,f]}set(n,e,r,o,s,i,c,f){this.A=n|0,this.B=e|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=c|0,this.H=f|0}process(n,e){for(let d=0;d<16;d++,e+=4)ht[d]=n.getUint32(e,!1);for(let d=16;d<64;d++){let l=ht[d-15],E=ht[d-2],L=tt(l,7)^tt(l,18)^l>>>3,y=tt(E,17)^tt(E,19)^E>>>10;ht[d]=y+ht[d-7]+L+ht[d-16]|0}let{A:r,B:o,C:s,D:i,E:c,F:f,G:a,H:h}=this;for(let d=0;d<64;d++){let l=tt(c,6)^tt(c,11)^tt(c,25),E=h+l+ln(c,f,a)+rr[d]+ht[d]|0,y=(tt(r,2)^tt(r,13)^tt(r,22))+dn(r,o,s)|0;h=a,a=f,f=c,c=i+E|0,i=s,s=o,o=r,r=E+y|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,c=c+this.E|0,f=f+this.F|0,a=a+this.G|0,h=h+this.H|0,this.set(r,o,s,i,c,f,a,h)}roundClean(){ht.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var hn=an(()=>new le);m();w();m();w();var Gt=class extends qt{constructor(n,e){super(),this.finished=!1,this.destroyed=!1,sn(n);let r=$t(e);if(this.iHash=n.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?n.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=n.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(n){return Ot(this),this.iHash.update(n),this}digestInto(n){Ot(this),Tt(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){let n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:c}=this;return n=n,n.finished=o,n.destroyed=s,n.blockLen=i,n.outputLen=c,n.oHash=e._cloneInto(n.oHash),n.iHash=r._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},de=(t,n,e)=>new Gt(t,n).update(e).digest();de.create=(t,n)=>new Gt(t,n);m();w();m();w();m();w();var xe={};Ue(xe,{aInRange:()=>mt,abool:()=>bt,abytes:()=>Rt,bitGet:()=>ar,bitLen:()=>we,bitMask:()=>Vt,bitSet:()=>ur,bytesToHex:()=>vt,bytesToNumberBE:()=>rt,bytesToNumberLE:()=>Xt,concatBytes:()=>Lt,createHmacDrbg:()=>ye,ensureBytes:()=>X,equalBytes:()=>fr,hexToBytes:()=>Bt,hexToNumber:()=>me,inRange:()=>kt,isBytes:()=>gt,memoized:()=>Jt,notImplemented:()=>dr,numberToBytesBE:()=>pt,numberToBytesLE:()=>Qt,numberToHexUnpadded:()=>Et,numberToVarBytesBE:()=>ir,utf8ToBytes:()=>cr,validateObject:()=>wt});m();w();var pe=BigInt(0),Wt=BigInt(1),or=BigInt(2);function gt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Rt(t){if(!gt(t))throw new Error("Uint8Array expected")}function bt(t,n){if(typeof n!="boolean")throw new Error(`${t} must be valid boolean, got "${n}".`)}var sr=Array.from({length:256},(t,n)=>n.toString(16).padStart(2,"0"));function vt(t){Rt(t);let n="";for(let e=0;e<t.length;e++)n+=sr[t[e]];return n}function Et(t){let n=t.toString(16);return n.length&1?`0${n}`:n}function me(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var nt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function gn(t){if(t>=nt._0&&t<=nt._9)return t-nt._0;if(t>=nt._A&&t<=nt._F)return t-(nt._A-10);if(t>=nt._a&&t<=nt._f)return t-(nt._a-10)}function Bt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let n=t.length,e=n/2;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);let r=new Uint8Array(e);for(let o=0,s=0;o<e;o++,s+=2){let i=gn(t.charCodeAt(s)),c=gn(t.charCodeAt(s+1));if(i===void 0||c===void 0){let f=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[o]=i*16+c}return r}function rt(t){return me(vt(t))}function Xt(t){return Rt(t),me(vt(Uint8Array.from(t).reverse()))}function pt(t,n){return Bt(t.toString(16).padStart(n*2,"0"))}function Qt(t,n){return pt(t,n).reverse()}function ir(t){return Bt(Et(t))}function X(t,n,e){let r;if(typeof n=="string")try{r=Bt(n)}catch(s){throw new Error(`${t} must be valid hex string, got "${n}". Cause: ${s}`)}else if(gt(n))r=Uint8Array.from(n);else throw new Error(`${t} must be hex string or Uint8Array`);let o=r.length;if(typeof e=="number"&&o!==e)throw new Error(`${t} expected ${e} bytes, got ${o}`);return r}function Lt(...t){let n=0;for(let r=0;r<t.length;r++){let o=t[r];Rt(o),n+=o.length}let e=new Uint8Array(n);for(let r=0,o=0;r<t.length;r++){let s=t[r];e.set(s,o),o+=s.length}return e}function fr(t,n){if(t.length!==n.length)return!1;let e=0;for(let r=0;r<t.length;r++)e|=t[r]^n[r];return e===0}function cr(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}var he=t=>typeof t=="bigint"&&pe<=t;function kt(t,n,e){return he(t)&&he(n)&&he(e)&&n<=t&&t<e}function mt(t,n,e,r){if(!kt(n,e,r))throw new Error(`expected valid ${t}: ${e} <= n < ${r}, got ${typeof n} ${n}`)}function we(t){let n;for(n=0;t>pe;t>>=Wt,n+=1);return n}function ar(t,n){return t>>BigInt(n)&Wt}function ur(t,n,e){return t|(e?Wt:pe)<<BigInt(n)}var Vt=t=>(or<<BigInt(t-1))-Wt,ge=t=>new Uint8Array(t),pn=t=>Uint8Array.from(t);function ye(t,n,e){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=ge(t),o=ge(t),s=0,i=()=>{r.fill(1),o.fill(0),s=0},c=(...d)=>e(o,r,...d),f=(d=ge())=>{o=c(pn([0]),d),r=c(),d.length!==0&&(o=c(pn([1]),d),r=c())},a=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,l=[];for(;d<n;){r=c();let E=r.slice();l.push(E),d+=r.length}return Lt(...l)};return(d,l)=>{i(),f(d);let E;for(;!(E=l(a()));)f();return i(),E}}var lr={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||gt(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,n)=>n.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function wt(t,n,e={}){let r=(o,s,i)=>{let c=lr[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let f=t[o];if(!(i&&f===void 0)&&!c(f,t))throw new Error(`Invalid param ${String(o)}=${f} (${typeof f}), expected ${s}`)};for(let[o,s]of Object.entries(n))r(o,s,!1);for(let[o,s]of Object.entries(e))r(o,s,!0);return t}var dr=()=>{throw new Error("not implemented")};function Jt(t){let n=new WeakMap;return(e,...r)=>{let o=n.get(e);if(o!==void 0)return o;let s=t(e,...r);return n.set(e,s),s}}var $=BigInt(0),C=BigInt(1),At=BigInt(2),hr=BigInt(3),be=BigInt(4),mn=BigInt(5),wn=BigInt(8),gr=BigInt(9),pr=BigInt(16);function M(t,n){let e=t%n;return e>=$?e:n+e}function mr(t,n,e){if(e<=$||n<$)throw new Error("Expected power/modulo > 0");if(e===C)return $;let r=C;for(;n>$;)n&C&&(r=r*t%e),t=t*t%e,n>>=C;return r}function Q(t,n,e){let r=t;for(;n-- >$;)r*=r,r%=e;return r}function Ft(t,n){if(t===$||n<=$)throw new Error(`invert: expected positive integers, got n=${t} mod=${n}`);let e=M(t,n),r=n,o=$,s=C,i=C,c=$;for(;e!==$;){let a=r/e,h=r%e,d=o-i*a,l=s-c*a;r=e,e=h,o=i,s=c,i=d,c=l}if(r!==C)throw new Error("invert: does not exist");return M(o,n)}function wr(t){let n=(t-C)/At,e,r,o;for(e=t-C,r=0;e%At===$;e/=At,r++);for(o=At;o<t&&mr(o,n,t)!==t-C;o++);if(r===1){let i=(t+C)/be;return function(f,a){let h=f.pow(a,i);if(!f.eql(f.sqr(h),a))throw new Error("Cannot find square root");return h}}let s=(e+C)/At;return function(c,f){if(c.pow(f,n)===c.neg(c.ONE))throw new Error("Cannot find square root");let a=r,h=c.pow(c.mul(c.ONE,o),e),d=c.pow(f,s),l=c.pow(f,e);for(;!c.eql(l,c.ONE);){if(c.eql(l,c.ZERO))return c.ZERO;let E=1;for(let y=c.sqr(l);E<a&&!c.eql(y,c.ONE);E++)y=c.sqr(y);let L=c.pow(h,C<<BigInt(a-E-1));h=c.sqr(L),d=c.mul(d,L),l=c.mul(l,h),a=E}return d}}function yr(t){if(t%be===hr){let n=(t+C)/be;return function(r,o){let s=r.pow(o,n);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(t%wn===mn){let n=(t-mn)/wn;return function(r,o){let s=r.mul(o,At),i=r.pow(s,n),c=r.mul(o,i),f=r.mul(r.mul(c,At),i),a=r.mul(c,r.sub(f,r.ONE));if(!r.eql(r.sqr(a),o))throw new Error("Cannot find square root");return a}}return t%pr,wr(t)}var Rs=(t,n)=>(M(t,n)&C)===C,xr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ve(t){let n={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=xr.reduce((r,o)=>(r[o]="function",r),n);return wt(t,e)}function br(t,n,e){if(e<$)throw new Error("Expected power > 0");if(e===$)return t.ONE;if(e===C)return n;let r=t.ONE,o=n;for(;e>$;)e&C&&(r=t.mul(r,o)),o=t.sqr(o),e>>=C;return r}function vr(t,n){let e=new Array(n.length),r=n.reduce((s,i,c)=>t.is0(i)?s:(e[c]=s,t.mul(s,i)),t.ONE),o=t.inv(r);return n.reduceRight((s,i,c)=>t.is0(i)?s:(e[c]=t.mul(s,e[c]),t.mul(s,i)),o),e}function Ee(t,n){let e=n!==void 0?n:t.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function te(t,n,e=!1,r={}){if(t<=$)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:o,nByteLength:s}=Ee(t,n);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=yr(t),c=Object.freeze({ORDER:t,BITS:o,BYTES:s,MASK:Vt(o),ZERO:$,ONE:C,create:f=>M(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return $<=f&&f<t},is0:f=>f===$,isOdd:f=>(f&C)===C,neg:f=>M(-f,t),eql:(f,a)=>f===a,sqr:f=>M(f*f,t),add:(f,a)=>M(f+a,t),sub:(f,a)=>M(f-a,t),mul:(f,a)=>M(f*a,t),pow:(f,a)=>br(c,f,a),div:(f,a)=>M(f*Ft(a,t),t),sqrN:f=>f*f,addN:(f,a)=>f+a,subN:(f,a)=>f-a,mulN:(f,a)=>f*a,inv:f=>Ft(f,t),sqrt:r.sqrt||(f=>i(c,f)),invertBatch:f=>vr(c,f),cmov:(f,a,h)=>h?a:f,toBytes:f=>e?Qt(f,s):pt(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return e?Xt(f):rt(f)}});return Object.freeze(c)}function yn(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let n=t.toString(2).length;return Math.ceil(n/8)}function Be(t){let n=yn(t);return n+Math.ceil(n/2)}function xn(t,n,e=!1){let r=t.length,o=yn(n),s=Be(n);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);let i=e?rt(t):Xt(t),c=M(i,n-C)+C;return e?Qt(c,o):pt(c,o)}var Br=BigInt(0),Ae=BigInt(1),Se=new WeakMap,bn=new WeakMap;function vn(t,n){let e=(s,i)=>{let c=i.negate();return s?c:i},r=s=>{if(!Number.isSafeInteger(s)||s<=0||s>n)throw new Error(`Wrong window size=${s}, should be [1..${n}]`)},o=s=>{r(s);let i=Math.ceil(n/s)+1,c=2**(s-1);return{windows:i,windowSize:c}};return{constTimeNegate:e,unsafeLadder(s,i){let c=t.ZERO,f=s;for(;i>Br;)i&Ae&&(c=c.add(f)),f=f.double(),i>>=Ae;return c},precomputeWindow(s,i){let{windows:c,windowSize:f}=o(i),a=[],h=s,d=h;for(let l=0;l<c;l++){d=h,a.push(d);for(let E=1;E<f;E++)d=d.add(h),a.push(d);h=d.double()}return a},wNAF(s,i,c){let{windows:f,windowSize:a}=o(s),h=t.ZERO,d=t.BASE,l=BigInt(2**s-1),E=2**s,L=BigInt(s);for(let y=0;y<f;y++){let u=y*a,g=Number(c&l);c>>=L,g>a&&(g-=E,c+=Ae);let v=u,B=u+Math.abs(g)-1,S=y%2!==0,R=g<0;g===0?d=d.add(e(S,i[v])):h=h.add(e(R,i[B]))}return{p:h,f:d}},wNAFCached(s,i,c){let f=bn.get(s)||1,a=Se.get(s);return a||(a=this.precomputeWindow(s,f),f!==1&&Se.set(s,c(a))),this.wNAF(f,a,i)},setWindowSize(s,i){r(i),bn.set(s,i),Se.delete(s)}}}function En(t,n,e,r){if(!Array.isArray(e)||!Array.isArray(r)||r.length!==e.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((h,d)=>{if(!n.isValid(h))throw new Error(`wrong scalar at index ${d}`)}),e.forEach((h,d)=>{if(!(h instanceof t))throw new Error(`wrong point at index ${d}`)});let o=we(BigInt(e.length)),s=o>12?o-3:o>4?o-2:o?2:1,i=(1<<s)-1,c=new Array(i+1).fill(t.ZERO),f=Math.floor((n.BITS-1)/s)*s,a=t.ZERO;for(let h=f;h>=0;h-=s){c.fill(t.ZERO);for(let l=0;l<r.length;l++){let E=r[l],L=Number(E>>BigInt(h)&BigInt(i));c[L]=c[L].add(e[l])}let d=t.ZERO;for(let l=c.length-1,E=t.ZERO;l>0;l--)E=E.add(c[l]),d=d.add(E);if(a=a.add(d),h!==0)for(let l=0;l<s;l++)a=a.double()}return a}function Ie(t){return ve(t.Fp),wt(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ee(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Bn(t){t.lowS!==void 0&&bt("lowS",t.lowS),t.prehash!==void 0&&bt("prehash",t.prehash)}function Ar(t){let n=Ie(t);wt(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:r,a:o}=n;if(e){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}var{bytesToNumberBE:Sr,hexToBytes:Ir}=xe,ot={Err:class extends Error{constructor(n=""){super(n)}},_tlv:{encode:(t,n)=>{let{Err:e}=ot;if(t<0||t>256)throw new e("tlv.encode: wrong tag");if(n.length&1)throw new e("tlv.encode: unpadded data");let r=n.length/2,o=Et(r);if(o.length/2&128)throw new e("tlv.encode: long form length too big");let s=r>127?Et(o.length/2|128):"";return`${Et(t)}${s}${o}${n}`},decode(t,n){let{Err:e}=ot,r=0;if(t<0||t>256)throw new e("tlv.encode: wrong tag");if(n.length<2||n[r++]!==t)throw new e("tlv.decode: wrong tlv");let o=n[r++],s=!!(o&128),i=0;if(!s)i=o;else{let f=o&127;if(!f)throw new e("tlv.decode(long): indefinite length not supported");if(f>4)throw new e("tlv.decode(long): byte length is too big");let a=n.subarray(r,r+f);if(a.length!==f)throw new e("tlv.decode: length bytes not complete");if(a[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(let h of a)i=i<<8|h;if(r+=f,i<128)throw new e("tlv.decode(long): not minimal encoding")}let c=n.subarray(r,r+i);if(c.length!==i)throw new e("tlv.decode: wrong value length");return{v:c,l:n.subarray(r+i)}}},_int:{encode(t){let{Err:n}=ot;if(t<st)throw new n("integer: negative integers are not allowed");let e=Et(t);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new n("unexpected assertion");return e},decode(t){let{Err:n}=ot;if(t[0]&128)throw new n("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new n("Invalid signature integer: unnecessary leading zero");return Sr(t)}},toSig(t){let{Err:n,_int:e,_tlv:r}=ot,o=typeof t=="string"?Ir(t):t;Rt(o);let{v:s,l:i}=r.decode(48,o);if(i.length)throw new n("Invalid signature: left bytes after parsing");let{v:c,l:f}=r.decode(2,s),{v:a,l:h}=r.decode(2,f);if(h.length)throw new n("Invalid signature: left bytes after parsing");return{r:e.decode(c),s:e.decode(a)}},hexFromSig(t){let{_tlv:n,_int:e}=ot,r=`${n.encode(2,e.encode(t.r))}${n.encode(2,e.encode(t.s))}`;return n.encode(48,r)}},st=BigInt(0),V=BigInt(1),Ms=BigInt(2),An=BigInt(3),js=BigInt(4);function Tr(t){let n=Ar(t),{Fp:e}=n,r=te(n.n,n.nBitLength),o=n.toBytes||((y,u,g)=>{let v=u.toAffine();return Lt(Uint8Array.from([4]),e.toBytes(v.x),e.toBytes(v.y))}),s=n.fromBytes||(y=>{let u=y.subarray(1),g=e.fromBytes(u.subarray(0,e.BYTES)),v=e.fromBytes(u.subarray(e.BYTES,2*e.BYTES));return{x:g,y:v}});function i(y){let{a:u,b:g}=n,v=e.sqr(y),B=e.mul(v,y);return e.add(e.add(B,e.mul(y,u)),g)}if(!e.eql(e.sqr(n.Gy),i(n.Gx)))throw new Error("bad generator point: equation left != right");function c(y){return kt(y,V,n.n)}function f(y){let{allowedPrivateKeyLengths:u,nByteLength:g,wrapPrivateKey:v,n:B}=n;if(u&&typeof y!="bigint"){if(gt(y)&&(y=vt(y)),typeof y!="string"||!u.includes(y.length))throw new Error("Invalid key");y=y.padStart(g*2,"0")}let S;try{S=typeof y=="bigint"?y:rt(X("private key",y,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof y}`)}return v&&(S=M(S,B)),mt("private key",S,V,B),S}function a(y){if(!(y instanceof l))throw new Error("ProjectivePoint expected")}let h=Jt((y,u)=>{let{px:g,py:v,pz:B}=y;if(e.eql(B,e.ONE))return{x:g,y:v};let S=y.is0();u==null&&(u=S?e.ONE:e.inv(B));let R=e.mul(g,u),T=e.mul(v,u),A=e.mul(B,u);if(S)return{x:e.ZERO,y:e.ZERO};if(!e.eql(A,e.ONE))throw new Error("invZ was invalid");return{x:R,y:T}}),d=Jt(y=>{if(y.is0()){if(n.allowInfinityPoint&&!e.is0(y.py))return;throw new Error("bad point: ZERO")}let{x:u,y:g}=y.toAffine();if(!e.isValid(u)||!e.isValid(g))throw new Error("bad point: x or y not FE");let v=e.sqr(g),B=i(u);if(!e.eql(v,B))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(u,g,v){if(this.px=u,this.py=g,this.pz=v,u==null||!e.isValid(u))throw new Error("x required");if(g==null||!e.isValid(g))throw new Error("y required");if(v==null||!e.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(u){let{x:g,y:v}=u||{};if(!u||!e.isValid(g)||!e.isValid(v))throw new Error("invalid affine point");if(u instanceof l)throw new Error("projective point not allowed");let B=S=>e.eql(S,e.ZERO);return B(g)&&B(v)?l.ZERO:new l(g,v,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(u){let g=e.invertBatch(u.map(v=>v.pz));return u.map((v,B)=>v.toAffine(g[B])).map(l.fromAffine)}static fromHex(u){let g=l.fromAffine(s(X("pointHex",u)));return g.assertValidity(),g}static fromPrivateKey(u){return l.BASE.multiply(f(u))}static msm(u,g){return En(l,r,u,g)}_setWindowSize(u){L.setWindowSize(this,u)}assertValidity(){d(this)}hasEvenY(){let{y:u}=this.toAffine();if(e.isOdd)return!e.isOdd(u);throw new Error("Field doesn't support isOdd")}equals(u){a(u);let{px:g,py:v,pz:B}=this,{px:S,py:R,pz:T}=u,A=e.eql(e.mul(g,T),e.mul(S,B)),I=e.eql(e.mul(v,T),e.mul(R,B));return A&&I}negate(){return new l(this.px,e.neg(this.py),this.pz)}double(){let{a:u,b:g}=n,v=e.mul(g,An),{px:B,py:S,pz:R}=this,T=e.ZERO,A=e.ZERO,I=e.ZERO,q=e.mul(B,B),J=e.mul(S,S),H=e.mul(R,R),N=e.mul(B,S);return N=e.add(N,N),I=e.mul(B,R),I=e.add(I,I),T=e.mul(u,I),A=e.mul(v,H),A=e.add(T,A),T=e.sub(J,A),A=e.add(J,A),A=e.mul(T,A),T=e.mul(N,T),I=e.mul(v,I),H=e.mul(u,H),N=e.sub(q,H),N=e.mul(u,N),N=e.add(N,I),I=e.add(q,q),q=e.add(I,q),q=e.add(q,H),q=e.mul(q,N),A=e.add(A,q),H=e.mul(S,R),H=e.add(H,H),q=e.mul(H,N),T=e.sub(T,q),I=e.mul(H,J),I=e.add(I,I),I=e.add(I,I),new l(T,A,I)}add(u){a(u);let{px:g,py:v,pz:B}=this,{px:S,py:R,pz:T}=u,A=e.ZERO,I=e.ZERO,q=e.ZERO,J=n.a,H=e.mul(n.b,An),N=e.mul(g,S),W=e.mul(v,R),p=e.mul(B,T),x=e.add(g,v),b=e.add(S,R);x=e.mul(x,b),b=e.add(N,W),x=e.sub(x,b),b=e.add(g,B);let O=e.add(S,T);return b=e.mul(b,O),O=e.add(N,p),b=e.sub(b,O),O=e.add(v,B),A=e.add(R,T),O=e.mul(O,A),A=e.add(W,p),O=e.sub(O,A),q=e.mul(J,b),A=e.mul(H,p),q=e.add(A,q),A=e.sub(W,q),q=e.add(W,q),I=e.mul(A,q),W=e.add(N,N),W=e.add(W,N),p=e.mul(J,p),b=e.mul(H,b),W=e.add(W,p),p=e.sub(N,p),p=e.mul(J,p),b=e.add(b,p),N=e.mul(W,b),I=e.add(I,N),N=e.mul(O,b),A=e.mul(x,A),A=e.sub(A,N),N=e.mul(x,W),q=e.mul(O,q),q=e.add(q,N),new l(A,I,q)}subtract(u){return this.add(u.negate())}is0(){return this.equals(l.ZERO)}wNAF(u){return L.wNAFCached(this,u,l.normalizeZ)}multiplyUnsafe(u){mt("scalar",u,st,n.n);let g=l.ZERO;if(u===st)return g;if(u===V)return this;let{endo:v}=n;if(!v)return L.unsafeLadder(this,u);let{k1neg:B,k1:S,k2neg:R,k2:T}=v.splitScalar(u),A=g,I=g,q=this;for(;S>st||T>st;)S&V&&(A=A.add(q)),T&V&&(I=I.add(q)),q=q.double(),S>>=V,T>>=V;return B&&(A=A.negate()),R&&(I=I.negate()),I=new l(e.mul(I.px,v.beta),I.py,I.pz),A.add(I)}multiply(u){let{endo:g,n:v}=n;mt("scalar",u,V,v);let B,S;if(g){let{k1neg:R,k1:T,k2neg:A,k2:I}=g.splitScalar(u),{p:q,f:J}=this.wNAF(T),{p:H,f:N}=this.wNAF(I);q=L.constTimeNegate(R,q),H=L.constTimeNegate(A,H),H=new l(e.mul(H.px,g.beta),H.py,H.pz),B=q.add(H),S=J.add(N)}else{let{p:R,f:T}=this.wNAF(u);B=R,S=T}return l.normalizeZ([B,S])[0]}multiplyAndAddUnsafe(u,g,v){let B=l.BASE,S=(T,A)=>A===st||A===V||!T.equals(B)?T.multiplyUnsafe(A):T.multiply(A),R=S(this,g).add(S(u,v));return R.is0()?void 0:R}toAffine(u){return h(this,u)}isTorsionFree(){let{h:u,isTorsionFree:g}=n;if(u===V)return!0;if(g)return g(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:u,clearCofactor:g}=n;return u===V?this:g?g(l,this):this.multiplyUnsafe(n.h)}toRawBytes(u=!0){return bt("isCompressed",u),this.assertValidity(),o(l,this,u)}toHex(u=!0){return bt("isCompressed",u),vt(this.toRawBytes(u))}}l.BASE=new l(n.Gx,n.Gy,e.ONE),l.ZERO=new l(e.ZERO,e.ONE,e.ZERO);let E=n.nBitLength,L=vn(l,n.endo?Math.ceil(E/2):E);return{CURVE:n,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:c}}function Or(t){let n=Ie(t);return wt(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}function Sn(t){let n=Or(t),{Fp:e,n:r}=n,o=e.BYTES+1,s=2*e.BYTES+1;function i(p){return M(p,r)}function c(p){return Ft(p,r)}let{ProjectivePoint:f,normPrivateKeyToScalar:a,weierstrassEquation:h,isWithinCurveOrder:d}=Tr({...n,toBytes(p,x,b){let O=x.toAffine(),_=e.toBytes(O.x),k=Lt;return bt("isCompressed",b),b?k(Uint8Array.from([x.hasEvenY()?2:3]),_):k(Uint8Array.from([4]),_,e.toBytes(O.y))},fromBytes(p){let x=p.length,b=p[0],O=p.subarray(1);if(x===o&&(b===2||b===3)){let _=rt(O);if(!kt(_,V,e.ORDER))throw new Error("Point is not on curve");let k=h(_),Y;try{Y=e.sqrt(k)}catch(F){let ft=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+ft)}let G=(Y&V)===V;return(b&1)===1!==G&&(Y=e.neg(Y)),{x:_,y:Y}}else if(x===s&&b===4){let _=e.fromBytes(O.subarray(0,e.BYTES)),k=e.fromBytes(O.subarray(e.BYTES,2*e.BYTES));return{x:_,y:k}}else throw new Error(`Point of length ${x} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),l=p=>vt(pt(p,n.nByteLength));function E(p){let x=r>>V;return p>x}function L(p){return E(p)?i(-p):p}let y=(p,x,b)=>rt(p.slice(x,b));class u{constructor(x,b,O){this.r=x,this.s=b,this.recovery=O,this.assertValidity()}static fromCompact(x){let b=n.nByteLength;return x=X("compactSignature",x,b*2),new u(y(x,0,b),y(x,b,2*b))}static fromDER(x){let{r:b,s:O}=ot.toSig(X("DER",x));return new u(b,O)}assertValidity(){mt("r",this.r,V,r),mt("s",this.s,V,r)}addRecoveryBit(x){return new u(this.r,this.s,x)}recoverPublicKey(x){let{r:b,s:O,recovery:_}=this,k=T(X("msgHash",x));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");let Y=_===2||_===3?b+n.n:b;if(Y>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let G=(_&1)===0?"02":"03",it=f.fromHex(G+l(Y)),F=c(Y),ft=i(-k*F),Nt=i(O*F),ct=f.BASE.multiplyAndAddUnsafe(it,ft,Nt);if(!ct)throw new Error("point at infinify");return ct.assertValidity(),ct}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new u(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Bt(this.toDERHex())}toDERHex(){return ot.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Bt(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}let g={isValidPrivateKey(p){try{return a(p),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{let p=Be(n.n);return xn(n.randomBytes(p),n.n)},precompute(p=8,x=f.BASE){return x._setWindowSize(p),x.multiply(BigInt(3)),x}};function v(p,x=!0){return f.fromPrivateKey(p).toRawBytes(x)}function B(p){let x=gt(p),b=typeof p=="string",O=(x||b)&&p.length;return x?O===o||O===s:b?O===2*o||O===2*s:p instanceof f}function S(p,x,b=!0){if(B(p))throw new Error("first arg must be private key");if(!B(x))throw new Error("second arg must be public key");return f.fromHex(x).multiply(a(p)).toRawBytes(b)}let R=n.bits2int||function(p){let x=rt(p),b=p.length*8-n.nBitLength;return b>0?x>>BigInt(b):x},T=n.bits2int_modN||function(p){return i(R(p))},A=Vt(n.nBitLength);function I(p){return mt(`num < 2^${n.nBitLength}`,p,st,A),pt(p,n.nByteLength)}function q(p,x,b=J){if(["recovered","canonical"].some(yt=>yt in b))throw new Error("sign() legacy options not supported");let{hash:O,randomBytes:_}=n,{lowS:k,prehash:Y,extraEntropy:G}=b;k==null&&(k=!0),p=X("msgHash",p),Bn(b),Y&&(p=X("prehashed msgHash",O(p)));let it=T(p),F=a(x),ft=[I(F),I(it)];if(G!=null&&G!==!1){let yt=G===!0?_(e.BYTES):G;ft.push(X("extraEntropy",yt))}let Nt=Lt(...ft),ct=it;function ee(yt){let St=R(yt);if(!d(St))return;let qe=c(St),et=f.BASE.multiply(St).toAffine(),It=i(et.x);if(It===st)return;let Zt=i(qe*i(ct+It*F));if(Zt===st)return;let Re=(et.x===It?0:2)|Number(et.y&V),Le=Zt;return k&&E(Zt)&&(Le=L(Zt),Re^=1),new u(It,Le,Re)}return{seed:Nt,k2sig:ee}}let J={lowS:n.lowS,prehash:!1},H={lowS:n.lowS,prehash:!1};function N(p,x,b=J){let{seed:O,k2sig:_}=q(p,x,b),k=n;return ye(k.hash.outputLen,k.nByteLength,k.hmac)(O,_)}f.BASE._setWindowSize(8);function W(p,x,b,O=H){let _=p;if(x=X("msgHash",x),b=X("publicKey",b),"strict"in O)throw new Error("options.strict was renamed to lowS");Bn(O);let{lowS:k,prehash:Y}=O,G,it;try{if(typeof _=="string"||gt(_))try{G=u.fromDER(_)}catch(et){if(!(et instanceof ot.Err))throw et;G=u.fromCompact(_)}else if(typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint"){let{r:et,s:It}=_;G=new u(et,It)}else throw new Error("PARSE");it=f.fromHex(b)}catch(et){if(et.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&G.hasHighS())return!1;Y&&(x=n.hash(x));let{r:F,s:ft}=G,Nt=T(x),ct=c(ft),ee=i(Nt*ct),yt=i(F*ct),St=f.BASE.multiplyAndAddUnsafe(it,ee,yt)?.toAffine();return St?i(St.x)===F:!1}return{CURVE:n,getPublicKey:v,getSharedSecret:S,sign:N,verify:W,ProjectivePoint:f,Signature:u,utils:g}}function qr(t){return{hash:t,hmac:(n,...e)=>de(t,n,cn(...e)),randomBytes:un}}function In(t,n){let e=r=>Sn({...t,...qr(r)});return Object.freeze({...e(n),create:e})}var qn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Rr=BigInt(1),Te=BigInt(2),On=(t,n)=>(t+n/Te)/n;function Lr(t){let n=qn,e=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),c=BigInt(44),f=BigInt(88),a=t*t*t%n,h=a*a*t%n,d=Q(h,e,n)*h%n,l=Q(d,e,n)*h%n,E=Q(l,Te,n)*a%n,L=Q(E,o,n)*E%n,y=Q(L,s,n)*L%n,u=Q(y,c,n)*y%n,g=Q(u,f,n)*u%n,v=Q(g,c,n)*y%n,B=Q(v,e,n)*h%n,S=Q(B,i,n)*L%n,R=Q(S,r,n)*a%n,T=Q(R,Te,n);if(!Oe.eql(Oe.sqr(T),t))throw new Error("Cannot find square root");return T}var Oe=te(qn,void 0,void 0,{sqrt:Lr}),Nr=In({a:BigInt(0),b:BigInt(7),Fp:Oe,n:Tn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let n=Tn,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Rr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,i=BigInt("0x100000000000000000000000000000000"),c=On(s*t,n),f=On(-r*t,n),a=M(t-c*e-f*o,n),h=M(-c*r-f*s,n),d=a>i,l=h>i;if(d&&(a=n-a),l&&(h=n-h),a>i||h>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:a,k2neg:l,k2:h}}}},hn),ei=BigInt(0);var ni=Nr.ProjectivePoint;export{an as a,un as b,Yt as c,bt as d,vt as e,Xt as f,Qt as g,X as h,Lt as i,mt as j,wt as k,Jt as l,M as m,Q as n,Rs as o,te as p,vn as q,En as r,Ie as s,Fn as t,Nr as u};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-K24XFWCI.js.map

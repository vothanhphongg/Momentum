LavaPack.loadBundle([[7601,{"../../app/scripts/lib/util":198,"../../shared/constants/app":5738,"../../shared/constants/hardware-wallets":5745,"../../shared/constants/metametrics":5749,"../../shared/lib/four-byte":5782,"../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5787,"../../shared/lib/switch-direction":5794,"../../shared/modules/conversion.utils":5807,"../../shared/modules/error":5809,"../../shared/modules/hexstring-utils":5813,"../../shared/modules/i18n":5814,"../../shared/modules/selectors":5823,"../../shared/modules/selectors/networks":5824,"../../shared/modules/string-utils":5827,"../ducks/alerts/unconnected-account":6794,"../ducks/metamask/metamask":6810,"../ducks/send":6815,"../helpers/constants/notifications":6826,"../pages/confirmations/selectors/preferences":7318,"../pages/swaps/swaps.util":7565,"../selectors":7583,"./actionConstants":7600,"./background-connection":7602,"@metamask/profile-sync-controller/sdk":2448,"@metamask/rpc-errors":2526,"@metamask/snaps-utils":2853,"@sentry/browser":3076,buffer:4079,lodash:4871,loglevel:4879,"webextension-polyfill":5715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.abortTransactionSigning=function(e){return async t=>{try{await(0,C.submitRequestToBackground)("abortTransactionSigning",[e])}catch(e){t(ie(e))}}},n.accountTrackerStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("accountTrackerStartPolling",[e]);return await ye(t),t},n.accountTrackerStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("accountTrackerStopPollingByPollingToken",[e]),await ke(e)},n.addImportedTokens=function(e,t){return async n=>{try{await(0,C.submitRequestToBackground)("addImportedTokens",[e,t])}catch(e){(0,B.logErrorWithMessage)(e)}finally{await le(n)}}},n.addNetwork=function(e){return async t=>{r.default.debug("background.addNetwork",e);try{return await(0,C.submitRequestToBackground)("addNetwork",[e])}catch(e){(0,B.logErrorWithMessage)(e),t(ie("Had a problem adding networks!"))}return undefined}},n.addNewAccount=function(e){return r.default.debug("background.addNewAccount"),async(t,n)=>{const a=(0,m.getMetaMaskHdKeyrings)(n()),[r]=a;let o=r;if(e&&(o=a.find((t=>t.metadata.id===e))),!o)throw console.error("Should never reach this. There is always a keyring"),new Error("Keyring not found");const s=o.accounts;let i;t(ae());try{i=await(0,C.submitRequestToBackground)("addNewAccount",[s.length,e])}catch(e){throw t(ie(e)),e}finally{t(oe())}return await le(t),i}},n.addNft=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot add NFT without address");if(!t)throw new Error("MetaMask - Cannot add NFT without tokenID");n||a(ae());try{await(0,C.submitRequestToBackground)("addNft",[e,t])}catch(e){(0,B.logErrorWithMessage)(e),a(ie(e))}finally{await le(a),a(oe())}}},n.addNftVerifyOwnership=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot add NFT without address");if(!t)throw new Error("MetaMask - Cannot add NFT without tokenID");n||a(ae());try{await(0,C.submitRequestToBackground)("addNftVerifyOwnership",[e,t])}catch(e){if((0,B.isErrorWithMessage)(e)){const t=(0,B.getErrorMessage)(e);if(t.includes("This NFT is not owned by the user")||t.includes("Unable to verify ownership"))throw e;(0,B.logErrorWithMessage)(e),a(ie(e))}}finally{await le(a),a(oe())}}},n.addPermittedAccount=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("addPermittedAccount",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.addPermittedAccounts=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("addPermittedAccounts",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.addPermittedChain=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("addPermittedChain",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.addPermittedChains=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("addPermittedChains",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.addPollingTokenToAppState=ye,n.addToAddressBook=function(e,t="",n=""){return r.default.debug("background.addToAddressBook"),async(a,r)=>{const{chainId:o}=(0,f.getProviderConfig)(r());let s;try{s=await(0,C.submitRequestToBackground)("setAddressBook",[(0,y.toChecksumHexAddress)(e),t,o,n]),await le(a)}catch(e){throw(0,B.logErrorWithMessage)(e),a(ie("Address book failed to update")),e}s||a(ie("Address book failed to update"))}},n.addToken=function({address:e,symbol:t,decimals:n,image:a,networkClientId:r},o){return async s=>{if(!e)throw new Error("MetaMask - Cannot add token without address");o||s(ae());try{await(0,C.submitRequestToBackground)("addToken",[{address:e,symbol:t,decimals:n,image:a,networkClientId:r}])}catch(e){(0,B.logErrorWithMessage)(e),s(ie(e))}finally{await le(s),s(oe())}}},n.addTransaction=async function(e,t){r.default.debug("background.addTransaction");const n=(0,C.generateActionId)();return await(0,C.submitRequestToBackground)("addTransaction",[e,{...t,origin:l.ORIGIN_METAMASK,actionId:n}])},n.addTransactionAndRouteToConfirmationPage=function(e,t){return async n=>{const a=(0,C.generateActionId)();try{r.default.debug("background.addTransaction");const o=await(0,C.submitRequestToBackground)("addTransaction",[e,{...t,actionId:a,origin:l.ORIGIN_METAMASK}]);return n(Z()),o}catch(e){throw n(oe()),n(ie(e)),e}}},n.addTransactionAndWaitForPublish=async function(e,t){r.default.debug("background.addTransactionAndWaitForPublish");const n=(0,C.generateActionId)();return await(0,C.submitRequestToBackground)("addTransactionAndWaitForPublish",[e,{...t,origin:l.ORIGIN_METAMASK,actionId:n}])},n.approvePermissionsRequest=function(e){return t=>{(0,C.callBackgroundMethod)("approvePermissionsRequest",[e],(e=>{e&&t(ie(e)),le(t)}))}},n.attemptCloseNotificationPopup=Te,n.attemptLedgerTransportCreation=async function(){return await(0,C.submitRequestToBackground)("attemptLedgerTransportCreation")},n.automaticallySwitchNetwork=function(e,t){return async n=>{await n(ee(e)),await n(J({networkClientId:e,origin:t})),await le(n)}},n.backupUserData=async function(){let e;try{e=await(0,C.submitRequestToBackground)("backupUserData")}catch(e){throw(0,B.logErrorWithMessage)(e),e}return e},n.cancelDecryptMsg=function(e){return async t=>{t(ae());try{await(0,C.submitRequestToBackground)("cancelDecryptMessage",[e.id])}finally{t(oe())}return await le(t),t(H(e.id)),t(ne()),e}},n.cancelEncryptionPublicKeyMsg=function(e){return async t=>{t(ae());try{await(0,C.submitRequestToBackground)("cancelEncryptionPublicKey",[e.id])}finally{t(oe())}return await le(t),t(H(e.id)),t(ne()),e}},n.cancelQRHardwareSignRequest=function(){return async e=>{e(oe()),await(0,C.submitRequestToBackground)("cancelQRHardwareSignRequest")}},n.cancelSmartTransaction=function(e){return async t=>{try{await(0,C.submitRequestToBackground)("cancelSmartTransaction",[e])}catch(e){if((0,B.logErrorWithMessage)(e),(0,B.isErrorWithMessage)(e)){const n=(0,B.getErrorMessage)(e);if(n.startsWith("Fetch error:")){const e=(0,b.parseSmartTransactionsError)(n);t({type:N.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.cancelSyncQRHardware=function(){return async e=>{e(oe()),await(0,C.submitRequestToBackground)("cancelSyncQRHardware")}},n.cancelTx=function(e,t=!0){return n=>(t&&n(ae()),new Promise(((t,n)=>{(0,C.callBackgroundMethod)("rejectPendingApproval",[String(e.id),i.providerErrors.userRejectedRequest().serialize()],(e=>{e?n(e):t()}))})).then((()=>le(n))).then((()=>(n((0,p.resetSendState)()),n(H(e.id)),n(oe()),n(ne()),e))).catch((e=>{throw n(oe()),e})))},n.cancelTxs=function(e){return async t=>{t(ae());try{const n=e.map((({id:e})=>e)),a=n.map((e=>new Promise(((t,n)=>{(0,C.callBackgroundMethod)("rejectPendingApproval",[String(e),i.providerErrors.userRejectedRequest().serialize()],(e=>{e?n(e):t()}))}))));await Promise.all(a),await le(t),t((0,p.resetSendState)()),n.forEach((e=>{t(H(e))}))}finally{(0,g.getEnvironmentType)()===l.ENVIRONMENT_TYPE_NOTIFICATION?Te():t(oe())}}},n.captureSingleException=function(e){return async(t,n)=>{const{singleExceptions:a}=n().appState;e in a||(t({type:N.CAPTURE_SINGLE_EXCEPTION,value:e}),(0,o.captureException)(Error(e)))}},n.checkAccountsPresence=function(e){return async()=>{try{return await(0,C.submitRequestToBackground)("checkAccountsPresence",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.checkAndUpdateAllNftsOwnershipStatus=async function(){await(0,C.submitRequestToBackground)("checkAndUpdateAllNftsOwnershipStatus")},n.checkAndUpdateSingleNftOwnershipStatus=async function(e){await(0,C.submitRequestToBackground)("checkAndUpdateSingleNftOwnershipStatus",[e,!1])},n.checkHardwareStatus=function(e,t){return r.default.debug("background.checkHardwareStatus",e,t),async n=>{n(ae());let a=!1;try{a=await(0,C.submitRequestToBackground)("checkHardwareStatus",[e,t])}catch(e){throw(0,B.logErrorWithMessage)(e),n(ie(e)),e}finally{n(oe())}return await le(n),a}},n.clearAccountDetails=function(){return{type:N.CLEAR_ACCOUNT_DETAILS}},n.clearPendingTokens=function(){return{type:N.CLEAR_PENDING_TOKENS}},n.clearSmartTransactionFees=function(){(0,C.submitRequestToBackground)("clearSmartTransactionFees")},n.clearSwapsQuotes=function(){return async e=>{await(0,C.submitRequestToBackground)("clearSwapsQuotes"),await le(e)}},n.clearSwitchedNetworkDetails=function(){return async e=>{await(0,C.submitRequestToBackground)("clearSwitchedNetworkDetails",[]),await le(e)}},n.closeCurrentNotificationWindow=ne,n.closeWelcomeScreen=function(){return{type:N.CLOSE_WELCOME_SCREEN}},n.completeOnboarding=ue,n.completedTx=H,n.connectHardware=function(e,t,n,a,o){return r.default.debug("background.connectHardware",e,t,n),async(r,i)=>{const{ledgerTransportType:c}=i().metamask;let u;r(ae(`Looking for your ${(0,s.capitalize)(e)}...`));try{if(a&&e===k.HardwareDeviceNames.ledger&&c===k.LedgerTransportTypes.webhid){const e=await window.navigator.hid.requestDevice({filters:[{vendorId:k.LEDGER_USB_VENDOR_ID}]});if(!e.some((e=>e.vendorId===Number(k.LEDGER_USB_VENDOR_ID))))throw new Error(o("ledgerWebHIDNotConnectedErrorMessage"))}u=await(0,C.submitRequestToBackground)("connectHardware",[e,t,n])}catch(t){(0,B.logErrorWithMessage)(t);const n=(0,B.getErrorMessage)(t);throw e===k.HardwareDeviceNames.ledger&&c===k.LedgerTransportTypes.webhid&&(0,B.isErrorWithMessage)(t)&&n.match("Failed to open the device")?(r(ie(o("ledgerDeviceOpenFailureMessage"))),new Error(o("ledgerDeviceOpenFailureMessage"))):(e!==k.HardwareDeviceNames.qr&&r(ie(t)),t)}finally{r(oe())}return await le(r),u}},n.createCancelTransaction=function(e,t,n={}){let a;return r.default.debug("background.createCancelTransaction"),r=>{const o=(0,C.generateActionId)();return new Promise(((s,i)=>{(0,C.callBackgroundMethod)("createCancelTransaction",[e,t,{...n,actionId:o}],((t,n)=>{var o;if(t)return null!=t&&null!==(o=t.message)&&void 0!==o&&o.includes("Previous transaction is already confirmed")&&r(te({name:"TRANSACTION_ALREADY_CONFIRMED",originalTransactionId:e})),r(ie(t)),void i(t);if(n){const e=(0,m.getCurrentNetworkTransactions)({metamask:n}),{id:t}=e[e.length-1];a=t,s()}}))})).then((()=>le(r))).then((()=>a))}},n.createEventFragment=function(e){const t=(0,C.generateActionId)();return(0,C.submitRequestToBackground)("createEventFragment",[{...e,actionId:t}])},n.createMetaMetricsDataDeletionTask=async function(){return await(0,C.submitRequestToBackground)("createMetaMetricsDataDeletionTask")},n.createNewVault=F,n.createNewVaultAndGetSeedPhrase=function(e){return async t=>{t(ae());try{await F(e);return await L(e)}catch(e){throw t(ie(e)),(0,B.isErrorWithMessage)(e)?new Error((0,B.getErrorMessage)(e)):e}finally{t(oe())}}},n.createNewVaultAndRestore=function(e,n){return a=>{a(ae()),r.default.debug("background.createNewVaultAndRestore");const o=Array.from(t.from(n,"utf8").values());return new Promise(((t,n)=>{(0,C.callBackgroundMethod)("createNewVaultAndRestore",[e,o],(e=>{e?n(e):t()}))})).then((()=>a(j()))).then((()=>{a(X()),a(oe())})).catch((e=>(a(ie(e)),a(oe()),Promise.reject(e))))}},n.createOnChainTriggers=function(){return async()=>{try{await(0,C.submitRequestToBackground)("createOnChainTriggers")}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.createRetryTransaction=function(e,t){let n;return a=>new Promise(((r,o)=>{const s=(0,C.generateActionId)();(0,C.callBackgroundMethod)("createSpeedUpTransaction",[e,t,{actionId:s}],((e,t)=>{if(e)return a(ie(e)),void o(e);if(t){const e=(0,m.getCurrentNetworkTransactions)(t);n=e[e.length-1],r()}}))})).then((()=>le(a))).then((()=>n))},n.createSnapAccount=async function(e,t,n){return await(0,C.submitRequestToBackground)("createSnapAccount",[e,t,n])},n.createSpeedUpTransaction=function(e,t,n={}){let a;return r.default.debug("background.createSpeedUpTransaction"),r=>{const o=(0,C.generateActionId)();return new Promise(((s,i)=>{(0,C.callBackgroundMethod)("createSpeedUpTransaction",[e,t,{...n,actionId:o}],((e,t)=>{if(e)return r(ie(e)),void i(e);if(t){const e=(0,m.getCurrentNetworkTransactions)(t);a=e[e.length-1],s()}}))})).then((()=>le(r))).then((()=>a))}},n.createTransactionEventFragment=function(e){const t=(0,C.generateActionId)();return(0,C.submitRequestToBackground)("createTransactionEventFragment",[{transactionId:e,actionId:t}])},n.currencyRateStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("currencyRateStartPolling",[{nativeCurrencies:e}]);return await ye(t),t},n.currencyRateStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("currencyRateStopPollingByPollingToken",[e]),await ke(e)},n.decodeTransactionData=async function({transactionData:e,contractAddress:t,chainId:n}){return await(0,C.submitRequestToBackground)("decodeTransactionData",[{transactionData:e,contractAddress:t,chainId:n}])},n.decryptMsg=function(e){return r.default.debug("action - decryptMsg"),async t=>{t(ae()),r.default.debug("actions calling background.decryptMessage");try{await(0,C.submitRequestToBackground)("decryptMessage",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),t(ie(e)),e}finally{t(oe())}return await le(t),t(H(e.metamaskId)),t(ne()),e}},n.decryptMsgInline=function(e){return r.default.debug("action - decryptMsgInline"),async t=>{r.default.debug("actions calling background.decryptMessageInline");try{await(0,C.submitRequestToBackground)("decryptMessageInline",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),t(ie(e)),e}return(await le(t)).unapprovedDecryptMsgs[e.metamaskId]}},n.deleteAccountSyncingDataFromUserStorage=function(){return async()=>{try{return await(0,C.submitRequestToBackground)("deleteAccountSyncingDataFromUserStorage",[c.USER_STORAGE_FEATURE_NAMES.accounts])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.deleteExpiredNotifications=function(){return async(e,t)=>{const n=t().metamask.metamaskNotificationsList.filter((e=>{const t=new Date(Date.now()-M.NOTIFICATIONS_EXPIRATION_DELAY);return Boolean(e.readDate&&new Date(e.readDate)<t)})).map((({id:e})=>e));n.length&&(await(0,C.submitRequestToBackground)("deleteNotificationsById",[n]),await le(e))}},n.deleteInterface=function(e){return async t=>{await(0,C.submitRequestToBackground)("deleteInterface",[e]),await le(t)}},n.deleteNotificationsById=function(e){return async()=>{try{return await(0,C.submitRequestToBackground)("deleteNotificationsById",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.deleteOnChainTriggersByAccount=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("deleteOnChainTriggersByAccount",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.detectNfts=function(e){return async t=>{t(re()),r.default.debug("background.detectNfts");try{await(0,C.submitRequestToBackground)("detectNfts",[e])}finally{t(se())}await le(t)}},n.detectTokens=function(){return async e=>{e(ae()),r.default.debug("background.detectTokens"),await(0,C.submitRequestToBackground)("detectTokens"),e(oe()),await le(e)}},n.disableMetamaskNotifications=function(){return async()=>{try{await(0,C.submitRequestToBackground)("disableMetamaskNotifications")}catch(e){throw r.default.error(e),e}}},n.disableSnap=function(e){return async t=>{await(0,C.submitRequestToBackground)("disableSnap",[e]),await le(t)}},n.disconnectOriginFromSnap=function(e,t){return async n=>{await(0,C.submitRequestToBackground)("disconnectOriginFromSnap",[e,t]),await le(n)}},n.dismissSmartTransactionsErrorMessage=function(){return{type:N.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE}},n.displayWarning=ie,n.enableMetamaskNotifications=function(){return async()=>{try{await(0,C.submitRequestToBackground)("enableMetamaskNotifications")}catch(e){throw r.default.error(e),e}}},n.enableSnap=function(e){return async t=>{await(0,C.submitRequestToBackground)("enableSnap",[e]),await le(t)}},n.encryptionPublicKeyMsg=function(e){return r.default.debug("action - encryptionPublicKeyMsg"),async t=>{t(ae()),r.default.debug("actions calling background.encryptionPublicKey");try{await(0,C.submitRequestToBackground)("encryptionPublicKey",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),t(ie(e)),e}finally{t(oe())}return await le(t),t(H(e.metamaskId)),t(ne()),e}},n.endBackgroundTrace=async function(e){const t=e.timestamp||performance.timeOrigin+performance.now();await(0,C.submitRequestToBackground)("endTrace",[{...e,timestamp:t}])},n.estimateGas=function(e){return(0,C.submitRequestToBackground)("estimateGas",[e])},n.exportAccount=function(e,t,n,a){return function(o){return o(ae()),r.default.debug("background.verifyPassword"),new Promise(((s,i)=>{(0,C.callBackgroundMethod)("verifyPassword",[e],(function(c){if(c)return r.default.error("Error in verifying password."),o(oe()),o(ie("Incorrect Password.")),void i(c);r.default.debug("background.exportAccount"),(0,C.callBackgroundMethod)("exportAccount",[t,e],(function(e,t){if(o(oe()),e)return(0,B.logErrorWithMessage)(e),o(ie("Had a problem exporting the account.")),void i(e);n(t),a(!0),s(t)}))}))}))}},n.exportAccounts=function(e,t){return function(n){return r.default.debug("background.verifyPassword"),new Promise(((a,o)=>{(0,C.callBackgroundMethod)("verifyPassword",[e],(function(s){if(s)return r.default.error("Error in submitting password."),void o(s);r.default.debug("background.exportAccounts");const i=t.map((t=>new Promise(((a,r)=>(0,C.callBackgroundMethod)("exportAccount",[t,e],(function(e,t){if(e)return(0,B.logErrorWithMessage)(e),n(ie("Had a problem exporting the account.")),void r(e);a(t)}))))));a(Promise.all(i))}))}))}},n.fetchAndSetQuotes=function(e,t){return async n=>{const[a,r]=await(0,C.submitRequestToBackground)("fetchAndSetQuotes",[e,t]);return await le(n),[a,r]}},n.fetchAndUpdateMetamaskNotifications=function(e){return async()=>{try{return await(0,C.submitRequestToBackground)("fetchAndUpdateMetamaskNotifications",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.fetchHistoricalPricesForAsset=function(e){return async t=>{r.default.debug("background.fetchHistoricalPricesForAsset"),await(0,C.submitRequestToBackground)("fetchHistoricalPricesForAsset",[e]),await le(t)}},n.fetchSmartTransactionFees=function(e,t){return async n=>{t&&(t.value="0x0");try{const a=await await(0,C.submitRequestToBackground)("fetchSmartTransactionFees",[e,t]);return n({type:N.SET_SMART_TRANSACTIONS_ERROR,payload:null}),a}catch(e){if((0,B.logErrorWithMessage)(e),(0,B.isErrorWithMessage)(e)){const t=(0,B.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,b.parseSmartTransactionsError)(t);n({type:N.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.fetchSmartTransactionsLiveness=function(){return async()=>{try{await(0,C.submitRequestToBackground)("fetchSmartTransactionsLiveness")}catch(e){(0,B.logErrorWithMessage)(e)}}},n.finalizeEventFragment=function(e,t){return(0,C.submitRequestToBackground)("finalizeEventFragment",[e,t])},n.forceUpdateMetamaskState=le,n.forgetDevice=function(e){return r.default.debug("background.forgetDevice",e),async t=>{t(ae());try{await(0,C.submitRequestToBackground)("forgetDevice",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),t(ie(e)),e}finally{t(oe())}await le(t)}},n.gasFeeStartPollingByNetworkClientId=async function(e){const t=await(0,C.submitRequestToBackground)("gasFeeStartPolling",[{networkClientId:e}]);return await ye(t),t},n.gasFeeStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("gasFeeStopPollingByPollingToken",[e]),await ke(e)},n.generateNewMnemonicAndAddToVault=function(){return e=>(e(ae()),r.default.debug("background.generateNewMnemonicAndAddToVault"),new Promise(((e,t)=>{(0,C.callBackgroundMethod)("generateNewMnemonicAndAddToVault",[],(n=>{n?t(n):e()}))})).then((async()=>{e(oe())})).catch((t=>(e(ie(t)),e(oe()),Promise.reject(t)))))},n.getBalancesInSingleCall=async function(e,t,n){return await(0,C.submitRequestToBackground)("getBalancesInSingleCall",[e,t,n])},n.getCode=async function(e,t){return await(0,C.submitRequestToBackground)("getCode",[e,t])},n.getContractMethodData=function(e=""){return async(t,n)=>{const a=(0,g.addHexPrefix)(e).slice(0,10);if(a.length<10)return{};const{knownMethodData:o,use4ByteResolution:s}=n().metamask;if(null!=o&&o[a]&&0!==Object.keys(o[a]).length)return o[a];r.default.debug("loadingMethodData");const{name:i,params:c}=await(0,v.getMethodDataAsync)(a,s);return(0,C.callBackgroundMethod)("addKnownMethodData",[a,{name:i,params:c}],(e=>{e&&t(ie(e))})),{name:i,params:c}}},n.getCurrentNetworkEIP1559Compatibility=async function(){let e;try{e=await(0,C.submitRequestToBackground)("getCurrentNetworkEIP1559Compatibility")}catch(e){console.error(e)}return e},n.getGasFeeTimeEstimate=function(e,t){return(0,C.submitRequestToBackground)("getGasFeeTimeEstimate",[e,t])},n.getLastInteractedConfirmationInfo=async function(){return await(0,C.submitRequestToBackground)("getLastInteractedConfirmationInfo")},n.getLayer1GasFee=function({chainId:e,networkClientId:t,transactionParams:n}){return async()=>await(0,C.submitRequestToBackground)("getLayer1GasFee",[{chainId:e,networkClientId:t,transactionParams:n}])},n.getNFTContractInfo=async function(e,t){return await(0,C.submitRequestToBackground)("getNFTContractInfo",[e,t])},n.getNetworkConfigurationByNetworkClientId=async function(e){let t;try{t=await(0,C.submitRequestToBackground)("getNetworkConfigurationByNetworkClientId",[e])}catch(e){console.error(e)}return t},n.getNetworksWithTransactionActivityByAccounts=function(){return async()=>{r.default.debug("background.getNetworksWithTransactionActivityByAccounts");try{return await(0,C.submitRequestToBackground)("getNetworksWithTransactionActivityByAccounts")}catch(e){throw(0,B.logErrorWithMessage)(e),new Error("Had a problem getting networks with activity by accounts!")}}},n.getNextAvailableAccountName=async function(e){return await(0,C.submitRequestToBackground)("getNextAvailableAccountName",[e])},n.getNextNonce=function(e){return async(t,n)=>{const a=(0,f.getSelectedNetworkClientId)(n());let r;try{r=await(0,C.submitRequestToBackground)("getNextNonce",[e,a])}catch(e){throw t(ie(e)),e}return t(pe(r)),r}},n.getOpenMetamaskTabsIds=function(){return async e=>{e(we(await(0,C.submitRequestToBackground)("getOpenMetamaskTabsIds")))}},n.getPhishingResult=async function(e){return await(0,C.submitRequestToBackground)("getPhishingResult",[e])},n.getRequestAccountTabIds=function(){return async e=>{e(he(await(0,C.submitRequestToBackground)("getRequestAccountTabIds")))}},n.getRpcMethodPreferences=function(){return async e=>{e(ae()),await(0,C.submitRequestToBackground)("getRpcMethodPreferences",[]),e(oe())}},n.getSeedPhrase=L,n.getSnapAccountsById=async function(e){return await(0,C.submitRequestToBackground)("getAccountsBySnapId",[e])},n.getTokenStandardAndDetails=async function(e,t,n){return await(0,C.submitRequestToBackground)("getTokenStandardAndDetails",[e,t,n])},n.getTokenStandardAndDetailsByChain=async function(e,t,n,a){return await(0,C.submitRequestToBackground)("getTokenStandardAndDetailsByChain",[e,t,n,a])},n.getTokenSymbol=async function(e){return await(0,C.submitRequestToBackground)("getTokenSymbol",[e])},n.getTransactions=async function(e={}){return await(0,C.submitRequestToBackground)("getTransactions",[e])},n.goHome=q,n.handleSnapRequest=x,n.hideAccountBanner=function(){return(0,C.submitRequestToBackground)("setShowAccountBanner",[!1])},n.hideAlert=function(){return{type:N.ALERT_CLOSE}},n.hideBetaHeader=function(){return(0,C.submitRequestToBackground)("setShowBetaHeader",[!1])},n.hideDeprecatedNetworkModal=function(){return{type:N.DEPRECATED_NETWORK_POPOVER_CLOSE}},n.hideImportNftsModal=function(){return{type:N.IMPORT_NFTS_MODAL_CLOSE}},n.hideImportTokensModal=function(){return{type:N.IMPORT_TOKENS_POPOVER_CLOSE}},n.hideIpfsModal=function(){return{type:N.SHOW_IPFS_MODAL_CLOSE}},n.hideKeyringRemovalResultModal=function(){return{type:N.HIDE_KEYRING_SNAP_REMOVAL_RESULT}},n.hideLoadingIndication=oe,n.hideModal=function(){return{type:N.MODAL_CLOSE}},n.hideNetworkBanner=function(){return(0,C.submitRequestToBackground)("setShowNetworkBanner",[!1])},n.hideNetworkDropdown=function(){return{type:N.NETWORK_DROPDOWN_CLOSE}},n.hideNftStillFetchingIndication=se,n.hidePermissionsTour=function(){return(0,C.submitRequestToBackground)("setShowPermissionsTour",[!1])},n.hidePermittedNetworkToast=function(){return{type:N.SHOW_PERMITTED_NETWORK_TOAST_CLOSE}},n.hideTestNetMessage=function(){return(0,C.submitRequestToBackground)("setShowTestnetMessageInDropdown",[!1])},n.hideWarning=function(){return{type:N.HIDE_WARNING}},n.ignoreTokens=function({tokensToIgnore:e,dontShowLoadingIndicator:t=!1,networkClientId:n=null}){const a=Array.isArray(e)?e:[e];return async e=>{t||e(ae());try{await(0,C.submitRequestToBackground)("ignoreTokens",[a,n])}catch(t){(0,B.logErrorWithMessage)(t),e(ie(t))}finally{await le(e),e(oe())}}},n.importMnemonicToVault=function(e){return t=>(t(ae()),r.default.debug("background.importMnemonicToVault"),new Promise(((t,n)=>{(0,C.callBackgroundMethod)("importMnemonicToVault",[e],(e=>{e?n(e):t()}))})).then((async()=>{t(oe())})).catch((e=>(t(ie(e)),t(oe()),Promise.reject(e)))))},n.importNewAccount=function(e,t,n){return async a=>{a(ae(n));try{r.default.debug("background.importAccountWithStrategy"),await(0,C.submitRequestToBackground)("importAccountWithStrategy",[e,t])}finally{a(oe())}return await le(a)}},n.isNftOwner=async function(e,t,n){return await(0,C.submitRequestToBackground)("isNftOwner",[e,t,n])},n.lockMetamask=function(){return r.default.debug("background.setLocked"),e=>(e(ae()),z().then((()=>le(e))).catch((t=>(e(ie((0,B.getErrorMessage)(t))),Promise.reject(t)))).then((()=>{e(oe()),e({type:N.LOCK_METAMASK})})).catch((()=>{e(oe()),e({type:N.LOCK_METAMASK})})))},n.markMetamaskNotificationsAsRead=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("markMetamaskNotificationsAsRead",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.markPasswordForgotten=function(){return async e=>{try{await new Promise(((e,t)=>{(0,C.callBackgroundMethod)("markPasswordForgotten",[],(n=>{n?t(n):e()}))}))}finally{e(oe()),await le(e)}}},n.multichainUpdateBalance=async function(e){return await(0,C.submitRequestToBackground)("multichainUpdateBalance",[e])},n.multichainUpdateTransactions=async function(e){return await(0,C.submitRequestToBackground)("multichainUpdateTransactions",[e])},n.performSignIn=function(){return async()=>{try{await(0,C.submitRequestToBackground)("performSignIn")}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred during sign-in.";throw(0,B.logErrorWithMessage)(t),e}}},n.performSignOut=function(){return async()=>{try{await(0,C.submitRequestToBackground)("performSignOut")}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.qrCodeDetected=function(e){return async t=>{await t({type:N.QR_CODE_DETECTED,value:e}),t((0,p.computeEstimatedGasLimit)())}},n.rejectAllApprovals=function(){return async e=>{await(0,C.submitRequestToBackground)("rejectAllPendingApprovals");const{pendingApprovals:t}=await le(e);0===Object.values(t).length&&e(ne())}},n.rejectAllMessages=function(e){return async t=>{const n=(0,i.serializeError)(i.providerErrors.userRejectedRequest());await Promise.all(e.map((async({id:e})=>await(0,C.submitRequestToBackground)("rejectPendingApproval",[e,n]))));const{pendingApprovals:a}=await le(t);0===Object.values(a).length&&t(ne())}},n.rejectPendingApproval=function(e,t){return async n=>{await(0,C.submitRequestToBackground)("rejectPendingApproval",[e,t]);const{pendingApprovals:a}=await le(n);0===Object.values(a).length&&n(ne())}},n.rejectPermissionsRequest=function(e){return t=>new Promise(((n,a)=>{(0,C.callBackgroundMethod)("rejectPermissionsRequest",[e],(e=>{if(e)return t(ie(e)),void a(e);le(t).then(n).catch(a)}))}))},n.removeAccount=function(e){return async t=>{t(ae());try{await new Promise(((t,n)=>{(0,C.callBackgroundMethod)("removeAccount",[e],((e,a)=>{e?n(e):t(a)}))})),await le(t)}catch(e){throw t(ie(e)),e}finally{t(oe())}r.default.info(`Account removed: ${e}`),t(X())}},n.removeAndIgnoreNft=function(e,t,n,a){return async r=>{if(!e)throw new Error("MetaMask - Cannot ignore NFT without address");if(!t)throw new Error("MetaMask - Cannot ignore NFT without tokenID");a||r(ae());try{await(0,C.submitRequestToBackground)("removeAndIgnoreNft",[e,t,{networkClientId:n}])}catch(e){throw(0,B.logErrorWithMessage)(e),r(ie(e)),e}finally{await le(r),r(oe())}}},n.removeFromAddressBook=function(e,t){return r.default.debug("background.removeFromAddressBook"),async n=>{await(0,C.submitRequestToBackground)("removeFromAddressBook",[e,(0,y.toChecksumHexAddress)(t)]),await le(n)}},n.removeNetwork=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("removeNetwork",[e])}catch(e){(0,B.logErrorWithMessage)(e)}}},n.removeNft=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot remove NFT without address");if(!t)throw new Error("MetaMask - Cannot remove NFT without tokenID");n||a(ae());try{await(0,C.submitRequestToBackground)("removeNft",[e,t])}catch(e){(0,B.logErrorWithMessage)(e),a(ie(e))}finally{await le(a),a(oe())}}},n.removePermissionsFor=function(e){return t=>{(0,C.callBackgroundMethod)("removePermissionsFor",[e],(e=>{e&&t(ie(e))}))}},n.removePermittedAccount=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("removePermittedAccount",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.removePermittedChain=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,C.callBackgroundMethod)("removePermittedChain",[e,t],(e=>{e?a(e):n()}))})),await le(n)}},n.removePollingTokenFromAppState=ke,n.removeSlide=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("removeSlide",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.removeSnap=function(e){return async(t,n)=>{var a;t(ae());const r=(null===(a=(0,m.getPermissionSubjects)(n())[e])||void 0===a||null===(a=a.permissions)||void 0===a?void 0:a.snap_manageAccounts)!==undefined;try{if(r){const t=await(0,C.submitRequestToBackground)("getAccountsBySnapId",[e]);for(const e of t)await(0,C.submitRequestToBackground)("removeAccount",[e])}await(0,C.submitRequestToBackground)("removeSnap",[e]),await le(t)}catch(e){throw t(ie(e)),e}finally{t(oe())}}},n.requestAccountsAndChainPermissionsWithId=function(e){return async t=>{const n=await(0,C.submitRequestToBackground)("requestAccountsAndChainPermissionsWithId",[e]);return await le(t),n}},n.requestRevealSeedWords=function(e,t){return async n=>{n(ae()),r.default.debug("background.verifyPassword");try{await W(e);return await L(e,t)}finally{n(oe())}}},n.requestUserApproval=function({origin:e,type:t,requestData:n}){return async a=>{try{await(0,C.submitRequestToBackground)("requestUserApproval",[{origin:e,type:t,requestData:n}])}catch(e){(0,B.logErrorWithMessage)(e),a(ie("Had trouble requesting user approval"))}}},n.resetAccount=function(){return e=>(e(ae()),new Promise(((t,n)=>{(0,C.callBackgroundMethod)("resetAccount",[],((a,o)=>{if(e(oe()),a)return(0,B.isErrorWithMessage)(a)&&e(ie(a)),void n(a);r.default.info(`Transaction history reset for ${o}`),e(X()),t(o)}))})))},n.resetBackgroundSwapsState=function(){return async e=>{await(0,C.submitRequestToBackground)("resetSwapsState"),await le(e)}},n.resetOnboarding=function(){return async e=>{try{await e(fe(!1)),e(de())}catch(e){console.error(e)}}},n.resetOnboardingAction=de,n.resetSwapsPostFetchState=function(){return async e=>{await(0,C.submitRequestToBackground)("resetPostFetchState"),await le(e)}},n.resetViewedNotifications=function(){return(0,C.submitRequestToBackground)("resetViewedNotifications")},n.resolvePendingApproval=function(e,t){return async n=>{await(0,C.submitRequestToBackground)("resolvePendingApproval",[e,t]);const{pendingApprovals:a}=await le(n);0===Object.values(a).length&&n(ne())}},n.restoreUserData=async function(e){try{await(0,C.submitRequestToBackground)("restoreUserData",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}return!0},n.revokeDynamicSnapPermissions=function(e,t){return async n=>{await(0,C.submitRequestToBackground)("revokeDynamicSnapPermissions",[e,t]),await le(n)}},n.rollbackToPreviousProvider=function(){return async e=>{try{await(0,C.submitRequestToBackground)("rollbackToPreviousProvider")}catch(t){(0,B.logErrorWithMessage)(t),e(ie("Had a problem changing networks!"))}}},n.safeRefetchQuotes=function(){return async e=>{await(0,C.submitRequestToBackground)("safeRefetchQuotes"),await le(e)}},n.sendMultichainTransaction=async function(e,{account:t,scope:n,assetType:a}){await x({snapId:e,origin:"metamask",handler:u.HandlerType.OnRpcRequest,request:{method:"startSendTransactionFlow",params:{account:t,scope:n,assetId:a}}})},n.setAccountDetailsAddress=function(e){return{type:N.SET_ACCOUNT_DETAILS_ADDRESS,payload:e}},n.setAccountLabel=function(e,t){return n=>(n(ae()),r.default.debug("background.setAccountLabel"),new Promise(((a,r)=>{(0,C.callBackgroundMethod)("setAccountLabel",[e,t],(o=>{if(n(oe()),o)return n(ie(o)),void r(o);n({type:N.SET_ACCOUNT_LABEL,value:{account:e,label:t}}),a(e)}))})))},n.setActiveNetwork=function(e){return async t=>{r.default.debug(`background.setActiveNetwork: ${e}`);try{await(0,C.submitRequestToBackground)("setActiveNetwork",[e])}catch(e){(0,B.logErrorWithMessage)(e),t(ie("Had a problem changing networks!"))}}},n.setActiveNetworkConfigurationId=ee,n.setActiveNetworkWithError=function(e){return async t=>{r.default.debug(`background.setActiveNetwork: ${e}`);try{await(0,C.submitRequestToBackground)("setActiveNetwork",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),t(ie("Had a problem changing networks!")),new Error("Had a problem changing networks!")}}},n.setAddSnapAccountEnabled=async function(e){try{await(0,C.submitRequestToBackground)("setAddSnapAccountEnabled",[e])}catch(e){(0,B.logErrorWithMessage)(e)}},n.setAdvancedGasFee=function(e){return t=>{t(ae()),r.default.debug("background.setAdvancedGasFee"),(0,C.callBackgroundMethod)("setAdvancedGasFee",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setAggregatedBalancePopoverShown=function(){return ce("shouldShowAggregatedBalancePopover",!1)},n.setAlertEnabledness=async function(e,t){await(0,C.submitRequestToBackground)("setAlertEnabledness",[e,t])},n.setAutoLockTimeLimit=function(e){return ce("autoLockTimeLimit",e)},n.setBackgroundSwapRouteState=function(e){return async t=>{await(0,C.submitRequestToBackground)("setBackgroundSwapRouteState",[e]),await le(t)}},n.setCompletedOnboarding=function(){return async e=>{e(ae());try{await(0,C.submitRequestToBackground)("completeOnboarding"),e(ue())}catch(t){throw e(ie(t)),t}finally{e(oe())}}},n.setConfirmationAdvancedDetailsOpen=function(e){return ce("showConfirmationAdvancedDetails",e)},n.setConfirmationExchangeRates=function(e){return{type:N.SET_CONFIRMATION_EXCHANGE_RATES,value:e}},n.setConnectedStatusPopoverHasBeenShown=function(){return()=>{(0,C.callBackgroundMethod)("setConnectedStatusPopoverHasBeenShown",[],(e=>{if((0,B.isErrorWithMessage)(e))throw new Error((0,B.getErrorMessage)(e))}))}},n.setCurrentCurrency=function(e){return async t=>{t(ae()),r.default.debug("background.setCurrentCurrency");try{await(0,C.submitRequestToBackground)("setCurrentCurrency",[e]),await le(t)}catch(e){return(0,B.logErrorWithMessage)(e),void t(ie(e))}finally{t(oe())}}},n.setCurrentExtensionPopupId=function(e){return async t=>{await(0,C.submitRequestToBackground)("setCurrentExtensionPopupId",[e]),await le(t)}},n.setCurrentLocale=me,n.setCustomApproveTxData=function(e){return async t=>{await(0,C.submitRequestToBackground)("setCustomApproveTxData",[e]),await le(t)}},n.setDataCollectionForMarketing=function(e){return async t=>{r.default.debug("background.setDataCollectionForMarketing"),await(0,C.submitRequestToBackground)("setDataCollectionForMarketing",[e]),t({type:N.SET_DATA_COLLECTION_FOR_MARKETING,value:e})}},n.setDefaultHomeActiveTabName=function(e){return async t=>{await(0,C.submitRequestToBackground)("setDefaultHomeActiveTabName",[e]),await le(t)}},n.setDismissSeedBackUpReminder=function(e){return async t=>{t(ae()),await(0,C.submitRequestToBackground)("setDismissSeedBackUpReminder",[e]),t(oe())}},n.setDismissSmartAccountSuggestionEnabled=function(e){return async(t,n)=>{const a=(0,_.getDismissSmartAccountSuggestionEnabled)(n());be({category:T.MetaMetricsEventCategory.Settings,event:T.MetaMetricsEventName.SettingsUpdated,properties:{dismiss_smt_acc_suggestion_enabled:e,prev_dismiss_smt_acc_suggestion_enabled:a}}),await t(ce("dismissSmartAccountSuggestionEnabled",e)),await le(t)}},n.setEditedNetwork=function(e=undefined){return{type:N.SET_EDIT_NETWORK,payload:e}},n.setFeatureAnnouncementsEnabled=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("setFeatureAnnouncementsEnabled",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.setFeatureFlag=function(e,t,n){return a=>(a(ae()),new Promise(((r,o)=>{(0,C.callBackgroundMethod)("setFeatureFlag",[e,t],((e,t)=>{if(a(oe()),e)return a(ie(e)),void o(e);n&&a(te({name:n})),r(t)}))})))},n.setFeatureNotificationsEnabled=function(e){return ce("featureNotificationsEnabled",e)},n.setFirstTimeFlowType=function(e){return async t=>{try{r.default.debug("background.setFirstTimeFlowType"),await(0,C.submitRequestToBackground)("setFirstTimeFlowType",[e]),t({type:N.SET_FIRST_TIME_FLOW_TYPE,value:e})}catch(e){t(ie(e))}}},n.setHardwareWalletDefaultHdPath=function({device:e,path:t}){return{type:N.SET_HARDWARE_WALLET_DEFAULT_HD_PATH,payload:{device:e,path:t}}},n.setHideZeroBalanceTokens=function(e){return ce("hideZeroBalanceTokens",e)},n.setInitialGasEstimate=function(e){return async t=>{await(0,C.submitRequestToBackground)("setInitialGasEstimate",[e]),await le(t)}},n.setIpfsGateway=function(e){return t=>{r.default.debug("background.setIpfsGateway"),(0,C.callBackgroundMethod)("setIpfsGateway",[e],(e=>{e&&t(ie(e))}))}},n.setIsBackupAndSyncFeatureEnabled=function(e,t){return async()=>{try{await(0,C.submitRequestToBackground)("setIsBackupAndSyncFeatureEnabled",[e,t])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.setIsIpfsGatewayEnabled=function(e){return t=>{r.default.debug("background.setIsIpfsGatewayEnabled"),(0,C.callBackgroundMethod)("setIsIpfsGatewayEnabled",[e],(e=>{e&&t(ie(e))}))}},n.setLastActiveTime=function(){return e=>{(0,C.callBackgroundMethod)("setLastActiveTime",[],(t=>{t&&e(ie(t))}))}},n.setLastInteractedConfirmationInfo=async function(e){return await(0,C.submitRequestToBackground)("setLastInteractedConfirmationInfo",[e])},n.setLastViewedUserSurvey=function(e){return async()=>{await(0,C.submitRequestToBackground)("setLastViewedUserSurvey",[e])}},n.setManageInstitutionalWallets=function(e){return async t=>{t(ae()),await(0,C.submitRequestToBackground)("setManageInstitutionalWallets",[e]),t(oe())}},n.setName=function(e){return async()=>{await(0,C.submitRequestToBackground)("setName",[e])}},n.setNetworkClientIdForDomain=function(e,t){return(0,C.submitRequestToBackground)("setNetworkClientIdForDomain",[e,t])},n.setNewNetworkAdded=function({networkConfigurationId:e,nickname:t}){return{type:N.SET_NEW_NETWORK_ADDED,payload:{networkConfigurationId:e,nickname:t}}},n.setNewNftAddedMessage=function(e){return{type:N.SET_NEW_NFT_ADDED_MESSAGE,payload:e}},n.setNewTokensImported=function(e){return{type:N.SET_NEW_TOKENS_IMPORTED,payload:e}},n.setNewTokensImportedError=function(e){return{type:N.SET_NEW_TOKENS_IMPORTED_ERROR,payload:e}},n.setNextNonce=pe,n.setOpenMetamaskTabsIDs=we,n.setOpenSeaEnabled=function(e){return async t=>{t(ae()),r.default.debug("background.setOpenSeaEnabled");try{await(0,C.submitRequestToBackground)("setOpenSeaEnabled",[e])}finally{t(oe())}}},n.setOutdatedBrowserWarningLastShown=function(e){return async()=>{await(0,C.submitRequestToBackground)("setOutdatedBrowserWarningLastShown",[e])}},n.setOverrideContentSecurityPolicyHeader=function(e){return async t=>{t(ae()),await(0,C.submitRequestToBackground)("setOverrideContentSecurityPolicyHeader",[e]),t(oe())}},n.setParticipateInMetaMetrics=function(e){return t=>(r.default.debug("background.setParticipateInMetaMetrics"),new Promise(((n,a)=>{(0,C.callBackgroundMethod)("setParticipateInMetaMetrics",[e],((o,s)=>{if(r.default.debug(o),o)return t(ie(o)),void a(o);t({type:N.SET_PARTICIPATE_IN_METAMETRICS,value:e}),n([e,s])}))})))},n.setPendingTokens=function(e){const{customToken:t,selectedTokens:n={},tokenAddressList:a=[]}=e,r=null!=t&&t.address&&null!=t&&t.symbol&&Boolean((null==t?void 0:t.decimals)>=0&&(null==t?void 0:t.decimals)<=36)?{...n,[t.address]:{...t,isCustom:!0}}:n;return Object.keys(r).forEach((e=>{const t=a.find((t=>(0,S.isEqualCaseInsensitive)(t,e)));r[e]={...r[e],unlisted:!t}})),{type:N.SET_PENDING_TOKENS,payload:r}},n.setPreference=ce,n.setPrivacyMode=function(e){return ce("privacyMode",e,!1)},n.setRecoveryPhraseReminderHasBeenShown=function(){return()=>{(0,C.callBackgroundMethod)("setRecoveryPhraseReminderHasBeenShown",[],(e=>{if((0,B.isErrorWithMessage)(e))throw new Error((0,B.getErrorMessage)(e))}))}},n.setRecoveryPhraseReminderLastShown=function(e){return()=>{(0,C.callBackgroundMethod)("setRecoveryPhraseReminderLastShown",[e],(e=>{if((0,B.isErrorWithMessage)(e))throw new Error((0,B.getErrorMessage)(e))}))}},n.setRemoveNftMessage=function(e){return{type:N.SET_REMOVE_NFT_MESSAGE,payload:e}},n.setRequestAccountTabIds=he,n.setSecurityAlertsEnabled=function(e){try{(0,C.submitRequestToBackground)("setSecurityAlertsEnabled",[e])}catch(e){(0,B.logErrorWithMessage)(e)}},n.setSeedPhraseBackedUp=fe,n.setSelectedAccount=function(e){return async(t,n)=>{t(ae()),r.default.debug("background.setSelectedAccount");const a=n(),o=(0,w.getUnconnectedAccountAlertEnabledness)(a),s=a.activeTab.origin,i=(0,m.getSelectedInternalAccount)(a),c=(0,m.getInternalAccountByAddress)(a,e),u=(0,m.getAllPermittedAccountsForCurrentTab)(a),d=(0,P.isInternalAccountInPermittedAccountIds)(i,u),l=(0,P.isInternalAccountInPermittedAccountIds)(c,u),g=Boolean(s)&&d&&!l;try{await Y(c.id),await le(t)}catch(e){return void t(ie(e))}finally{t(oe())}o&&g&&(t((0,h.switchedToUnconnectedAccount)()),await Se(s))}},n.setSelectedInternalAccount=function(e){return async t=>{t(ae()),r.default.debug("background.setSelectedInternalAccount");try{await Y(e)}catch(e){return void t(ie(e))}finally{t(oe())}}},n.setSelectedNetworkConfigurationId=function(e){return{type:N.SET_SELECTED_NETWORK_CONFIGURATION_ID,payload:e}},n.setSelectedQuoteAggId=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSelectedQuoteAggId",[e]),await le(t)}},n.setServiceWorkerKeepAlivePreference=function(e){return async t=>{t(ae()),r.default.debug("background.setServiceWorkerKeepAlivePreference");try{await(0,C.submitRequestToBackground)("setServiceWorkerKeepAlivePreference",[e])}catch(e){t(ie(e))}finally{t(oe())}}},n.setShowExtensionInFullSizeView=function(e){return ce("showExtensionInFullSizeView",e)},n.setShowFiatConversionOnTestnetsPreference=function(e){return ce("showFiatInTestnets",e)},n.setShowMultiRpcModal=function(e){return ce("showMultiRpcModal",e)},n.setShowNativeTokenAsMainBalancePreference=function(e){return ce("showNativeTokenAsMainBalance",e)},n.setShowTestNetworks=function(e){return ce("showTestNetworks",e)},n.setSlides=function(e){return{type:N.SET_SLIDES,slides:e}},n.setSmartTransactionsPreferenceEnabled=function(e){return async(t,n)=>{const a=(0,E.getSmartTransactionsOptInStatusInternal)(n());be({category:T.MetaMetricsEventCategory.Settings,event:T.MetaMetricsEventName.SettingsUpdated,properties:{stx_opt_in:e,prev_stx_opt_in:a}}),await t(ce("smartTransactionsOptInStatus",e)),await le(t)}},n.setSmartTransactionsRefreshInterval=function(e){return async()=>{if(e!==undefined&&null!==e)try{await(0,C.submitRequestToBackground)("setStatusRefreshInterval",[e])}catch(e){(0,B.logErrorWithMessage)(e)}}},n.setSnapsAddSnapAccountModalDismissed=async function(){await(0,C.submitRequestToBackground)("setSnapsAddSnapAccountModalDismissed",[!0])},n.setSnapsInstallPrivacyWarningShownStatus=function(e){return async()=>{await(0,C.submitRequestToBackground)("setSnapsInstallPrivacyWarningShownStatus",[e])}},n.setSwapsErrorKey=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsErrorKey",[e]),await le(t)}},n.setSwapsFeatureFlags=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsFeatureFlags",[e]),await le(t)}},n.setSwapsLiveness=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsLiveness",[e]),await le(t)}},n.setSwapsQuotesPollingLimitEnabled=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsQuotesPollingLimitEnabled",[e]),await le(t)}},n.setSwapsTokens=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsTokens",[e]),await le(t)}},n.setSwapsTxGasLimit=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsTxGasLimit",[e,!0]),await le(t)}},n.setSwapsTxGasPrice=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsTxGasPrice",[e]),await le(t)}},n.setSwitchedNetworkDetails=J,n.setTermsOfUseLastAgreed=function(e){return async()=>{await(0,C.submitRequestToBackground)("setTermsOfUseLastAgreed",[e])}},n.setTheme=function(e){return async t=>{t(ae()),r.default.debug("background.setTheme");try{await(0,C.submitRequestToBackground)("setTheme",[e])}finally{t(oe())}}},n.setTokenNetworkFilter=function(e){return ce("tokenNetworkFilter",e,!1)},n.setTokenSortConfig=function(e){return ce("tokenSortConfig",e,!1)},n.setTransactionActive=function(e,t){return async()=>{await(0,C.submitRequestToBackground)("setTransactionActive",[e,t])}},n.setUnconnectedAccountAlertShown=Se,n.setUse4ByteResolution=function(e){return async t=>{t(ae()),r.default.debug("background.setUse4ByteResolution");try{await(0,C.submitRequestToBackground)("setUse4ByteResolution",[e])}catch(e){t(ie(e))}finally{t(oe())}}},n.setUseAddressBarEnsResolution=function(e){return t=>{r.default.debug("background.setUseAddressBarEnsResolution"),(0,C.callBackgroundMethod)("setUseAddressBarEnsResolution",[e],(e=>{e&&t(ie(e))}))}},n.setUseBlockie=function(e){return t=>{t(ae()),r.default.debug("background.setUseBlockie"),(0,C.callBackgroundMethod)("setUseBlockie",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseCurrencyRateCheck=function(e){return t=>{t(ae()),r.default.debug("background.setUseCurrencyRateCheck"),(0,C.callBackgroundMethod)("setUseCurrencyRateCheck",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseExternalNameSources=function(e){try{(0,C.submitRequestToBackground)("setUseExternalNameSources",[e])}catch(e){(0,B.logErrorWithMessage)(e)}},n.setUseMultiAccountBalanceChecker=function(e){return t=>{t(ae()),r.default.debug("background.setUseMultiAccountBalanceChecker"),(0,C.callBackgroundMethod)("setUseMultiAccountBalanceChecker",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseNftDetection=function(e){return async t=>{t(ae()),r.default.debug("background.setUseNftDetection");try{await(0,C.submitRequestToBackground)("setUseNftDetection",[e])}finally{t(oe())}}},n.setUsePhishDetect=function(e){return t=>{t(ae()),r.default.debug("background.setUsePhishDetect"),(0,C.callBackgroundMethod)("setUsePhishDetect",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseSafeChainsListValidation=function(e){return t=>{t(ae()),r.default.debug("background.setUseSafeChainsListValidation"),(0,C.callBackgroundMethod)("setUseSafeChainsListValidation",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseTokenDetection=function(e){return t=>{t(ae()),r.default.debug("background.setUseTokenDetection"),(0,C.callBackgroundMethod)("setUseTokenDetection",[e],(e=>{t(oe()),e&&t(ie(e))}))}},n.setUseTransactionSimulations=function(e){try{(0,C.submitRequestToBackground)("setUseTransactionSimulations",[e])}catch(e){(0,B.logErrorWithMessage)(e)}},n.setWatchEthereumAccountEnabled=async function(e){try{await(0,C.submitRequestToBackground)("setWatchEthereumAccountEnabled",[e])}catch(e){(0,B.logErrorWithMessage)(e)}},n.setWeb3ShimUsageAlertDismissed=async function(e){await(0,C.submitRequestToBackground)("setWeb3ShimUsageAlertDismissed",[e])},n.showAccountsPage=X,n.showAlert=function(e){return{type:N.ALERT_OPEN,payload:e}},n.showConfTxPage=Z,n.showConfirmTurnOffProfileSyncing=function(){return e=>{e(te({name:"CONFIRM_TURN_OFF_PROFILE_SYNCING"}))}},n.showConfirmTurnOnMetamaskNotifications=function(){return e=>{e(te({name:"TURN_ON_METAMASK_NOTIFICATIONS"}))}},n.showDeprecatedNetworkModal=function(){return{type:N.DEPRECATED_NETWORK_POPOVER_OPEN}},n.showImportNftsModal=function(e){return{type:N.IMPORT_NFTS_MODAL_OPEN,payload:e}},n.showImportTokensModal=function(){return{type:N.IMPORT_TOKENS_POPOVER_OPEN}},n.showIpfsModal=function(){return{type:N.SHOW_IPFS_MODAL_OPEN}},n.showKeyringSnapRemovalModal=function(e){return{type:N.SHOW_KEYRING_SNAP_REMOVAL_RESULT,payload:e}},n.showLoadingIndication=ae,n.showModal=te,n.showNetworkDropdown=function(){return{type:N.NETWORK_DROPDOWN_OPEN}},n.showNftStillFetchingIndication=re,n.showPermittedNetworkToast=function(){return{type:N.SHOW_PERMITTED_NETWORK_TOAST_OPEN}},n.showPrivateKey=function(e){return{type:N.SHOW_PRIVATE_KEY,payload:e}},n.showQrScanner=function(){return e=>{e(te({name:"QR_SCANNER"}))}},n.showSendTokenPage=function(){return{type:N.SHOW_SEND_TOKEN_PAGE}},n.signAndSendSmartTransaction=function({unsignedTransaction:e,smartTransactionFees:t}){return async n=>{const a=await Ee(e,t.fees);try{return(await(0,C.submitRequestToBackground)("submitSignedTransactions",[{signedTransactions:a,signedCanceledTransactions:[],txParams:e}])).uuid}catch(e){if((0,B.logErrorWithMessage)(e),(0,B.isErrorWithMessage)(e)){const t=(0,B.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,b.parseSmartTransactionsError)(t);n({type:N.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.stopPollingForQuotes=function(){return async e=>{await(0,C.submitRequestToBackground)("stopPollingForQuotes"),await le(e)}},n.submitPassword=D,n.submitQRHardwareCryptoAccount=async function(e){await(0,C.submitRequestToBackground)("submitQRHardwareCryptoAccount",[e])},n.submitQRHardwareCryptoHDKey=async function(e){await(0,C.submitRequestToBackground)("submitQRHardwareCryptoHDKey",[e])},n.submitQRHardwareSignature=async function(e,t){await(0,C.submitRequestToBackground)("submitQRHardwareSignature",[e,t])},n.syncInternalAccountsWithUserStorage=function(){return async()=>{try{return await(0,C.submitRequestToBackground)("syncInternalAccountsWithUserStorage")}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.throwTestBackgroundError=async function(e){await(0,C.submitRequestToBackground)("throwTestError",[e])},n.toggleAccountMenu=function(){return{type:N.TOGGLE_ACCOUNT_MENU}},n.toggleExternalServices=function(e){return async t=>{r.default.debug("background.toggleExternalServices");try{await(0,C.submitRequestToBackground)("toggleExternalServices",[e]),await le(t)}catch(e){t(ie(e))}}},n.toggleNetworkMenu=function(e){return{type:N.TOGGLE_NETWORK_MENU,payload:e}},n.tokenBalancesStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("tokenBalancesStartPolling",[{chainId:e}]);return await ye(t),t},n.tokenBalancesStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("tokenBalancesStopPollingByPollingToken",[e]),await ke(e)},n.tokenDetectionStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("tokenDetectionStartPolling",[{chainIds:e}]);return await ye(t),t},n.tokenDetectionStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("tokenDetectionStopPollingByPollingToken",[e]),await ke(e)},n.tokenListStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("tokenListStartPolling",[{chainId:e}]);return await ye(t),t},n.tokenListStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("tokenListStopPollingByPollingToken",[e]),await ke(e)},n.tokenRatesStartPolling=async function(e){const t=await(0,C.submitRequestToBackground)("tokenRatesStartPolling",[{chainId:e}]);return await ye(t),t},n.tokenRatesStopPollingByPollingToken=async function(e){await(0,C.submitRequestToBackground)("tokenRatesStopPollingByPollingToken",[e]),await ke(e)},n.trackInsightSnapUsage=function(e){return async()=>{await(0,C.submitRequestToBackground)("trackInsightSnapView",[e])}},n.trackMetaMetricsEvent=be,n.trackMetaMetricsPage=function(e,t){return(0,C.submitRequestToBackground)("trackMetaMetricsPage",[{...e,actionId:(0,C.generateActionId)()},t])},n.tryReverseResolveAddress=function(e){return()=>new Promise((t=>{(0,C.callBackgroundMethod)("tryReverseResolveAddress",[e],(e=>{e&&(0,B.logErrorWithMessage)(e),t()}))}))},n.tryUnlockMetamask=function(e){return t=>(t(ae()),t(K()),r.default.debug("background.submitPassword"),new Promise(((t,n)=>{(0,C.callBackgroundMethod)("submitPassword",[e],(e=>{e?n(e):t()}))})).then((()=>(t($()),le(t)))).then((()=>{t(oe())})).catch((e=>(t(V((0,B.getErrorMessage)(e))),t(oe()),Promise.reject(e)))))},n.unMarkPasswordForgotten=j,n.unlockAndGetSeedPhrase=function(e){return async t=>{t(ae());try{await D(e);const n=await L(e);return await le(t),n}catch(e){throw t(ie(e)),(0,B.isErrorWithMessage)(e)?new Error((0,B.getErrorMessage)(e)):e}finally{t(oe())}}},n.unlockFailed=V,n.unlockHardwareWalletAccounts=function(e,t,n,a){return r.default.debug("background.unlockHardwareWalletAccount",e,t,n,a),async r=>{r(ae());for(const o of e)try{await(0,C.submitRequestToBackground)("unlockHardwareWalletAccount",[o,t,n,a])}catch(e){throw(0,B.logErrorWithMessage)(e),r(ie(e)),r(oe()),e}return r(oe()),undefined}},n.unlockInProgress=K,n.unlockSucceeded=$,n.updateAccountsList=function(e){return async()=>{await(0,C.submitRequestToBackground)("updateAccountsList",[e])}},n.updateAndApproveTx=function(e,t,n){return(a,r)=>{!t&&a(ae(n));const o=()=>Boolean(r().send.stage!==p.SEND_STAGES.INACTIVE);return new Promise(((t,n)=>{const r=(0,C.generateActionId)();(0,C.callBackgroundMethod)("resolvePendingApproval",[String(e.id),{txMeta:e,actionId:r},{waitForResult:!0}],(r=>{if(a(G(e.id,e.txParams)),o()||a((0,p.resetSendState)()),r)return a(q()),(0,B.logErrorWithMessage)(r),void n(r);t(e)}))})).then((()=>le(a))).then((()=>(o()||a((0,p.resetSendState)()),a(H(e.id)),a(oe()),a(U("")),a(ne()),e))).catch((e=>(a(oe()),Promise.reject(e))))}},n.updateCurrentLocale=ge,n.updateCustomNonce=U,n.updateCustomSwapsEIP1559GasParams=function({gasLimit:e,maxFeePerGas:t,maxPriorityFeePerGas:n}){return async a=>{await Promise.all([(0,C.submitRequestToBackground)("setSwapsTxGasLimit",[e]),(0,C.submitRequestToBackground)("setSwapsTxMaxFeePerGas",[t]),(0,C.submitRequestToBackground)("setSwapsTxMaxFeePriorityPerGas",[n])]),await le(a)}},n.updateDataDeletionTaskStatus=async function(){return await(0,C.submitRequestToBackground)("updateDataDeletionTaskStatus")},n.updateEditableParams=function(e,t){return async n=>{let a;try{a=await(0,C.submitRequestToBackground)("updateEditableParams",[e,t])}catch(e){throw(0,B.logErrorWithMessage)(e),e}return await le(n),a}},n.updateEventFragment=function(e,t){return(0,C.submitRequestToBackground)("updateEventFragment",[e,t])},n.updateHiddenAccountsList=function(e){return async()=>{await(0,C.submitRequestToBackground)("updateHiddenAccountsList",[e])}},n.updateInterfaceState=function(e,t){return async n=>{await(0,C.submitRequestToBackground)("updateInterfaceState",[e,t]),await le(n)}},n.updateMetamaskState=Q,n.updateNetwork=function(e,t={}){return async n=>{r.default.debug("background.updateNetwork",e);try{return await(0,C.submitRequestToBackground)("updateNetwork",[e.chainId,e,t])}catch(e){(0,B.logErrorWithMessage)(e),n(ie("Had a problem updading networks!"))}return undefined}},n.updateNetworksList=function(e){return async()=>{await(0,C.submitRequestToBackground)("updateNetworksList",[e])}},n.updateNftDropDownState=function(e){return async t=>{await(0,C.submitRequestToBackground)("updateNftDropDownState",[e]),await le(t)}},n.updateOnChainTriggersByAccount=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("updateOnChainTriggersByAccount",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.updatePreviousGasParams=function(e,t){return async()=>{let n;try{n=await(0,C.submitRequestToBackground)("updatePreviousGasParams",[e,t])}catch(e){throw(0,B.logErrorWithMessage)(e),e}return n}},n.updateProposedNames=function(e){return async()=>await(0,C.submitRequestToBackground)("updateProposedNames",[e])},n.updateSlides=function(e){return async()=>{try{await(0,C.submitRequestToBackground)("updateSlides",[e])}catch(e){throw(0,B.logErrorWithMessage)(e),e}}},n.updateSmartTransaction=function(e,t){return async n=>{try{await(0,C.submitRequestToBackground)("updateSmartTransaction",[{uuid:e,...t}])}catch(e){if((0,B.logErrorWithMessage)(e),(0,B.isErrorWithMessage)(e)){const t=(0,B.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,b.parseSmartTransactionsError)(t);n({type:N.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.updateSnap=function(e,t){return async(n,a)=>{await(0,C.submitRequestToBackground)("updateSnap",[e,t]),await le(n);const r=a(),o=(0,m.getFirstSnapInstallOrUpdateRequest)(r);return null==o?void 0:o.metadata.id}},n.updateSwapsUserFeeLevel=function(e){return async t=>{await(0,C.submitRequestToBackground)("setSwapsUserFeeLevel",[e]),await le(t)}},n.updateThrottledOriginState=function(e,t){return async()=>{await(0,C.submitRequestToBackground)("updateThrottledOriginState",[e,t])}},n.updateTokenType=async function(e){try{return await(0,C.submitRequestToBackground)("updateTokenType",[e])}catch(e){(0,B.logErrorWithMessage)(e)}return undefined},n.updateTransaction=function(e,t){return async n=>{!t&&n(ae());try{await(0,C.submitRequestToBackground)("updateTransaction",[e])}catch(t){throw n(G(e.id,e.txParams)),n(oe()),n(q()),(0,B.logErrorWithMessage)(t),t}try{return n(G(e.id,e.txParams)),await le(n),n(Z({id:e.id})),e}finally{n(oe())}}},n.updateTransactionGasFees=function(e,t){return async()=>{let n;try{n=await(0,C.submitRequestToBackground)("updateTransactionGasFees",[e,t])}catch(e){throw(0,B.logErrorWithMessage)(e),e}return n}},n.updateTransactionParams=G,n.updateTransactionSendFlowHistory=function(e,t,n){return async()=>{let a;try{a=await(0,C.submitRequestToBackground)("updateTransactionSendFlowHistory",[e,t,n])}catch(e){throw(0,B.logErrorWithMessage)(e),e}return a}},n.updateViewedNotifications=function(e){return(0,C.submitRequestToBackground)("updateViewedNotifications",[e])},n.verifyPassword=W;var a=O(e("webextension-polyfill")),r=O(e("loglevel")),o=e("@sentry/browser"),s=e("lodash"),i=e("@metamask/rpc-errors"),c=e("@metamask/profile-sync-controller/sdk"),u=e("@metamask/snaps-utils"),d=O(e("../../shared/lib/switch-direction")),l=e("../../shared/constants/app"),g=e("../../app/scripts/lib/util"),m=e("../selectors"),f=e("../../shared/modules/selectors/networks"),p=e("../ducks/send"),h=e("../ducks/alerts/unconnected-account"),w=e("../ducks/metamask/metamask"),y=e("../../shared/modules/hexstring-utils"),k=e("../../shared/constants/hardware-wallets"),T=e("../../shared/constants/metametrics"),b=e("../pages/swaps/swaps.util"),S=e("../../shared/modules/string-utils"),E=e("../../shared/modules/selectors"),A=e("../../shared/modules/i18n"),R=e("../../shared/modules/conversion.utils"),B=e("../../shared/modules/error"),v=e("../../shared/lib/four-byte"),P=e("../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),M=e("../helpers/constants/notifications"),_=e("../pages/confirmations/selectors/preferences"),N=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./actionConstants")),C=e("./background-connection");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function q(){return{type:N.GO_HOME}}function D(e){return new Promise(((t,n)=>{(0,C.callBackgroundMethod)("submitPassword",[e],(e=>{e?n(e):t()}))}))}function F(e){return new Promise(((t,n)=>{(0,C.callBackgroundMethod)("createNewVaultAndKeychain",[e],(e=>{e?n(e):t(!0)}))}))}function W(e){return new Promise(((t,n)=>{(0,C.callBackgroundMethod)("verifyPassword",[e],(e=>{e?n(e):t(!0)}))}))}async function L(e,n){const a=await(0,C.submitRequestToBackground)("getSeedPhrase",[e,n]);return t.from(a).toString("utf8")}function U(e){return{type:N.UPDATE_CUSTOM_NONCE,value:e}}function H(e){return t=>{t({type:N.COMPLETED_TX,value:{id:e}})}}function G(e,t){return{type:N.UPDATE_TRANSACTION_PARAMS,id:e,value:t}}async function x(e){return(0,C.submitRequestToBackground)("handleSnapRequest",[e])}function j(){return e=>new Promise((e=>{(0,C.callBackgroundMethod)("unMarkPasswordForgotten",[],(()=>{e()}))})).then((()=>le(e)))}function K(){return{type:N.UNLOCK_IN_PROGRESS}}function V(e){return{type:N.UNLOCK_FAILED,value:e}}function $(e){return{type:N.UNLOCK_SUCCEEDED,value:e}}function Q(e){return(t,n)=>{var a,r;const o=n(),i=(0,f.getProviderConfig)(o),{metamask:c}=o;if(null==e||!e.length)return c;const u=function(e,t){const n={...e};for(const e of t){const{op:t,path:a,value:r}=e;if("replace"!==t)throw new Error(`Unsupported patch operation: ${t}`);n[a[0]]=r}return n}(c,e),{currentLocale:d}=c,l=(0,m.getSelectedInternalAccount)(o),g=null==l?void 0:l.address,{currentLocale:h}=u,w=(0,f.getProviderConfig)({metamask:u}),y=(0,m.getSelectedInternalAccount)({metamask:u}),k=null==y?void 0:y.address;d&&h&&d!==h&&t(ge(h)),g!==k&&t({type:N.SELECTED_ADDRESS_CHANGED});const T=(null===(a=u.addressBook)||void 0===a?void 0:a[null==w?void 0:w.chainId])??{},b=(null===(r=c.addressBook)||void 0===r?void 0:r[null==i?void 0:i.chainId])??{},S=(0,m.getMetaMaskAccounts)({metamask:u}),E=(0,m.getMetaMaskAccounts)({metamask:c}),A=S[k],R=S[g];return Object.entries(E).forEach((([e,n])=>{(0,s.isEqual)(n,S[e])||t({type:N.ACCOUNT_CHANGED,payload:{account:S[e]}})})),!1===(0,s.isEqual)(R,A)&&t({type:N.SELECTED_ACCOUNT_CHANGED,payload:{account:A}}),!1===(0,s.isEqual)(b,T)&&t({type:N.ADDRESS_BOOK_UPDATED,payload:{addressBook:T}}),!1===(0,s.isEqual)(c.gasFeeEstimates,u.gasFeeEstimates)&&t({type:N.GAS_FEE_ESTIMATES_UPDATED,payload:{gasFeeEstimates:u.gasFeeEstimates,gasEstimateType:u.gasEstimateType}}),t({type:N.UPDATE_METAMASK_STATE,value:u}),i.chainId!==w.chainId&&(t({type:N.CHAIN_CHANGED,payload:w.chainId}),t((0,p.initializeSendState)({chainHasChanged:!0}))),u}}const z=()=>new Promise(((e,t)=>{(0,C.callBackgroundMethod)("setLocked",[],(n=>{n?t(n):e()}))}));async function Y(e){r.default.debug("background.setSelectedInternalAccount"),await(0,C.submitRequestToBackground)("setSelectedInternalAccount",[e])}function X(){return{type:N.SHOW_ACCOUNTS_PAGE}}function Z({id:e}={}){return{type:N.SHOW_CONF_TX_PAGE,id:e}}function J(e){return async t=>{await(0,C.submitRequestToBackground)("setSwitchedNetworkDetails",[e]),await le(t)}}function ee(e){return async()=>{r.default.debug(`background.setActiveNetworkConfigurationId: ${e}`);try{await(0,C.submitRequestToBackground)("setActiveNetworkConfigurationId",[e])}catch(e){(0,B.logErrorWithMessage)(e)}}}function te(e){return{type:N.MODAL_OPEN,payload:e}}function ne(){return(e,t)=>{const n=t(),a=(0,m.getApprovalFlows)(n);(0,g.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_NOTIFICATION||(0,m.hasTransactionPendingApprovals)(n)||(0,m.getIsSigningQRHardwareTransaction)(n)||0!==a.length||Te()}}function ae(e){return{type:N.SHOW_LOADING,payload:e}}function re(){return{type:N.SHOW_NFT_STILL_FETCHING_INDICATION}}function oe(){return{type:N.HIDE_LOADING}}function se(){return{type:N.HIDE_NFT_STILL_FETCHING_INDICATION}}function ie(e){var t;return(0,B.isErrorWithMessage)(e)?{type:N.DISPLAY_WARNING,payload:(null==e||null===(t=e.cause)||void 0===t?void 0:t.message)||e.message}:"string"==typeof e?{type:N.DISPLAY_WARNING,payload:e}:{type:N.DISPLAY_WARNING,payload:`${e}`}}function ce(e,t,n=!0){return a=>(n&&a(ae()),new Promise(((r,o)=>{(0,C.callBackgroundMethod)("setPreference",[e,t],((e,t)=>{if(n&&a(oe()),e)return a(ie(e)),void o(e);r(t)}))})))}function ue(){return{type:N.COMPLETE_ONBOARDING}}function de(){return{type:N.RESET_ONBOARDING}}async function le(e){let t;try{t=await(0,C.submitRequestToBackground)("getStatePatches")}catch(t){throw e(ie(t)),t}return e(Q(t))}function ge(e){return async t=>{t(ae());try{await(0,A.loadRelativeTimeFormatLocaleData)(e);const n=await(0,A.fetchLocale)(e),a=await(0,C.submitRequestToBackground)("setCurrentLocale",[e]);(0,d.default)(a),t(me(e,n))}catch(e){return void t(ie(e))}finally{t(oe())}}}function me(e,t){return{type:N.SET_CURRENT_LOCALE,payload:{locale:e,messages:t}}}function fe(e){return t=>(r.default.debug("background.setSeedPhraseBackedUp"),new Promise(((n,a)=>{(0,C.callBackgroundMethod)("setSeedPhraseBackedUp",[e],(e=>{if(e)return t(ie(e)),void a(e);le(t).then(n).catch(a)}))})))}function pe(e){return{type:N.SET_NEXT_NONCE,payload:e}}function he(e){return{type:N.SET_REQUEST_ACCOUNT_TABS,payload:e}}function we(e){return{type:N.SET_OPEN_METAMASK_TAB_IDS,payload:e}}async function ye(e){return(0,C.submitRequestToBackground)("addPollingTokenToAppState",[e,l.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,g.getEnvironmentType)()]])}async function ke(e){return(0,C.submitRequestToBackground)("removePollingTokenFromAppState",[e,l.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,g.getEnvironmentType)()]])}async function Te(){try{const e=await a.default.windows.getCurrent();if(e.type&&"popup"!==e.type)return void console.warn(`Not safe to close a window that is not a popup: It is of type: ${e.type}`)}catch(e){console.warn("attemptCloseNotificationPopup: Error encountered while checking window type",e)}await(0,C.submitRequestToBackground)("markNotificationPopupAsAutomaticallyClosed"),window.close();try{const e=await a.default.tabs.getCurrent();await a.default.tabs.remove(e.id)}catch(e){console.error("attemptCloseNotificationPopup: Failed to close tab",e)}}function be(e,t){return(0,C.submitRequestToBackground)("trackMetaMetricsEvent",[{...e,actionId:(0,C.generateActionId)()},t])}async function Se(e){await(0,C.submitRequestToBackground)("setUnconnectedAccountAlertShown",[e])}const Ee=async(e,t,n)=>{const a=t.map((t=>{const a={...e,maxFeePerGas:(0,R.decimalToHex)(t.maxFeePerGas),maxPriorityFeePerGas:(0,R.decimalToHex)(t.maxPriorityFeePerGas),gas:n?(0,R.decimalToHex)(21e3):e.gas,value:e.value};return n&&(a.to=a.from,a.data="0x"),a}));return await(0,C.submitRequestToBackground)("approveTransactionsWithSameNonce",[a])}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/store/actions.ts"}],[7602,{pify:5023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateActionId=n.callBackgroundMethod=void 0,n.setBackgroundConnection=async function(e){o=e,s=(0,r.default)(o)},n.submitRequestToBackground=function(e,t){var n;return null===(n=s)||void 0===n?void 0:n[e](...t??[])};var a,r=(a=e("pify"))&&a.__esModule?a:{default:a};let o=null,s=null;n.generateActionId=()=>Date.now()+Math.random();n.callBackgroundMethod=(e,t,n)=>{var a;null===(a=o)||void 0===a||a[e](...t,n)}}}},{package:"$root$",file:"ui/store/background-connection.ts"}],[80,{"../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5787,"../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-chainids":5788,"../../../../shared/modules/selectors/networks":5824,"@metamask/chain-agnostic-permission":1447,"@metamask/permission-controller":2328,"@metamask/snaps-utils":2853,"@metamask/utils":2967,nanoid:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionBackgroundApiMethods=function({permissionController:e,approvalController:t,accountsController:n,networkController:l,multichainNetworkController:g}){const m=t=>{let n;try{n=e.getCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType)}catch(e){if(!(e instanceof r.PermissionDoesNotExistError))throw e}return n},f=(t,a)=>{const r=m(t);if(!r)throw new Error(`Cannot add account permissions for origin "${t}": no permission currently exists for this origin.`);const s=a.map((e=>n.getAccountByAddress(e))).map((e=>`${e.scopes[0]}:${e.address}`)),f=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(r.value),p=(0,u.getAllScopesFromCaip25CaveatValue)(r.value),h=Array.from(new Set([...f,...s]));let w=[...p];const y=Object.keys((0,d.getNetworkConfigurationsByCaipChainId)({networkConfigurationsByChainId:l.state.networkConfigurationsByChainId,multichainNetworkConfigurationsByChainId:g.state.multichainNetworkConfigurationsByChainId,internalAccounts:n.state.internalAccounts}));h.forEach((e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e);if(!w.some((e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}}))){const e=y.filter((e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}}));w=[...w,...e]}}));const k=(0,o.setPermittedChainIds)(r.value,w),T=(0,o.setPermittedAccounts)(k,h);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,T)},p=(t,n)=>{const a=m(t);if(!a)throw new Error(`Cannot add chain permissions for origin "${t}": no permission currently exists for this origin.`);const r=Array.from(new Set([...(0,u.getAllScopesFromCaip25CaveatValue)(a.value),...n])),s=(0,o.setPermittedChainIds)(a.value,r),i=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(a.value),d=(0,o.setPermittedAccounts)(s,i);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,d)};return{addPermittedAccount:(e,t)=>f(e,[t]),addPermittedAccounts:(e,t)=>f(e,t),removePermittedAccount:(t,a)=>{const r=m(t);if(!r)throw new Error(`Cannot remove account "${a}": No permissions exist for origin "${t}".`);const s=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(r.value),i=n.getAccountByAddress(a),u=s.filter((e=>!(0,c.isInternalAccountInPermittedAccountIds)(i,[e])));if(u.length!==s.length)if(0===u.length)e.revokePermission(t,o.Caip25EndowmentPermissionName);else{const n=(0,o.setPermittedAccounts)(r.value,u);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,n)}},addPermittedChain:(e,t)=>p(e,[t]),addPermittedChains:(e,t)=>p(e,t),removePermittedChain:(t,n)=>{const a=m(t);if(!a)throw new Error(`Cannot remove permission for chainId "${n}": No permissions exist for origin "${t}".`);const r=(0,u.getAllScopesFromCaip25CaveatValue)(a.value),i=r.filter((e=>e!==n));if(i.length!==r.length)if(0!==i.length||(0,s.isSnapId)(t)){const n=(0,o.setPermittedChainIds)(a.value,i);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,n)}else e.revokePermission(t,o.Caip25EndowmentPermissionName)},requestAccountsAndChainPermissionsWithId:n=>{const s=(0,a.nanoid)();return(async(n,a)=>{const{permissions:s}=await t.addAndShowApprovalRequest({id:a,origin:n,requestData:{metadata:{id:a,origin:n},permissions:{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:{requiredScopes:{},optionalScopes:{},isMultichainOrigin:!1}}]}}},type:r.MethodNames.RequestPermissions});e.grantPermissions({subject:{origin:n},approvedPermissions:s})})(n,s),s}}};var a=e("nanoid"),r=e("@metamask/permission-controller"),o=e("@metamask/chain-agnostic-permission"),s=e("@metamask/snaps-utils"),i=e("@metamask/utils"),c=e("../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),u=e("../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-chainids"),d=e("../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[81,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRemovedAuthorizations=n.getChangedAuthorizations=n.diffMap=void 0;n.diffMap=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const a=new Set([...e.keys()]);for(const r of t.keys()){const o=e.get(r)??[];o!==t.get(r)&&n.set(r,o),a.delete(r)}for(const t of a.keys())n.set(t,e.get(t));return n};n.getChangedAuthorizations=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const a=new Set([...e.keys()]);for(const r of t.keys()){const o=e.get(r)??{requiredScopes:{},optionalScopes:{}};t.get(r)!==o&&n.set(r,{requiredScopes:o.requiredScopes,optionalScopes:o.optionalScopes}),a.delete(r)}for(const t of a.keys())n.set(t,e.get(t));return n};n.getRemovedAuthorizations=(e,t)=>{const n=new Map;if(t===undefined||e===t)return n;for(const[a,r]of t.entries()){const t=e.get(a);if(!t){n.set(a,r);continue}const o={};Object.entries(r.requiredScopes).forEach((([e,n])=>{t.requiredScopes[e]||(o[e]=n)}));const s={};Object.entries(r.optionalScopes).forEach((([e,n])=>{t.optionalScopes[e]||(s[e]=n)})),(Object.keys(o).length>0||Object.keys(s).length>0)&&n.set(a,{requiredScopes:o,optionalScopes:s})}return n}}}},{package:"$root$",file:"app/scripts/controllers/permissions/differs.ts"}],[82,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_NAMES=void 0;n.NOTIFICATION_NAMES=function(e){return e.accountsChanged="metamask_accountsChanged",e.chainChanged="metamask_chainChanged",e}({})}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.ts"}],[83,{"./background-api":80,"./differs":81,"./enums":82,"./selectors":84,"./specifications":85},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./background-api");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var r=e("./differs");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=e("./enums");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=e("./specifications");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var i=e("./selectors");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}))}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[84,{"@metamask/chain-agnostic-permission":1447,reselect:5306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermittedChainsByOrigin=n.getPermittedAccountsForScopesByOrigin=n.getPermittedAccountsByOrigin=n.getOriginsWithSessionProperty=n.getAuthorizedScopesByOrigin=void 0;var a=e("@metamask/chain-agnostic-permission"),r=e("reselect");const o=e=>e.subjects;n.getPermittedAccountsByOrigin=(0,r.createSelector)(o,(e=>{const t=new Map;return Object.values(e).forEach((e=>{var n;const r=((null===(n=e.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(r){const n=(0,a.getEthAccounts)(r.value);t.set(e.origin,n)}})),t})),n.getPermittedAccountsForScopesByOrigin=(0,r.createSelector)(o,((e,t)=>t),((e,t)=>{const n=new Map;return Object.values(e).forEach((e=>{var r;const o=((null===(r=e.permissions)||void 0===r||null===(r=r[a.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(o){const r=(0,a.getPermittedAccountsForScopes)(o.value,t);r.length>0&&n.set(e.origin,r)}})),n})),n.getOriginsWithSessionProperty=(0,r.createSelector)(o,((e,t)=>t),((e,t)=>{const n={};return Object.values(e).forEach((e=>{var r,o;const s=((null===(r=e.permissions)||void 0===r||null===(r=r[a.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType)),i=null==s||null===(o=s.value)||void 0===o||null===(o=o.sessionProperties)||void 0===o?void 0:o[t];i!==undefined&&(n[e.origin]=i)})),n})),n.getAuthorizedScopesByOrigin=(0,r.createSelector)(o,(e=>Object.values(e).reduce(((e,t)=>{var n;const r=((null===(n=t.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));return r&&e.set(t.origin,r.value),e}),new Map))),n.getPermittedChainsByOrigin=(0,r.createSelector)(o,(e=>Object.values(e).reduce(((e,t)=>{var n;const r=((null===(n=t.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(r){const n=(0,a.getPermittedEthChainIds)(r.value);e.set(t.origin,n)}return e}),new Map)))}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[85,{"../../../../shared/constants/permissions":5756,"@metamask/chain-agnostic-permission":1447,"@metamask/snaps-rpc-methods":2696},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unrestrictedMethods=n.unrestrictedEthSigningMethods=n.getPermissionSpecifications=n.getCaveatSpecifications=n.PermissionNames=n.CaveatFactories=void 0;var a=e("@metamask/snaps-rpc-methods"),r=e("@metamask/chain-agnostic-permission"),o=e("../../../../shared/constants/permissions");n.PermissionNames=Object.freeze({...o.RestrictedMethods,...o.EndowmentTypes}),n.CaveatFactories=Object.freeze({[r.Caip25CaveatType]:r.createCaip25Caveat});n.getCaveatSpecifications=({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:o})=>({[r.Caip25CaveatType]:(0,r.caip25CaveatBuilder)({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:o}),...a.caveatSpecifications,...a.endowmentCaveatSpecifications});n.getPermissionSpecifications=()=>({[r.caip25EndowmentBuilder.targetName]:r.caip25EndowmentBuilder.specificationBuilder({})});n.unrestrictedEthSigningMethods=Object.freeze(["eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"]),n.unrestrictedMethods=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_requestAccounts","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_subscribe","eth_syncing","eth_uninstallFilter","eth_unsubscribe","metamask_getProviderState","metamask_logWeb3ShimUsage","metamask_sendDomainMetadata","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_addEthereumChain","wallet_getCallsStatus","wallet_getCapabilities","wallet_getPermissions","wallet_requestPermissions","wallet_revokePermissions","wallet_registerOnboarding","wallet_sendCalls","wallet_switchEthereumChain","wallet_watchAsset","web3_clientVersion","web3_sha3","wallet_getAllSnaps","wallet_getSnaps","wallet_requestSnaps","wallet_invokeSnap","wallet_invokeKeyring","snap_getClientStatus","snap_getCurrencyRate","snap_clearState","snap_getFile","snap_getState","snap_listEntropySources","snap_createInterface","snap_updateInterface","snap_getInterfaceState","snap_getInterfaceContext","snap_resolveInterface","snap_setState","snap_scheduleBackgroundEvent","snap_cancelBackgroundEvent","snap_getBackgroundEvents","snap_experimentalProviderRequest"])}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}]],[],{});
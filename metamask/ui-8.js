LavaPack.loadBundle([[6829,{"../../../app/scripts/lib/util":198,"../../../shared/constants/app":5738,"../../components/component-library":6349,"./routes":6828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),o=e("../../components/component-library"),i=e("./routes");const a=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${i.GENERAL_ROUTE}#currency-conversion`,iconName:o.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${i.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:o.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${i.GENERAL_ROUTE}#current-language`,iconName:o.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${i.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${i.GENERAL_ROUTE}#account-identicon`,iconName:o.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${i.GENERAL_ROUTE}#zero-balancetokens`,iconName:o.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${i.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${i.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${i.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${i.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${i.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${i.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${i.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${i.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${i.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${i.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${i.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,n.getPlatform)()!==r.PLATFORM_FIREFOX},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:i.CONTACT_LIST_ROUTE,iconName:o.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${i.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${i.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${i.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${i.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${i.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${i.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${i.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${i.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${i.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${i.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${i.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${i.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${i.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${i.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${i.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${i.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${i.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${i.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${i.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${i.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("profileSync"),descriptionMessage:e=>e("profileSyncDescription"),route:`${i.SECURITY_ROUTE}#profile-sync`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${i.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${i.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${i.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${i.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${i.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${i.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${i.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${i.ABOUT_US_ROUTE}#version`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${i.ABOUT_US_ROUTE}#links`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${i.ABOUT_US_ROUTE}#privacy-policy`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${i.ABOUT_US_ROUTE}#terms`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${i.ABOUT_US_ROUTE}#attributions`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${i.ABOUT_US_ROUTE}#supportcenter`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${i.ABOUT_US_ROUTE}#visitwebsite`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${i.ABOUT_US_ROUTE}#contactus`,iconName:o.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${i.ABOUT_US_ROUTE}#beta-terms`,iconName:o.IconName.Info},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${i.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${i.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Reset States",descriptionMessage:"Reset States",route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states`,icon:o.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Announcements",descriptionMessage:"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,icon:o.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${i.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,icon:o.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:"Results in a timestamp being continuously saved to session.storage",route:`${i.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,icon:o.IconName.CodeCircle}];s.default=a}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[683,{"./RegistryItem":694,"./RegistryType":695,"./lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Bytes=void 0;const n=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");class i extends r.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>o.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new n.DataItem(this.bytes)}}s.Bytes=i,i.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new i(t)},i.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return i.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[6830,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getDelineatorTitle=s.DelineatorType=void 0;let n=s.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});s.getDelineatorTitle=e=>{switch(e){case n.Error:return"errorWithSnap";case n.Insights:return"insightsFromSnap";case n.Description:return"descriptionFromSnap";case n.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[6831,{"./delineator":6830,"./insights":6832},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e("./delineator");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))}));var r=e("./insights");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===r[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[6832,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.InsightWarningLanguage=void 0;s.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[6833,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.SURVEY_START_TIME=s.SURVEY_START_HOUR=s.SURVEY_GMT=s.SURVEY_END_TIME=s.SURVEY_END_HOUR=s.SURVEY_DATE=void 0;s.SURVEY_DATE="February 28 2024";const n=s.SURVEY_GMT="GMT-0600",r=s.SURVEY_START_HOUR="12:00:00",o=s.SURVEY_END_HOUR="13:00:00";s.SURVEY_START_TIME=`${r} ${n}`,s.SURVEY_END_TIME=`${o} ${n}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[6836,{"../../constants/routes":6828,"prop-types":5035,react:5281,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=l;var n=a(e("react")),r=a(e("prop-types")),o=e("react-router-dom"),i=e("../../constants/routes");function a(e){return e&&e.__esModule?e:{default:e}}const c={pathname:i.ONBOARDING_ROUTE},u={pathname:i.UNLOCK_ROUTE};function l(e){const{isUnlocked:t,completedOnboarding:s}=e;switch(!0){case t&&s:return n.default.createElement(o.Route,e);case!s:return n.default.createElement(o.Redirect,{to:c});default:return n.default.createElement(o.Redirect,{to:u})}}l.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[6837,{"./authenticated.component":6836,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=(n=e("./authenticated.component"))&&n.__esModule?n:{default:n};s.default=(0,r.connect)((e=>{const{metamask:{isUnlocked:t,completedOnboarding:s}}=e;return{isUnlocked:t,completedOnboarding:s}}))(o.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[6838,{"./authenticated.container":6837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./authenticated.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[6839,{"prop-types":5035,react:5281,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;var n,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),o=(n=e("prop-types"))&&n.__esModule?n:{default:n},i=e("react-router-dom");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:t})(e)}function c({flag:e,redirectRoute:t,...s}){const n=(0,r.useMemo)((()=>({pathname:t})),[t]);return e?r.default.createElement(i.Route,s):r.default.createElement(i.Redirect,{to:n})}c.propTypes={flag:o.default.bool.isRequired,redirectRoute:o.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[684,{".":702,"./RegistryItem":694,"./RegistryType":695,"./lib":705,buffer:4079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(t){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoAccount=void 0;const n=e("."),r=e("./lib"),o=e("./RegistryItem"),i=e("./RegistryType");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(a||(a={}));class c extends o.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[a.outputDescriptors]=this.outputDescriptors.map((e=>e.toDataItem()))),new r.DataItem(e)}}}s.CryptoAccount=c,c.fromDataItem=e=>{const s=e.getData(),r=t.alloc(4),o=s[a.masterFingerprint];o&&r.writeUInt32BE(o,0);const i=s[a.outputDescriptors].map((e=>n.CryptoOutput.fromDataItem(e)));return new c(r,i)},c.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[6840,{"./initialized.container":6842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./initialized.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[6841,{"../../constants/routes":6828,"prop-types":5035,react:5281,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;var n=i(e("react")),r=i(e("prop-types")),o=e("react-router-dom");function i(e){return e&&e.__esModule?e:{default:e}}const a={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?n.default.createElement(o.Route,e):n.default.createElement(o.Redirect,{to:a})}c.propTypes={completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[6842,{"./initialized.component":6841,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=(n=e("./initialized.component"))&&n.__esModule?n:{default:n};s.default=(0,r.connect)((e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}}))(o.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[6843,{"./with-modal-props":6844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./with-modal-props"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[6844,{"../../../store/actions":7601,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){return(0,n.connect)(o,i)(e)};var n=e("react-redux"),r=e("../../../store/actions");const o=e=>{const{appState:t}=e,{props:s}=t.modal.modalState;return{...s}},i=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[6845,{"../../../../shared/modules/fetch-with-timeout":5811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){var n;Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;const r=(0,((n=e("../../../../shared/modules/fetch-with-timeout"))&&n.__esModule?n:{default:n}).default)(),o={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:s}=await t.json();return s}};s.default=o}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[6846,{"../../../app/scripts/translate":385,"../../../shared/constants/hardware-wallets":5745,"../../../shared/constants/keyring":5746,"../../../shared/constants/network":5752,"../../../shared/lib/snaps/snaps":5791,"../../components/component-library":6349,"../constants/design-system":6822,"@metamask/snaps-sdk/jsx":2825},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getAccountLabels=function(e,t,s,r){if(!t)return[];const o=[],i=s.filter((e=>e.type===a.KeyringType.hdKeyTree));switch(e){case a.KeyringType.hdKeyTree:if(i.length>1){const e=i.findIndex((e=>e.accounts.includes(t.address)));o.push({label:d(e),icon:null})}break;case a.KeyringType.imported:o.push({label:(0,u.t)("imported"),icon:null});break;case a.KeyringType.qr:o.push({label:c.HardwareKeyringNames.qr,icon:null});break;case a.KeyringType.trezor:o.push({label:c.HardwareKeyringNames.trezor,icon:null});break;case a.KeyringType.ledger:o.push({label:c.HardwareKeyringNames.ledger,icon:null});break;case a.KeyringType.oneKey:o.push({label:c.HardwareKeyringNames.oneKey,icon:null});break;case a.KeyringType.lattice:o.push({label:c.HardwareKeyringNames.lattice,icon:null});break;case a.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&i.length>1){const t=i.findIndex((t=>t.metadata.id===e));o.push({label:d(t),icon:null})}if((0,l.isSnapPreinstalled)(t.metadata.snap.id))break;if(r){o.push({label:`${r} (${(0,u.t)("beta")})`,icon:n.IconName.Snaps});break}o.push({label:`${(0,u.t)("snaps")} (${(0,u.t)("beta")})`,icon:n.IconName.Snaps});break}}return o},s.getAccountNameErrorMessage=function(e,t,s,n){const o=e.some((e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==s?void 0:s.toLowerCase())})),i=!s||""===s,a=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${a} \\d+\\s*$`,"iu").test(s||""),u=(null==s?void 0:s.toLowerCase())===(null==n?void 0:n.toLowerCase())||!o&&!c&&!i;let l;u?l=r.InvisibleCharacter:o?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):i&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},s.getAvatarNetworkColor=function(e){switch(e){case o.GOERLI_DISPLAY_NAME:return i.BackgroundColor.goerli;case o.LINEA_GOERLI_DISPLAY_NAME:return i.BackgroundColor.lineaGoerli;case o.LINEA_SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.lineaSepolia;case o.SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.sepolia;default:return undefined}};var n=e("@metamask/snaps-sdk/jsx"),r=e("../../components/component-library"),o=e("../../../shared/constants/network"),i=e("../constants/design-system"),a=e("../../../shared/constants/keyring"),c=e("../../../shared/constants/hardware-wallets"),u=e("../../../app/scripts/translate"),l=e("../../../shared/lib/snaps/snaps");const d=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[6848,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,(e=>e.toUpperCase()))},s.getCurrencySymbol=function(e){const t={EUR:"€",HKD:"$",JPY:"¥",PHP:"₱",RUB:"₽",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[685,{"./RegistryItem":694,"./RegistryType":695,"./lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoCoinInfo=s.Network=s.Type=void 0;const n=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");var i,a,c;!function(e){e.type="1",e.network="2"}(i||(i={})),function(e){e[e.bitcoin=0]="bitcoin"}(a=s.Type||(s.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=s.Network||(s.Network={}));class u extends r.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||a.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[i.type]=this.type),this.network&&(e[i.network]=this.network),new n.DataItem(e)}}}s.CryptoCoinInfo=u,u.fromDataItem=e=>{const t=e.getData(),s=t[i.type],n=t[i.network];return new u(s,n)},u.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[6850,{buffer:4079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(e){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.ExportableContentType=void 0,s.exportAsFile=async function(t,s,r){if(!n[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,s){const r=new window.Blob([t],{contentType:s}),o=n[s],i=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[s]:[o]}}]}),a=await i.createWritable();await a.write(r),await a.close()}(t,s,r):function(t,s,n){const r=e.from(s,"utf8").toString("base64"),o=document.createElement("a");o.href=`data:${n};Base64,${r}`,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}(t,s,r)};const t=s.ExportableContentType={JSON:"application/json",TXT:"text/plain"},n={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[6852,{"../../../shared/constants/gas":5744,"../../../shared/modules/Numeric":5802,"../../../shared/modules/conversion.utils":5807,"./util":6872,"bignumber.js":3970,lodash:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.addTenPercentAndRound=d,s.editGasModeIsSpeedUpOrCancel=function(e){return e===i.EditGasModes.cancel||e===i.EditGasModes.speedUp},s.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const s=Array.isArray(e)?e.slice(0,2):[e],n=Array.isArray(t)?t.slice(0,2):(0,r.times)(s.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(s,n).map((([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t)))).join(" - ")} GWEI`},s.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,s.isMetamaskSuggestedGasEstimate=function(e){return[i.GasRecommendations.high,i.GasRecommendations.medium,i.GasRecommendations.low].includes(e)};var n,r=e("lodash"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},i=e("../../../shared/constants/gas"),a=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}s.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,s)=>{var n;let{maxFeePerGas:r}=e;r=new o.default((0,a.hexWEIToDecGWEI)(d(r)));const i=null==t||null===(n=t[s])||void 0===n?void 0:n.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(i,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[6853,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[6856,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[6858,{"../../../shared/lib/manifestFlags":5784,"../../../shared/lib/trace":5796,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.mmLazy=function(e){return o.default.lazy((async()=>{const t=Date.now(),s=await e(),{componentName:n,component:r}=function(e){let t;if(!e.default){const s=Object.keys(e);if(1===s.length)return t=s[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(s);return c&&Math.random()<c&&((0,a.trace)({name:a.TraceName.LazyLoadComponent,data:{componentName:n},startTime:t}),(0,a.endTrace)({name:a.TraceName.LazyLoadComponent})),r}))};var n,r,o=(n=e("react"))&&n.__esModule?n:{default:n},i=e("../../../shared/lib/manifestFlags"),a=e("../../../shared/lib/trace");const c=null===(r=(0,i.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[6859,{"../../../../app/scripts/lib/multichain/address":137,"../../../../shared/lib/multichain/networks":5790,"@metamask/etherscan-link":1900,"@metamask/utils":2967},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getMultichainBlockExplorerUrl=s.getMultichainAccountUrl=void 0;var n=e("@metamask/etherscan-link"),r=e("@metamask/utils"),o=e("../../../../app/scripts/lib/multichain/address"),i=e("../../../../shared/lib/multichain/networks");s.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};s.getMultichainAccountUrl=(e,t)=>{const{namespace:s}=(0,r.parseCaipChainId)(t.chainId);var a;if(s===r.KnownCaipNamespace.Eip155)return(0,n.getAccountLink)((0,o.normalizeSafeAddress)(e),t.network.chainId,null===(a=t.network)||void 0===a?void 0:a.rpcPrefs);const{blockExplorerFormatUrls:c}=t.network;return c?(0,i.formatBlockExplorerAddressUrl)(c,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[686,{"./RegistryItem":694,"./RegistryType":695,"./lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoECKey=void 0;const n=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");var i;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(i||(i={}));class a extends r.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[i.curve]=this.curve),this.privateKey!==undefined&&(e[i.private]=this.privateKey),e[i.data]=this.data,new n.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}s.CryptoECKey=a,a.fromDataItem=e=>{const t=e.getData(),s=t[i.curve],n=t[i.private],r=t[i.data];if(!r)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new a({data:r,curve:s,privateKey:n})},a.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[6860,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.nftTruncateAltText=s.getNftImageAlt=s.getNftImage=void 0;const n=(e,t)=>{if(e.length<=t)return e;const s=e.substring(0,t),n=s.lastIndexOf(" ");return n>0?`${s.substring(0,n)}...`:`${s}...`};s.nftTruncateAltText=n;s.getNftImageAlt=({name:e,tokenId:t,description:s})=>{if(!e&&!t&&!s)return"";const r=s??`${e??""} ${t??""}`.trim();return n(r,100)};s.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[6861,{"../../../shared/constants/network":5752,"../../../shared/lib/transactions-controller-utils":5798,"../../../shared/modules/conversion.utils":5807,"../constants/metamask-notifications/metamask-notifications":6825,"@ethersproject/providers":564,"bignumber.js":3970},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.formatAmount=s.createTextItems=void 0,s.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},s.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},s.getLeadingZeroCount=s.getAmount=void 0,s.getNetworkDetailsByChainId=function(e){const t=(o.NETWORK_TO_NAME_MAP[e]??"").split(" ")[0]??"",s=o.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e],n=o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e],r=e&&(a=i.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS,c=e,c in a)?i.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]:undefined;var a,c;return{nativeCurrencyName:t,nativeCurrencySymbol:s,nativeCurrencyLogo:n,nativeCurrencyAddress:"0x0000000000000000000000000000000000000000",blockExplorerConfig:r}},s.getRandomKey=s.getNetworkNameByChainId=s.getNetworkFees=void 0,s.getRpcUrlByChainId=f,s.getUsdAmount=void 0,s.hasNetworkFeeFields=g,s.isIpfsURL=void 0;var n=e("bignumber.js"),r=e("@ethersproject/providers"),o=e("../../../shared/constants/network"),i=e("../constants/metamask-notifications/metamask-notifications"),a=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const s=new Date(e);return s.setDate(e.getDate()-1),u(s,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const p={decimalPlaces:4},m=e=>{var t;return(null===(t=(new n.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};s.getLeadingZeroCount=m;const h=(e,t)=>{const s={...p,...t},n=m(e),r=e.toString().includes(".")||n>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(o=s.decimalPlaces,Boolean(null==s?void 0:s.shouldEllipse)&&n>=o),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?s.decimalPlaces:undefined,maximumFractionDigits:s.decimalPlaces}).format(e);return t?`${r}...`:r}var o;return e.toString()};s.formatAmount=h;s.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;s.createTextItems=(e,t)=>({items:e.map(((e,t)=>({text:e,highlighted:t%2==1}))),variant:t});s.getAmount=(e,t,s)=>{if(!e||!t)return"";const n=(0,a.calcTokenAmount)(e,parseFloat(t)).toNumber();return h(n,s)};s.getUsdAmount=(e,t,s)=>{if(!e||!t||!s)return"";const n=(0,a.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${n}`)*parseFloat(s);return h(r)};function f(e){const t=o.FEATURED_RPCS.find((t=>t.chainId===e));if(t)return t.rpcEndpoints[0].url;switch(e){case o.CHAIN_IDS.MAINNET:return o.MAINNET_RPC_URL;case o.CHAIN_IDS.GOERLI:return o.GOERLI_RPC_URL;case o.CHAIN_IDS.SEPOLIA:return o.SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_GOERLI:return o.LINEA_GOERLI_RPC_URL;case o.CHAIN_IDS.LINEA_SEPOLIA:return o.LINEA_SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_MAINNET:return o.LINEA_MAINNET_RPC_URL;case o.CHAIN_IDS.LOCALHOST:return o.LOCALHOST_RPC_URL;default:return o.MAINNET_RPC_URL}}function g(e){return"network_fee"in e.data}s.getNetworkNameByChainId=e=>o.NETWORK_TO_NAME_MAP[e];s.getNetworkFees=async e=>{if(!g(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.chain_id),s={url:f(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},n=new r.JsonRpcProvider(s);if(!n)throw new Error(`No provider found for chainId ${t}`);try{const[t,s,r]=await Promise.all([n.getTransactionReceipt(e.tx_hash),n.getTransaction(e.tx_hash),n.getBlock(e.block_number)]),o=(t,s)=>h(parseFloat(t)*parseFloat(e.data.network_fee.native_token_price_in_usd),{decimalPlaces:s||4}),i=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),a=o(i),u=s.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,p=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:i,transactionFeeInUsd:a,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:p,maxFeePerGas:s.maxFeePerGas?(0,c.hexWEIToDecGWEI)(s.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};s.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[6862,{"../../../app/scripts/controllers/permissions":83,"../../../shared/constants/permissions":5756,"../../components/component-library":6349,"../constants/design-system":6822,"./util":6872,"@metamask/chain-agnostic-permission":1447,"@metamask/controller-utils":1471,"@metamask/snaps-rpc-methods":2696,"@metamask/snaps-utils":2853,"deep-freeze-strict":4238,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getPermissionDescription=void 0,s.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:s,getSubjectName:n,subjectName:r}){return Object.entries(s).reduce(((s,[o,i])=>s.concat(T({t:e,isRequestApprovalPermittedChains:t,permissionName:o,permissionValue:i,subjectName:r,getSubjectName:n}))),[]).sort(((e,t)=>e.weight-t.weight))};var n=h(e("deep-freeze-strict")),r=h(e("react")),o=e("@metamask/snaps-rpc-methods"),i=e("@metamask/snaps-utils"),a=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),p=e("../../../app/scripts/controllers/permissions"),m=e("./util");function h(e){return e&&e.__esModule?e:{default:e}}const f=Symbol("unknown"),g=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function y(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const k=(0,n.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[p.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[y(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[y(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map((({path:t,curve:n},o)=>{var a;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(a=t.join("-"))||void 0===a?void 0:a.replace(/'/gu,"h")}-${n}-${o}`,warningMessageSubject:(0,i.getSnapDerivationPathName)(t,n)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${n})`},p=(0,i.getSnapDerivationPathName)(t,n);return p?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},p)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},p),y(s)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),n]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),y(s)])}})),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map((({path:t,curve:n},o)=>{var a;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(a=t.join("-"))||void 0===a?void 0:a.replace(/'/gu,"h")}-${n}-${o}`,warningMessageSubject:(0,i.getSnapDerivationPathName)(t,n)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${n})`},p=(0,i.getSnapDerivationPathName)(t,n);return p?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},p)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(s)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${n})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(s)])}})),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:s})=>t.caveats[0].value.map((({coinType:t},n)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,i.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(s)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${n}`,warningMessageSubject:(0,i.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`}))),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[y(t)]),description:e("permission_getEntropyDescription",[y(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[y(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[y(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[y(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:s})=>{const n=t.caveats[0].value,o={leftIcon:l.IconName.Flash,rightIcon:g,weight:u.PermissionWeight.wallet_snap};return Object.keys(n).map((t=>{const n=s(t);return n?{...o,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},n)]),description:e("permission_accessSnapDescription",[n])}:{...o,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}}))},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[y(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[y(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...n,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[y(s)])}];return(0,a.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===i.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...n,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[y(s)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[y(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[y(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[y(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:i,dapps:a,allowedOrigins:c}=(0,o.getRpcCaveatOrigins)(t),p=[];if(i&&p.push({...n,label:e("permission_rpc",[e("otherSnaps"),y(s)]),description:e("permission_rpcDescription",[e("otherSnaps"),y(s)])}),a&&p.push({...n,label:e("permission_rpc",[e("websites"),y(s)]),description:e("permission_rpcDescription",[e("websites"),y(s)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const s=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map((e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", "))),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},s)])}p.push({...n,label:e("permission_rpc",[t,y(s)]),description:e("permission_rpcDescription",[t,y(s)])})}return p},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[y(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[y(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[y(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[y(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[y(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[y(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:s})=>{const n={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...n,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[y(s)])}];return(0,a.isNonEmptyArray)(t.caveats)&&t.caveats.find((e=>e.type===i.SnapCaveatType.SignatureOrigin&&e.value))&&r.push({...n,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[y(s)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:s})=>Object.keys(t).map((t=>{let n=(0,m.getURLHost)(t);return n||(n=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},n)]),description:e("snapConnectionPermissionDescription",[y(s),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},n)]),leftIcon:undefined,connection:t,connectionName:n,subjectName:s,weight:u.PermissionWeight.connection_permission}})),[f]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),T=({t:e,isRequestApprovalPermittedChains:t,permissionName:s,permissionValue:n,subjectName:r,getSubjectName:o})=>{let i=k[f];Object.hasOwnProperty.call(k,s)&&(i=k[s]);const a=i({t:e,isRequestApprovalPermittedChains:t,permissionName:s,permissionValue:n,subjectName:r,getSubjectName:o});return Array.isArray(a)?a.map((e=>({...e,permissionName:s,permissionValue:n}))):[{...a,permissionName:s,permissionValue:n}]};s.getPermissionDescription=T}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[6863,{"../../../shared/constants/permissions":5756,"@metamask/keyring-api":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.containsEthPermissionsAndNonEvmAccount=void 0;var n=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");s.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const s=Object.keys(r.RestrictedEthMethods),o=Object.keys(t).some((e=>s.includes(e))),i=e.some((e=>!(0,n.isEvmAccountType)(e.type)));return o&&i}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[6864,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getPortfolioUrl=function(e="",t="",s="",n=!1,r=!1,o,i){const a=new URL(e,"https://portfolio.metamask.io");a.searchParams.append("metamaskEntry",t),a.searchParams.append("metametricsId",s),a.searchParams.append("metricsEnabled",String(n)),a.searchParams.append("marketingEnabled",String(r)),o&&a.searchParams.append("accountAddress",o);i&&a.searchParams.append("tab",i);return a.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[6865,{"../../../shared/constants/network":5752,"../../pages/remote-mode/remote.constants":7434},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getChainNamesForDisplayByIds=function(e){return e.map((e=>r.NETWORK_TO_NAME_MAP[e]||`Unknown(${e})`)).join(", ")},s.isRemoteModeSupported=function(e){return n.SUPPORTED_HARDWARE_WALLET_TYPES.includes(e.metadata.keyring.type)};var n=e("../../pages/remote-mode/remote.constants"),r=e("../../../shared/constants/network")}}},{package:"$root$",file:"ui/helpers/utils/remote-mode.ts"}],[6866,{"../constants/settings":6829,_process:5030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(t){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.colorText=c,s.escapeRegExp=void 0,s.getNumberOfSettingRoutesInTab=function(e,t){return a(e,t).length},s.getSettingsRoutes=i,s.getSpecificSettingsRoute=function(e,t,s){return i().find((n=>n.tabMessage(e)===t&&n.sectionMessage(e)===s))},s.handleSettingsRefs=function(e,t,s){const n=a(e,t),r=n.findIndex((e=>e.route.substring(1)===window.location.hash.substring(1)));if(-1===r)return;const o=1===n.length?s:s[r];if(null!=o&&o.current){o.current.scrollIntoView({behavior:"smooth"}),o.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},s.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(u(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach((e=>{const s=e.querySelector(".settings-page__header__search__list__item__tab"),n=e.querySelector(".settings-page__header__search__list__item__section");c(s,t),c(n,t)}))};var n,r=(n=e("../constants/settings"))&&n.__esModule?n:{default:n};let o;function i(){return o||(o=r.default.filter((e=>(!e.featureFlag||t.env[e.featureFlag])&&!e.hidden)),o)}function a(e,t){return i().filter((s=>s.tabMessage(e)===t))}function c(e,t){if(null!==e){let s=e.innerHTML;s=s.replace("&amp;","&"),s=s.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=s.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const u=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s.escapeRegExp=u}).call(this)}).call(this,e("_process"))}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[6868,{"../../../app/scripts/lib/util":198,"../../ducks/metamask/metamask":6810,"../../selectors":7583,"../../selectors/metamask-notifications/metamask-notifications":7584,"../../selectors/nft":7589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getStartupTraceTags=function(e){var t;const s=(0,n.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,o.getInternalAccounts)(e).length,l=(0,a.selectAllNftsFlat)(e).length,d=(0,i.getMetamaskNotifications)(e).length,p=(0,o.selectAllTokensFlat)(e).length,m=(0,o.getTransactions)(e).length,h=(0,o.getPendingApprovals)(e),f=null==h||null===(t=h[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":f,"wallet.token_count":p,"wallet.transaction_count":m,"wallet.unlocked":c,"wallet.ui_type":s}};var n=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),o=e("../../selectors"),i=e("../../selectors/metamask-notifications/metamask-notifications"),a=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[687,{"./CryptoCoinInfo":685,"./CryptoKeypath":688,"./RegistryItem":694,"./RegistryType":695,"./lib":705,bs58check:4083,buffer:4079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(t){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoHDKey=void 0;const n=e("bs58check"),r=e("./CryptoCoinInfo"),o=e("./CryptoKeypath"),i=e("./lib"),a=e("./RegistryItem"),c=e("./RegistryType");var u;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(u||(u={}));class l extends a.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,s,r;let o,i,a=0,c=t.alloc(4).fill(0);if(this.isMaster())o=t.from("0488ADE4","hex"),i=0,a=0;else{i=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(s=this.getOrigin())||void 0===s?void 0:s.getDepth());const n=null===(r=this.getOrigin())||void 0===r?void 0:r.getComponents(),u=n[n.length-1];u&&(a=u.isHardened()?u.getIndex()+2147483648:u.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),o=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const u=t.alloc(1);u.writeUInt8(i,0);const l=t.alloc(4);l.writeUInt32BE(a,0);const d=this.getChainCode(),p=this.getKey();return(0,n.encode)(t.concat([o,u,c,l,d,p]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,s,n,r,o,i;let a="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(a+=`${null===(n=null===(s=this.getOrigin())||void 0===s?void 0:s.getSourceFingerprint())||void 0===n?void 0:n.toString("hex")}/${null===(r=this.getOrigin())||void 0===r?void 0:r.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&(null===(o=this.getChildren())||void 0===o?void 0:o.getPath())&&(a+=`/${null===(i=this.getChildren())||void 0===i?void 0:i.getPath()}`),a},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[u.is_master]=!0,e[u.key_data]=this.key,e[u.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[u.is_private]=this.privateKey),e[u.key_data]=this.key,this.chainCode&&(e[u.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[u.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[u.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[u.children]=t}this.parentFingerprint&&(e[u.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[u.name]=this.name),this.note!==undefined&&(e[u.note]=this.note)}return new i.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}s.CryptoHDKey=l,l.fromDataItem=e=>{const s=e.getData(),n=!!s[u.is_master],i=s[u.is_private],a=s[u.key_data],c=s[u.chain_code],d=s[u.use_info]?r.CryptoCoinInfo.fromDataItem(s[u.use_info]):undefined,p=s[u.origin]?o.CryptoKeypath.fromDataItem(s[u.origin]):undefined,m=s[u.children]?o.CryptoKeypath.fromDataItem(s[u.children]):undefined,h=s[u.parent_fingerprint];let f=undefined;h&&(f=t.alloc(4),f.writeUInt32BE(h,0));const g=s[u.name],y=s[u.note];return new l({isMaster:n,isPrivateKey:i,key:a,chainCode:c,useInfo:d,origin:p,children:m,parentFingerprint:f,name:g,note:y})},l.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[6873,{"../../../app/scripts/lib/util":198,"../../../shared/constants/app":5738},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util");s.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===n.ENVIRONMENT_TYPE_POPUP,t=(0,r.getPlatform)()===(n.PLATFORM_FIREFOX||n.PLATFORM_BRAVE),s=(await window.navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),o=s.length>0,i=s.some((e=>e.label&&e.label.length>0));if(o){let s=!0;return(t&&e||e&&!i)&&(s=!1),{permissions:i,environmentReady:s}}const a=new Error("No webcam found");throw a.type="NO_WEBCAM_FOUND",a}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[6874,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.openWindow=void 0;s.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[6875,{"../../../shared/constants/multichain/networks":5751,"../../selectors":7583,"./useMultichainWalletSnapClient":6876,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountCreationOnNetworkChange=void 0;var n=e("react-redux"),r=e("../../../shared/constants/multichain/networks"),o=e("../../selectors"),i=e("./useMultichainWalletSnapClient");s.useAccountCreationOnNetworkChange=()=>{const e=(0,i.useMultichainWalletSnapClient)(i.WalletClientType.Bitcoin),t=(0,i.useMultichainWalletSnapClient)(i.WalletClientType.Solana),s=(0,n.useSelector)(o.getMetaMaskAccountsOrdered);return{createAccount:async s=>{switch(s){case r.MultichainNetworks.BITCOIN:await e.createAccount({scope:r.MultichainNetworks.BITCOIN});break;case r.MultichainNetworks.SOLANA:await t.createAccount({scope:r.MultichainNetworks.SOLANA});break;default:throw new Error(`Unsupported chainId: ${s}`)}},hasAnyAccountsInNetwork:e=>s.some((({scopes:t})=>t.includes(e)))}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[6876,{"../../../shared/lib/accounts":5772,"../../../shared/lib/accounts/bitcoin-wallet-snap":5771,"../../../shared/lib/accounts/solana-wallet-snap":5775,"../../store/actions":7601,"@metamask/keyring-controller":1990,"@metamask/snaps-utils":2853,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.WalletClientType=s.MultichainWalletSnapSender=s.MultichainWalletSnapClient=void 0,s.useMultichainWalletSnapClient=function(e){return(0,r.useMemo)((()=>new v(e)),[e])},s.useMultichainWalletSnapSender=function(e){return(0,r.useMemo)((()=>new y(e)),[e])};var n=e("@metamask/snaps-utils"),r=e("react"),o=e("@metamask/keyring-controller"),i=e("../../store/actions"),a=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../../shared/lib/accounts");function l(e,t,s){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,s)}function d(e,t){return e.get(m(e,t))}function p(e,t,s){return e.set(m(e,t),s),s}function m(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function h(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let f=s.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e}({});const g={[f.Bitcoin]:{id:a.BITCOIN_WALLET_SNAP_ID,name:a.BITCOIN_WALLET_NAME},[f.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME}};class y{constructor(e){h(this,"snapId",void 0),h(this,"send",(async e=>await(0,i.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:n.HandlerType.OnKeyringRequest,request:e}))),this.snapId=e}}s.MultichainWalletSnapSender=y;var k=new WeakMap,T=new WeakMap;class v{constructor(e){l(this,k,void 0),l(this,T,void 0);const{id:t,name:s}=g[e];if(p(k,this,t),p(T,this,s),!d(k,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return d(k,this)}getSnapName(){return d(T,this)}async createAccount(e,t){const s=await(0,i.createSnapAccount)(d(k,this),e,t);return await(0,i.multichainUpdateBalance)(s.id),await(0,i.multichainUpdateTransactions)(s.id),s}async getNextAvailableAccountName(e){return(0,u.getNextAvailableSnapAccountName)((async()=>(0,i.getNextAvailableAccountName)(o.KeyringTypes.snap)),d(k,this),e)}}s.MultichainWalletSnapClient=v}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[6877,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ActionType=void 0;s.ActionType=function(e){return e.CROSSCHAIN_V1="crosschain-v1",e.SWAPBRIDGE_V1="swapbridge-v1",e}({})}}},{package:"$root$",file:"ui/hooks/bridge/events/types.ts"}],[6878,{"../../../../shared/lib/bridge/metrics":5778,"../../../ducks/bridge/selectors":6800,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useConvertedUsdAmounts=void 0;var n=e("react-redux"),r=e("../../../ducks/bridge/selectors"),o=e("../../../../shared/lib/bridge/metrics");s.useConvertedUsdAmounts=()=>{const{activeQuote:e}=(0,n.useSelector)(r.getBridgeQuotes),{usd:t}=(0,n.useSelector)(r.getFromAmountInCurrency);return(0,o.getConvertedUsdAmounts)({activeQuote:e??undefined,fromAmountInputValueInUsd:t.toString()})}}}},{package:"$root$",file:"ui/hooks/bridge/events/useConvertedUsdAmounts.ts"}],[6879,{"../../../../shared/constants/time":5765,"../../../ducks/bridge/selectors":6800,"../../../pages/bridge/utils/quote":7027,"../useIsTxSubmittable":6889,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useQuoteProperties=void 0;var n=e("react-redux"),r=e("../../../ducks/bridge/selectors"),o=e("../../../pages/bridge/utils/quote"),i=e("../useIsTxSubmittable"),a=e("../../../../shared/constants/time");s.useQuoteProperties=()=>{const{recommendedQuote:e,sortedQuotes:t,quotesInitialLoadTimeMs:s}=(0,n.useSelector)(r.getBridgeQuotes),c=(0,i.useIsTxSubmittable)(),u=s?s/a.SECOND:0;return{can_submit:c,best_quote_provider:(0,o.formatProviderLabel)(null==e?void 0:e.quote),quotes_count:t.length,quotes_list:t.map((e=>(0,o.formatProviderLabel)(e.quote))),initial_load_time_all_quotes:u}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useQuoteProperties.ts"}],[688,{"./PathComponent":693,"./RegistryItem":694,"./RegistryType":695,"./lib":705,buffer:4079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(t){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoKeypath=void 0;const n=e("./lib"),r=e("./PathComponent"),o=e("./RegistryItem"),i=e("./RegistryType");var a;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(a||(a={}));class c extends o.RegistryItem{constructor(e=[],t,s){super(),this.components=e,this.sourceFingerprint=t,this.depth=s,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map((e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach((e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())})),e[a.components]=t,this.sourceFingerprint&&(e[a.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[a.depth]=this.depth),new n.DataItem(e)}}}s.CryptoKeypath=c,c.fromDataItem=e=>{const s=e.getData(),n=[],o=s[a.components];if(o)for(let e=0;e<o.length;e+=2){const t=o[e+1],s=o[e];"number"==typeof s?n.push(new r.PathComponent({index:s,hardened:t})):n.push(new r.PathComponent({hardened:t}))}const i=s[a.source_fingerprint];let u;i&&(u=t.alloc(4),u.writeUInt32BE(i,0));const l=s[a.depth];return new c(n,u,l)},c.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[6880,{"../../../../shared/modules/selectors":5823,"../../../ducks/bridge/selectors":6800,"../../../helpers/utils/hardware":6853,"../../../selectors":7583,"./types":6877,"./useConvertedUsdAmounts":6878,"@metamask/bridge-controller":1384,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useRequestMetadataProperties=void 0;var n=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../ducks/bridge/selectors"),i=e("../../../helpers/utils/hardware"),a=e("../../../selectors"),c=e("../../../../shared/modules/selectors"),u=e("./types"),l=e("./useConvertedUsdAmounts");s.useRequestMetadataProperties=()=>{const{slippage:e}=(0,n.useSelector)(o.getQuoteRequest),t=(0,n.useSelector)(o.getIsBridgeTx),s=(0,n.useSelector)(c.getIsSmartTransaction),{usd_amount_source:d}=(0,l.useConvertedUsdAmounts)(),p=(0,n.useSelector)(a.getCurrentKeyring),m=(0,i.isHardwareKeyring)(p.type)??!1,h=e,f=t?u.ActionType.CROSSCHAIN_V1:u.ActionType.SWAPBRIDGE_V1,g=h!==r.BRIDGE_DEFAULT_SLIPPAGE;return{slippage_limit:e??r.BRIDGE_DEFAULT_SLIPPAGE,custom_slippage:g,is_hardware_wallet:m,swap_type:f,stx_enabled:s,usd_amount_source:d}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestMetadataProperties.ts"}],[6881,{"../../../ducks/bridge/selectors":6800,"@metamask/bridge-controller":1384,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useRequestProperties=void 0;var n=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../ducks/bridge/selectors");s.useRequestProperties=()=>{const{srcChainId:e,destChainId:t,srcTokenAddress:s,destTokenAddress:i}=(0,n.useSelector)(o.getQuoteRequest),a=(0,n.useSelector)(o.getFromToken),c=(0,n.useSelector)(o.getToToken),u=null==a?void 0:a.symbol,l=null==c?void 0:c.symbol,d=s,p=i;return e&&t&&d&&p&&u&&l?{quoteRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(e),chain_id_destination:(0,r.formatChainIdToCaip)(t),token_symbol_source:u,token_symbol_destination:l,token_address_source:d,token_address_destination:p},flippedRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(t),chain_id_destination:(0,r.formatChainIdToCaip)(e),token_symbol_source:l,token_symbol_destination:u,token_address_source:p,token_address_destination:d}}:{}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestProperties.ts"}],[6882,{"../../../ducks/bridge/selectors":6800,"../../../pages/bridge/utils/quote":7027,"./useConvertedUsdAmounts":6878,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTradeProperties=void 0;var n=e("react-redux"),r=e("../../../ducks/bridge/selectors"),o=e("../../../pages/bridge/utils/quote"),i=e("./useConvertedUsdAmounts");s.useTradeProperties=()=>{const{activeQuote:e}=(0,n.useSelector)(r.getBridgeQuotes),{usd_amount_source:t,usd_quoted_gas:s,usd_quoted_return:a}=(0,i.useConvertedUsdAmounts)();return{gas_included:!1,quoted_time_minutes:null!=e&&e.estimatedProcessingTimeInSeconds?e.estimatedProcessingTimeInSeconds/60:0,provider:(0,o.formatProviderLabel)(null==e?void 0:e.quote),usd_amount_source:t,usd_quoted_gas:s,usd_quoted_return:a}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useTradeProperties.ts"}],[6883,{"../../../shared/constants/bridge":5739,"../../../shared/constants/common":5740,"@metamask/bridge-controller":1384,"@metamask/transaction-controller":2909},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function({bridgeHistoryItem:e,srcTxMeta:t}){var s,c,u,l;if((null==t?void 0:t.type)!==n.TransactionType.bridge)return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:d,destChainId:p}=a({bridgeHistoryItem:e});if(!d||!p)return{srcNetwork:undefined,destNetwork:undefined};const m=(0,r.formatChainIdToCaip)(d),h=(0,r.isSolanaChainId)(d)?m:(0,r.formatChainIdToHex)(d),f={chainId:m,name:i.NETWORK_TO_SHORT_NETWORK_NAME_MAP[h],...(0,r.isSolanaChainId)(m)?{isEvm:!1,nativeCurrency:null===(s=(0,r.getNativeAssetForChainId)(d))||void 0===s?void 0:s.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[o.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[h]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(c=(0,r.getNativeAssetForChainId)(d))||void 0===c?void 0:c.symbol,isEvm:!0}},g=(0,r.formatChainIdToCaip)(p),y=(0,r.isSolanaChainId)(p)?g:(0,r.formatChainIdToHex)(p),k={chainId:g,name:i.NETWORK_TO_SHORT_NETWORK_NAME_MAP[y],...(0,r.isSolanaChainId)(g)?{isEvm:!1,nativeCurrency:null===(u=(0,r.getNativeAssetForChainId)(p))||void 0===u?void 0:u.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[o.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[y]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=(0,r.getNativeAssetForChainId)(p))||void 0===l?void 0:l.symbol,isEvm:!0}};return{srcNetwork:f,destNetwork:k}};var n=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),o=e("../../../shared/constants/common"),i=e("../../../shared/constants/bridge");const a=({bridgeHistoryItem:e})=>({srcChainId:e?e.quote.srcChainId:undefined,destChainId:e?e.quote.destChainId:undefined})}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[6884,{"../../ducks/bridge/bridge":6799,"../../ducks/bridge/selectors":6800,"../../ducks/bridge/utils":6801,"../../ducks/metamask/metamask":6810,"../../selectors":7583,"../../selectors/multichain":7587,"../useMultichainSelector":6944,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useBridgeExchangeRates=void 0;var n=e("react"),r=e("react-redux"),o=e("../../ducks/bridge/selectors"),i=e("../../selectors"),a=e("../../ducks/metamask/metamask"),c=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain");s.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(o.getQuoteRequest),{activeQuote:s}=(0,r.useSelector)(o.getBridgeQuotes),p=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),m=(0,r.useSelector)(o.getToChain),h=null==m?void 0:m.chainId,f=(0,r.useSelector)(i.getParticipateInMetaMetrics),g=(0,r.useDispatch)(),y=(0,r.useSelector)(a.getCurrentCurrency),k=s?s.quote.srcAsset.address:e,T=(0,r.useSelector)(o.getFromToken),v=(null==T?void 0:T.address)??k,b=s?s.quote.destAsset.address:t,S=(0,r.useSelector)(o.getToToken),w=(null==S?void 0:S.address)??b,_=(0,r.useSelector)(i.getMarketData);(0,n.useEffect)((()=>{if(p&&v){(0,u.exchangeRateFromMarketData)(p,v,_)||g((0,c.setSrcTokenExchangeRates)({chainId:p,tokenAddress:v,currency:y}))}}),[y,g,p,v,_]),(0,n.useEffect)((()=>{if(h&&w){(0,u.exchangeRateFromMarketData)(h,w,_)||(g((0,c.setDestTokenExchangeRates)({chainId:h,tokenAddress:w,currency:y})),f&&"usd"!==y&&g((0,c.setDestTokenUsdExchangeRates)({chainId:h,tokenAddress:w,currency:"usd"})))}}),[y,g,f,_,h,w])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[6885,{"../../ducks/bridge-status/selectors":6797,"../../helpers/constants/routes":6828,"@metamask/transaction-controller":2909,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FINAL_NON_CONFIRMED_STATUSES=void 0,s.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){var s;const r=(0,o.useHistory)(),u=(0,n.useSelector)(i.selectBridgeHistoryForAccount),l=e.initialTransaction,d=l.id,p=u[d],m=p?Boolean((null==p?void 0:p.status.srcChain.txHash)&&(null===(s=p.status.destChain)||void 0===s?void 0:s.txHash)):null,h=c.includes(l.status)?undefined:()=>{r.push({pathname:`${a.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:p,isBridgeComplete:m,showBridgeTxDetails:h}};var n=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("react-router-dom"),i=e("../../ducks/bridge-status/selectors"),a=e("../../helpers/constants/routes");const c=s.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[6886,{"../../../shared/constants/metametrics":5749,"../../../shared/modules/selectors/networks":5824,"../../contexts/metametrics":6786,"../../ducks/bridge/actions":6798,"../../helpers/constants/routes":6828,"../../helpers/utils/portfolio":6864,"../../selectors":7583,"./useCrossChainSwapsEventTracker":6888,"@metamask/bridge-controller":1384,"@metamask/utils":2967,"ethereumjs-util":4343,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("react-redux"),o=e("react-router-dom"),i=e("ethereumjs-util"),a=e("@metamask/utils"),c=e("@metamask/bridge-controller"),u=e("../../ducks/bridge/actions"),l=e("../../selectors"),d=e("../../contexts/metametrics"),p=e("../../../shared/constants/metametrics"),m=e("../../helpers/constants/routes"),h=e("../../helpers/utils/portfolio"),f=e("../../../shared/modules/selectors/networks"),g=e("./useCrossChainSwapsEventTracker");s.default=()=>{const e=(0,r.useDispatch)(),t=(0,o.useHistory)(),s=(0,n.useContext)(d.MetaMetricsContext),y=(0,g.useCrossChainSwapsEventTracker)(),k=(0,r.useSelector)(l.getMetaMetricsId),T=(0,r.useSelector)(l.getParticipateInMetaMetrics),v=(0,r.useSelector)(l.getDataCollectionForMarketing),b=(0,r.useSelector)(f.getProviderConfig),S=(0,r.useSelector)(l.getUseExternalServices),w=(0,r.useSelector)(l.getIsBridgeEnabled),_=(0,r.useSelector)(l.getIsBridgeChain);(0,n.useEffect)((()=>{S&&e((0,u.setBridgeFeatureFlags)())}),[e,u.setBridgeFeatureFlags]);return{openBridgeExperience:(0,n.useCallback)(((e,n,r,o=!1)=>{if(_&&b)if(w){y({event:p.MetaMetricsEventName.ActionButtonClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{location:"Home"===e?p.MetaMetricsSwapsEventSource.MainView:p.MetaMetricsSwapsEventSource.TokenView,chain_id_source:(0,c.formatChainIdToCaip)(b.chainId),token_symbol_source:n.symbol,token_address_source:n.address}}),s({event:o?p.MetaMetricsEventName.SwapLinkClicked:p.MetaMetricsEventName.BridgeLinkClicked,category:p.MetaMetricsEventCategory.Navigation,properties:{token_symbol:n.symbol,location:e,text:o?"Swap":"Bridge",chain_id:b.chainId}});let r=`${m.CROSS_CHAIN_SWAP_ROUTE}${m.PREPARE_SWAP_ROUTE}`;r+=`?token=${(0,a.isStrictHexString)(n.address)?(0,i.toChecksumAddress)(n.address):n.address}`,o&&(r+="&swaps=true"),t.push(r)}else{const t=(0,h.getPortfolioUrl)("bridge","ext_bridge_button",k,T,v);global.platform.openTab({url:`${t}${r??`&token=${n.address}`}`}),s({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.BridgeLinkClicked,properties:{location:e,text:"Bridge",url:t,chain_id:b.chainId,token_symbol:n.symbol}})}}),[w,_,e,t,k,s,y,T,v,b])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[6887,{"../../ducks/bridge/selectors":6800,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCountdownTimer=void 0;var n=e("react"),r=e("react-redux"),o=e("../../ducks/bridge/selectors");const i=1e3;s.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(o.getBridgeQuotes),t=(0,r.useSelector)(o.getQuoteRefreshRate),[s,a]=(0,n.useState)(t);return(0,n.useEffect)((()=>{e&&a(t-(Date.now()-e)+i)}),[e]),(0,n.useEffect)((()=>{const e=setInterval((()=>{a(Math.max(0,s-i))}),i);return()=>clearInterval(e)}),[s]),s}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[6888,{"../../../shared/constants/metametrics":5749,"../../contexts/metametrics":6786,"./events/types":6877,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCrossChainSwapsEventTracker=void 0;var n=e("react"),r=e("../../contexts/metametrics"),o=e("../../../shared/constants/metametrics"),i=e("./events/types");s.useCrossChainSwapsEventTracker=()=>{const e=(0,n.useContext)(r.MetaMetricsContext);return(0,n.useCallback)((({event:t,category:s,properties:n})=>{e({category:s??o.MetaMetricsEventCategory.CrossChainSwaps,event:t,properties:{action_type:i.ActionType.CROSSCHAIN_V1,...n},value:"value"in n?n.value:undefined})}),[e])}}}},{package:"$root$",file:"ui/hooks/bridge/useCrossChainSwapsEventTracker.ts"}],[6889,{"../../ducks/bridge/selectors":6800,"../../pages/bridge/hooks/useIsMultichainSwap":6997,"../../selectors/multichain":7587,"../useMultichainSelector":6944,"./useLatestBalance":6890,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsTxSubmittable=void 0;var n,r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("react"),a=e("../../ducks/bridge/selectors"),c=e("../../selectors/multichain"),u=e("../useMultichainSelector"),l=e("../../pages/bridge/hooks/useIsMultichainSwap"),d=(n=e("./useLatestBalance"))&&n.__esModule?n:{default:n};s.useIsTxSubmittable=()=>{const e=(0,r.useSelector)(a.getFromToken),t=(0,r.useSelector)(a.getToToken),s=(0,u.useMultichainSelector)(c.getMultichainCurrentChainId),n=(0,r.useSelector)(a.getToChain),p=(0,r.useSelector)(a.getFromAmount),{activeQuote:m}=(0,r.useSelector)(a.getBridgeQuotes),h=(0,l.useIsMultichainSwap)(),{isInsufficientBalance:f,isInsufficientGasBalance:g,isInsufficientGasForQuote:y}=(0,r.useSelector)(a.getValidationErrors),k=(0,d.default)(e),T=(0,i.useMemo)((()=>(0,o.getNativeAssetForChainId)(s)),[s]),v=(0,d.default)(T);return Boolean(e&&t&&s&&(h||n)&&p&&m&&!f(k)&&!g(v)&&!y(v))}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[689,{"./CryptoECKey":686,"./CryptoHDKey":687,"./MultiKey":692,"./RegistryItem":694,"./RegistryType":695,"./ScriptExpression":696,"./lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoOutput=void 0;const n=e("./CryptoECKey"),r=e("./CryptoHDKey"),o=e("./lib"),i=e("./MultiKey"),a=e("./RegistryItem"),c=e("./RegistryType"),u=e("./ScriptExpression");class l extends a.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof r.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof n.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof i.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof n.CryptoECKey||this.cryptoKey instanceof r.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((t=>{const s=t.getTag();e.getTag()===undefined?e.setTag(s):e=new o.DataItem(e,s)})),e}}}s.CryptoOutput=l,l.fromDataItem=e=>{const t=[];let s=e;for(;;){let e=s.getTag();const n=u.ScriptExpression.fromTag(e);if(!n)break;if(t.push(n),!(s.getData()instanceof o.DataItem))break;s=s.getData(),e=s.getTag()}const a=t.length;if(a>0&&(t[a-1].getExpression()===u.ScriptExpressions.MULTISIG.getExpression()||t[a-1].getExpression()===u.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=i.MultiKey.fromDataItem(s);return new l(t,e)}if(s.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=r.CryptoHDKey.fromDataItem(s);return new l(t,e)}{const e=n.CryptoECKey.fromDataItem(s);return new l(t,e)}},l.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[6890,{"../../../shared/constants/multichain/assets":5750,"../../../shared/lib/transactions-controller-utils":5798,"../../../shared/modules/Numeric":5802,"../../selectors":7583,"../../selectors/multichain":7587,"../useAsync":6920,"../useMultichainSelector":6944,"@metamask/bridge-controller":1384,react:5281,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("@metamask/bridge-controller"),o=e("react-router-dom"),i=e("../../selectors"),a=e("../useAsync"),c=e("../../../shared/modules/Numeric"),u=e("../../../shared/lib/transactions-controller-utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain"),p=e("../../../shared/constants/multichain/assets");s.default=e=>{const{search:t}=(0,o.useLocation)(),s=(0,n.useMemo)((()=>new URLSearchParams(t)),[t]),m=(0,n.useMemo)((()=>s.get("token")),[s]),{address:h,id:f}=(0,l.useMultichainSelector)(i.getSelectedInternalAccount),g=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),y=(0,l.useMultichainSelector)(d.getMultichainBalances),k=(0,n.useMemo)((()=>null==y?void 0:y[f]),[y,f]),T=(0,n.useCallback)((()=>(null==e?void 0:e.chainId)&&!m),[m,e]),v=(0,a.useAsyncResult)((async()=>{if(!T()||!e)return undefined;const{chainId:t}=e;return(0,r.isSolanaChainId)(t)?undefined:e.address&&(0,r.formatChainIdToCaip)(g)===(0,r.formatChainIdToCaip)(t)?null===(s=await(0,r.calcLatestSrcBalance)(global.ethereumProvider,h,e.address,(0,r.formatChainIdToHex)(t)))||void 0===s?void 0:s.toString():undefined;var s}),[g,e,h,m,T]),b=(0,n.useMemo)((()=>{if(!T()||!e)return undefined;const{chainId:t,decimals:s,address:n}=e;if((0,r.isSolanaChainId)(t)&&s){var o;const t=(0,r.isNativeAddress)(n)?p.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:e.assetId??e.address;return c.Numeric.from((null==k||null===(o=k[t])||void 0===o?void 0:o.amount)??(null==e?void 0:e.string),10).shiftedBy(-1*e.decimals).toString()}return undefined}),[T,e,k]);if(e&&"number"!=typeof e.decimals)throw new Error(`Failed to calculate latest balance - ${e.symbol} token is missing "decimals" value`);const S=(0,n.useMemo)((()=>null!=e&&e.chainId&&(0,r.isSolanaChainId)(e.chainId)?b:null==v?void 0:v.value),[b,null==v?void 0:v.value,null==e?void 0:e.chainId]);return(0,n.useMemo)((()=>S?(0,u.calcTokenAmount)(S,null==e?void 0:e.decimals):undefined),[S,null==e?void 0:e.decimals])}}}},{package:"$root$",file:"ui/hooks/bridge/useLatestBalance.ts"}],[6891,{"../../../shared/constants/metametrics":5749,"../../ducks/bridge/selectors":6800,"./events/useConvertedUsdAmounts":6878,"./events/useQuoteProperties":6879,"./events/useRequestMetadataProperties":6880,"./events/useRequestProperties":6881,"./events/useTradeProperties":6882,"./useCrossChainSwapsEventTracker":6888,"./useLatestBalance":6890,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useQuoteFetchEvents=void 0;var n,r=e("react"),o=e("react-redux"),i=e("@metamask/bridge-controller"),a=e("../../../shared/constants/metametrics"),c=e("../../ducks/bridge/selectors"),u=e("./useCrossChainSwapsEventTracker"),l=(n=e("./useLatestBalance"))&&n.__esModule?n:{default:n},d=e("./events/useRequestMetadataProperties"),p=e("./events/useRequestProperties"),m=e("./events/useTradeProperties"),h=e("./events/useConvertedUsdAmounts"),f=e("./events/useQuoteProperties");s.useQuoteFetchEvents=()=>{const e=(0,u.useCrossChainSwapsEventTracker)(),{isLoading:t,quotesRefreshCount:s,quoteFetchError:n,quotesInitialLoadTimeMs:g}=(0,o.useSelector)(c.getBridgeQuotes),{insufficientBal:y,srcTokenAddress:k}=(0,o.useSelector)(c.getQuoteRequest),T=(0,o.useSelector)(c.getFromAmount),v=(0,o.useSelector)(c.getValidationErrors),{quoteRequestProperties:b}=(0,p.useRequestProperties)(),S=(0,d.useRequestMetadataProperties)(),{usd_amount_source:w}=(0,h.useConvertedUsdAmounts)(),_=!y,C=(0,f.useQuoteProperties)(),E=(0,m.useTradeProperties)(),I=(0,o.useSelector)(c.getFromToken),M=(0,o.useSelector)(c.getFromChain),A=(0,l.default)(I),P=(0,r.useMemo)((()=>null!=M&&M.chainId?(0,i.getNativeAssetForChainId)(M.chainId):null),[null==M?void 0:M.chainId]),x=(0,l.default)(P),O=(0,r.useMemo)((()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:s,isInsufficientGasForQuote:n,isInsufficientBalance:r}=v,o=[];return e&&o.push("low_return"),t&&o.push("no_quotes"),s(x)&&o.push("insufficient_gas_balance"),n(x)&&o.push("insufficient_gas_for_selected_quote"),r(A)&&o.push("insufficient_balance"),o}),[v]);(0,r.useEffect)((()=>{const n=t&&0===s&&g===undefined;b&&T&&k&&n&&e({event:a.MetaMetricsEventName.CrossChainSwapsQuotesRequested,properties:{...b,...S,has_sufficient_funds:_,usd_amount_source:w}})}),[t,g]),(0,r.useEffect)((()=>{b&&T&&k&&n&&e({event:a.MetaMetricsEventName.CrossChainSwapsQuoteError,properties:{...b,...S,has_sufficient_funds:_,usd_amount_source:w,error_message:n}})}),[n]),(0,r.useEffect)((()=>{T&&k&&!t&&s>=0&&C.initial_load_time_all_quotes>0&&b&&!n&&E&&e({event:a.MetaMetricsEventName.CrossChainSwapsQuotesReceived,properties:{...b,...S,...C,...E,refresh_count:s-1,warnings:O}})}),[s])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[6892,{"../../../shared/constants/bridge":5739,"../../../shared/constants/multichain/networks":5751,"../../../shared/constants/network":5752,"../../../shared/modules/Numeric":5802,"../../ducks/bridge-status/selectors":6797,"../useMultichainTransactionDisplay":6945,"@metamask/bridge-controller":1384,"@metamask/keyring-api":1983,"@metamask/transaction-controller":2909,"@metamask/utils":2967,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){const t=(0,r.useSelector)(m.selectBridgeHistoryForAccount),s=(0,n.useMemo)((()=>{var t;const s=new Map;return null==e||null===(t=e.transactions)||void 0===t||t.forEach((e=>{s.set(e.id,e)})),s}),[e]),f=e=>{var t;if(e===undefined||null===e)return"";const s=e.toString();let n=null===(t=d.MULTICHAIN_PROVIDER_CONFIGS[s])||void 0===t?void 0:t.nickname;if(!n&&!isNaN(Number(e)))try{const t=new u.Numeric(e,10).toPrefixedHexString();n=p.NETWORK_TO_SHORT_NETWORK_NAME_MAP[t]??l.NETWORK_TO_NAME_MAP[t]}catch(e){console.error("Error converting chain ID",e)}return n||s},g={};t&&Object.values(t).forEach((e=>{var t;const s=null===(t=e.status)||void 0===t||null===(t=t.srcChain)||void 0===t?void 0:t.txHash;s&&(g[s]=e)}));let y=e?{...e,transactions:(e.transactions||[]).map((e=>({...e,isBridgeOriginated:!1})))}:{transactions:[],next:null,lastUpdated:Date.now()};const k=[];t&&Object.entries(t).forEach((([e,t])=>{if(t.startTime&&Date.now()-t.startTime<864e5){var n;const e=null===(n=t.status)||void 0===n||null===(n=n.srcChain)||void 0===n?void 0:n.txHash;if(!s.has(e??"")&&e){var r,o,i,u,l,p,m;const s=(("COMPLETE"===(null===(r=t.status)||void 0===r?void 0:r.status)?t.completionTime??t.startTime:t.startTime)??Date.now())/1e3,n=null===(o=t.quote)||void 0===o?void 0:o.srcChainId,h=(0,a.isCaipChainId)(n)?n:d.MultichainNetworks.SOLANA,f=(0,c.getNativeAssetForChainId)(h)??"eip155:1/slip44:60",g={id:e,account:t.account,timestamp:s,type:"send",to:[],from:[{address:t.account,asset:{type:f,amount:(Number((null===(i=t.quote)||void 0===i?void 0:i.srcTokenAmount)??0)/10**((null===(u=t.quote)||void 0===u||null===(u=u.srcAsset)||void 0===u?void 0:u.decimals)??9)).toString(),unit:(null===(l=t.quote)||void 0===l||null===(l=l.srcAsset)||void 0===l?void 0:l.symbol)??"",fungible:!0}}],isBridgeOriginated:!0,bridgeStatus:(null===(p=t.status)||void 0===p?void 0:p.status)??"PENDING",network:(null===(m=t.quote)||void 0===m||null===(m=m.srcChainId)||void 0===m?void 0:m.toString())??"",isBridgeTx:!0,bridgeInfo:undefined,isSourceTxConfirmed:!1};k.push(g)}}}));k.length>0&&(y={...y,transactions:[...y.transactions,...k]});if(!y.transactions.length)return e===undefined&&0===k.length?undefined:y;const T=y.transactions.map((e=>{const t=e.id,n=s.get(t),r=(null==n?void 0:n.status)??o.TransactionStatus.Submitted,a=h.KEYRING_TRANSACTION_STATUS_KEY[r]===i.TransactionStatus.confirmed;if("swap"===e.type&&!e.isBridgeOriginated)return e;const c=t?g[t]:null;if(c){var u,l,d,p,m,y,k,T,v,b;const t=null===(u=c.quote)||void 0===u?void 0:u.srcChainId,s=null===(l=c.quote)||void 0===l?void 0:l.destChainId,n=t!==undefined&&s!==undefined&&t!==s;if(!n)return e;const r={destChainId:s,destChainName:f(s),destAsset:{...(null===(d=c.quote)||void 0===d?void 0:d.destAsset)??{},decimals:(null===(p=c.quote)||void 0===p||null===(p=p.destAsset)||void 0===p?void 0:p.decimals)??18},destTokenAmount:null===(m=c.quote)||void 0===m?void 0:m.destTokenAmount,status:(null===(y=c.status)||void 0===y?void 0:y.status)??"PENDING",destTxHash:null===(k=c.status)||void 0===k||null===(k=k.destChain)||void 0===k?void 0:k.txHash,srcTxHash:null===(T=c.status)||void 0===T||null===(T=T.srcChain)||void 0===T?void 0:T.txHash,provider:null===(v=c.quote)||void 0===v?void 0:v.provider,destBlockExplorerUrl:null===(b=c.quote)||void 0===b||null===(b=b.destChain)||void 0===b?void 0:b.blockExplorerUrl};return e.isBridgeOriginated?{id:e.id,account:e.account,timestamp:e.timestamp,type:e.type,from:e.from,to:e.to,isBridgeOriginated:!0,bridgeStatus:e.bridgeStatus,network:e.network,isBridgeTx:n,bridgeInfo:r,isSourceTxConfirmed:a}:{...e,isBridgeTx:n,bridgeInfo:r,isBridgeOriginated:!1,isSourceTxConfirmed:a}}return e.isBridgeOriginated?{id:e.id,account:e.account,timestamp:e.timestamp,type:e.type,from:e.from,to:e.to,isBridgeOriginated:!0,bridgeStatus:e.bridgeStatus,network:e.network,isBridgeTx:!1,bridgeInfo:undefined,isSourceTxConfirmed:a}:e}));return{...y,transactions:T}};var n=e("react"),r=e("react-redux"),o=e("@metamask/keyring-api"),i=e("@metamask/transaction-controller"),a=e("@metamask/utils"),c=e("@metamask/bridge-controller"),u=e("../../../shared/modules/Numeric"),l=e("../../../shared/constants/network"),d=e("../../../shared/constants/multichain/networks"),p=e("../../../shared/constants/bridge"),m=e("../../ducks/bridge-status/selectors"),h=e("../useMultichainTransactionDisplay")}}},{package:"$root$",file:"ui/hooks/bridge/useSolanaBridgeTransactionMapping.ts"}],[6893,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5803,"../../ducks/bridge/selectors":6800,"../useAsync":6920,"@metamask/bridge-controller":1384,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenAlerts=s.default=void 0;var n=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/selectors"),i=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),a=e("../useAsync");const c=()=>{const e=(0,n.useSelector)(o.getFromToken),t=(0,n.useSelector)(o.getFromChain),s=(0,n.useSelector)(o.getToToken),c=(0,n.useSelector)(o.getToChain),{value:u}=(0,a.useAsyncResult)((async()=>{if(e&&t&&s&&c&&!(0,r.isNativeAddress)(s.address)){const e=(0,i.convertChainIdToBlockAidChainName)(null==c?void 0:c.chainId);if(e)return await(0,i.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(s.address))}return null}),[s,c]);return{tokenAlert:u}};s.useTokenAlerts=c;s.default=c}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[6894,{"../../../shared/constants/bridge":5739,"../../../shared/constants/multichain/networks":5751,"../../../shared/constants/network":5752,"../../../shared/constants/time":5765,"../../../shared/constants/transaction":5767,"../../../shared/lib/asset-utils":5776,"../../../shared/lib/fetch-with-cache":5781,"../../ducks/bridge/selectors":6800,"../../pages/swaps/swaps.util":7565,"../useAsync":6920,"../useMultichainBalances":6943,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokensWithFiltering=void 0;var n,r=e("react"),o=e("react-redux"),i=e("@metamask/bridge-controller"),a=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),p=e("../../../shared/constants/time"),m=e("../../ducks/bridge/selectors"),h=(n=e("../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},f=e("../../../shared/constants/bridge"),g=e("../../../shared/lib/asset-utils"),y=e("../../../shared/constants/multichain/networks");s.useTokensWithFiltering=(e,t,s)=>{const n=(0,o.useSelector)((t=>(0,m.getTopAssetsFromFeatureFlags)(t,e))),{assetsWithBalance:k}=(0,u.useMultichainBalances)(s),T=(0,o.useSelector)((e=>e.metamask.tokensChainsCache)),{value:v,pending:b}=(0,l.useAsyncResult)((async()=>{if(e){if(!(0,i.isSolanaChainId)(e)){var t,s;const n=(0,i.formatChainIdToHex)(e),r=null===(t=T[n])||void 0===t?void 0:t.timestamp,o=null===(s=T[n])||void 0===s?void 0:s.data;if(r&&Date.now()-r<=10*p.MINUTE&&Object.values(o).length>0)return o}return await(0,i.fetchBridgeTokens)(e,i.BridgeClientId.EXTENSION,(async(e,t)=>{const{headers:s,...n}=t??{};return await(0,h.default)({url:e,...n,fetchOptions:{method:"GET",headers:s},cacheOptions:{cacheRefreshTime:10*p.MINUTE},functionName:"fetchBridgeTokens"})}),f.BRIDGE_API_BASE_URL)}return{}}),[e,T]),{value:S,pending:w}=(0,l.useAsyncResult)((async()=>e?n?n.map((e=>({address:e}))):await(0,d.fetchTopAssetsList)(e):[]),[e,n]),_=(0,r.useCallback)((t=>{if(!e||!t)return undefined;const s={...t,chainId:(0,i.isSolanaChainId)(e)?(0,i.formatChainIdToCaip)(e):(0,i.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,g.toAssetId)(t.address,(0,i.formatChainIdToCaip)(e))};return(0,i.isNativeAddress)(t.address)?{...s,type:a.AssetType.native,address:"",image:c.CHAIN_ID_TOKEN_IMAGE_MAP[s.chainId]??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}:{...s,type:a.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}}),[e]);return{filteredTokenListGenerator:(0,r.useCallback)((s=>function*(){const n=(e,n,r)=>s(e,n,r)&&(!t||!r||!(t.symbol===e&&t.address===n&&t.chainId===(0,i.formatChainIdToCaip)(r)));if(e&&S&&v&&0!==Object.keys(v).length){for(const e of k){var r,o,u;if(n(e.symbol,e.address??undefined,e.chainId))if((0,i.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:a.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??y.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,i.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(o=(0,i.getNativeAssetForChainId)(e.chainId))||void 0===o?void 0:o.iconUrl)||(0,g.getAssetImageUrl)(e.address,(0,i.formatChainIdToCaip)(e.chainId)))};else yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:a.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||(null==v||null===(u=v[e.address.toLowerCase()])||void 0===u?void 0:u.iconUrl))??(0,g.getAssetImageUrl)(e.address,(0,i.formatChainIdToCaip)(e.chainId))??""}}for(const t of S){const s=null==v?void 0:v[t.address],r=_(s);r&&n(r.symbol,r.address??undefined,e)&&(yield r)}for(const t of Object.values(v)){const s=_(t);s&&-1===s.symbol.indexOf("$")&&n(s.symbol,s.address??undefined,e)&&(yield s)}}}()),[_,k,S,e,v,t]),isLoading:b||w}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[6895,{"./useAccountSyncing":6896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useAccountSyncing",{enumerable:!0,get:function(){return n.useAccountSyncing}}),Object.defineProperty(s,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return n.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(s,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return n.useShouldDispatchAccountSyncing}});var n=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[6896,{"../../../ducks/metamask/metamask":6810,"../../../selectors":7583,"../../../selectors/identity/authentication":7581,"../../../selectors/identity/profile-syncing":7582,"../../../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldDispatchAccountSyncing=s.useDeleteAccountSyncingDataFromUserStorage=s.useAccountSyncing=void 0;var n,r=(n=e("loglevel"))&&n.__esModule?n:{default:n},o=e("react"),i=e("react-redux"),a=e("../../../store/actions"),c=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const p=()=>{const e=(0,i.useSelector)(c.selectIsAccountSyncingReadyToBeDispatched),t=(0,i.useSelector)(c.selectIsProfileSyncingEnabled),s=(0,i.useSelector)(u.getUseExternalServices),n=(0,i.useSelector)(l.getIsUnlocked),r=(0,i.useSelector)(d.selectIsSignedIn),o=(0,i.useSelector)(l.getCompletedOnboarding);return Boolean(s&&t&&n&&r&&o&&e)};s.useShouldDispatchAccountSyncing=p;s.useAccountSyncing=()=>{const e=(0,i.useDispatch)(),t=p(),s=(0,o.useCallback)((()=>{try{if(!t)return;e((0,a.syncInternalAccountsWithUserStorage)())}catch(e){r.default.error(e)}}),[e,t]);return{dispatchAccountSyncing:s,shouldDispatchAccountSyncing:t}};s.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,i.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,o.useCallback)((async()=>{try{await e((0,a.deleteAccountSyncingDataFromUserStorage)())}catch{}}),[])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[6897,{"./useAutoSignIn":6898,"./useAutoSignOut":6899,"./useSignIn":6900,"./useSignOut":6901},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useAutoSignIn",{enumerable:!0,get:function(){return o.useAutoSignIn}}),Object.defineProperty(s,"useAutoSignOut",{enumerable:!0,get:function(){return i.useAutoSignOut}}),Object.defineProperty(s,"useSignIn",{enumerable:!0,get:function(){return n.useSignIn}}),Object.defineProperty(s,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var n=e("./useSignIn"),r=e("./useSignOut"),o=e("./useAutoSignIn"),i=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[6898,{"../../../ducks/metamask/metamask":6810,"../../../selectors":7583,"../../../selectors/identity/authentication":7581,"../../../selectors/identity/profile-syncing":7582,"../../../selectors/metamask-notifications/metamask-notifications":7584,"./useSignIn":6900,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAutoSignIn=function(){const{signIn:e}=(0,l.useSignIn)(),t=Boolean((0,r.useSelector)(o.getIsUnlocked)),s=Boolean((0,r.useSelector)(i.getUseExternalServices)),d=Boolean((0,r.useSelector)(o.getCompletedOnboarding)),p=(0,r.useSelector)(a.selectIsSignedIn),m=(0,n.useMemo)((()=>!p&&t&&s&&d),[p,t,s,d]),h=(0,r.useSelector)(c.selectIsProfileSyncingEnabled),f=(0,r.useSelector)(i.getParticipateInMetaMetrics),g=(0,r.useSelector)(u.selectIsMetamaskNotificationsEnabled),y=(0,n.useMemo)((()=>h||f||g),[h,f,g]),k=(0,n.useMemo)((()=>m&&y),[m,y]);return{autoSignIn:(0,n.useCallback)((async()=>{k&&await e()}),[k,e]),shouldAutoSignIn:k}};var n=e("react"),r=e("react-redux"),o=e("../../../ducks/metamask/metamask"),i=e("../../../selectors"),a=e("../../../selectors/identity/authentication"),c=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors/metamask-notifications/metamask-notifications"),l=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[6899,{"../../../ducks/metamask/metamask":6810,"../../../selectors":7583,"../../../selectors/identity/authentication":7581,"./useSignOut":6901,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAutoSignOut=function(){const{signOut:e}=(0,c.useSignOut)(),t=Boolean((0,r.useSelector)(o.getIsUnlocked)),s=Boolean((0,r.useSelector)(i.getUseExternalServices)),u=(0,r.useSelector)(a.selectIsSignedIn),l=(0,n.useMemo)((()=>u&&t&&!s),[u,t,s]),d=(0,n.useMemo)((()=>l),[l]);return{autoSignOut:(0,n.useCallback)((async()=>{d&&await e()}),[d,e]),shouldAutoSignOut:d}};var n=e("react"),r=e("react-redux"),o=e("../../../ducks/metamask/metamask"),i=e("../../../selectors"),a=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[690,{"./RegistryItem":694,"./RegistryType":695,"./lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoPSBT=void 0;const n=e("./lib"),r=e("./RegistryItem"),o=e("./RegistryType");class i extends r.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new n.DataItem(this.psbt)}}s.CryptoPSBT=i,i.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new i(t)},i.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return i.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[6900,{"../../../selectors/identity/authentication":7581,"../../../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSignIn=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(a.selectIsSignedIn),s=(0,r.useMemo)((()=>!t),[t]);return{signIn:(0,r.useCallback)((async()=>{if(s)try{await e((0,c.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");i.default.error(t)}}),[e,s])}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[6901,{"../../../selectors/identity/authentication":7581,"../../../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSignOut=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(a.selectIsSignedIn),s=(0,r.useMemo)((()=>Boolean(t)),[t]);return{signOut:(0,r.useCallback)((async()=>{if(s)try{await e((0,c.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");i.default.error(t)}}),[e,s])}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[6902,{"./useProfileSyncing":6903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useDisableProfileSyncing",{enumerable:!0,get:function(){return n.useDisableProfileSyncing}}),Object.defineProperty(s,"useEnableProfileSyncing",{enumerable:!0,get:function(){return n.useEnableProfileSyncing}});var n=e("./useProfileSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/index.ts"}],[6903,{"../../../store/actions":7601,"@metamask/profile-sync-controller/user-storage":2429,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisableProfileSyncing=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{disableProfileSyncing:(0,r.useCallback)((async()=>{s(null);try{await e((0,c.setIsBackupAndSyncFeatureEnabled)(a.BACKUPANDSYNC_FEATURES.main,!1))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");s(t),i.default.error(t)}finally{e((0,c.hideLoadingIndication)())}}),[e]),error:t}},s.useEnableProfileSyncing=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{enableProfileSyncing:(0,r.useCallback)((async()=>{s(null);try{await e((0,c.setIsBackupAndSyncFeatureEnabled)(a.BACKUPANDSYNC_FEATURES.main,!0))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");i.default.error(t),s(t)}}),[e]),error:t}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("@metamask/profile-sync-controller/user-storage"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/useProfileSyncing.ts"}],[6904,{"../../selectors/metamask-notifications/metamask-notifications":7584,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=o(),{featureAnnouncementsReadCount:t}=i(),{onChainMetamaskNotificationsReadCount:s}=a();return{notificationsReadCount:e+t+s}},s.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=o(),{featureAnnouncementsUnreadCount:t}=i(),{onChainMetamaskNotificationsUnreadCount:s}=a();return{notificationsUnreadCount:e+t+s}};var n=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const o=()=>({unreadSnapNotificationsCount:(0,n.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,n.useSelector)(r.getSnapNotificationsReadCount)}),i=()=>{const e=(0,n.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,n.useSelector)(r.getFeatureAnnouncementsUnreadCount),s=(0,n.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:s}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},a=()=>{const e=(0,n.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,n.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),s=(0,n.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:s}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6905,{"../../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCreateNotifications=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)((async()=>{s(null);try{await e((0,a.createOnChainTriggers)())}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),i.default.error(e),e}}),[e]),error:t}},s.useDisableNotifications=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)((async()=>{s(null);try{await e((0,a.disableMetamaskNotifications)())}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),i.default.error(e),e}}),[e]),error:t}},s.useEnableNotifications=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)((async()=>{s(null);try{await e((0,a.enableMetamaskNotifications)())}catch(e){throw s(e instanceof Error?e.message:"An unexpected error occurred"),i.default.error(e),e}}),[e]),error:t}},s.useListNotifications=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)((async()=>{s(!0),c(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const s=await e((0,a.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(s),s}catch(e){throw i.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{s(!1)}}),[e]),notificationsData:u,isLoading:t,error:n}},s.useMarkNotificationAsRead=function(){const e=(0,o.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)((async t=>{try{e((0,a.markMetamaskNotificationsAsRead)(t))}catch(e){throw i.default.error(e),e}}),[e])}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6906,{"../../selectors/metamask-notifications/metamask-notifications":7584,"../../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountSettingsProps=function(e){const t=(0,o.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),s=(0,o.useSelector)(c.selectIsMetamaskNotificationsEnabled),n=function(){const e=(0,o.useDispatch)(),t=(0,r.useCallback)((async t=>{try{return await e((0,a.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[i,u]=(0,r.useState)({}),[l,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),h=(0,r.useMemo)((()=>JSON.stringify(e)),[e]),f=(0,r.useCallback)((async e=>{try{d(!0),m(null);const t=await n(e);u(t)}catch{m("Failed to get account settings")}finally{d(!1)}}),[]);return(0,r.useEffect)((()=>{if(!s)return;const e=JSON.parse(h);f(e)}),[h,n,s]),{data:i,initialLoading:l,error:p,accountsBeingUpdated:t,update:f}},s.useSwitchAccountNotificationsChange=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async(t,n)=>{s(null);try{n?await e((0,a.updateOnChainTriggersByAccount)(t)):await e((0,a.deleteOnChainTriggersByAccount)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");i.default.error(t),s(t)}e((0,a.hideLoadingIndication)())}),[e]),error:t}},s.useSwitchFeatureAnnouncementsChange=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async t=>{s(null);try{await e((0,a.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");s(t)}}),[e]),error:t}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6907,{"../../../shared/lib/snaps/snaps":5791,"../../selectors":7583,"../../selectors/accounts":7574,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useHdKeyringsWithSnapAccounts=void 0;var n=e("react"),r=e("react-redux"),o=e("../../selectors/accounts"),i=e("../../selectors"),a=e("../../../shared/lib/snaps/snaps");s.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(i.getMetaMaskHdKeyrings),t=(0,r.useSelector)(o.getInternalAccounts);return(0,n.useMemo)((()=>e.map((e=>{const s=t.filter((t=>{var s;return t.metadata.snap&&(0,a.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(s=t.options)||void 0===s?void 0:s.entropySource)===e.metadata.id})).map((e=>e.address));return{...e,accounts:[...e.accounts,...s]}}))),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[6908,{"../../../../shared/modules/selectors/networks":5824,"../../../selectors":7583,"@metamask/bridge-controller":1384,"@metamask/utils":2967,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.RampsMetaMaskEntry=void 0;var n=e("react"),r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("@metamask/utils"),a=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors");let u=s.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});s.default=(e=u.BuySellButton)=>{const t=(0,r.useSelector)(a.getCurrentChainId),s=(0,r.useSelector)(c.getMetaMetricsId),l=(0,r.useSelector)(c.getParticipateInMetaMetrics),d=(0,r.useSelector)(c.getDataCollectionForMarketing),p=(0,n.useCallback)((t=>{try{const n=new URLSearchParams;n.set("metamaskEntry",e);let r="";r=(0,o.isSolanaChainId)(t)?t:(0,i.hexToNumber)(t).toString(),n.set("chainId",r),s&&n.set("metametricsId",s),n.set("metricsEnabled",String(l)),d&&n.set("marketingEnabled",String(d));const a=new URL("https://portfolio.metamask.io");return a.pathname="buy",a.search=n.toString(),a.toString()}catch{return"https://portfolio.metamask.io/buy"}}),[d,l,s,e]);return{openBuyCryptoInPdapp:(0,n.useCallback)((e=>{const s=p(e||t);global.platform.openTab({url:s})}),[t,p]),getBuyURI:p}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[6909,{"../../../shared/modules/conversion.utils":5807,"../../../shared/modules/hexstring-utils":5813,"../../selectors/snaps":7598,"@metamask/utils":2967,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisplayName=void 0;var n=e("@metamask/utils"),r=e("react-redux"),o=e("../../selectors/snaps"),i=e("../../../shared/modules/hexstring-utils"),a=e("../../../shared/modules/conversion.utils");s.useDisplayName=e=>{const{address:t,chain:{namespace:s,reference:c}}=e,u=s===n.KnownCaipNamespace.Eip155,l=u?(0,i.toChecksumHexAddress)(t):t,d=(0,r.useSelector)((e=>(0,o.getMemoizedAccountName)(e,l))),p=(0,r.useSelector)((e=>(0,o.getAddressBookEntryByNetwork)(e,l,`0x${(0,a.decimalToHex)(u?c:"0")}`)));return d||u&&(null==p?void 0:p.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[691,{"..":702,"../RegistryType":695,"../errors":697,"@ngraveio/bc-ur":2986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.URRegistryDecoder=void 0;const n=e("@ngraveio/bc-ur"),r=e(".."),o=e("../RegistryType"),i=e("../errors");class a extends n.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case o.RegistryTypes.BYTES.getType():return r.Bytes.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_HDKEY.getType():return r.CryptoHDKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_KEYPATH.getType():return r.CryptoKeypath.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_COIN_INFO.getType():return r.CryptoCoinInfo.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ECKEY.getType():return r.CryptoECKey.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_OUTPUT.getType():return r.CryptoOutput.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_PSBT.getType():return r.CryptoPSBT.fromCBOR(e.cbor);case o.RegistryTypes.CRYPTO_ACCOUNT.getType():return r.CryptoAccount.fromCBOR(e.cbor);default:throw new i.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}s.URRegistryDecoder=a}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[6910,{"../../selectors":7583,"@metamask/snaps-sdk":2742,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useInsightSnaps=function(e){const t=(0,n.useSelector)((t=>(0,o.getSnapInsights)(t,e))),s=t?Object.values(t):[],i=s.filter((e=>e.severity===r.SeverityLevel.Critical));return{data:s,warnings:i}};var n=e("react-redux"),r=e("@metamask/snaps-sdk"),o=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[6911,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=()=>{const e=(0,n.useRef)(null),[t,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{s(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[6912,{"../../store/actions":7601,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSafeWebsite=void 0;var n=e("react"),r=e("../../store/actions");s.useSafeWebsite=e=>{const[t,s]=(0,n.useState)();return(0,n.useEffect)((()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||s(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[6913,{"../../helpers/utils/util":6872,"@metamask/snaps-utils":2853,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react-router-dom"),r=e("@metamask/snaps-utils"),o=e("../../helpers/utils/util");s.default=()=>{const e=(0,n.useHistory)();return{navigate:t=>{let s;const n=(0,r.parseMetaMaskUrl)(t);s=n.snapId?(0,o.getSnapRoute)(n.snapId):n.path,e.push(s)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[6914,{"../../store/actions":7601,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[s,i]=(0,n.useState)(!0),[a,c]=(0,n.useState)(undefined),[u,l]=(0,n.useState)(undefined);return(0,n.useEffect)((()=>{let s=!1;return e&&async function(e){try{l(undefined),i(!0);const n=await(0,o.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});s||(c(n),(0,o.forceUpdateMetamaskState)(t))}catch(e){s||l(e)}finally{s||i(!1)}}(e),()=>{s=!0}}),[e]),{data:a,error:u,loading:s}};var n=e("react"),r=e("react-redux"),o=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[6915,{"../../../shared/constants/swaps":5763,"../../../shared/modules/selectors/networks":5824,"../../ducks/swaps/swaps":6818,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("react-redux"),o=e("lodash"),i=e("../../../shared/modules/selectors/networks"),a=e("../../../shared/constants/swaps"),c=e("../../ducks/swaps/swaps");s.default=function(){const e=(0,r.useSelector)(i.getCurrentChainId),t=(0,r.useSelector)(c.getFromToken,o.isEqual),s=(0,n.useMemo)((()=>{if(!t)return null;const s=a.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return s?s.address===(null==t?void 0:t.address)?a.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:s:null}),[e,null==t?void 0:t.address]);return s||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:s}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[6916,{"../../shared/modules/conversion.utils":5807,"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../helpers/utils/token-util":6869,"../selectors":7583,"ethereumjs-util":4343,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountTotalCrossChainFiatBalance=void 0;var n=e("react-redux"),r=e("ethereumjs-util"),o=e("react"),i=e("../ducks/metamask/metamask"),a=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks");s.useAccountTotalCrossChainFiatBalance=(e,t)=>{const s=(0,n.useSelector)(l.getNetworkConfigurationsByChainId),d=(0,n.useSelector)(i.getCurrencyRates),p=(0,n.useSelector)(i.getCurrentCurrency),m=(0,n.useSelector)(a.getCrossChainTokenExchangeRates,n.shallowEqual),h=(0,n.useSelector)(a.getCrossChainMetaMaskCachedBalances),f=(0,o.useMemo)((()=>({...m})),[m]),g=(0,o.useMemo)((()=>t.map((t=>{var n,o;const{tokensWithBalances:i}=t,a=s[t.chainId].nativeCurrency,l=null==d||null===(n=d[a])||void 0===n?void 0:n.conversionRate,m=i.map((e=>{var s;const n=null==f||null===(s=f[t.chainId])||void 0===s?void 0:s[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(n,l,p,e.string,e.symbol,!1,!1)})),g=(null==h||null===(o=h[t.chainId])||void 0===o?void 0:o[null==e?void 0:e.address])??0,y=(0,c.getValueFromWeiHex)({value:g,toCurrency:p,conversionRate:l,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:y}}))),[t,s,d,f,h,null==e?void 0:e.address,p]);return{totalFiatBalance:(0,o.useMemo)((()=>g.reduce(((e,t)=>{const s=t.tokenFiatBalances.filter((e=>e!==undefined)),n=(0,c.sumDecimals)(t.nativeFiatValue,...s);return e+(n.toNumber?n.toNumber():Number(n))}),0)),[g]).toString(10),tokenFiatBalancesCrossChains:g}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[6917,{"../../shared/modules/conversion.utils":5807,"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../helpers/utils/confirm-tx.util":6849,"../helpers/utils/token-util":6869,"../helpers/utils/util":6872,"../selectors":7583,"./useTokenBalances":6961,"ethereumjs-util":4343,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useAccountTotalFiatBalance=void 0;var n=e("react-redux"),r=e("ethereumjs-util"),o=e("react"),i=e("../../shared/modules/selectors/networks"),a=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),p=e("../helpers/utils/util"),m=e("./useTokenBalances");s.useAccountTotalFiatBalance=(e,t)=>{const s=(0,n.useSelector)(i.getCurrentChainId),h=(0,n.useSelector)(u.getConversionRate),f=(0,n.useSelector)(u.getCurrentCurrency),g=(0,n.useSelector)(a.getTokenExchangeRates,n.shallowEqual),y=(0,n.useSelector)(a.getConfirmationExchangeRates),k=(0,n.useSelector)(a.getMetaMaskCachedBalances),T=(null==k?void 0:k[null==e?void 0:e.address])??0,v=(0,c.getValueFromWeiHex)({value:T,toCurrency:f,conversionRate:h,numberOfDecimals:2}),b=(0,n.useSelector)(a.getAllTokens),S=(0,o.useMemo)((()=>{var t;return(null==b||null===(t=b[s])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,s,b]),w=(0,n.useSelector)(a.getTokenList),_=(0,n.useSelector)(a.getNativeCurrencyImage),C=(0,n.useSelector)(u.getNativeCurrency),{tokensWithBalances:E}=(0,m.useTokenTracker)({chainId:s,tokens:S,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),I=(0,o.useMemo)((()=>({...g,...y})),[y,g]),M=(0,o.useMemo)((()=>E.map((e=>{const t=I[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,h,f,e.string,e.symbol,!1,!1)}))),[E,I,h,f]),A=(0,o.useMemo)((()=>((e,t)=>{const s=[];return t.forEach((t=>{const n=e[t.address.toLowerCase()];n&&s.push({...n,balance:t.balance,string:t.string,balanceError:t.balanceError})})),s})(w,E)),[w,E]),P=(0,o.useMemo)((()=>[{iconUrl:_,symbol:C,fiatBalance:v},...A.map(((e,t)=>({...e,fiatBalance:M[t]})))]),[A,M,_,C,v]),x=(0,o.useMemo)((()=>P.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[P]),O=(0,c.sumDecimals)(v,...M).toString(10),N=(0,o.useMemo)((()=>(E.forEach((e=>{e.string=(0,p.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=I[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,h,f,e.string,e.symbol,!1,!1)||"0"})),E)),[E,I,h,f]),R=(0,l.formatCurrency)(O,f);let D=(0,c.getWeiHexFromDecimalValue)({value:O,fromCurrency:f,conversionRate:h,invertConversionRate:!0});return"NaN"===D&&(D="0x0"),{formattedFiat:R,totalWeiBalance:D,totalFiatBalance:O,tokensWithBalances:N,loading:!1,orderedTokenList:x,mergedRates:I}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[6918,{"../ducks/metamask/metamask":6810,"../selectors":7583,"../store/actions":7601,"./useMultiPolling":6941,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=e("../selectors"),i=e("../store/actions"),a=e("../ducks/metamask/metamask"),c=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(o.getNetworkClientIdsToPoll),t=(0,r.useSelector)(a.getCompletedOnboarding),s=(0,r.useSelector)(a.getIsUnlocked),n=t&&s;(0,c.default)({startPolling:i.accountTrackerStartPolling,stopPollingByPollingToken:i.accountTrackerStopPollingByPollingToken,input:n?e:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[6919,{"../ducks/confirm-alerts/confirm-alerts":6802,"../helpers/constants/design-system":6822,"../selectors/alerts":7575,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react-redux"),r=e("react"),o=e("../selectors/alerts"),i=e("../ducks/confirm-alerts/confirm-alerts"),a=e("../helpers/constants/design-system");function c(e){const t={[a.Severity.Danger]:3,[a.Severity.Warning]:2,[a.Severity.Info]:1};return e.sort(((e,s)=>t[s.severity]-t[e.severity]))}s.default=e=>{const t=(0,n.useDispatch)(),s=c((0,n.useSelector)((t=>(0,o.selectAlerts)(t,e)))),u=(0,n.useSelector)((t=>(0,o.selectConfirmedAlertKeys)(t,e))),l=c((0,n.useSelector)((t=>(0,o.selectGeneralAlerts)(t,e)))),d=c((0,n.useSelector)((t=>(0,o.selectFieldAlerts)(t,e)))),p=(0,r.useCallback)((e=>e?s.filter((t=>t.field===e)):[]),[s]),m=(0,r.useCallback)(((s,n)=>{t((0,i.setAlertConfirmed)(e,s,n))}),[t,i.setAlertConfirmed,e]),h=(0,r.useCallback)((e=>u.includes(e)),[u]),f=s.filter((e=>!h(e.key)&&e.severity===a.Severity.Danger)),g=s.length>0,y=s.filter((e=>e.severity===a.Severity.Danger)),k=f.length>0,T=d.filter((e=>!h(e.key)&&e.severity===a.Severity.Danger));return{alerts:s,fieldAlerts:d,generalAlerts:l,getFieldAlerts:p,hasAlerts:g,dangerAlerts:y,hasDangerAlerts:(null==y?void 0:y.length)>0,hasUnconfirmedDangerAlerts:k,isAlertConfirmed:h,setAlertConfirmed:m,unconfirmedDangerAlerts:f,unconfirmedFieldDangerAlerts:T,hasUnconfirmedFieldDangerAlerts:T.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[692,{"./CryptoECKey":686,"./CryptoHDKey":687,"./RegistryItem":694,"./RegistryType":695,"./lib/DataItem":703},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.MultiKey=void 0;const n=e("./CryptoECKey"),r=e("./CryptoHDKey"),o=e("./lib/DataItem"),i=e("./RegistryItem"),a=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class u extends i.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}));return e[c.keys]=t,new o.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((e=>e.getOutputDescriptorContent())).join(",")].join(",")}}s.MultiKey=u,u.fromDataItem=e=>{const t=e.getData(),s=t[c.threshold],o=t[c.keys],i=[];return o.forEach((e=>{e.getTag()===a.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(r.CryptoHDKey.fromDataItem(e)):e.getTag()===a.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(n.CryptoECKey.fromDataItem(e))})),new u(s,i)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[6920,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RESULT_PENDING=s.RESULT_IDLE=s.RESULT_BASE=void 0,s.createErrorResult=c,s.createSuccessResult=a,s.useAsyncCallback=u,s.useAsyncResult=l,s.useAsyncResultOrThrow=function(e,t=[]){const s=l(e,t);if("error"===s.status)throw s.error;return s};var n=e("react");const r=s.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},o=s.RESULT_IDLE={...r,status:"idle",idle:!0},i=s.RESULT_PENDING={...r,status:"pending",pending:!0};function a(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[s,r]=(0,n.useState)(o),u=(0,n.useRef)(!0);(0,n.useEffect)((()=>()=>{u.current=!1}),[]);return[(0,n.useCallback)((async()=>{if(u.current){r(i);try{const t=await e();u.current&&r(a(t))}catch(e){u.current&&r(c(e))}}}),t),s]}function l(e,t=[]){const[s,r]=u(e,t);return(0,n.useEffect)((()=>{s()}),[s]),"idle"===r.status?i:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[6921,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ZERO_BALANCE=s.SWEEPSTAKES_START=s.SWEEPSTAKES_SLIDE=s.SWEEPSTAKES_END=s.SOLANA_SLIDE=s.SMART_ACCOUNT_UPGRADE_SLIDE=s.REMOTE_MODE_SLIDE=s.MULTI_SRP_SLIDE=s.FUND_SLIDE=s.CASH_SLIDE=s.CARD_SLIDE=s.BRIDGE_SLIDE=void 0;s.REMOTE_MODE_SLIDE={id:"remoteMode",title:"slideRemoteModeTitle",description:"slideRemoteModeDescription",image:"./images/slide-fund-icon.svg",href:"/home.html#remote"},s.SOLANA_SLIDE={id:"solana",title:"slideSolanaTitle",description:"slideSolanaDescription",image:"./images/slide-solana-icon.svg"},s.SMART_ACCOUNT_UPGRADE_SLIDE={id:"smartAccountUpgrade",title:"slideSmartAccountUpgradeTitle",description:"slideSmartAccountUpgradeDescription",image:"./images/smart-account-upgrade.png"},s.SWEEPSTAKES_SLIDE={id:"sweepStake",title:"slideSweepStakeTitle",description:"slideSweepStakeDescription",image:"./images/sweepstakes.png",href:"https://portfolio.metamask.io/explore/nfts?event=012e19e2"},s.FUND_SLIDE={id:"fund",title:"slideFundWalletTitle",description:"slideFundWalletDescription",image:"./images/slide-fund-icon.svg",href:"https://portfolio.metamask.io/buy/build-quote"},s.BRIDGE_SLIDE={id:"bridge",title:"slideBridgeTitle",description:"slideBridgeDescription",image:"./images/slide-bridge-icon.svg"},s.CARD_SLIDE={id:"card",title:"slideDebitCardTitle",description:"slideDebitCardDescription",image:"./images/slide-card-icon.svg",href:"https://portfolio.metamask.io/card"},s.CASH_SLIDE={id:"cash",title:"slideCashOutTitle",description:"slideCashOutDescription",image:"./images/slide-sell-icon.svg",href:"https://portfolio.metamask.io/sell"},s.MULTI_SRP_SLIDE={id:"multiSrp",title:"slideMultiSrpTitle",description:"slideMultiSrpDescription",image:"./images/slide-multi-srp-icon.svg"},s.ZERO_BALANCE="0x0",s.SWEEPSTAKES_START=new Date("2025-04-09T00:00:00Z"),s.SWEEPSTAKES_END=new Date("2025-04-28T23:59:59Z")}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/constants.ts"}],[6922,{"./constants":6921,"./useCarouselManagement":6923},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e("./useCarouselManagement");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===n[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return n[e]}}))}));var r=e("./constants");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in s&&s[e]===r[e]||Object.defineProperty(s,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[6923,{"../../../shared/lib/multichain/accounts":5786,"../../selectors":7583,"../../selectors/remote-mode":7592,"../../store/actions":7601,"./constants":6921,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getSweepstakesCampaignActive=d,s.useCarouselManagement=void 0;var n=e("lodash"),r=e("react"),o=e("react-redux"),i=e("../../../shared/lib/multichain/accounts"),a=e("../../store/actions"),c=e("../../selectors"),u=e("../../selectors/remote-mode"),l=e("./constants");function d(e){return e>=l.SWEEPSTAKES_START&&e<=l.SWEEPSTAKES_END}s.useCarouselManagement=({testDate:e}={})=>{const t=Boolean(!1),s=(0,o.useDispatch)(),p=(0,o.useSelector)(c.getSlides),m=(0,o.useSelector)(c.getSelectedAccountCachedBalance),h=(0,o.useSelector)(u.getIsRemoteModeEnabled),f=(0,o.useSelector)(c.getSelectedInternalAccount),g=m===l.ZERO_BALANCE;return(0,r.useEffect)((()=>{const r=[],o=p.find((e=>e.id===l.SWEEPSTAKES_SLIDE.id)),c=(null==o?void 0:o.dismissed)??!1,u={...l.FUND_SLIDE,undismissable:g};(0,i.isSolanaAddress)(f.address)||r.push(l.SMART_ACCOUNT_UPGRADE_SLIDE),r.push(l.BRIDGE_SLIDE),r.push(l.CARD_SLIDE),r.push(l.CASH_SLIDE),r.push(l.MULTI_SRP_SLIDE),r.push(l.SOLANA_SLIDE),r.splice(g?0:2,0,u),h&&r.unshift(l.REMOTE_MODE_SLIDE);const m=d(e?new Date(e):new Date((new Date).toISOString()));if(t||!m||c){if(null!=o&&o.dismissed){const e={...l.SWEEPSTAKES_SLIDE,dismissed:!0};r.push(e)}}else{const e={...l.SWEEPSTAKES_SLIDE,dismissed:!1};r.unshift(e)}(0,n.isEqual)(p,r)||s((0,a.updateSlides)(r))}),[s,g,h,p,e,t]),{slides:p}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[6924,{"../../shared/constants/copy":5741,"../../shared/constants/time":5765,"./useTimeout":6960,"copy-to-clipboard":4153,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCopyToClipboard=function(e=u){const[t,s]=(0,r.useState)(!1),n=(0,c.useTimeout)((()=>{(0,o.default)(" ",a.COPY_OPTIONS),s(!1)}),e,!1),i=(0,r.useCallback)((e=>{s(!0),n(),(0,o.default)(e,a.COPY_OPTIONS)}),[n]);return[t,i]};var n,r=e("react"),o=(n=e("copy-to-clipboard"))&&n.__esModule?n:{default:n},i=e("../../shared/constants/time"),a=e("../../shared/constants/copy"),c=e("./useTimeout");const u=i.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6925,{"../../shared/constants/common":5740,"../../shared/constants/network":5752,"../../shared/modules/Numeric":5802,"../../shared/modules/conversion.utils":5807,"../ducks/metamask/metamask":6810,"../helpers/utils/confirm-tx.util":6849,"../helpers/utils/token-util":6869,"../selectors/multichain":7587,"./useMultichainSelector":6944,"bignumber.js":3970,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.MIN_AMOUNT=s.DEFAULT_PRECISION=void 0,s.useCurrencyDisplay=function(e,{account:t,displayValue:s,prefix:n,numberOfDecimals:o,denomination:f,currency:k,isAggregatedFiatOverviewBalance:T,...v},b=null){const S=(0,h.useMultichainSelector)(a.getMultichainIsEvm,t),w=(0,h.useMultichainSelector)(a.getMultichainCurrentCurrency,t),_=(0,h.useMultichainSelector)(a.getMultichainNativeCurrency,t),C=(0,h.useMultichainSelector)(a.getMultichainConversionRate,t),E=(0,h.useMultichainSelector)(m.getCurrencyRates,t),I=k===w,M=k===_||k===u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[b],A=(0,r.useMemo)((()=>{return s||(S||T?T?(0,i.formatCurrency)(e,k):function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:s,nativeCurrency:n,inputValue:r,conversionRate:o,denomination:a,numberOfDecimals:u}){if(e||!t&&!n){const e=new l.Numeric(r,16,d.EtherDenomination.WEI).toDenomination(a||d.EtherDenomination.ETH).round(u||y).toBase(10).toString();return"0"===e&&r&&0!==Number(r)?g:e}if(t&&o)return(0,i.formatCurrency)((0,c.getValueFromWeiHex)({value:r,fromCurrency:n,toCurrency:s,conversionRate:o,numberOfDecimals:u||2,toDenomination:a}),s);return null}({isNativeCurrency:M,isUserPreferredCurrency:I,currency:k,nativeCurrency:_,inputValue:e,conversionRate:C,denomination:f,numberOfDecimals:o}):function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:s,currency:n,currentCurrency:r,nativeCurrency:o,inputValue:a,conversionRate:c}){if(t||!s&&!o)return new l.Numeric(a,10).toString();if(s&&c){const t=(0,p.getTokenFiatAmount)(1,Number(c),r,a,e,!1,!1)??"0";return(0,i.formatCurrency)(t,n)}return null}({tokenSymbol:_,isNativeCurrency:M,isUserPreferredCurrency:I,currency:k,currentCurrency:w,nativeCurrency:_,inputValue:e,conversionRate:b?null==E||null===(t=E[u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[b]])||void 0===t?void 0:t.conversionRate:C}));var t}),[s,S,M,I,k,_,e,C,f,o,w,T,b,E]);let P;if(!v.hideLabel){const e=Object.values(u.TEST_NETWORK_TICKER_MAP).includes(k)?k:null==k?void 0:k.toUpperCase();P=v.suffix||e}return[`${n||""}${A}${P?` ${P}`:""}`,{prefix:n,value:A,suffix:P}]};var n,r=e("react"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},i=e("../helpers/utils/confirm-tx.util"),a=e("../selectors/multichain"),c=e("../../shared/modules/conversion.utils"),u=e("../../shared/constants/network"),l=e("../../shared/modules/Numeric"),d=e("../../shared/constants/common"),p=e("../helpers/utils/token-util"),m=e("../ducks/metamask/metamask"),h=e("./useMultichainSelector");const f=s.MIN_AMOUNT=1e-6,g=`<${f}`,y=s.DEFAULT_PRECISION=new o.default(f).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[6926,{"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../selectors":7583,"../store/actions":7601,"./usePolling":6952,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=e("../selectors"),i=e("../../shared/modules/selectors/networks"),a=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=(n=e("./usePolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(o.getUseCurrencyRateCheck),t=(0,r.useSelector)(c.getCompletedOnboarding),s=(0,r.useSelector)(c.getIsUnlocked),n=(0,r.useSelector)(i.getNetworkConfigurationsByChainId),l=t&&s&&e,d=[...new Set(Object.values(n).map((e=>e.nativeCurrency)))];(0,u.default)({startPolling:a.currencyRateStartPolling,stopPollingByPollingToken:a.currencyRateStopPollingByPollingToken,input:d,enabled:l})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6927,{"../../shared/constants/swaps":5763,"../../shared/modules/selectors/networks":5824,"../../shared/modules/string-utils":5827,"../ducks/metamask/metamask":6810,"../helpers/constants/routes":6828,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${a.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),s=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,n.useSelector)(o.getTokens),d=s&&l.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,s))),p=(0,n.useSelector)(i.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[p]||c.ETH_SWAPS_TOKEN_OBJECT)};var n=e("react-redux"),r=e("react-router-dom"),o=e("../ducks/metamask/metamask"),i=e("../../shared/modules/selectors/networks"),a=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6928,{"../../shared/constants/first-party-contracts":5743,"../../shared/modules/hexstring-utils":5813,"../ducks/domains":6804,"../selectors":7583,"../selectors/nft":7589,"./useName":6946,"./useNftCollectionsMetadata":6947,"@metamask/name-controller":2174,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisplayName=function(e){return p([e])[0]},s.useDisplayNames=p;var n=e("@metamask/name-controller"),r=e("react-redux"),o=e("../../shared/constants/first-party-contracts"),i=e("../../shared/modules/hexstring-utils"),a=e("../ducks/domains"),c=e("../selectors"),u=e("../selectors/nft"),l=e("./useName"),d=e("./useNftCollectionsMetadata");function p(e){const t=(0,l.useNames)(e),s=e.map((({type:e,value:t,variation:s})=>{if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(o.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const n=null===(t=o.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[s];return(null==n?void 0:n.toLowerCase())===r}))}));const p=function(e){const t=(0,r.useSelector)(c.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:s,value:r,variation:o})=>{var i;if(s!==n.NameType.ETHEREUM_ADDRESS)return undefined;const a=r.toLowerCase(),{iconUrl:c,name:u,symbol:l}=(null==t||null===(i=t[o])||void 0===i||null===(i=i.data)||void 0===i?void 0:i[a])??{};return{name:e&&l?l:u,image:c}}))}(e),m=function(e){const t=(0,r.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:s,variation:r})=>{var o;if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const i=s.toLowerCase(),a=t[r];return null==a||null===(o=a[i])||void 0===o?void 0:o.name}))}(e),h=function(e){const t=e.filter((({type:e})=>e===n.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),s=(0,d.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:r})=>{var o;if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const i=null===(o=s[r])||void 0===o?void 0:o[t.toLowerCase()],a=!1!==(null==i?void 0:i.isSpam);if(!i||a)return undefined;const{name:c,image:u}=i;return{name:c,image:u}}))}(e),f=function(e){const t=(0,r.useSelector)(a.getDomainResolutions);return e.map((({type:e,value:s})=>{if(e!==n.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find((e=>(0,i.toChecksumHexAddress)(e.resolvedAddress)===(0,i.toChecksumHexAddress)(s)));return null==r?void 0:r.domainName}))}(e);return e.map(((e,n)=>{const r=t[n],o=s[n],i=p[n],a=m[n],c=h[n],u=f[n],l=(null==r?void 0:r.name)||o||(null==c?void 0:c.name)||(null==i?void 0:i.name)||a||u||null,d=(null==c?void 0:c.image)||(null==i?void 0:i.image);return{name:l,hasPetname:Boolean(null==r?void 0:r.name),contractDisplayName:null==i?void 0:i.name,image:d}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6929,{lodash:4871,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useEqualityCheck=function(e,t=r.isEqual){const[s,o]=(0,n.useState)(e);return(0,n.useLayoutEffect)((()=>{t(e,s)||o(e)}),[e,t,s]),s};var n=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[693,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.PathComponent=void 0;class n{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&n.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}s.PathComponent=n,n.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[6930,{"../../shared/modules/conversion.utils":5807,"../ducks/metamask/metamask":6810,"../helpers/utils/confirm-tx.util":6849,"../selectors":7583,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useEthFiatAmount=function(e,t={},s){const u=(0,r.useSelector)(a.getConversionRate),l=(0,r.useSelector)(a.getCurrentCurrency),d=(0,r.useSelector)(o.getShouldShowFiat),p=t.showFiat??d,m=(0,n.useMemo)((()=>(0,c.decEthToConvertedCurrency)(e,l,u)),[u,l,e]);if(!p||"ETH"===l.toUpperCase()||u<=0||e===undefined)return undefined;return s?(0,i.formatCurrency)(m,l):`${(0,i.formatCurrency)(m,l)} ${l.toUpperCase()}`};var n=e("react"),r=e("react-redux"),o=e("../selectors"),i=e("../helpers/utils/confirm-tx.util"),a=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[6931,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=e=>{const[t,s]=(0,n.useState)(""),[r,o]=(0,n.useState)("");return(0,n.useEffect)((()=>{(async()=>{if(!e)return;const t=await fetch(e);if(t.ok)try{let e=await t.text();e=e.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const n=JSON.parse(e);s(n.image),o(n.name)}catch{}})()}),[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[6932,{"../ducks/locale/locale":6809,"../ducks/metamask/metamask":6810,"../helpers/utils/util":6872,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useFiatFormatter=void 0;var n=e("react-redux"),r=e("../ducks/locale/locale"),o=e("../ducks/metamask/metamask"),i=e("../helpers/utils/util");s.useFiatFormatter=()=>{const e=(0,n.useSelector)(r.getIntlLocale),t=(0,n.useSelector)(o.getCurrentCurrency);return(s,n={})=>{const{shorten:r}=n;try{const n=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return n.format(s);const o=n.formatToParts(s);let a="",c="";o.forEach((e=>{"currency"===e.type?a+=e.value:c+=e.value}));const u=(0,i.shortenString)(c,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return o.findIndex((e=>"currency"===e.type))<o.findIndex((e=>"integer"===e.type))?`${a}${u}`:`${u}${a}`}catch(n){const o=new Intl.NumberFormat(e).format(s),a=(0,i.shortenString)(o,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${a} ${t}`:`${o} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6933,{"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../store/actions":7601,"./usePolling":6952,"lodash/isEqual":4858,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(c.getSelectedNetworkClientId),s=e??t,[l,d]=(0,o.useState)(""),p=(0,r.useSelector)((e=>(0,i.getGasEstimateTypeByChainId)(e,l))),m=(0,r.useSelector)((e=>(0,i.getGasFeeEstimatesByChainId)(e,l)),n.default),h=(0,r.useSelector)((e=>(0,i.getIsGasEstimatesLoadingByChainId)(e,{chainId:l,networkClientId:s}))),f=(0,r.useSelector)((e=>(0,i.getIsNetworkBusyByChainId)(e,l)));return(0,o.useEffect)((()=>{let e=!0;return(0,a.getNetworkConfigurationByNetworkClientId)(s).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[s]),(0,u.default)({startPolling:e=>(0,a.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:a.gasFeeStopPollingByPollingToken,input:{networkClientId:s}}),{gasFeeEstimates:m,gasEstimateType:p,isGasEstimatesLoading:h,isNetworkBusy:f}};var n=l(e("lodash/isEqual")),r=e("react-redux"),o=e("react"),i=e("../ducks/metamask/metamask"),a=e("../store/actions"),c=e("../../shared/modules/selectors/networks"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6934,{"../helpers/utils/util":6872,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react"),r=e("../helpers/utils/util");s.default=(e,t)=>{const[s,o]=(0,n.useState)("");return(0,n.useEffect)((()=>{(async()=>{const s=await(0,r.getAssetImageURL)(e,t);o(s)})()}),[e,t]),s}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[6935,{"../../shared/modules/conversion.utils":5807,"../../shared/modules/selectors/networks":5824,"../selectors":7583,"./useTokenBalances":6961,"bn.js":4018,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useGetFormattedTokensPerChain=void 0;var n=e("react-redux"),r=e("bn.js"),o=e("../selectors"),i=e("../../shared/modules/selectors/networks"),a=e("../../shared/modules/conversion.utils"),c=e("./useTokenBalances");s.useGetFormattedTokensPerChain=(e,t,s,u)=>{const l=(0,n.useSelector)(i.getCurrentChainId),d=(0,n.useSelector)(o.getAllTokens),p=(0,c.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(s?[l]:u).map((s=>{var n;const o=((null==d||null===(n=d[s])||void 0===n?void 0:n[null==e?void 0:e.address])??[]).reduce(((n,o)=>{var i;const u=(null===(i=p.tokenBalances[e.address])||void 0===i||null===(i=i[s])||void 0===i?void 0:i[o.address])??"0x0";if("0x0"!==u||!t){const e=(0,a.hexToDecimal)(u);n.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,string:(0,c.stringifyBalance)(new r.BN(e),new r.BN(o.decimals))})}return n}),[]);return{chainId:s,tokensWithBalances:o}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[6937,{"../../app/scripts/lib/util":198,"../../shared/constants/network":5752,"../../shared/constants/time":5765,"../../shared/lib/fetch-with-cache":5781,"../selectors":7583,"../selectors/multichain":7587,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsOriginalNativeTokenSymbol=function(e,t,s,n=""){const[p,m]=(0,r.useState)(!1),h=(0,o.useSelector)(u.useSafeChainsListValidationSelector),f=(0,o.useSelector)(l.getMultichainIsEvm),g=(0,o.useSelector)(l.getMultichainCurrentNetwork);return(0,r.useEffect)((()=>{!async function(s){if(f)try{var r;if(!h)return void m(!0);if((e=>{const t=(0,d.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(n))return void m(!0);const o=a.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(o)return void m(o===t);const u=a.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(u&&u.some((e=>e.currencySymbol===t)))return void m(!0);const l=(await(0,i.default)({url:a.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:c.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(s,16))),p=(null==l||null===(r=l.nativeCurrency)||void 0===r?void 0:r.symbol)??null;m(p===t)}catch(e){m(!1)}else m(t===(null==g?void 0:g.ticker))}(e)}),[p,e,t,s,n,h]),p};var n,r=e("react"),o=e("react-redux"),i=(n=e("../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},a=e("../../shared/constants/network"),c=e("../../shared/constants/time"),u=e("../selectors"),l=e("../selectors/multichain"),d=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[6938,{"../selectors":7583,"../store/actions":7601,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsOriginalTokenSymbol=function(e,t){const[s,a]=(0,n.useState)(null),c=(0,r.useSelector)(i.getTokenList);return(0,n.useEffect)((()=>{!async function(e){var s,n;let r=null===(s=c[null==e?void 0:e.toLowerCase()])||void 0===s?void 0:s.symbol;r||(r=await(0,o.getTokenSymbol)(e)),a((null===(n=r)||void 0===n?void 0:n.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),s};var n=e("react"),r=e("react-redux"),o=e("../store/actions"),i=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6939,{"../store/actions":7601,loglevel:4879,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDisableMetametrics=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)((async()=>{s(!0),e((0,a.showLoadingIndication)()),i(null);try{await e((0,a.setParticipateInMetaMetrics)(!1))}catch(e){throw i(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{s(!1),e((0,a.hideLoadingIndication)())}e((0,a.hideLoadingIndication)())}),[e]),loading:t,error:n}},s.useEnableMetametrics=function(){const e=(0,o.useDispatch)(),[t,s]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)((async()=>{s(!0),e((0,a.showLoadingIndication)()),c(null);try{await e((0,a.setParticipateInMetaMetrics)(!0))}catch(e){throw c(e instanceof Error?e.message:"An unexpected error occurred"),i.default.error(e),e}finally{s(!1),e((0,a.hideLoadingIndication)())}e((0,a.hideLoadingIndication)())}),[e]),loading:t,error:n}};var n,r=e("react"),o=e("react-redux"),i=(n=e("loglevel"))&&n.__esModule?n:{default:n},a=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[694,{"./lib":705,"@ngraveio/bc-ur":2986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RegistryItem=void 0;const n=e("@ngraveio/bc-ur"),r=e("./lib");s.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,r.encodeDataItem)(this.toDataItem())},this.toUR=()=>new n.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,s)=>{const r=this.toUR();return new n.UREncoder(r,e,t,s)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[6940,{"../store/actions":7601,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useModalProps=function(){const e=(0,n.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,n.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var n=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6941,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=e=>{const t=(0,n.useRef)(new Map);(0,n.useEffect)((()=>{for(const s of e.input){const n=JSON.stringify(s);t.current.has(n)||e.startPolling(s).then((e=>t.current.set(n,e)))}for(const[s,n]of t.current.entries()){e.input.some((e=>s===JSON.stringify(e)))||(e.stopPollingByPollingToken(n),t.current.delete(s))}}),[e.input&&JSON.stringify(e.input)]),(0,n.useEffect)((()=>()=>{for(const s of t.current.values())e.stopPollingByPollingToken(s)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[6942,{"../../shared/constants/multichain/assets":5750,"../helpers/utils/confirm-tx.util":6849,"../helpers/utils/token-util":6869,"../selectors/multichain":7587,"./useAccountTotalFiatBalance":6917,"./useMultichainSelector":6944,"@metamask/keyring-api":1983,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainAccountTotalFiatBalance=s.EMPTY_VALUES=void 0;var n=e("react-redux"),r=e("@metamask/keyring-api"),o=e("../selectors/multichain"),i=e("../helpers/utils/confirm-tx.util"),a=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=s.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};s.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var s;if((0,r.isEvmAccountType)(e.type))return(0,l.useAccountTotalFiatBalance)(e,t);const p=(0,u.useMultichainSelector)(o.getMultichainCurrentCurrency,e),{network:m}=(0,u.useMultichainSelector)(o.getMultichainNetwork,e),{ticker:h}=m,f=(0,u.useMultichainSelector)(o.getMultichainConversionRate,e),g=(0,u.useMultichainSelector)(o.getMultichainCurrencyImage,e),y=(0,n.useSelector)(o.getMultichainBalances),k=a.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[h];if(null==y||null===(s=y[e.id])||void 0===s||!s[k])return d;const{amount:T}=y[e.id][k],v=(0,c.getTokenFiatAmount)(1,Number(f),p,T,h,!1,!1)??"0",b={iconUrl:g,symbol:h,fiatBalance:v};return{formattedFiat:(0,i.formatCurrency)(v,p),totalFiatBalance:v,totalBalance:T,tokensWithBalances:[],loading:!1,orderedTokenList:[b]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6943,{"../../shared/constants/transaction":5767,"../selectors/assets":7577,"../selectors/multichain":7587,"../selectors/selectors":7593,"./useMultichainSelector":6944,"@metamask/utils":2967,"bignumber.js":3970,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainBalances=void 0;var n=e("react"),r=e("react-redux"),o=e("@metamask/utils"),i=e("bignumber.js"),a=e("../selectors/assets"),c=e("../selectors/multichain"),u=e("../../shared/constants/transaction"),l=e("../selectors/selectors"),d=e("./useMultichainSelector");s.useMultichainBalances=e=>{const t=(0,r.useSelector)(l.getSelectedEvmInternalAccount),s=(0,r.useSelector)((t=>(0,l.getInternalAccount)(t,e??""))),p=e?s:t,m=(0,r.useSelector)((e=>(0,a.getTokenBalancesEvm)(e,null==p?void 0:p.address))),h=(0,r.useSelector)(c.getLastSelectedNonEvmAccount),f=(e=>{const t=(0,r.useSelector)(a.getAccountAssets),s=(0,r.useSelector)(a.getAssetsMetadata),l=(0,d.useMultichainSelector)(c.getMultichainBalances),p=(0,r.useSelector)(a.getAssetsRates);return(0,n.useMemo)((()=>{if(!e)return[];const n=null==t?void 0:t[e],r=null==l?void 0:l[e];return r&&n?n.filter((e=>s[e])).map((e=>{var t,n,a,c,l,d,m;const{chainId:h,assetReference:f,assetNamespace:g}=(0,o.parseCaipAssetType)(e);return{chainId:h,symbol:(null===(t=s[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:f,string:(null===(n=r[e])||void 0===n?void 0:n.amount)??"0",balance:(null===(a=r[e])||void 0===a?void 0:a.amount)??"0",decimals:null===(c=s[e])||void 0===c||null===(c=c.units[0])||void 0===c?void 0:c.decimals,image:(null===(l=s[e])||void 0===l?void 0:l.iconUrl)??"",type:"token"===g?u.AssetType.token:u.AssetType.native,tokenFiatAmount:new i.BigNumber((null===(d=r[e])||void 0===d?void 0:d.amount)??"1").times((null==p||null===(m=p[e])||void 0===m?void 0:m.rate)??"1").toNumber()}})).filter(Boolean):[]}),[s,p,t,e,l])})(e??(null==h?void 0:h.id));return{assetsWithBalance:(0,n.useMemo)((()=>[...m,...f].map((e=>({...e,type:e.isNative?u.AssetType.native:u.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[m,f]),balanceByChainId:(0,n.useMemo)((()=>[...m,...f].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[m,f])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[6944,{"../selectors":7583,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useMultichainSelector=function(e,t){return(0,n.useSelector)((s=>e(s,t||(0,r.getSelectedInternalAccount)(s))))};var n=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[6945,{"../../shared/constants/transaction":5767,"../components/app/assets/util/formatWithThreshold":5912,"../ducks/locale/locale":6809,"./useI18nContext":6936,"@metamask/keyring-api":1983,"@metamask/multichain-network-controller":2125,"@metamask/transaction-controller":2909,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.KEYRING_TRANSACTION_STATUS_KEY=void 0,s.useMultichainTransactionDisplay=function(e,t){const s=(0,i.useSelector)(c.getIntlLocale),{chainId:r}=t,a=o.MULTICHAIN_NETWORK_DECIMAL_PLACES[r],u=(0,l.useI18nContext)(),p=d(e.from,!0,s,a),m=d(e.to,e.type===n.TransactionType.Send,s,a),h=d((e.fees||[]).filter((e=>"base"===e.type)),!0,s),f=d((e.fees||[]).filter((e=>"priority"===e.type)),!0,s),g={[n.TransactionType.Send]:u("send"),[n.TransactionType.Receive]:u("receive"),[n.TransactionType.Swap]:`${u("swap")} ${null==p?void 0:p.unit} ${u("to").toLowerCase()} ${null==m?void 0:m.unit}`,[n.TransactionType.Unknown]:u("interaction")};return{...e,title:g[e.type],from:p,to:m,baseFee:h,priorityFee:f,isRedeposit:!0===Boolean(p)&&!1===Boolean(m)&&e.type===n.TransactionType.Send}};var n=e("@metamask/keyring-api"),r=e("@metamask/transaction-controller"),o=e("@metamask/multichain-network-controller"),i=e("react-redux"),a=e("../components/app/assets/util/formatWithThreshold"),c=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),l=e("./useI18nContext");s.KEYRING_TRANSACTION_STATUS_KEY={[n.TransactionStatus.Failed]:r.TransactionStatus.failed,[n.TransactionStatus.Confirmed]:r.TransactionStatus.confirmed,[n.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[n.TransactionStatus.Submitted]:r.TransactionStatus.submitted};function d(e,t,s,n){const r={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;r[e]?r[e].amount+=parseFloat(t.asset.amount):r[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(r).map((([e,r])=>function(e,t,s,n){const r=1/10**(n||8),o=(0,a.formatWithThreshold)(e.amount,r,t,{minimumFractionDigits:0,maximumFractionDigits:n||8});let i=o;s&&(i=`-${o}`);return{...e,amount:i}}(r,s,t,n)))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[6946,{"../selectors":7583,"@metamask/name-controller":2174,lodash:4871,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useName=function(e,t,s){return a([{value:e,type:t,variation:s}])[0]},s.useNames=a;var n=e("@metamask/name-controller"),r=e("react-redux"),o=e("lodash"),i=e("../selectors");function a(e){const t=(0,r.useSelector)(i.getNames,o.isEqual);return e.map((({value:e,type:s,variation:r})=>{var o;const i=function(e,t){if(t===n.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,s),a=(null===(o=t[s])||void 0===o?void 0:o[i])??{},c=a[r],u=a[n.FALLBACK_VARIATION],l=null!=c&&c.name||!u?c??{}:u,{name:d=null,sourceId:p=null,origin:m=null,proposedNames:h={}}=l;return{name:d,sourceId:p,proposedNames:h,origin:m}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6947,{"../../shared/constants/transaction":5767,"../store/actions":7601,"./useAsync":6920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNftCollectionsMetadata=function(e){const{value:t}=(0,o.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:s})=>(e[t]=[...e[t]??[],s.toLowerCase()],e)),{}),s=Object.keys(t),n=await Promise.all(s.map((e=>async function(e,t){const s=await Promise.all(e.map((e=>(0,r.getTokenStandardAndDetails)(e,t)))),n=e.filter(((e,t)=>i.includes(s[t].standard)));if(0===n.length)return{};const o=await(0,r.getNFTContractInfo)(n,t);return o.collections.reduce(((e,t,s)=>(e[n[s]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return s.reduce(((e,t,s)=>(e[t]=n[s],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var n=e("../../shared/constants/transaction"),r=e("../store/actions"),o=e("./useAsync");const i=[n.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[6948,{"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../selectors":7583,"./useI18nContext":6936,"./usePrevious":6953,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,l.useI18nContext)(),s=(0,r.useSelector)(i.getAllNfts),{address:d}=(0,r.useSelector)(a.getSelectedInternalAccount),p=(0,r.useSelector)(c.getCurrentChainId),m=(0,r.useSelector)(a.getAllChainsToPoll),h=(0,r.useSelector)(a.getIsTokenNetworkFilterEqualCurrentNetwork),f=(0,n.useMemo)((()=>h||e?(null==s?void 0:s[p])??[]:s),[h,s,p,e]),g=(0,r.useSelector)(i.getNftContracts),y=t("nftsPreviouslyOwned"),k=t("unknownCollection"),[T,v]=(0,n.useState)([]),[b,S]=(0,n.useState)([]),[w,_]=(0,n.useState)((()=>(null==f?void 0:f.length)>=0)),C=(0,u.usePrevious)(f),E=(0,u.usePrevious)(m),I=(0,u.usePrevious)(d);return(0,n.useEffect)((()=>{(0,o.isEqual)(C,f)&&(0,o.isEqual)(I,d)&&(0,o.isEqual)(E,p)||(()=>{if(_(!0),d===undefined||m===undefined)return;const e=[],t=[];Object.values(f).flat().forEach((s=>{!1===(null==s?void 0:s.isCurrentlyOwned)?e.push(s):t.push(s)})),S(e),v(t),_(!1)})()}),[f,C,g,_,p,E,d,I,y,k,m]),{loading:w,currentlyOwnedNfts:T,previouslyOwnedNfts:b}};var n=e("react"),r=e("react-redux"),o=e("lodash"),i=e("../ducks/metamask/metamask"),a=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),l=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[6949,{"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../helpers/utils/nfts":6860,"../selectors":7583,"./useI18nContext":6936,"./usePrevious":6953,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useNftsCollections=function(){const e=(0,d.useI18nContext)(),t=e("nftsPreviouslyOwned"),s=e("unknownCollection"),[p,m]=(0,n.useState)({}),[h,f]=(0,n.useState)({collectionName:t,nfts:[]}),g=(0,r.useSelector)(a.getIsTokenNetworkFilterEqualCurrentNetwork),y=(0,r.useSelector)(i.getAllNfts),{address:k}=(0,r.useSelector)(a.getSelectedInternalAccount),T=(0,r.useSelector)(c.getCurrentChainId),v=(0,n.useMemo)((()=>g?(null==y?void 0:y[T])??[]:y),[g,y,T]),[b,S]=(0,n.useState)((()=>(null==v?void 0:v.length)>=0)),w=(0,r.useSelector)(i.getNftContracts),_=(0,l.usePrevious)(v),C=(0,l.usePrevious)(T),E=(0,l.usePrevious)(k);return(0,n.useEffect)((()=>{(0,o.isEqual)(_,v)&&(0,o.isEqual)(E,k)&&(0,o.isEqual)(C,T)||(()=>{if(S(!0),k===undefined||T===undefined)return;const e={},n={collectionName:t,nfts:[]};Object.values(v).flat().forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))n.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const n=w.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==n?void 0:n.name)||s,collectionImage:(null==n?void 0:n.logo)||(0,u.getNftImage)(t.image),nfts:[t]}}})),m(e),f(n),S(!1)})()}),[v,_,w,S,T,C,k,E,t,s]),{nftsLoading:b,collections:p,previouslyOwnedCollection:h}};var n=e("react"),r=e("react-redux"),o=e("lodash"),i=e("../ducks/metamask/metamask"),a=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../helpers/utils/nfts"),l=e("./usePrevious"),d=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[695,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RegistryTypes=s.RegistryType=void 0;class n{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}s.RegistryType=n,s.RegistryTypes={UUID:new n("uuid",37),BYTES:new n("bytes",undefined),CRYPTO_HDKEY:new n("crypto-hdkey",303),CRYPTO_KEYPATH:new n("crypto-keypath",304),CRYPTO_COIN_INFO:new n("crypto-coin-info",305),CRYPTO_ECKEY:new n("crypto-eckey",306),CRYPTO_OUTPUT:new n("crypto-output",308),CRYPTO_PSBT:new n("crypto-psbt",310),CRYPTO_ACCOUNT:new n("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new n("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new n("qr-hardware-call",1201),KEY_DERIVATION_CALL:new n("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new n("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[6950,{"../helpers/constants/notifications":6826,"../store/actions":7601,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSnapNotificationTimeouts=void 0;var n=e("react-redux"),r=e("../store/actions"),o=e("../helpers/constants/notifications");s.useSnapNotificationTimeouts=()=>{const e=(0,n.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,r.deleteNotificationsById)([t]))}),o.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[6951,{"../selectors":7583,"@metamask/permission-controller":2328,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,o.getTargetSubjectMetadata)(t,e)));if(!e)return null;let s=null;try{const t=new URL(e);s={host:t.host,hostname:t.hostname,origin:e,subjectType:n.SubjectType.Unknown}}catch(e){}if(t&&s)return{...s,...t};if(t)return t;return s};var n=e("@metamask/permission-controller"),r=e("react-redux"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6952,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("react");s.default=e=>{const t=(0,n.useRef)(null),s=(0,n.useRef)(null);let r=!1;(0,n.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const n=()=>{var n;t.current&&(e.stopPollingByPollingToken(t.current),null===(n=s.current)||void 0===n||n.call(s,t.current))};return e.startPolling(e.input).then((o=>{var i;t.current=o,s.current=(null===(i=e.callback)||void 0===i?void 0:i.call(e,o))||null,r||n()})),()=>{r=!1,n()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6953,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.usePrevious=function(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current};var n=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6954,{"./usePrevious":6953,lodash:4871,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useScrollRequired=void 0;var n=e("react"),r=e("lodash"),o=e("./usePrevious");s.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var s,i;const a=(0,n.useRef)(null),c=(0,o.usePrevious)(null===(s=a.current)||void 0===s?void 0:s.offsetHeight),[u,l]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),f=()=>{if(!a.current)return;const e=a.current&&a.current.scrollHeight>a.current.clientHeight,s=e&&Math.round(a.current.scrollTop)+a.current.offsetHeight+t>=a.current.scrollHeight;e!==d&&(l(!1),p(e)),h(!e||s),e&&!s||l(!0)};(0,n.useEffect)(f,[a,...e]),(0,n.useEffect)((()=>{var e;c!==(null===(e=a.current)||void 0===e?void 0:e.offsetHeight)&&f()}),[null===(i=a.current)||void 0===i?void 0:i.offsetHeight]);return{isScrollable:d,isScrolledToBottom:m,hasScrolledToBottom:u,scrollToBottom:()=>{h(!0),l(!0),a.current&&a.current.scrollTo({top:a.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:a,onScroll:(0,r.debounce)(f,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6955,{"../helpers/constants/routes":6828,"../selectors":7583,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:a,exact:!0,strict:!0}),t=((0,n.useSelector)(i.txDataSelector)||{}).origin,s=t?{url:t}:undefined;return{page:e?{path:e.path,title:o.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:s}};var n=e("react-redux"),r=e("react-router-dom"),o=e("../helpers/constants/routes"),i=e("../selectors");const a=Object.keys(o.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6956,{"../ducks/app/app":6795,"./useGasFeeEstimates":6933,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,a.useGasFeeEstimates)(),s=(0,r.useDispatch)(),c=(0,r.useSelector)(i.getGasLoadingAnimationIsShowing),u=(0,n.useRef)(t),l=!(0,o.isEqual)(u.current,t),d=(0,o.isEqual)(u.current,{});l&&(u.current=t);const p=e||l&&!d;(0,n.useEffect)((()=>{!1===c&&!0===p&&s((0,i.toggleGasLoadingAnimation)(!0))}),[s,c,p]),(0,n.useEffect)((()=>{let e;return c&&!p&&(e=setTimeout((()=>{s((0,i.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[s,c,p])};var n=e("react"),r=e("react-redux"),o=e("lodash"),i=e("../ducks/app/app"),a=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6957,{"../../shared/constants/time":5765,"../../shared/modules/selectors/networks":5824,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useShouldShowSpeedUp=function(e,t){const{transactions:s,hasRetried:a}=e,c=(0,r.useSelector)(i.getCurrentChainId),[u={}]=s,l=u.chainId===c,{submittedTime:d}=u,[p,m]=(0,n.useState)((()=>Date.now()-d>5e3&&t&&!a&&l));return(0,n.useEffect)((()=>{let e;return a||!t||p||(Date.now()-d>5*o.SECOND?m(!0):e=setTimeout((()=>{m(!0),clearTimeout(e)}),5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}}),[d,p,a,t]),p};var n=e("react"),r=e("react-redux"),o=e("../../shared/constants/time"),i=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6958,{"../../shared/lib/transactions-controller-utils":5798,"../../shared/modules/selectors/networks":5824,"../../shared/modules/swaps.utils":5828,"./useTokenFiatAmount":6965,"@metamask/transaction-controller":2909,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useSwappedTokenValue=function(e,t){const{symbol:s,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:p}=e,{type:m}=p,{from:h}=p.txParams||{},f=(0,n.useSelector)(a.getCurrentChainId),g=m===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,i.isSwapsDefaultTokenAddress)(t.address,f)&&(0,i.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,f)),y=[r.TransactionType.swap].includes(m)&&g?(0,o.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,p,l,h,u,null,f):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(m)&&d.swapTokenValue,k="string"==typeof y&&-1===Math.sign(y),T=(0,c.useTokenFiatAmount)(l,y||"",s),v=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let b;y&&(g?b=T:m===r.TransactionType.swapAndSend&&(b=v));return{swapTokenValue:y,swapTokenFiatAmount:b,isViewingReceivedTokenFromSwap:g,isNegative:k}};var n=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("../../shared/lib/transactions-controller-utils"),i=e("../../shared/modules/swaps.utils"),a=e("../../shared/modules/selectors/networks"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6959,{"../../shared/constants/preferences":5757,"../selectors":7583,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTheme=function(){const e=(0,r.useSelector)(o.getTheme),[t,s]=(0,n.useState)(e);return(0,n.useEffect)((()=>{const t=e&&e!==i.ThemeType.os?e:document.documentElement.getAttribute("data-theme");a.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${i.ThemeType.light}".`),s(i.ThemeType.light)),s(t)}),[e]),t};var n=e("react"),r=e("react-redux"),o=e("../selectors"),i=e("../../shared/constants/preferences");const a=Object.values(i.ThemeType).filter((e=>e!==i.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[696,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ScriptExpressions=s.ScriptExpression=void 0;class n{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}s.ScriptExpression=n,n.fromTag=e=>Object.values(s.ScriptExpressions).find((t=>t.getTag()===e)),s.ScriptExpressions={SCRIPT_HASH:new n(400,"sh"),WITNESS_SCRIPT_HASH:new n(401,"wsh"),PUBLIC_KEY:new n(402,"pk"),PUBLIC_KEY_HASH:new n(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new n(404,"wpkh"),COMBO:new n(405,"combo"),MULTISIG:new n(406,"multi"),SORTED_MULTISIG:new n(407,"sortedmulti"),ADDRESS:new n(307,"addr"),RAW_SCRIPT:new n(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[6960,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTimeout=function(e,t,s=!0){const r=(0,n.useRef)(),[o,i]=(0,n.useState)(null);(0,n.useEffect)((()=>{r.current=e}),[e]),(0,n.useEffect)((()=>{if("start"!==o)return undefined;const e=setTimeout((()=>{r.current()}),t);return i(e),()=>{clearTimeout(o)}}),[t,o]);const a=(0,n.useCallback)((()=>{clearTimeout(o),i("start")}),[o]);s&&a();return a};var n=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6961,{"../../shared/modules/conversion.utils":5807,"../../shared/modules/selectors/networks":5824,"../ducks/metamask/metamask":6810,"../store/actions":7601,"./useMultiPolling":6941,"bn.js":4018,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.stringifyBalance=p,s.useTokenTracker=s.useTokenBalances=void 0;var n=e("react-redux"),r=l(e("bn.js")),o=e("../../shared/modules/selectors/networks"),i=e("../store/actions"),a=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils"),u=l(e("./useMultiPolling"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,n.useSelector)(a.getTokenBalances),s=(0,n.useSelector)(o.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:i.tokenBalancesStartPolling,stopPollingByPollingToken:i.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(s)}),{tokenBalances:t}};s.useTokenBalances=d;function p(e,t,s=5){if(e.eq(new r.default(0)))return"0";const n=parseInt(t.toString(),10);if(0===n)return e.toString();let o=e.toString(),i=o.length,a=i-n,c="";if(a<=0){for(;c.length<=-1*a;)c+="0",i+=1;o=c+o,a=1}const u=o.substr(0,i-n);if(0===s)return u;const l=o.substr(a,s);if(/0+$/u.test(l)){let e=o.substr(a).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${l}`}s.useTokenTracker=({chainId:e,tokens:t,address:s,hideZeroBalanceTokens:n})=>{const{tokenBalances:o}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,i)=>{var a;const u=(null===(a=o[s])||void 0===a||null===(a=a[e])||void 0===a?void 0:a[i.address])??"0x0";if("0x0"!==u||!n){const e=(0,c.hexToDecimal)(u);t.push({address:i.address,symbol:i.symbol,decimals:i.decimals,balance:e,balanceError:null,string:p(new r.default(e),new r.default(i.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[6962,{"../../shared/modules/transaction.utils":5829,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenData=function(e,t=!0){return(0,n.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var n=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6963,{"../ducks/metamask/metamask":6810,"../selectors":7583,"../store/actions":7601,"./useMultiPolling":6941,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=e("../selectors"),i=e("../store/actions"),a=e("../ducks/metamask/metamask"),c=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(o.getUseTokenDetection),t=(0,r.useSelector)(a.getCompletedOnboarding),s=(0,r.useSelector)(a.getIsUnlocked),n=(0,r.useSelector)(o.getChainIdsToPoll),u=t&&s&&e;return(0,c.default)({startPolling:i.tokenDetectionStartPolling,stopPollingByPollingToken:i.tokenDetectionStopPollingByPollingToken,input:u?[n]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[6964,{"../../shared/lib/metamask-controller-utils":5785,"../../shared/lib/transactions-controller-utils":5798,"./useTokenData":6962,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenDisplayValue=function(e,t,s=!0){const a=(0,i.useTokenData)(e,s),c=(0,r.getTokenValueParam)(a),u=Boolean(s&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,n.useMemo)((()=>u?(0,o.calcTokenAmount)(c,t.decimals).toString(10):null),[u,c,t])};var n=e("react"),r=e("../../shared/lib/metamask-controller-utils"),o=e("../../shared/lib/transactions-controller-utils"),i=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6966,{"../ducks/metamask/metamask":6810,"../selectors":7583,"../store/actions":7601,"./useMultiPolling":6941,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=e("../selectors"),i=e("../store/actions"),a=e("../ducks/metamask/metamask"),c=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(o.getUseTokenDetection),t=(0,r.useSelector)(o.getUseTransactionSimulations),s=(0,r.useSelector)(a.getCompletedOnboarding),n=(0,r.useSelector)(a.getIsUnlocked),u=(0,r.useSelector)(o.getUseExternalServices),l=(0,r.useSelector)(o.getChainIdsToPoll),d=s&&n&&u&&(e||t);return(0,c.default)({startPolling:i.tokenListStartPolling,stopPollingByPollingToken:i.tokenListStopPollingByPollingToken,input:d?l:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[6967,{"../ducks/metamask/metamask":6810,"../selectors":7583,"../store/actions":7601,"./useMultiPolling":6941,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=e("react-redux"),o=e("../selectors"),i=e("../store/actions"),a=e("../ducks/metamask/metamask"),c=(n=e("./useMultiPolling"))&&n.__esModule?n:{default:n};s.default=()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),s=(0,r.useSelector)(o.getUseCurrencyRateCheck),n=(0,r.useSelector)(o.getChainIdsToPoll),u=(0,r.useSelector)(o.getTokenExchangeRates),l=(0,r.useSelector)(o.getTokensMarketData),d=(0,r.useSelector)(o.getMarketData),p=e&&t&&s;return(0,c.default)({startPolling:i.tokenRatesStartPolling,stopPollingByPollingToken:i.tokenRatesStopPollingByPollingToken,input:p?n:[]}),{tokenExchangeRates:u,tokensMarketData:l,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[6968,{"../../shared/constants/time":5765,"../../shared/modules/selectors/networks":5824,"../../shared/modules/string-utils":5827,"../selectors":7583,"./useEqualityCheck":6929,"@metamask/eth-token-tracker":1846,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:s=!1,hideZeroBalanceTokens:n=!1}){const{chainId:p,rpcUrl:m}=(0,i.useSelector)(c.getProviderConfig),{address:h}=(0,i.useSelector)(a.getSelectedInternalAccount,i.shallowEqual),f=t??h,[g,y]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[k,T]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),S=(0,r.useRef)(null),w=(0,d.useEqualityCheck)(e),_=(0,r.useCallback)((e=>{const t=(n?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=w.find((t=>(0,l.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));T(t),y(!1),b(null)}),[n,w]),C=(0,r.useCallback)((e=>{b(e),y(!1)}),[]),E=(0,r.useCallback)((()=>{S.current&&(S.current.stop(),S.current.removeAllListeners("update"),S.current.removeAllListeners("error"),S.current=null)}),[]),I=(0,r.useCallback)(((e,t)=>{E(),S.current=new o.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:s,pollingInterval:8*u.SECOND,balanceDecimals:5}),S.current.on("update",_),S.current.on("error",C),S.current.updateBalances()}),[_,s,C,E]);return(0,r.useEffect)((()=>E),[E]),(0,r.useEffect)((()=>{y(!0),f&&p!==undefined&&global.ethereumProvider?(0===w.length&&_([]),I(f,w)):E()}),[f,E,p,m,w,_,I]),{loading:g,tokensWithBalances:k,error:v}};var n,r=e("react"),o=(n=e("@metamask/eth-token-tracker"))&&n.__esModule?n:{default:n},i=e("react-redux"),a=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6969,{"../../shared/constants/network":5752,"../../shared/constants/swaps":5763,"../../shared/modules/hexstring-utils":5813,"../../shared/modules/selectors/networks":5824,"../../shared/modules/swaps.utils":5828,"../ducks/metamask/metamask":6810,"../ducks/swaps/swaps":6818,"../helpers/utils/token-util":6869,"../selectors":7583,"./useEqualityCheck":6929,"@metamask/assets-controllers":1361,"bignumber.js":3970,lodash:4871,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.getRenderableTokenData=T,s.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:s,tokenBucketPriority:n=g.TokenBucketPriority.owned}){const c=(0,o.useSelector)(d.getCurrentChainId),u=(0,o.useSelector)(l.getTokenExchangeRates,a.isEqual),f=(0,o.useSelector)(p.getConversionRate),y=(0,o.useSelector)(p.getCurrentCurrency),v=(0,o.useSelector)(l.getSwapsDefaultToken,o.shallowEqual),b=(0,o.useSelector)(l.getTokenList,a.isEqual),S=(0,k.useEqualityCheck)(t),w=(0,k.useEqualityCheck)(e),_=T(v,u,f,y,c,b),C=(0,k.useEqualityCheck)(_),E=(0,o.useSelector)(m.getSwapsTokens,a.isEqual)||[],I=E.length?E:[C,...s.filter((e=>e.symbol!==C.symbol))],M=(0,k.useEqualityCheck)(I);return(0,r.useMemo)((()=>{const e=w.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,a.uniqBy)([C,...M,...w],(e=>e.address.toLowerCase())).forEach((s=>{const r=T({...e[s.address.toLowerCase()],...s},u,f,y,c,b);n===g.TokenBucketPriority.owned?(0,h.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[s.address.toLowerCase()]?t.owned.push(r):S[s.address.toLowerCase()]?t.top[S[s.address.toLowerCase()].index]=r:t.others.push(r):S[s.address.toLowerCase()]?t.top[S[s.address.toLowerCase()].index]=r:(0,h.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[s.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new i.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),n===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[M,w,S,u,f,y,C,c,b,n])};var n,r=e("react"),o=e("react-redux"),i=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},a=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../../shared/modules/selectors/networks"),p=e("../ducks/metamask/metamask"),m=e("../ducks/swaps/swaps"),h=e("../../shared/modules/swaps.utils"),f=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),y=e("../../shared/constants/network"),k=e("./useEqualityCheck");function T(e,t,s,n,r,o){var a,l;const{symbol:d,name:p,address:m,iconUrl:g,string:k,balance:T,decimals:v}=e;let b;(0,h.isSwapsDefaultTokenSymbol)(d,r)?b=1:k&&s>0&&(b=t[(0,f.toChecksumHexAddress)(m)]);const S=(0,u.getTokenFiatAmount)(b,s,n,k,d,!0)||"",w=S?(0,u.getTokenFiatAmount)(b,s,n,k,d,!1):"",_=r===y.CHAIN_IDS.SEPOLIA?y.CHAIN_IDS.MAINNET:r,C=(d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.SEPOLIA||d===y.CURRENCY_SYMBOLS.BNB&&r===y.CHAIN_IDS.BSC||d===y.CURRENCY_SYMBOLS.MATIC&&r===y.CHAIN_IDS.POLYGON||d===y.CURRENCY_SYMBOLS.AVALANCHE&&r===y.CHAIN_IDS.AVALANCHE||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.OPTIMISM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ARBITRUM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.LINEA_MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ZKSYNC_ERA||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.BASE?g:(0,c.formatIconUrlWithProxy)({chainId:_,tokenAddress:m||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:p||(null===(a=o[null==m?void 0:m.toLowerCase()])||void 0===a?void 0:a.name),rightPrimaryLabel:k&&`${new i.default(k).round(6).toString()} ${d}`,rightSecondaryLabel:S,iconUrl:C,identiconAddress:C?null:m,balance:T,decimals:v,name:p||(null===(l=o[null==m?void 0:m.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[697,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.UnknownURTypeError=void 0;class n extends Error{constructor(e){super(e)}}s.UnknownURTypeError=n}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[6970,{"../../shared/constants/bridge":5739,"../../shared/constants/transaction":5767,"../../shared/lib/metamask-controller-utils":5785,"../../shared/modules/string-utils":5827,"../ducks/bridge-status/selectors":6797,"../ducks/locale/locale":6809,"../ducks/metamask/metamask":6810,"../helpers/constants/common":6820,"../helpers/constants/transactions":6834,"../helpers/utils/common.util":6848,"../helpers/utils/token-util":6869,"../helpers/utils/transactions.util":6870,"../helpers/utils/util":6872,"../pages/bridge/hooks/useBridgeTokenDisplayData":6994,"../pages/confirmations/components/simulation-details/formatAmount":7198,"../selectors/selectors":7593,"../store/actions":7601,"./bridge/useBridgeChainInfo":6883,"./useCurrencyDisplay":6925,"./useCurrentAsset":6927,"./useI18nContext":6936,"./useSwappedTokenValue":6958,"./useTokenData":6962,"./useTokenDisplayValue":6964,"./useTokenFiatAmount":6965,"./useUserPreferencedCurrency":6971,"@metamask/transaction-controller":2909,"bignumber.js":3970,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useTransactionDisplayData=function(e){var t,s,N,D,B,$,j,U,L,F,W;const H=(0,n.useDispatch)(),K=(0,n.useSelector)(S.getIntlLocale),q=(0,x.useCurrentAsset)(),V=(0,n.useSelector)(a.getAllTokens),Y=(0,n.useSelector)(a.getSelectedAddress),G=(0,n.useSelector)(h.getNfts),z=(0,n.useSelector)(a.getAllDetectedTokens),Q=(0,n.useSelector)(a.selectERC20TokensByChain),J=(0,_.useI18nContext)(),X=(0,n.useSelector)(T.selectBridgeHistoryForAccount),Z=e.initialTransaction.id,ee=X[Z],{destNetwork:te}=(0,O.default)({bridgeHistoryItem:ee,srcTxMeta:e.initialTransaction}),se=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==te?void 0:te.chainId],{initialTransaction:ne,primaryTransaction:re}=e,{type:oe}=ne,{from:ie,to:ae}=ne.txParams||{},ce=(0,n.useSelector)((e=>{var t;return(0,a.getKnownMethodData)(e,null==ne||null===(t=ne.txParams)||void 0===t?void 0:t.data)}))||{},ue=(0,c.getStatusKey)(re),le=ue in m.PENDING_STATUS_HASH,de=ue===o.TransactionStatus.submitted,pe=(0,r.useRef)(!0),me=null===(t=re.txParams)||void 0===t?void 0:t.value,he=(0,p.formatDateWithYearContext)(ne.time);let fe,ge="-",ye=!1,ke=ae;const Te=m.TOKEN_CATEGORY_HASH[oe];let ve=null;const[be,Se]=(0,r.useState)(null);var we,_e,Ce,Ee,Ie,Me;Te&&(ve=(null==V||null===(we=V[null==e||null===(_e=e.initialTransaction)||void 0===_e?void 0:_e.chainId])||void 0===we||null===(we=we[Y])||void 0===we?void 0:we.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,ke))))||(null==z||null===(Ce=z[null==e||null===(Ee=e.initialTransaction)||void 0===Ee?void 0:Ee.chainId])||void 0===Ce||null===(Ce=Ce[Y])||void 0===Ce?void 0:Ce.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,ke))))||(null==Q||null===(Ie=Q[null==e||null===(Me=e.initialTransaction)||void 0===Me?void 0:Me.chainId])||void 0===Ie||null===(Ie=Ie.data)||void 0===Ie?void 0:Ie[ke.toLowerCase()]));(0,r.useEffect)((()=>()=>{pe.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(Te&&!ve){var e;const t=await(0,d.getAssetDetails)(ae,ie,null==ne||null===(e=ne.txParams)||void 0===e?void 0:e.data,G);!0===pe.current&&Se(t)}}()}),[Te,ve,ke,ie,null==ne||null===(s=ne.txParams)||void 0===s?void 0:s.data,G,ae,pe]),be&&(ve={address:be.toAddress,symbol:be.symbol,decimals:be.decimals});const Ae=(0,A.useTokenData)(null==ne||null===(N=ne.txParams)||void 0===N?void 0:N.data,Te),Pe=(0,d.getTokenIdParam)(Ae)??(0,k.getTokenValueParam)(Ae),xe=Te&&G.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,ke)&&t===Pe)),Oe=(0,M.useTokenDisplayValue)(null==re||null===(D=re.txParams)||void 0===D?void 0:D.data,ve,Te),Ne=(0,C.useTokenFiatAmount)(null===(B=ve)||void 0===B?void 0:B.address,Oe,null===($=ve)||void 0===$?void 0:$.symbol),Re=(0,p.stripHttpSchemes)(ne.origin||(null===(j=ne.msgParams)||void 0===j?void 0:j.origin)||"");let De,Be,$e=Te?null===(U=ve)||void 0===U?void 0:U.symbol:undefined,je=Te?Oe:undefined,Ue=Te?Ne:undefined;const{swapTokenValue:Le,isNegative:Fe,swapTokenFiatAmount:We,isViewingReceivedTokenFromSwap:He}=(0,P.useSwappedTokenValue)(e,q),Ke=(0,v.useBridgeTokenDisplayData)(e);if(R.includes(oe))De=f.TransactionGroupCategory.signatureRequest,Be=J("signatureRequest"),fe=Re,ye=!0;else if(oe===o.TransactionType.swap)De=f.TransactionGroupCategory.swap,Be=J("swapTokenToToken",[ne.sourceTokenSymbol,ne.destinationTokenSymbol]),fe=Re,ye=!0,$e=He?q.symbol:ne.sourceTokenSymbol,je=Le,Ue=We,ge=Fe?"":He?"+":"-";else if(oe===o.TransactionType.swapAndSend){const e=ne.swapAndSendRecipient===ie;ke=ne.swapAndSendRecipient,De=f.TransactionGroupCategory.swapAndSend,Be=J("sendTokenAsToken",[ne.sourceTokenSymbol,ne.destinationTokenSymbol]),fe=Re,ye=!0,$e=He&&e?q.symbol:ne.sourceTokenSymbol,je=Le,Ue=We,ge=Fe?"":He&&e?"+":"-"}else if(oe===o.TransactionType.swapApproval)De=f.TransactionGroupCategory.approval,Be=J("swapApproval",[re.sourceTokenSymbol]),fe=Re,ye=!0,$e=re.sourceTokenSymbol;else if(oe===o.TransactionType.tokenMethodApprove){var qe;De=f.TransactionGroupCategory.approval,ge="",Be=J("approveSpendingCap",[(null===(qe=ve)||void 0===qe?void 0:qe.symbol)||J("token").toLowerCase()]),fe=Re,ye=!0}else if(oe===o.TransactionType.tokenMethodSetApprovalForAll){var Ve,Ye,Ge;const e=!(null!=Ae&&null!==(Ve=Ae.args)&&void 0!==Ve&&Ve[1]);De=f.TransactionGroupCategory.approval,ge="",Be=e?J("revokePermissionTitle",[(null===(Ye=ve)||void 0===Ye?void 0:Ye.symbol)||(null==xe?void 0:xe.name)||J("token")]):J("setApprovalForAllTitle",[(null===(Ge=ve)||void 0===Ge?void 0:Ge.symbol)||J("token")]),fe=Re,ye=!0}else if(oe===o.TransactionType.tokenMethodIncreaseAllowance){var ze;De=f.TransactionGroupCategory.approval,ge="",Be=J("approveIncreaseAllowance",[(null===(ze=ve)||void 0===ze?void 0:ze.symbol)||J("token")]),fe=Re,ye=!0}else if(oe===o.TransactionType.contractInteraction||oe===o.TransactionType.batch||oe===o.TransactionType.revokeDelegation){De=f.TransactionGroupCategory.interaction;const e=(0,c.getTransactionTypeTitle)(J,oe);Be=(null==ce?void 0:ce.name)&&(0,u.camelCaseToCapitalize)(ce.name)||e,fe=Re,ye=!0}else if(oe===o.TransactionType.deployContract)De=f.TransactionGroupCategory.interaction,Be=(0,c.getTransactionTypeTitle)(J,oe),fe=Re,ye=!0;else if(oe===o.TransactionType.incoming)De=f.TransactionGroupCategory.receive,Be=J("receive"),ge="",fe=J("fromAddress",[(0,p.shortenAddress)(ie)]);else if(oe===o.TransactionType.tokenMethodTransferFrom||oe===o.TransactionType.tokenMethodTransfer){var Qe;De=f.TransactionGroupCategory.send,Be=J("sendSpecifiedTokens",[(null===(Qe=ve)||void 0===Qe?void 0:Qe.symbol)||(null==xe?void 0:xe.name)||J("token")]),ke=(0,d.getTokenAddressParam)(Ae),fe=J("toAddress",[(0,p.shortenAddress)(ke)])}else oe===o.TransactionType.tokenMethodSafeTransferFrom?(De=f.TransactionGroupCategory.send,Be=J("safeTransferFrom"),ke=(0,d.getTokenAddressParam)(Ae),fe=J("toAddress",[(0,p.shortenAddress)(ke)])):oe===o.TransactionType.simpleSend?(De=f.TransactionGroupCategory.send,Be=J("send"),fe=J("toAddress",[(0,p.shortenAddress)(ke)])):oe===o.TransactionType.bridgeApproval?(Be=J("bridgeApproval"),De=f.TransactionGroupCategory.approval,Be=J("bridgeApproval",[Ke.sourceTokenSymbol]),fe=Re,ye=!0,$e=Ke.sourceTokenSymbol):oe===o.TransactionType.bridge?(Be=se?J("bridgeToChain",[se]):J("bridge"),De=Ke.category,$e=Ke.sourceTokenSymbol,je=(0,b.formatAmount)(K,new i.default(Ke.sourceTokenAmountSent??0)),Ue=Ke.displayCurrencyAmount):H((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${oe}`));const Je=(0,E.useUserPreferencedCurrency)(l.PRIMARY,{},null==e||null===(L=e.initialTransaction)||void 0===L?void 0:L.chainId),Xe=(0,E.useUserPreferencedCurrency)(l.SECONDARY),[Ze]=(0,I.useCurrencyDisplay)(me,{prefix:ge,displayValue:je,suffix:$e,...Je},null==e||null===(F=e.initialTransaction)||void 0===F?void 0:F.chainId),[et]=(0,I.useCurrencyDisplay)(me,{prefix:ge,displayValue:Ue,hideLabel:Te||Boolean(Le),...Xe},null==e||null===(W=e.initialTransaction)||void 0===W?void 0:W.chainId);return{title:Be,category:De,date:he,subtitle:fe,subtitleContainsOrigin:ye,primaryCurrency:oe===o.TransactionType.swap&&le?"":Ze,senderAddress:ie,recipientAddress:ke,secondaryCurrency:Te&&!Ne||[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(oe)&&!We||oe===o.TransactionType.bridge&&!Ue?undefined:et,displayedStatusKey:ue,isPending:le,isSubmitted:de}};var n=e("react-redux"),r=e("react"),o=e("@metamask/transaction-controller"),i=N(e("bignumber.js")),a=e("../selectors/selectors"),c=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),l=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),p=e("../helpers/utils/util"),m=e("../helpers/constants/transactions"),h=e("../ducks/metamask/metamask"),f=e("../../shared/constants/transaction"),g=e("../store/actions"),y=e("../../shared/modules/string-utils"),k=e("../../shared/lib/metamask-controller-utils"),T=e("../ducks/bridge-status/selectors"),v=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),b=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),w=e("../../shared/constants/bridge"),_=e("./useI18nContext"),C=e("./useTokenFiatAmount"),E=e("./useUserPreferencedCurrency"),I=e("./useCurrencyDisplay"),M=e("./useTokenDisplayValue"),A=e("./useTokenData"),P=e("./useSwappedTokenValue"),x=e("./useCurrentAsset"),O=N(e("./bridge/useBridgeChainInfo"));function N(e){return e&&e.__esModule?e:{default:e}}const R=[null,undefined,o.TransactionType.sign,o.TransactionType.personalSign,o.TransactionType.signTypedData,o.TransactionType.ethDecrypt,o.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6971,{"../../shared/constants/common":5740,"../../shared/constants/network":5752,"../constants":6779,"../helpers/constants/common":6820,"../selectors":7583,"../selectors/multichain":7587,"./useMultichainSelector":6944,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useUserPreferencedCurrency=function(e,t={},s=null){const d=(0,n.useSelector)(r.getSelectedInternalAccount),p=t.account??d,m=(0,l.useMultichainSelector)(o.getMultichainNativeCurrency,p),{showNativeTokenAsMainBalance:h}=(0,n.useSelector)(r.getPreferences,n.shallowEqual),f=(0,l.useMultichainSelector)(o.getMultichainShouldShowFiat,p),g={currency:(0,l.useMultichainSelector)(o.getMultichainCurrentCurrency,p),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},y={currency:s?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[s]||m||a.EtherDenomination.ETH:m||a.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||c.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return y;if(t.showFiatOverride)return g;if(!f)return y;if(t.shouldCheckShowNativeToken&&h||!t.shouldCheckShowNativeToken)return e===i.PRIMARY?y:g;return e===i.PRIMARY?g:y};var n=e("react-redux"),r=e("../selectors"),o=e("../selectors/multichain"),i=e("../helpers/constants/common"),a=e("../../shared/constants/common"),c=e("../constants"),u=e("../../shared/constants/network"),l=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6972,{react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useWindowFocus=void 0;var n=e("react");s.useWindowFocus=()=>{const[e,t]=(0,n.useState)(document.hasFocus());return(0,n.useEffect)((()=>{const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",s),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",s)}}),[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[6973,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":198,"../shared/constants/alerts":5736,"../shared/constants/app":5738,"../shared/constants/copy":5741,"../shared/lib/error-utils":5780,"../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5787,"../shared/lib/switch-direction":5794,"../shared/lib/trace":5796,"../shared/modules/object.utils":5818,"../shared/modules/selectors/networks":5824,"./ducks/alerts":6792,"./ducks/metamask/metamask":6810,"./helpers/utils/tags":6868,"./helpers/utils/tx-helper":6871,"./pages":7343,"./selectors":7583,"./store/actions":7601,"./store/background-connection":7602,"./store/store":7604,"copy-to-clipboard":4153,lodash:4871,loglevel:4879,react:5281,"react-dom":5110,util:5681,"webextension-polyfill":5715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=async function(e){const{backgroundConnection:t,traceContext:s}=e,r=await(0,k.trace)({name:k.TraceName.GetState,parentContext:s},(()=>(0,n.promisify)(t.getState.bind(t))())),o=await async function(e,t,s){const{traceContext:n}=s,r=(0,A.getStartupTraceTags)({metamask:e}),o=await(0,k.trace)({name:k.TraceName.SetupStore,parentContext:n,tags:r},(()=>R(e,t,s.activeTab)));return global.metamask={updateCurrentLocale:e=>{o.dispatch(b.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{o.dispatch(b.setFeatureFlag(e,t))}},await(0,k.trace)({name:k.TraceName.InitialActions,parentContext:n},(()=>async function(e){const t=e.getState(),s=(0,w.getNetworkToAutomaticallySwitchTo)(t);s?await e.dispatch(b.automaticallySwitchNetwork(s,(0,w.getOriginOfCurrentTab)(t))):(0,w.getSwitchedNetworkDetails)(t)&&await e.dispatch(b.clearSwitchedNetworkDetails());if((0,l.getEnvironmentType)()===h.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(b.setCurrentExtensionPopupId(t))}}(o))),(0,k.trace)({name:k.TraceName.FirstRender,parentContext:n},(()=>(0,c.render)(a.default.createElement(E.default,{store:o}),s.container))),o}(r,t,e);return await(0,n.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,i.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,p.maskObject)(t,m.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:s}=t.metamask;return Object.values(s).sort(((e,t)=>e.timestamp-t.timestamp))}}(o),o},s.setupInitialStore=R,s.updateBackgroundConnection=void 0;var n=e("util"),r=x(e("copy-to-clipboard")),o=x(e("loglevel")),i=e("lodash"),a=x(e("react")),c=e("react-dom"),u=x(e("webextension-polyfill")),l=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),p=e("../shared/modules/object.utils"),m=e("../app/scripts/constants/sentry-state"),h=e("../shared/constants/app"),f=e("../shared/constants/copy"),g=x(e("../shared/lib/switch-direction")),y=e("../shared/lib/error-utils"),k=e("../shared/lib/trace"),T=e("../shared/modules/selectors/networks"),v=e("../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=P(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("./store/actions")),S=x(e("./store/store")),w=e("./selectors"),_=e("./ducks/alerts"),C=e("./ducks/metamask/metamask"),E=x(e("./pages")),I=x(e("./helpers/utils/tx-helper")),M=e("./store/background-connection"),A=e("./helpers/utils/tags");function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(P=function(e){return e?s:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}let O;o.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const N=e=>{(0,M.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);O.dispatch(b.updateMetamaskState(e.params[0]))}))};async function R(e,t,s){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:n,enLocaleMessages:r}=await(0,y.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const o={activeTab:s,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:n,en:r}};if(N(t),(0,l.getEnvironmentType)()===h.ENVIRONMENT_TYPE_POPUP){const{origin:e}=o.activeTab,t=(0,w.getAllPermittedAccountsForCurrentTab)(o),s=(0,w.getSelectedInternalAccount)(o),n=(0,v.isInternalAccountInPermittedAccountIds)(s,t),r=(0,C.getUnconnectedAccountAlertShown)(o),i=(0,C.getUnconnectedAccountAlertEnabledness)(o);e&&i&&!r[e]&&t.length>0&&!n&&(o[d.AlertTypes.unconnectedAccount]={state:_.ALERT_STATE.OPEN},b.setUnconnectedAccountAlertShown(e))}const i=(0,S.default)(o);O=i;const a=(0,w.getUnapprovedTransactions)(e),c=(0,I.default)(a,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,T.getCurrentChainId)({metamask:e}));return c.length>0&&i.dispatch(b.showConfTxPage({id:c[0].id})),i}s.updateBackgroundConnection=N,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),s=window.stateHooks.getLogs();u.default.runtime.getPlatformInfo().then((n=>{t.platform=n,t.logs=s;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,s)=>{t?console.error(t.message):e?((0,r.default)(s,f.COPY_OPTIONS),console.log("State log copied")):console.log(s)}))}}}},{package:"$root$",file:"ui/index.js"}],[6974,{"../../../shared/modules/string-utils":5827,"../../components/app/assets/nfts/nft-details/nft-details":5889,"../../ducks/metamask/metamask":6810,"../../helpers/constants/routes":6828,"../../selectors/assets":7577,"./components/native-asset":6984,"./components/token-asset":6985,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=h(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../shared/modules/string-utils"),a=m(e("../../components/app/assets/nfts/nft-details/nft-details")),c=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),l=e("../../selectors/assets"),d=m(e("./components/native-asset")),p=m(e("./components/token-asset"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(h=function(e){return e?s:t})(e)}s.default=()=>{const e=(0,o.useParams)(),{chainId:t,asset:s,id:m}=e,h=s?decodeURIComponent(s):undefined,f=(0,r.useSelector)((e=>(0,c.getNFTsByChainId)(e,t))),g=(0,r.useSelector)((e=>(0,l.getTokenByAccountAndAddressAndChainId)(e,undefined,h,t))),y=f.find((({address:e,tokenId:t})=>(0,i.isEqualCaseInsensitive)(e,h)&&m===t.toString()));(0,n.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]);const k=(()=>{if(y)return n.default.createElement(a.default,{nft:y});if(!g||!t)return n.default.createElement(o.Redirect,{to:{pathname:u.DEFAULT_ROUTE}});return!g.isNative&&g.address?n.default.createElement(p.default,{chainId:t,token:g}):n.default.createElement(d.default,{chainId:t,token:g})})();return n.default.createElement("div",{className:"main-container asset__container"},k)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[6975,{"../../../../app/scripts/lib/util":198,"../../../../shared/constants/transaction":5767,"../../../components/component-library":6349,"../../../ducks/metamask/metamask":6810,"../../../helpers/constants/design-system":6822,"../../../helpers/utils/confirm-tx.util":6849,"../../../hooks/useI18nContext":6936,"../../../hooks/useMultichainSelector":6944,"../../../selectors/assets":7577,"../../../selectors/multichain":7587,"../../../selectors/selectors":7593,"../util":6991,"bignumber.js":3970,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.AssetMarketDetails=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("react-redux"),i=e("bignumber.js"),a=e("../../../helpers/utils/confirm-tx.util"),c=e("../util"),u=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),p=e("../../../ducks/metamask/metamask"),m=e("../../../hooks/useMultichainSelector"),h=e("../../../selectors/multichain"),f=e("../../../selectors/assets"),g=e("../../../selectors/selectors"),y=e("../../../../shared/constants/transaction"),k=e("../../../../app/scripts/lib/util");function T(e,t){return r.default.createElement(u.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},r.default.createElement(u.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodyMdMedium},e),t)}s.AssetMarketDetails=({asset:e,address:t})=>{var s,n,v,b,S;const w=(0,d.useI18nContext)(),_=(0,o.useSelector)(p.getCurrentCurrency),C=(0,m.useMultichainSelector)(h.getMultichainConversionRate),E=(0,o.useSelector)(g.getMarketData),I=(0,o.useSelector)(g.getCurrencyRates),M=(0,o.useSelector)(f.getAssetsRates),A=(0,o.useSelector)(h.getMultichainIsEvm),P=(0,m.useMultichainSelector)(h.getMultichainNativeCurrency),{type:x,symbol:O,chainId:N}=e,R=x===y.AssetType.native?null===(s=I[O])||void 0===s?void 0:s.conversionRate:(null===(n=I[P])||void 0===n?void 0:n.conversionRate)||0,D=(null==M||null===(v=M[t])||void 0===v?void 0:v.rate)||0,B=A?R:D,$=(0,k.getConversionRatesForNativeAsset)({conversionRates:M,chainId:N}),j=x===y.AssetType.native?null==$?void 0:$.marketData:null==M||null===(b=M[t])||void 0===b?void 0:b.marketData,U=A?null===(S=E[N])||void 0===S?void 0:S[t]:j;if(!(C>0&&U&&(U.marketCap>0||U.totalVolume>0||U.circulatingSupply>0||U.allTimeHigh>0||U.allTimeLow>0)))return null;const L=e=>e?new i.BigNumber("string"==typeof e?e:e.toString()).toNumber():0;let F=L(U.marketCap),W=L(U.totalVolume),H=L(U.circulatingSupply),K=L(U.allTimeHigh),q=L(U.allTimeLow);return A&&(F*=B,W*=B,H*=B,K*=B,q*=B),r.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(u.Text,{variant:l.TextVariant.headingMd,paddingBottom:4},w("marketDetails")),r.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2},F>0&&T(w("marketCap"),r.default.createElement(u.Text,{"data-testid":"asset-market-cap"},(0,c.localizeLargeNumber)(w,F))),W>0&&T(w("totalVolume"),r.default.createElement(u.Text,null,(0,c.localizeLargeNumber)(w,W))),H>0&&T(w("circulatingSupply"),r.default.createElement(u.Text,null,(0,c.localizeLargeNumber)(w,H))),K>0&&T(w("allTimeHigh"),r.default.createElement(u.Text,null,(0,a.formatCurrency)(`${K}`,_,(0,c.getPricePrecision)(K)))),q>0&&T(w("allTimeLow"),r.default.createElement(u.Text,null,(0,a.formatCurrency)(`${q}`,_,(0,c.getPricePrecision)(q))))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-market-details.tsx"}],[6976,{"../../../components/component-library":6349,"../../../components/ui/menu":6723,"../../../contexts/i18n":6782,"../../../helpers/constants/design-system":6822,"../../../helpers/constants/routes":6828,"../../../selectors":7583,"../../../selectors/multichain":7587,"prop-types":5035,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=f(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),o=(n=e("prop-types"))&&n.__esModule?n:{default:n},i=e("react-router-dom"),a=e("react-redux"),c=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),l=e("../../../selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system"),h=e("../../../selectors/multichain");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(f=function(e){return e?s:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:s,tokenSymbol:n,isNativeAsset:o})=>{const f=(0,r.useContext)(c.I18nContext),[g,y]=(0,r.useState)(!1),k=(0,i.useHistory)(),T=(0,a.useSelector)(l.getBlockExplorerLinkText),v=(0,r.useRef)(!1),b=(0,a.useSelector)(h.getMultichainIsEvm)&&!o;return r.default.createElement("div",{ref:v},r.default.createElement(p.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>y(!0),ariaLabel:f("assetOptions"),iconName:p.IconName.MoreVertical,color:m.Color.textDefault,size:p.ButtonIconSize.Sm}),g?r.default.createElement(u.Menu,{anchorElement:v.current,onHide:()=>y(!1)},r.default.createElement(u.MenuItem,{iconName:p.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===T.firstPart?()=>{k.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{y(!1),t()}},f(T.firstPart,""===T.secondPart?null:[f("blockExplorerAssetAction")])),b&&r.default.createElement(u.MenuItem,{iconName:p.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{y(!1),e()}},f("hideTokenSymbol",[n])),o||!s?null:r.default.createElement(u.MenuItem,{iconName:p.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{y(!1),s()}},f("tokenDetails"))):null)};g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:o.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};s.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[6977,{"../../../../shared/constants/transaction":5767,"../../../../shared/lib/trace":5796,"../../../../shared/modules/conversion.utils":5807,"../../../../shared/modules/hexstring-utils":5813,"../../../components/app/assets/hooks/useMultichainAssets":5880,"../../../components/app/assets/token-cell":5905,"../../../components/app/assets/util/calculateTokenBalance":5909,"../../../components/app/transaction-list":6261,"../../../components/app/wallet-overview/coin-buttons":6268,"../../../components/component-library":6349,"../../../components/multichain":6524,"../../../ducks/metamask/metamask":6810,"../../../ducks/ramps":6812,"../../../helpers/constants/design-system":6822,"../../../helpers/constants/routes":6828,"../../../helpers/utils/portfolio":6864,"../../../hooks/useI18nContext":6936,"../../../hooks/useMultichainSelector":6944,"../../../hooks/useTokenBalances":6961,"../../../selectors":7583,"../../../selectors/assets":7577,"../../../selectors/multichain":7587,"../hooks/useCurrentPrice":6988,"./asset-market-details":6975,"./chart/asset-chart":6981,"./token-buttons":6986,"@metamask/assets-controllers":1361,"@metamask/keyring-api":1983,"@metamask/utils":2967,lodash:4871,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("@metamask/assets-controllers"),r=e("@metamask/keyring-api"),o=e("@metamask/utils"),i=e("lodash"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=$(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),c=e("react-redux"),u=e("react-router-dom"),l=e("../../../../shared/constants/transaction"),d=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/modules/hexstring-utils"),m=B(e("../../../components/app/assets/hooks/useMultichainAssets")),h=B(e("../../../components/app/assets/token-cell")),f=e("../../../components/app/assets/util/calculateTokenBalance"),g=B(e("../../../components/app/transaction-list")),y=B(e("../../../components/app/wallet-overview/coin-buttons")),k=e("../../../components/component-library"),T=e("../../../components/multichain"),v=e("../../../ducks/metamask/metamask"),b=e("../../../ducks/ramps"),S=e("../../../helpers/constants/design-system"),w=e("../../../helpers/constants/routes"),_=e("../../../helpers/utils/portfolio"),C=e("../../../hooks/useI18nContext"),E=e("../../../hooks/useMultichainSelector"),I=e("../../../hooks/useTokenBalances"),M=e("../../../selectors"),A=e("../../../selectors/multichain"),P=e("../../../../shared/lib/trace"),x=e("../hooks/useCurrentPrice"),O=e("../../../selectors/assets"),N=B(e("./chart/asset-chart")),R=B(e("./token-buttons")),D=e("./asset-market-details");function B(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return($=function(e){return e?s:t})(e)}function j(e,t){return a.default.createElement(k.Box,{display:S.Display.Flex,justifyContent:S.JustifyContent.spaceBetween},a.default.createElement(k.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},e),t)}s.default=({asset:e,optionsButton:t})=>{var s,B;const $=(0,C.useI18nContext)(),U=(0,u.useHistory)(),L=(0,c.useSelector)(M.getSelectedAccount),F=(0,c.useSelector)(v.getCurrentCurrency),W=(0,c.useSelector)(b.getIsNativeTokenBuyable),H=(0,E.useMultichainSelector)(A.getMultichainIsEvm),K=(0,c.useSelector)(O.getMultichainNativeAssetType);(0,a.useEffect)((()=>{(0,P.endTrace)({name:P.TraceName.AssetDetails})}),[]);const{chainId:q,type:V,symbol:Y,name:G,image:z,decimals:Q}=e,J=V===l.AssetType.native,X=(0,c.useSelector)((e=>(0,M.getSwapsDefaultToken)(e,q)),i.isEqual),Z=(0,c.useSelector)((e=>(0,M.getIsSwapsChain)(e,q))),ee=(0,c.useSelector)((e=>(0,M.getIsBridgeChain)(e,q))),te=(0,c.useSelector)(M.getSelectedInternalAccount,i.isEqual),se=te.methods.includes(r.EthMethod.SignTransaction)||te.methods.includes(r.EthMethod.SignUserOperation)||te.methods.includes(r.SolMethod.SignTransaction),ne=(0,E.useMultichainSelector)(A.getMultichainIsTestnet),re=(0,E.useMultichainSelector)(A.getMultichainShouldShowFiat),oe=!ne,ie=(0,c.useSelector)(M.getShowFiatInTestnets),ae=re&&(oe||ne&&ie),ce=(0,c.useSelector)(M.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:ue}=(0,I.useTokenBalances)({chainIds:[q]}),le=ue[L.address],de=(0,m.default)().filter((e=>e.chainId===q&&e.address!==undefined)).find((t=>{switch(V){case l.AssetType.native:return t.isNative;case l.AssetType.token:return t.address===e.address;default:return!1}}))??{address:"",chainId:"",symbol:"",title:"",image:"",tokenFiatAmount:0,string:"",decimals:0,aggregators:[],isNative:!1,primary:"",secondary:0},pe=(0,c.useSelector)(M.getParticipateInMetaMetrics),me=(0,c.useSelector)(M.getDataCollectionForMarketing),he=(0,c.useSelector)(M.getMetaMetricsId),fe=(V===l.AssetType.token?H?(0,p.toChecksumHexAddress)(e.address):e.address:H?(0,n.getNativeTokenAddress)(q):K)??"",ge=V===l.AssetType.token,ye=ge?H?(0,p.toChecksumHexAddress)(e.address):(0,o.parseCaipAssetType)(fe).assetReference:"",ke=null==le||null===(s=le[q])||void 0===s?void 0:s[fe],Te=(0,f.calculateTokenBalance)({isNative:J,chainId:q,address:fe,decimals:Q,nativeBalances:ce,selectedAccountTokenBalancesAcrossChains:le}),{currentPrice:ve}=(0,x.useCurrentPrice)(e),be=ve?ve*parseFloat(String(Te)):0;e.balance={value:(0,d.hexToDecimal)(ke),display:String(Te),fiat:String(be)};const Se=H,we=(0,a.useMemo)((()=>(0,_.getPortfolioUrl)("","asset_page",he,pe,me,te.address,"spending-caps")),[te.address,me,pe,he]),_e=null===(B=(0,c.useSelector)(A.getMultichainNetworkConfigurationsByChainId)[q])||void 0===B?void 0:B.name,Ce=(0,A.getImageForChainId)(q),Ee=H?{address:fe,chainId:q,symbol:Y,image:z,title:G??Y,tokenFiatAmount:ae?be:null,string:Te?Te.toString():"",decimals:e.decimals,aggregators:V===l.AssetType.token&&e.aggregators?e.aggregators:[],isNative:V===l.AssetType.native,primary:Te?Te.toString():"",secondary:Te?Number(Te):0}:de;return a.default.createElement(k.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},a.default.createElement(k.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Row,justifyContent:S.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},a.default.createElement(k.Box,{display:S.Display.Flex},a.default.createElement(k.ButtonIcon,{color:S.IconColor.iconAlternative,marginRight:1,size:k.ButtonIconSize.Sm,ariaLabel:$("back"),iconName:k.IconName.ArrowLeft,onClick:()=>U.push(w.DEFAULT_ROUTE)}),a.default.createElement(k.Text,{"data-testid":"asset-name",color:S.TextColor.textAlternative},G&&Y&&G!==Y?`${G} (${Y})`:G??Y)),t),a.default.createElement(N.default,{chainId:q,address:fe,currentPrice:ve,currency:F}),a.default.createElement(k.Box,{marginTop:4},V===l.AssetType.native?a.default.createElement(y.default,{account:te,trackingLocation:"asset-page",isBuyableChain:W,isSigningEnabled:se,isSwapsChain:Z,isBridgeChain:ee,chainId:q,defaultSwapsToken:X}):a.default.createElement(R.default,{token:e})),a.default.createElement(k.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingTop:5},a.default.createElement(k.Text,{variant:S.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},$("yourBalance")),[l.AssetType.token,l.AssetType.native].includes(V)&&a.default.createElement(h.default,{key:`${Y}-${fe}`,token:Ee,disableHover:!0}),a.default.createElement(k.Box,{marginTop:2,display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:7},[l.AssetType.token,l.AssetType.native].includes(V)&&a.default.createElement(k.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(k.Text,{variant:S.TextVariant.headingMd,paddingBottom:4},$("tokenDetails")),a.default.createElement(k.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},j($("network"),a.default.createElement(k.Text,{display:S.Display.Flex,alignItems:S.AlignItems.center,gap:1,"data-testid":"asset-network"},a.default.createElement(k.AvatarNetwork,{src:Ce,name:_e,size:k.AvatarNetworkSize.Sm}),_e)),ge&&a.default.createElement(k.Box,null,j($("contractAddress"),a.default.createElement(T.AddressCopyButton,{address:ye,shorten:!0})),a.default.createElement(k.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},e.decimals!==undefined&&j($("tokenDecimal"),a.default.createElement(k.Text,null,e.decimals)),e.aggregators&&e.aggregators.length>0&&a.default.createElement(k.Box,null,a.default.createElement(k.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},$("tokenList")),a.default.createElement(k.Text,null,e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),Se&&j($("spendingCaps"),a.default.createElement(k.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:we,target:"_blank",rel:"noopener noreferrer"},$("editInPortfolio"))))),a.default.createElement(D.AssetMarketDetails,{asset:e,address:fe}),a.default.createElement(k.Box,{marginBottom:8},a.default.createElement(k.Text,{paddingLeft:4,paddingRight:4,variant:S.TextVariant.headingMd},$("yourActivity")),V===l.AssetType.native?a.default.createElement(g.default,{hideNetworkFilter:!0}):a.default.createElement(g.default,{tokenAddress:fe,hideNetworkFilter:!0})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[6978,{"../../../../components/component-library":6349,"../../../../helpers/constants/design-system":6822,"../../../../hooks/useI18nContext":6936,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.AssetChartEmptyState=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("../../../../components/component-library"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:t})(e)}s.AssetChartEmptyState=()=>{const e=(0,i.useI18nContext)();return n.createElement(r.Box,{className:"asset-chart__empty-state-container"},n.createElement(r.Box,{className:"asset-chart__empty-state-content"},n.createElement("img",{src:"./images/asset-chart-empty-state-illustration.png",width:"134",height:"106"}),n.createElement(r.Text,{textAlign:o.TextAlign.Center,variant:o.TextVariant.bodySmMedium,color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Medium,paddingTop:4,paddingRight:2,paddingBottom:4,paddingLeft:2,width:o.BlockSize.Full},e("assetChartNoHistoricalPrices"))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-empty-state.tsx"}],[6979,{"../../../../components/component-library":6349,"../../../../components/component-library/skeleton":6395,"../../../../helpers/constants/design-system":6822,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.AssetChartLoading=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("../../../../components/component-library/skeleton"),o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:t})(e)}s.AssetChartLoading=()=>n.createElement(o.Box,{className:"asset-chart__skeleton-container","data-testid":"asset-chart-loading"},n.createElement(r.Skeleton,{className:"asset-chart__skeleton",borderRadius:i.BorderRadius.LG}))}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-loading.tsx"}],[698,{"../CryptoHDKey":687,"../RegistryItem":694,"../RegistryType":695,"../lib":705,buffer:4079},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){(function(t){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CryptoMultiAccounts=void 0;const n=e("../RegistryType"),r=e("../CryptoHDKey"),o=e("../RegistryItem"),i=e("../lib");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(a||(a={}));class c extends o.RegistryItem{constructor(e,t,s,r,o){super(),this.masterFingerprint=e,this.keys=t,this.device=s,this.deviceId=r,this.version=o,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[a.keys]=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}))),this.device&&(e[a.device]=this.device),this.deviceId&&(e[a.deviceId]=this.deviceId),this.version&&(e[a.version]=this.version),new i.DataItem(e)}}}s.CryptoMultiAccounts=c,c.fromDataItem=e=>{const s=e.getData(),n=t.alloc(4),o=s[a.masterFingerprint];o&&n.writeUInt32BE(o,0);const i=s[a.keys].map((e=>r.CryptoHDKey.fromDataItem(e))),u=s[a.device],l=s[a.deviceId],d=s[a.version];return new c(n,i,u,l,d)},c.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[6980,{"../../../../components/component-library":6349,"../../../../components/component-library/skeleton":6395,"../../../../helpers/constants/design-system":6822,"../../../../helpers/utils/confirm-tx.util":6849,"../../util":6991,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=u(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("../../../../helpers/constants/design-system"),o=e("../../../../components/component-library"),i=e("../../../../helpers/utils/confirm-tx.util"),a=e("../../util"),c=e("../../../../components/component-library/skeleton");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(u=function(e){return e?s:t})(e)}const l=()=>n.default.createElement(c.Skeleton,{width:"25%",marginBottom:1,borderRadius:r.BorderRadius.LG},n.default.createElement(o.Text,{variant:r.TextVariant.displayMd}," ")),d=()=>n.default.createElement(o.Text,{variant:r.TextVariant.displayMd,marginBottom:1}," "),p=()=>n.default.createElement(c.Skeleton,{width:"33%",borderRadius:r.BorderRadius.LG},n.default.createElement(o.Text,{variant:r.TextVariant.bodyMdMedium}," ")),m=()=>n.default.createElement(o.Text,{variant:r.TextVariant.bodyMdMedium}," "),h=n.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),n.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),f=n.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),n.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),g=(0,n.forwardRef)(((e,t)=>{const[{price:s,date:c},u]=(0,n.useState)({price:e.price,date:e.date});(0,n.useImperativeHandle)(t,(()=>({setPrice:u})));const{loading:g,currency:y,comparePrice:k}=e,T=s!==undefined&&k!==undefined?s-k:undefined,v=g&&s===undefined,b=!g&&s===undefined,S=g&&s!==undefined,w=!g&&s!==undefined,_=g&&T===undefined,C=!g&&T===undefined,E=g&&T!==undefined&&k!==undefined,I=!g&&T!==undefined&&k!==undefined;return n.default.createElement(o.Box,{marginLeft:4,marginRight:4},v&&n.default.createElement(l,null),b&&n.default.createElement(d,null),(w||S)&&n.default.createElement(o.Text,{"data-testid":"asset-hovered-price",variant:r.TextVariant.displayMd,fontWeight:r.FontWeight.Medium,borderRadius:r.BorderRadius.LG,marginBottom:1,style:{opacity:S?a.loadingOpacity:1}},(0,i.formatCurrency)(`${s}`,y,(0,a.getPricePrecision)(s))),_&&n.default.createElement(p,null),C&&n.default.createElement(m,null),(I||E)&&n.default.createElement(o.Box,{style:{opacity:g?a.loadingOpacity:1}},T>=0?h:f,n.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:T>=0?r.TextColor.successDefault:r.TextColor.errorDefault},(0,i.formatCurrency)(`${Math.abs(T)}`,y,(0,a.getPricePrecision)(T))," ","(",T>=0?"+":"",(T/k*100).toFixed(2),"%)"),n.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,color:r.TextColor.textAlternative},(0,a.getShortDateFormatter)().format(c))))}));s.default=g}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-price.tsx"}],[6981,{"../../../../components/component-library":6349,"../../../../helpers/constants/design-system":6822,"../../../../hooks/useI18nContext":6936,"../../../../hooks/useTheme":6959,"../../hooks/useChartTimeRanges":6987,"../../hooks/useHistoricalPrices":6989,"../../util":6991,"./asset-chart-empty-state":6978,"./asset-chart-loading":6979,"./asset-chart-price":6980,"./chart-tooltip":6982,"./crosshair-plugin":6983,"@metamask/design-tokens":1476,"chart.js":4104,classnames:4112,lodash:4871,luxon:4881,react:5281,"react-chartjs-2":5106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=w(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("chart.js"),o=e("react-chartjs-2"),i=S(e("classnames")),a=e("@metamask/design-tokens"),c=e("lodash"),u=e("luxon"),l=e("../../../../hooks/useTheme"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/component-library"),m=e("../../../../hooks/useI18nContext"),h=e("../../hooks/useHistoricalPrices"),f=e("../../util"),g=e("../../hooks/useChartTimeRanges"),y=S(e("./chart-tooltip")),k=e("./crosshair-plugin"),T=e("./asset-chart-empty-state"),v=e("./asset-chart-loading"),b=S(e("./asset-chart-price"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(w=function(e){return e?s:t})(e)}r.Chart.register(r.LinearScale,r.PointElement,r.LineElement,r.Filler,r.Decimation,k.CrosshairPlugin);const _={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};s.default=({chainId:e,address:t,currentPrice:s,currency:r})=>{var k;const S=(0,m.useI18nContext)(),w=(0,l.useTheme)(),C=(0,g.useChartTimeRanges)(t,r),[E,I]=(0,n.useState)(C[0]??"P1D"),{loading:M,data:{prices:A,metadata:{minPricePoint:P,maxPricePoint:x,xMin:O,xMax:N,yMin:R,yMax:D}}}=(0,h.useHistoricalPrices)({chainId:e,address:t,currency:r,timeRange:E}),B=M&&0===A.length,$=!M&&0===A.length,j=M&&A.length>0,U=!M&&A.length>0,L={..._,borderColor:"dark"===w?a.brandColor.blue400:a.brandColor.blue500,scales:{x:{min:O,max:N,display:!1,type:"linear"},y:{min:R,max:D,display:!1}}},F=(0,n.useRef)(),W=(0,n.useRef)();return(0,n.useEffect)((()=>{var e;null==W||null===(e=W.current)||void 0===e||e.setPrice({price:s,date:Date.now()})}),[s]),n.default.createElement(p.Box,{borderRadius:d.BorderRadius.LG},n.default.createElement(b.default,{ref:W,loading:M,currency:r,price:s,date:Date.now(),comparePrice:null==A||null===(k=A[0])||void 0===k?void 0:k.y}),n.default.createElement(p.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:d.BorderRadius.LG,display:d.Display.Flex,flexDirection:d.FlexDirection.Column},B&&n.default.createElement(v.AssetChartLoading,null),$&&n.default.createElement(T.AssetChartEmptyState,null),(U||j)&&n.default.createElement(p.Box,{style:{opacity:j?f.loadingOpacity:1}},n.default.createElement(y.default,{point:x,xMin:O,xMax:N,currency:r}),n.default.createElement(p.Box,{style:{aspectRatio:`${L.aspectRatio}`},display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:s?d.JustifyContent.flexEnd:d.JustifyContent.flexStart},n.default.createElement(o.Line,{ref:F,data:{datasets:[{data:A}]},options:L,updateMode:"none",onMouseMove:e=>{var t;const s=null==F||null===(t=F.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(s){const t=e.target,r=s[Math.max(0,Math.min(s.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*s.length)))];var n;if(r)null==W||null===(n=W.current)||void 0===n||n.setPrice({price:r.y,date:r.x})}},onMouseOut:()=>{var e;null==W||null===(e=W.current)||void 0===e||e.setPrice({price:s,date:Date.now()})}})),n.default.createElement(y.default,{point:P,xMin:O,xMax:N,currency:r})),n.default.createElement(p.Box,{style:A?undefined:{visibility:"hidden"},display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},C.map((e=>n.default.createElement(p.ButtonBase,{key:e,className:(0,i.default)("time-range-button",{"time-range-button__selected":e===E}),onClick:()=>I(e),variant:d.TextVariant.bodySmMedium,size:p.ButtonBaseSize.Sm,backgroundColor:d.BackgroundColor.transparent,color:d.TextColor.textAlternative},((e,t)=>{const{years:s,months:n,weeks:r,days:o,hours:i,minutes:a,seconds:l,milliseconds:d}=u.Duration.fromISO(t,{locale:"en"}).normalize().rescale().toObject();return s&&s>100?`${e("all")}`:(0,c.trim)(`${s?`${s}${e("durationSuffixYear")} `:""}${n?`${n}${e("durationSuffixMonth")} `:""}${r?`${r}${e("durationSuffixWeek")} `:""}${o?`${o}${e("durationSuffixDay")} `:""}${i?`${i}${e("durationSuffixHour")} `:""}${a?`${a}${e("durationSuffixMinute")} `:""}${l?`${l}${e("durationSuffixSecond")} `:""}${d?`${d}${e("durationSuffixMillisecond")}`:""}`)})(S,e)))))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[6982,{"../../../../components/component-library":6349,"../../../../helpers/constants/design-system":6822,"../../../../helpers/utils/confirm-tx.util":6849,"../../util":6991,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../../components/component-library"),i=e("../../../../helpers/utils/confirm-tx.util"),a=e("../../../../helpers/constants/design-system"),c=e("../../util");s.default=({point:e,xMin:t,xMax:s,currency:n})=>{const u=e&&t&&s?(e.x-t)/(s-t):0;return r.default.createElement(o.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?o.TextDirection.LeftToRight:o.TextDirection.RightToLeft}},r.default.createElement(o.Text,{marginLeft:4,marginRight:4,variant:a.TextVariant.bodySmMedium,color:a.TextColor.textAlternative,textAlign:a.TextAlign.Center},(null==e?void 0:e.y)===undefined?" ":(0,i.formatCurrency)(`${null==e?void 0:e.y}`,n,(0,c.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[6983,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CrosshairPlugin=void 0;s.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,s=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(s){const{x:t,y:n}=e.scales,r=t.getPixelForValue(s.x),o=n.getPixelForValue(s.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(r,0),e.ctx.lineTo(r,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(r,o,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[6984,{"../../../../shared/constants/metametrics":5749,"../../../../shared/constants/transaction":5767,"../../../../shared/modules/selectors/networks":5824,"../../../contexts/metametrics":6786,"../../../helpers/utils/multichain/blockExplorer":6859,"../../../helpers/utils/util":6872,"../../../hooks/useIsOriginalNativeTokenSymbol":6937,"../../../hooks/useMultichainSelector":6944,"../../../selectors":7583,"../../../selectors/multichain":7587,"./asset-options":6976,"./asset-page":6977,"@metamask/etherscan-link":1900,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=T(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),i=e("../../../selectors"),a=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),l=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),p=e("../../../contexts/metametrics"),m=e("../../../helpers/utils/multichain/blockExplorer"),h=e("../../../hooks/useMultichainSelector"),f=e("../../../selectors/multichain"),g=k(e("./asset-options")),y=k(e("./asset-page"));function k(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(T=function(e){return e?s:t})(e)}s.default=({token:e,chainId:t})=>{const{symbol:s}=e,k=(0,i.getNativeCurrencyForChain)(t),{type:T}=(0,r.useSelector)(a.getProviderConfig)??{},{address:v}=(0,r.useSelector)(i.getSelectedInternalAccount),b=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider),S=(0,r.useSelector)(i.getSelectedAccount),w=(0,h.useMultichainSelector)(f.getMultichainNetwork,S),_=(0,r.useSelector)(f.getMultichainIsEvm),C=(0,m.getMultichainAccountUrl)(S.address,w),E=_?(0,o.getAccountLink)(v,t,b):C,I=(0,n.useContext)(p.MetaMetricsContext),M=(0,u.useIsOriginalNativeTokenSymbol)(t,s,T);return n.default.createElement(y.default,{asset:{chainId:t,type:c.AssetType.native,symbol:s,image:k,decimals:e.decimals,isOriginalNativeSymbol:!0===M},optionsButton:n.default.createElement(g.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{I({event:"Clicked Block Explorer Link",category:l.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(E)}}),global.platform.openTab({url:E})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[6985,{"../../../../shared/constants/metametrics":5749,"../../../../shared/constants/transaction":5767,"../../../../shared/modules/selectors/networks":5824,"../../../../shared/modules/string-utils":5827,"../../../contexts/metametrics":6786,"../../../helpers/utils/multichain/blockExplorer":6859,"../../../helpers/utils/util":6872,"../../../hooks/useMultichainSelector":6944,"../../../hooks/useTokenFiatAmount":6965,"../../../hooks/useTokenTracker":6968,"../../../selectors":7583,"../../../selectors/multichain":7587,"../../../store/actions":7601,"./asset-options":6976,"./asset-page":6977,"@metamask/etherscan-link":1900,"@metamask/utils":2967,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=e("@metamask/etherscan-link"),r=e("@metamask/utils"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=_(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),i=e("react-redux"),a=e("react-router-dom"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),l=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/modules/string-utils"),p=e("../../../contexts/metametrics"),m=e("../../../helpers/utils/util"),h=e("../../../hooks/useTokenFiatAmount"),f=e("../../../hooks/useTokenTracker"),g=e("../../../selectors"),y=e("../../../store/actions"),k=e("../../../helpers/utils/multichain/blockExplorer"),T=e("../../../hooks/useMultichainSelector"),v=e("../../../selectors/multichain"),b=w(e("./asset-options")),S=w(e("./asset-page"));function w(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(_=function(e){return e?s:t})(e)}s.default=({token:e,chainId:t})=>{var s,w,_;const{address:C,symbol:E,isERC721:I,image:M}=e,A=(0,i.useSelector)(g.getTokenList),P=(0,i.useSelector)(l.getNetworkConfigurationsByChainId),x=null===(s=P[t])||void 0===s?void 0:s.defaultBlockExplorerUrlIndex,O=x===undefined?null:null===(w=P[t])||void 0===w?void 0:w.blockExplorerUrls[x],N=(0,i.useSelector)(g.getSelectedInternalAccount),{address:R}=N,D=(0,i.useSelector)(g.selectERC20TokensByChain),B=(0,T.useMultichainSelector)(v.getMultichainNetwork,N),$=(0,i.useSelector)(v.getMultichainIsEvm),j=(0,a.useHistory)(),U=(0,i.useDispatch)(),L=(0,o.useContext)(p.MetaMetricsContext),F=Object.values(A).find((e=>(0,d.isEqualCaseInsensitive)(e.symbol,E)&&(0,d.isEqualCaseInsensitive)(e.address,C))),W=null==D||null===(_=D[t])||void 0===_||null===(_=_.data)||void 0===_?void 0:_[C.toLowerCase()],H=(null==F?void 0:F.name)||(null==W?void 0:W.name)||E,K=(null==F?void 0:F.iconUrl)||(null==W?void 0:W.iconUrl)||M||"",q=null==F?void 0:F.aggregators,{tokensWithBalances:V}=(0,f.useTokenTracker)({tokens:[e],address:undefined}),Y=null==V?void 0:V[0],G=(0,h.useTokenFiatAmount)(C,null==Y?void 0:Y.string,E,{},!1),z=(0,n.getTokenTrackerLink)(e.address,t,"",R,{blockExplorerUrl:O??""}),Q=$?z:(0,k.getMultichainAccountUrl)((0,r.parseCaipAssetType)(C).assetReference,B);return o.default.createElement(S.default,{asset:{chainId:t,type:u.AssetType.token,address:C,symbol:E,name:H,decimals:e.decimals,image:K,aggregators:q,balance:{value:null==Y?void 0:Y.balance,display:`${(0,m.roundToDecimalPlacesRemovingExtraZeroes)(null==Y?void 0:Y.string,5)}`,fiat:G},isERC721:I},optionsButton:o.default.createElement(b.default,{isNativeAsset:!1,onRemove:()=>U((0,y.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:j})),onClickBlockExplorer:()=>{L({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,m.getURLHostName)(z)}}),global.platform.openTab({url:Q})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[6986,{"../../../../shared/constants/metametrics":5749,"../../../../shared/constants/multichain/networks":5751,"../../../../shared/constants/transaction":5767,"../../../../shared/modules/selectors/networks":5824,"../../../components/app/wallet-overview/hooks/useHandleSendNonEvm":6271,"../../../components/component-library":6349,"../../../components/ui/icon-button/icon-button":6693,"../../../contexts/i18n":6782,"../../../contexts/metametrics":6786,"../../../ducks/ramps":6812,"../../../ducks/send":6815,"../../../ducks/swaps/swaps":6818,"../../../helpers/constants/design-system":6822,"../../../helpers/constants/error-keys":6823,"../../../helpers/constants/routes":6828,"../../../helpers/utils/hardware":6853,"../../../hooks/bridge/useBridging":6886,"../../../hooks/ramps/useRamps/useRamps":6908,"../../../hooks/useMultichainSelector":6944,"../../../selectors":7583,"../../../selectors/multichain":7587,"../../../store/actions":7601,"@metamask/keyring-api":1983,lodash:4871,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=x(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("@metamask/keyring-api"),a=e("lodash"),c=e("../../../contexts/i18n"),u=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),d=e("../../../helpers/utils/hardware"),p=e("../../../ducks/swaps/swaps"),m=P(e("../../../hooks/ramps/useRamps/useRamps")),h=e("../../../selectors"),f=P(e("../../../hooks/bridge/useBridging")),g=e("../../../helpers/constants/error-keys"),y=e("../../../store/actions"),k=e("../../../contexts/metametrics"),T=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),S=P(e("../../../components/ui/icon-button/icon-button")),w=e("../../../components/component-library"),_=e("../../../ducks/ramps"),C=e("../../../hooks/useMultichainSelector"),E=e("../../../selectors/multichain"),I=e("../../../components/app/wallet-overview/hooks/useHandleSendNonEvm"),M=e("../../../../shared/constants/multichain/networks"),A=e("../../../../shared/modules/selectors/networks");function P(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(x=function(e){return e?s:t})(e)}s.default=({token:e})=>{const t=(0,r.useDispatch)(),s=(0,n.useContext)(c.I18nContext),P=(0,n.useContext)(k.MetaMetricsContext),x=(0,o.useHistory)(),O=(0,r.useSelector)(h.getCurrentKeyring),N=(0,d.isHardwareKeyring)(O.type),R=(0,C.useMultichainSelector)(E.getMultichainIsEvm),D=(0,r.useSelector)(h.getSelectedInternalAccount,a.isEqual),{chainId:B}=(0,r.useSelector)(h.getSelectedMultichainNetworkConfiguration),$=(0,r.useSelector)(A.getCurrentChainId),j=(0,r.useSelector)(h.getNetworkConfigurationIdByChainId),U=(0,r.useSelector)((e=>(0,h.getIsSwapsChain)(e,R?$:B))),L=(0,r.useSelector)((e=>(0,h.getIsBridgeChain)(e,R?$:B))),F=(0,r.useSelector)(_.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:W}=(0,m.default)(),{openBridgeExperience:H}=(0,f.default)(),K=(0,I.useHandleSendNonEvm)(e.address);(0,n.useEffect)((()=>{e.isERC721&&t((0,y.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const q=(0,n.useCallback)((async()=>{if($!==e.chainId&&B!==e.chainId)try{const s=j[e.chainId];await t((0,y.setActiveNetworkWithError)(s)),await t((0,y.setSwitchedNetworkDetails)({networkClientId:s}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${$}.\n        ${t}`),t}}),[$,B,j,e.chainId,t]),V=(0,n.useCallback)((()=>{W(),P({event:T.MetaMetricsEventName.NavBuyButtonClicked,category:T.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:$,token_symbol:e.symbol}})}),[$,e.symbol,P,W]),Y=(0,n.useCallback)((async()=>{if(P({event:T.MetaMetricsEventName.NavSendButtonClicked,category:T.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:T.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1}),(0,i.isEvmAccountType)(D.type))try{await q(),await t((0,l.startNewDraftTransaction)({type:v.AssetType.token,details:e})),x.push(u.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}else await K()}),[P,t,x,e,q,D,K]),G=(0,n.useCallback)((async t=>{var s,n;await q(),H(T.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(s=e.balance)||void 0===s?void 0:s.value,string:null==e||null===(n=e.balance)||void 0===n?void 0:n.display,name:e.name??""},undefined,t)}),[e,q,H]),z=(0,n.useCallback)((async()=>{var s,n,r,o,i;B!==M.MultichainNetworks.SOLANA?(await q(),P({event:T.MetaMetricsEventName.NavSwapButtonClicked,category:T.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:T.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:$}}),t((0,p.setSwapsFromToken)({...e,address:null===(s=e.address)||void 0===s?void 0:s.toLowerCase(),iconUrl:e.image,balance:null==e||null===(n=e.balance)||void 0===n?void 0:n.value,string:null==e||null===(r=e.balance)||void 0===r?void 0:r.display})),N?null===(o=(i=global.platform).openExtensionInBrowser)||void 0===o||o.call(i,u.PREPARE_SWAP_ROUTE,undefined,!1):x.push(u.PREPARE_SWAP_ROUTE)):G(!0)}),[$,P,t,x,e,N,q,G,B]);return n.default.createElement(w.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},n.default.createElement(S.default,{className:"token-overview__button",Icon:n.default.createElement(w.Icon,{name:w.IconName.PlusMinus,color:b.IconColor.primaryInverse,size:w.IconSize.Sm}),label:s("buyAndSell"),"data-testid":"token-overview-buy",onClick:V,disabled:e.isERC721||!F,tooltipRender:null}),n.default.createElement(S.default,{className:"token-overview__button",onClick:Y,Icon:n.default.createElement(w.Icon,{name:w.IconName.Arrow2UpRight,color:b.IconColor.primaryInverse,size:w.IconSize.Sm}),label:s("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),n.default.createElement(S.default,{className:"token-overview__button",Icon:n.default.createElement(w.Icon,{name:w.IconName.SwapHorizontal,color:b.IconColor.primaryInverse,size:w.IconSize.Sm}),onClick:z,label:s("swap"),tooltipRender:null,disabled:!U}),n.default.createElement(S.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:n.default.createElement(w.Icon,{name:w.IconName.Bridge,color:b.IconColor.primaryInverse,size:w.IconSize.Sm}),label:s("bridge"),onClick:()=>G(!1),tooltipRender:null,disabled:!L}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[6987,{"../../../selectors/assets":7577,"../../../selectors/multichain":7587,"@metamask/utils":2967,lodash:4871,luxon:4881,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useChartTimeRanges=void 0;var n=e("@metamask/utils"),r=e("lodash"),o=e("luxon"),i=e("react-redux"),a=e("../../../selectors/assets"),c=e("../../../selectors/multichain");s.useChartTimeRanges=(e,t)=>{var s;const u=["P1D","P1W","P1M","P3M","P1Y","P1000Y"],l=(0,i.useSelector)(c.getMultichainIsEvm),d=(0,i.useSelector)(a.getHistoricalPrices);if(l)return u;(0,n.assert)(e,"caipAssetType is required on non-EVM chains"),(0,n.assert)(t,"currency is required on non-EVM chains");const p=null===(s=d[e])||void 0===s||null===(s=s[t])||void 0===s?void 0:s.intervals;return p?(0,r.chain)(p).keys().map((e=>o.Duration.fromISO(e))).filter((e=>e.isValid)).sortBy((e=>e.toMillis())).map((e=>e.toISO())).filter((e=>null!==e)).uniq().value():u}}}},{package:"$root$",file:"ui/pages/asset/hooks/useChartTimeRanges.ts"}],[6988,{"../../../../shared/modules/hexstring-utils":5813,"../../../hooks/useMultichainSelector":6944,"../../../selectors":7583,"../../../selectors/assets":7577,"../../../selectors/multichain":7587,"@metamask/assets-controllers":1361,"@metamask/bridge-controller":1384,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useCurrentPrice=void 0;var n=e("@metamask/assets-controllers"),r=e("@metamask/bridge-controller"),o=e("react-redux"),i=e("../../../../shared/modules/hexstring-utils"),a=e("../../../hooks/useMultichainSelector"),c=e("../../../selectors"),u=e("../../../selectors/assets"),l=e("../../../selectors/multichain");s.useCurrentPrice=e=>{var t;const s=(0,a.useMultichainSelector)(l.getMultichainIsEvm),d=(0,o.useSelector)(c.getMarketData),p=(0,o.useSelector)(c.getCurrencyRates),m=(0,o.useSelector)(u.getAssetsRates),h=(0,a.useMultichainSelector)(l.getMultichainConversionRate),{chainId:f,type:g}=e,y=g===r.AssetType.token?s?(0,i.toChecksumHexAddress)(e.address):e.address:(0,n.getNativeTokenAddress)(f);if(g===r.AssetType.native)return{currentPrice:Number(h)};if(s){var k,T,v;const e=null===(k=d[f])||void 0===k||null===(k=k[y])||void 0===k?void 0:k.price,t=null===(v=p[null===(T=d[f])||void 0===T||null===(T=T[y])||void 0===T?void 0:T.currency])||void 0===v?void 0:v.conversionRate;return{currentPrice:t!==undefined&&e!==undefined?t*e:undefined}}const b=null==m||null===(t=m[y])||void 0===t?void 0:t.rate;return{currentPrice:b?parseFloat(b):undefined}}}}},{package:"$root$",file:"ui/pages/asset/hooks/useCurrentPrice.ts"}],[6989,{"../../../../shared/constants/time":5765,"../../../../shared/lib/fetch-with-cache":5781,"../../../selectors":7583,"../../../selectors/assets":7577,"../../../selectors/multichain":7587,"../../../store/actions":7601,"../util":6991,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useHistoricalPrices=s.DEFAULT_USE_HISTORICAL_PRICES_METADATA=void 0;var n,r=e("react"),o=e("react-redux"),i=e("../../../../shared/constants/time"),a=(n=e("../../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},c=e("../../../selectors"),u=e("../../../selectors/assets"),l=e("../../../selectors/multichain"),d=e("../util"),p=e("../../../store/actions");const m=s.DEFAULT_USE_HISTORICAL_PRICES_METADATA={minPricePoint:{x:-Infinity,y:-Infinity},maxPricePoint:{x:Infinity,y:Infinity},xMin:Infinity,xMax:-Infinity,yMin:Infinity,yMax:-Infinity};s.useHistoricalPrices=({chainId:e,address:t,currency:s,timeRange:n})=>{const h=(0,o.useSelector)(l.getMultichainIsEvm),f=(0,o.useSelector)(c.getShouldShowFiat),[g,y]=(0,r.useState)(!1),[k,T]=(0,r.useState)([]),[v,b]=(0,r.useState)(m),S=(0,o.useSelector)(u.getHistoricalPrices),w=(0,o.useDispatch)();return(0,r.useEffect)((()=>{if(h){if(!(f&&(0,d.chainSupportsPricing)(e)))return()=>{};y(!0);const r=(0,d.fromIso8601DurationToPriceApiTimePeriod)(n);return(0,a.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${s}&timePeriod=${r}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const s=(null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]}))))??[];T(s)})).finally((()=>{y(!1)})),()=>{}}const r=async()=>{y(!0);try{await w((0,p.fetchHistoricalPricesForAsset)(t))}catch(s){console.error("Error fetching historical prices for %s on %s",t,e,s)}finally{y(!1)}};r();const o=setInterval(r,6e4);return()=>clearInterval(o)}),[e,t,s,n,h,S,f,w]),(0,r.useEffect)((()=>{var e;if(h)return;const r=((null==S||null===(e=S[t])||void 0===e||null===(e=e[s])||void 0===e?void 0:e.intervals[n])??[]).map((([e,t])=>({x:e,y:Number(t)})));T(r)}),[h,S,t,s,n]),(0,r.useEffect)((()=>{const e=Math.min(...k.map((e=>e.x))),t=Math.max(...k.map((e=>e.x))),s=Math.min(...k.map((e=>e.y))),n=Math.max(...k.map((e=>e.y))),r=k.find((e=>e.y===s))??m.minPricePoint,o=k.find((e=>e.y===n))??m.maxPricePoint;b({minPricePoint:r,maxPricePoint:o,xMin:e,xMax:t,yMin:s,yMax:n})}),[k]),{loading:g,data:{prices:k,metadata:v}}}}}},{package:"$root$",file:"ui/pages/asset/hooks/useHistoricalPrices.ts"}],[699,{"../CryptoKeypath":688,"../RegistryItem":694,"../RegistryType":695,"../lib":705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.KeyDerivationSchema=s.DerivationAlgorithm=s.Curve=void 0;const n=e("../RegistryType"),r=e("../RegistryItem"),o=e("../lib"),i=e("../CryptoKeypath");var a,c,u;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo",e[e.chainType=4]="chainType"}(a||(a={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(c=s.Curve||(s.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(u=s.DerivationAlgorithm||(s.DerivationAlgorithm={}));class l extends r.RegistryItem{constructor(e,t=c.secp256k1,s=u.slip10,r){super(),this.keypath=e,this.curve=t,this.algo=s,this.chainType=r,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getChainType=()=>this.chainType,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[a.keyPath]=t,e[a.curve]=this.curve,e[a.algo]=this.algo,this.chainType&&(e[a.chainType]=this.chainType),new o.DataItem(e)}}}s.KeyDerivationSchema=l,l.fromDataItem=e=>{const t=e.getData(),s=i.CryptoKeypath.fromDataItem(t[a.keyPath]),n=t[a.curve],r=t[a.algo],o=t[a.chainType];return new l(s,n,r,o)},l.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[6990,{"./asset":6974},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return r.default}});var n,r=(n=e("./asset"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[6991,{"@metamask/assets-controllers":1361,"@metamask/utils":2967,luxon:4881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.localizeLargeNumber=s.loadingOpacity=s.getShortDateFormatterV2=s.getShortDateFormatter=s.getPricePrecision=s.fromIso8601DurationToPriceApiTimePeriod=s.findAssetByAddress=s.chainSupportsPricing=void 0;var n=e("@metamask/assets-controllers"),r=e("@metamask/utils"),o=e("luxon");s.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});s.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});s.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);s.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let s=Math.abs(e);s<1;t++)s*=10;return t};s.chainSupportsPricing=e=>n.SUPPORTED_CHAIN_IDS.includes(e);s.loadingOpacity=.2;s.findAssetByAddress=(e,t,s)=>{if(!s)return console.error("Chain ID is required."),null;const n=e[s];return n?t?n.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):n.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${s}`),null)};s.fromIso8601DurationToPriceApiTimePeriod=e=>{(0,r.assert)(o.Duration.fromISO(e,{locale:"en"}).isValid,`Invalid ISO 8601 duration: ${e}`);const t={P1D:"1D",P7D:"7D",P1W:"7D",P1M:"1M",P3M:"3M",P1Y:"1Y",P1000Y:"1000Y"}[e];if(!t)throw new Error(`No Price API timePeriod matching the ISO 8601 duration: ${e}`);return t}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[6992,{"../../../components/component-library":6349,"../../../contexts/i18n":6782,"../../../helpers/constants/routes":6828,react:5281,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=c(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-router-dom"),o=e("../../../helpers/constants/routes"),i=e("../../../components/component-library"),a=e("../../../contexts/i18n");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(c=function(e){return e?s:t})(e)}s.default=()=>{const e=(0,n.useContext)(a.I18nContext),t=(0,r.useHistory)();return n.default.createElement(i.Button,{onClick:()=>{t.push(`${o.CROSS_CHAIN_SWAP_ROUTE}${o.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[6993,{"../../../../shared/constants/metametrics":5749,"../../../components/component-library":6349,"../../../components/ui/pulse-loader":6741,"../../../contexts/metametrics":6786,"../../../ducks/bridge/selectors":6800,"../../../helpers/constants/design-system":6822,"../../../hooks/useI18nContext":6936,"../../../selectors/selectors":7593,"lodash/isEqual":4858,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){var e;const t=(0,m.useI18nContext)(),{activeQuote:s}=(0,r.useSelector)(p.getBridgeQuotes,r.shallowEqual),h=null==s||null===(e=s.sentAmount)||void 0===e?void 0:e.amount,f=(0,r.useSelector)(p.getFromToken,o.default),g=(0,r.useSelector)(p.getToToken,o.default),y=(0,r.useSelector)(p.getFromChain,o.default),k=(0,r.useSelector)(p.getToChain,o.default),T=(0,r.useSelector)(i.isHardwareWallet),v=(0,r.useSelector)(i.getHardwareWalletType),b=Boolean(null==s?void 0:s.approval),S=(0,n.useContext)(u.MetaMetricsContext);return(0,n.useEffect)((()=>{var e,t;S({event:"Awaiting Signature(s) on a HW wallet",category:l.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:b,token_from:(null==f?void 0:f.symbol)??"",token_to:(null==g?void 0:g.symbol)??"",is_hardware_wallet:T,hardware_wallet_type:v??""},sensitiveProperties:{token_from_amount:(null==s||null===(e=s.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==s||null===(t=s.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),n.default.createElement("div",{className:"awaiting-bridge-signatures"},n.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:c.BlockSize.Full,justifyContent:c.JustifyContent.center,display:c.Display.Flex,flexDirection:c.FlexDirection.Column},n.default.createElement(d.Box,{marginTop:3,marginBottom:4},n.default.createElement(a.default,null)),!b&&n.default.createElement(d.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),b&&n.default.createElement(n.default.Fragment,null,n.default.createElement(d.Text,{variant:c.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),n.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},n.default.createElement("li",null,n.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:c.BackgroundColor.primaryMuted,color:c.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"allowAmount"},h),n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"allowToken"},null==f?void 0:f.symbol),n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"allowNetwork"},null==y?void 0:y.name)])),n.default.createElement("li",null,n.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:c.BackgroundColor.primaryMuted,color:c.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"fromAmount"},h),n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"fromToken"},null==f?void 0:f.symbol),n.default.createElement(d.Text,{as:"span",variant:c.TextVariant.bodyMd,key:"toNetwork"},null==k?void 0:k.name)]))),n.default.createElement(d.Text,{variant:c.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=f(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=h(e("lodash/isEqual")),i=e("../../../selectors/selectors"),a=h(e("../../../components/ui/pulse-loader")),c=e("../../../helpers/constants/design-system"),u=e("../../../contexts/metametrics"),l=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),p=e("../../../ducks/bridge/selectors"),m=e("../../../hooks/useI18nContext");function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(f=function(e){return e?s:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[6994,{"../../../../shared/constants/transaction":5767,"../../../../shared/modules/selectors/networks":5824,"../../../ducks/bridge-status/selectors":6797,"../../../hooks/useTokenFiatAmount":6965,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useBridgeTokenDisplayData=function(e){var t,s;const{primaryTransaction:c}=e,u=(0,n.useSelector)(r.getCurrentChainId),l=(0,n.useSelector)(a.selectBridgeHistoryForAccount)[c.id],d=(0,n.useSelector)((e=>(0,a.selectBridgeHistoryForApprovalTxId)(e,c.id))),p=l??d,m=(0,o.useTokenFiatAmount)((null==p?void 0:p.quote.srcAsset.address)??c.sourceTokenAddress,(null==p||null===(t=p.pricingData)||void 0===t?void 0:t.amountSent)??c.sourceTokenAmount,(null==p?void 0:p.quote.srcAsset.symbol)??c.sourceTokenSymbol,{},!0,u);return{category:i.TransactionGroupCategory.bridge,displayCurrencyAmount:c.chainId===u?m:undefined,sourceTokenSymbol:(null==p?void 0:p.quote.srcAsset.symbol)??c.sourceTokenSymbol,sourceTokenAmountSent:(null==p||null===(s=p.pricingData)||void 0===s?void 0:s.amountSent)??c.sourceTokenAmount}};var n=e("react-redux"),r=e("../../../../shared/modules/selectors/networks"),o=e("../../../hooks/useTokenFiatAmount"),i=e("../../../../shared/constants/transaction"),a=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[6995,{"../../../ducks/bridge/selectors":6800,"../../../hooks/useMultichainSelector":6944,"../../../selectors":7583,"../../../selectors/multichain":7587,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useDestinationAccount=void 0;var n=e("react-redux"),r=e("react"),o=e("@metamask/bridge-controller"),i=e("../../../selectors"),a=e("../../../ducks/bridge/selectors"),c=e("../../../selectors/multichain"),u=e("../../../hooks/useMultichainSelector");s.useDestinationAccount=(e=!1)=>{const[t,s]=(0,r.useState)(null),l=(0,u.useMultichainSelector)(c.getMultichainIsEvm),d=(0,n.useSelector)(i.getSelectedEvmInternalAccount),p=(0,n.useSelector)(c.getLastSelectedSolanaAccount),m=(0,u.useMultichainSelector)(i.getSelectedInternalAccount),h=l?d:m,f=(0,n.useSelector)(a.getToChain),g=f&&(0,o.isSolanaChainId)(f.chainId);return(0,r.useEffect)((()=>{s(e?h:g?p:d)}),[g,p,d]),{selectedDestinationAccount:t,setSelectedDestinationAccount:s}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useDestinationAccount.ts"}],[6996,{"../../../../app/scripts/lib/multichain/address":137,"../../../../shared/lib/multichain/accounts":5786,"../../../ducks/domains":6804,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useExternalAccountResolution=void 0;var n=e("react"),r=e("react-redux"),o=e("../../../../app/scripts/lib/multichain/address"),i=e("../../../ducks/domains"),a=e("../../../../shared/lib/multichain/accounts");s.useExternalAccountResolution=({searchQuery:e,isDestinationSolana:t,accounts:s})=>{const c=(0,r.useDispatch)(),u=(0,r.useSelector)(i.getDomainResolutions);(0,n.useEffect)((()=>{c((0,i.initializeDomainSlice)())}),[c]);const l=(0,n.useMemo)((()=>{const s=e.trim();return!!s&&(t?(0,a.isSolanaAddress)(s):(0,o.isEthAddress)(s))}),[e,t]),d=(0,n.useMemo)((()=>{if(t)return!1;const s=e.trim();return!!s&&s.endsWith(".eth")}),[e,t]);(0,n.useEffect)((()=>{c(d?(0,i.lookupDomainName)(e.trim()):(0,i.resetDomainResolution)())}),[c,d,e]);const p=(0,n.useMemo)((()=>{const t=u||[];if(!l&&!d)return null;if(d&&t.length>0){const{resolvedAddress:n}=t[0],r=e.trim();return s.some((e=>e.address.toLowerCase()===n.toLowerCase()))?null:{address:n,metadata:{name:r},isExternal:!0}}if(l){const t=e.trim();return s.some((e=>e.address.toLowerCase()===t.toLowerCase()))?null:{address:t,metadata:{name:t},isExternal:!0}}return null}),[s,l,d,e,u]);return{isValidAddress:l,isValidEnsName:d,externalAccount:p}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useExternalAccountResolution.ts"}],[6997,{"../../../ducks/bridge/selectors":6800,"../../../selectors/multichain":7587,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.useIsMultichainSwap=void 0;var n=e("react-redux"),r=e("react-router-dom"),o=e("react"),i=e("../../../selectors/multichain"),a=e("../../../ducks/bridge/selectors");s.useIsMultichainSwap=()=>{const{search:e,pathname:t}=(0,r.useLocation)(),s=(0,r.useHistory)(),c=(0,n.useSelector)(i.getMultichainIsSolana),u=(0,n.useSelector)(a.getIsSwap);(0,o.useEffect)((()=>{const n=new URLSearchParams(e),r="true"===n.get("swaps");u&&c&&!r&&(n.set("swaps","true"),s.replace({pathname:t,search:n.toString()}))}),[u,c,s,e,t]);return(0,o.useMemo)((()=>"true"===new URLSearchParams(e).get("swaps")&&c),[c,e])}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[6998,{"../../../../shared/lib/accounts":5772,"../../../helpers/constants/routes":6828,"../../../selectors":7583,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){const e=(0,r.useHistory)(),t=(0,n.useSelector)(i.getMemoizedUnapprovedTemplatedConfirmations),s=(0,n.useSelector)(i.getMemoizedUnapprovedConfirmations);(0,o.useEffect)((()=>{const n=t.find((e=>e.origin===a.SOLANA_WALLET_SNAP_ID)),r=s.find((e=>e.origin===a.SOLANA_WALLET_SNAP_ID));n?e.push(`${c.CONFIRMATION_V_NEXT_ROUTE}/${n.id}`):r&&e.push(`${c.CONFIRM_TRANSACTION_ROUTE}/${r.id}`)}),[e,t,s])};var n=e("react-redux"),r=e("react-router-dom"),o=e("react"),i=e("../../../selectors"),a=e("../../../../shared/lib/accounts"),c=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSnapConfirmation.ts"}],[6999,{"../../../../shared/modules/selectors":5823,"../../../ducks/bridge-status/actions":6796,"../../../ducks/bridge/actions":6798,"../../../helpers/constants/routes":6828,"../../../store/actions":7601,"./useSnapConfirmation":6998,"@metamask/bridge-controller":1384,"@metamask/utils":2967,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),s=(0,r.useSelector)(p.isHardwareWallet);(0,m.default)();const n=(0,r.useSelector)(p.getSmartTransactionsEnabled);return{submitBridgeTransaction:async r=>{if(s&&e.push(`${c.CROSS_CHAIN_SWAP_ROUTE}${c.AWAITING_SIGNATURES_ROUTE}`),(0,a.isSolanaChainId)(r.quote.srcChainId))return await t((0,u.setDefaultHomeActiveTabName)("activity")),void await t((0,l.submitBridgeTx)(r,!1));try{await t((0,l.submitBridgeTx)(r,n))}catch(n){return h("Bridge transaction failed",n),void(s&&f(n)?(t((0,d.setWasTxDeclined)(!0)),e.push(`${c.CROSS_CHAIN_SWAP_ROUTE}${c.PREPARE_SWAP_ROUTE}`)):(await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push(c.DEFAULT_ROUTE)))}await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push({pathname:c.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},s.isApprovalTxError=s.isAllowanceResetError=void 0;var n,r=e("react-redux"),o=e("react-router-dom"),i=e("@metamask/utils"),a=e("@metamask/bridge-controller"),c=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),l=e("../../../ducks/bridge-status/actions"),d=e("../../../ducks/bridge/actions"),p=e("../../../../shared/modules/selectors"),m=(n=e("./useSnapConfirmation"))&&n.__esModule?n:{default:n};const h=(0,i.createProjectLogger)("bridge");s.isAllowanceResetError=e=>(e.message??"").includes("Eth USDT allowance reset failed");s.isApprovalTxError=e=>(e.message??"").includes("Approve transaction failed");const f=e=>{var t;const s=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return s.includes("ledger")&&(s.includes("rejected")||s.includes("denied")||s.includes("error while signing"))||s.includes("trezor")&&(s.includes("cancelled")||s.includes("rejected"))||s.includes("lattice")&&s.includes("rejected")||s.includes("user rejected")||s.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[700,{"../RegistryItem":694,"../RegistryType":695,"../lib":705,"./DerivationSchema":699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.KeyDerivation=void 0;const n=e("../RegistryType"),r=e("../RegistryItem"),o=e("../lib"),i=e("./DerivationSchema");var a;!function(e){e[e.schemas=1]="schemas"}(a||(a={}));class c extends r.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[a.schemas]=this.schemas.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new o.DataItem(e)}}}s.KeyDerivation=c,c.fromDataItem=e=>{const t=e.getData()[a.schemas].map((e=>i.KeyDerivationSchema.fromDataItem(e)));return new c(t)},c.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[7e3,{"../../../shared/modules/selectors/networks":5824,"../../components/component-library":6349,"../../components/multichain/pages/page":6602,"../../contexts/i18n":6782,"../../ducks/bridge/actions":6798,"../../ducks/swaps/swaps":6818,"../../helpers/constants/design-system":6822,"../../helpers/constants/routes":6828,"../../helpers/higher-order-components/feature-toggled-route":6839,"../../hooks/bridge/useBridgeExchangeRates":6884,"../../hooks/bridge/useBridging":6886,"../../hooks/bridge/useQuoteFetchEvents":6891,"../../hooks/useGasFeeEstimates":6933,"../../selectors":7583,"../../store/actions":7601,"../swaps/hooks/useSwapsFeatureFlags":7527,"./awaiting-signatures/awaiting-signatures":6993,"./awaiting-signatures/awaiting-signatures-cancel-button":6992,"./hooks/useIsMultichainSwap":6997,"./prepare/bridge-transaction-settings-modal":7007,"./prepare/prepare-bridge-page":7013,react:5281,"react-redux":5239,"react-router-dom":5266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=M(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../contexts/i18n"),a=e("../../ducks/swaps/swaps"),c=e("../../helpers/constants/routes"),u=e("../../store/actions"),l=I(e("../../helpers/higher-order-components/feature-toggled-route")),d=e("../../components/component-library"),p=e("../../../shared/modules/selectors/networks"),m=e("../../selectors"),h=I(e("../../hooks/bridge/useBridging")),f=e("../../components/multichain/pages/page"),g=e("../swaps/hooks/useSwapsFeatureFlags"),y=e("../../ducks/bridge/actions"),k=e("../../hooks/useGasFeeEstimates"),T=e("../../hooks/bridge/useBridgeExchangeRates"),v=e("../../hooks/bridge/useQuoteFetchEvents"),b=e("../../helpers/constants/design-system"),S=I(e("./prepare/prepare-bridge-page")),w=I(e("./awaiting-signatures/awaiting-signatures-cancel-button")),_=I(e("./awaiting-signatures/awaiting-signatures")),C=e("./prepare/bridge-transaction-settings-modal"),E=e("./hooks/useIsMultichainSwap");function I(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(M=function(e){return e?s:t})(e)}s.default=()=>{const e=(0,n.useContext)(i.I18nContext);(0,g.useSwapsFeatureFlags)(),(0,h.default)();const t=(0,o.useHistory)(),s=(0,r.useDispatch)(),I=(0,r.useSelector)(m.getIsBridgeEnabled),M=(0,r.useSelector)(p.getSelectedNetworkClientId),A=async()=>{await s((0,y.resetBridgeState)())};(0,n.useEffect)((()=>(window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A),A()})),[]),(0,k.useGasFeeEstimates)(M),(0,T.useBridgeExchangeRates)(),(0,v.useQuoteFetchEvents)();const P=(0,E.useIsMultichainSwap)(),[x,O]=(0,n.useState)(!1);return n.default.createElement(f.Page,{className:"bridge__container"},n.default.createElement(f.Header,{textProps:{variant:b.TextVariant.headingSm},startAccessory:n.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{t.push({pathname:c.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),s((0,a.clearSwapsState)()),await s((0,u.resetBackgroundSwapsState)()),await A()}}),endAccessory:n.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{O(!0)}})},e(P?"swap":"bridge")),n.default.createElement(f.Content,{padding:0},n.default.createElement(o.Switch,null,n.default.createElement(l.default,{redirectRoute:c.SWAPS_MAINTENANCE_ROUTE,flag:I,path:c.CROSS_CHAIN_SWAP_ROUTE+c.PREPARE_SWAP_ROUTE,render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(C.BridgeTransactionSettingsModal,{isOpen:x,onClose:()=>{O(!1)}}),n.default.createElement(S.default,null))}),n.default.createElement(o.Route,{path:c.CROSS_CHAIN_SWAP_ROUTE+c.AWAITING_SIGNATURES_ROUTE},n.default.createElement(f.Content,null,n.default.createElement(_.default,null)),n.default.createElement(f.Footer,null,n.default.createElement(w.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[7001,{"../../../components/component-library":6349,"../../../helpers/constants/design-system":6822,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a.apply(null,arguments)}s.default=e=>r.default.createElement(o.Container,a({display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[7002,{"./column":7001,"./row":7003,"./tooltip":7004},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(s,"Tooltip",{enumerable:!0,get:function(){return o.default}});var n=i(e("./column")),r=i(e("./row")),o=i(e("./tooltip"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[7003,{"../../../components/component-library":6349,"../../../helpers/constants/design-system":6822,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a.apply(null,arguments)}s.default=e=>r.default.createElement(o.Container,a({display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,flexWrap:i.FlexWrap.NoWrap,alignItems:i.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[7004,{"../../../components/component-library":6349,"../../../helpers/constants/design-system":6822,"./column":7001,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=c(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),a=(n=e("./column"))&&n.__esModule?n:{default:n};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(c=function(e){return e?s:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u.apply(null,arguments)}const l=r.default.forwardRef((({children:e,title:t,triggerElement:s,disabled:n=!1,onClose:c,iconName:l,style:d,...p},m)=>{const[h,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),k=()=>f(!1);return r.default.createElement(o.Box,{ref:m},r.default.createElement(o.Box,{ref:e=>y(e),onMouseEnter:()=>f(!0),onMouseLeave:k,display:i.Display.Flex},s??(l&&r.default.createElement(o.Icon,{color:i.IconColor.iconAlternativeSoft,name:l,size:o.IconSize.Sm}))??r.default.createElement(o.Icon,{name:o.IconName.Question,color:i.IconColor.iconAlternativeSoft,size:o.IconSize.Sm})),!n&&r.default.createElement(o.Popover,u({position:o.PopoverPosition.Auto,referenceElement:g,isOpen:h,onClickOutside:k,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},p),r.default.createElement(a.default,{gap:4},t&&r.default.createElement(o.PopoverHeader,{color:i.TextColor.infoInverse,textAlign:i.TextAlign.Center,justifyContent:c?i.JustifyContent.spaceBetween:i.JustifyContent.center,onClose:c,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),r.default.createElement(o.Text,{justifyContent:i.JustifyContent.center,color:i.TextColor.infoInverse},e))))}));s.default=l}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[7005,{"../../../../shared/constants/metametrics":5749,"../../../components/component-library":6349,"../../../ducks/bridge/selectors":6800,"../../../helpers/constants/design-system":6822,"../../../hooks/bridge/events/useRequestMetadataProperties":6880,"../../../hooks/bridge/events/useRequestProperties":6881,"../../../hooks/bridge/events/useTradeProperties":6882,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6888,"../../../hooks/bridge/useIsTxSubmittable":6889,"../../../hooks/bridge/useLatestBalance":6890,"../../../hooks/useI18nContext":6936,"../hooks/useSubmitBridgeTransaction":6999,"../layout":7002,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.BridgeCTAButton=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=v(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../components/component-library"),a=e("../../../ducks/bridge/selectors"),c=e("../../../hooks/useI18nContext"),u=T(e("../hooks/useSubmitBridgeTransaction")),l=e("../../../helpers/constants/design-system"),d=T(e("../../../hooks/bridge/useLatestBalance")),p=e("../../../hooks/bridge/useIsTxSubmittable"),m=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),h=e("../../../hooks/bridge/events/useRequestProperties"),f=e("../../../hooks/bridge/events/useRequestMetadataProperties"),g=e("../../../hooks/bridge/events/useTradeProperties"),y=e("../../../../shared/constants/metametrics"),k=e("../layout");function T(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(v=function(e){return e?s:t})(e)}s.BridgeCTAButton=({onFetchNewQuotes:e,needsDestinationAddress:t=!1})=>{const s=(0,c.useI18nContext)(),T=(0,r.useSelector)(a.getFromToken),v=(0,r.useSelector)(a.getToToken),b=(0,r.useSelector)(a.getFromChain),S=(0,r.useSelector)(a.getFromAmount),{isLoading:w,activeQuote:_}=(0,r.useSelector)(a.getBridgeQuotes),C=(0,r.useSelector)((e=>(0,a.getIsQuoteExpired)(e,Date.now()))),{submitBridgeTransaction:E}=(0,u.default)(),[I,M]=(0,n.useState)(!1),{isNoQuotesAvailable:A,isInsufficientBalance:P,isInsufficientGasBalance:x,isInsufficientGasForQuote:O}=(0,r.useSelector)(a.getValidationErrors),N=(0,r.useSelector)(a.getWasTxDeclined),R=(0,d.default)(T),D=(0,n.useMemo)((()=>null!=b&&b.chainId?(0,o.getNativeAssetForChainId)(b.chainId):null),[null==b?void 0:b.chainId]),B=(0,d.default)(D),$=(0,p.useIsTxSubmittable)(),j=(0,m.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:U}=(0,h.useRequestProperties)(),L=(0,f.useRequestMetadataProperties)(),F=(0,g.useTradeProperties)(),W=P(R),H=x(B),K=O(B),q=(0,n.useMemo)((()=>N?"youDeclinedTheTransaction":C?"bridgeQuoteExpired":!w||$||_?H||A?undefined:W||K?"alertReasonInsufficientBalance":S?t?"bridgeSelectDestinationAccount":$?"submit":"swapSelectToken":v?t?"bridgeEnterAmountAndSelectAccount":"bridgeEnterAmount":t?"bridgeSelectTokenAmountAndAccount":"bridgeSelectTokenAndAmount":undefined),[w,S,v,$,W,H,K,N,C,t,_,A]),V=(0,n.useMemo)((()=>N||C?"bridgeFetchNewQuotes":undefined),[N,C]);return _&&!V?n.default.createElement(i.ButtonPrimary,{width:l.BlockSize.Full,size:_?i.ButtonPrimarySize.Md:i.ButtonPrimarySize.Lg,variant:l.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(_&&$&&!I)try{M(!0),U&&L&&F&&j({event:y.MetaMetricsEventName.ActionSubmitted,properties:{...U,...L,...F}}),await E(_)}finally{M(!1)}},loading:I,disabled:!$||C||I||t},q?s(q):""):n.default.createElement(k.Row,{alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,gap:1},n.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center,color:l.TextColor.textAlternativeSoft},q?s(q):""),V&&n.default.createElement(i.ButtonLink,{as:"a",variant:l.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},s(V)))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[7006,{"../../../../shared/constants/multichain/networks":5751,"../../../../shared/constants/time":5765,"../../../../shared/lib/multichain/networks":5790,"../../../components/component-library":6349,"../../../components/multichain/asset-picker-amount/asset-picker":6463,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6458,"../../../ducks/bridge/selectors":6800,"../../../ducks/locale/locale":6809,"../../../ducks/metamask/metamask":6810,"../../../helpers/constants/design-system":6822,"../../../helpers/utils/util":6872,"../../../hooks/bridge/useLatestBalance":6890,"../../../hooks/useCopyToClipboard":6924,"../../../hooks/useI18nContext":6936,"../../../selectors/multichain":7587,"../hooks/useIsMultichainSwap":6997,"../layout":7002,"../utils/quote":7027,"./components/bridge-asset-picker-button":7008,"@metamask/bridge-controller":1384,"@metamask/etherscan-link":1900,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.BridgeInputGroup=void 0;var n,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=I(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),o=e("react-redux"),i=e("@metamask/bridge-controller"),a=e("@metamask/etherscan-link"),c=e("../../../components/component-library"),u=e("../../../components/multichain/asset-picker-amount/asset-picker"),l=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../../hooks/useI18nContext"),p=e("../../../ducks/metamask/metamask"),m=e("../utils/quote"),h=e("../layout"),f=e("../../../helpers/constants/design-system"),g=(n=e("../../../hooks/bridge/useLatestBalance"))&&n.__esModule?n:{default:n},y=e("../../../ducks/bridge/selectors"),k=e("../../../helpers/utils/util"),T=e("../../../hooks/useCopyToClipboard"),v=e("../../../../shared/constants/time"),b=e("../../../ducks/locale/locale"),S=e("../hooks/useIsMultichainSwap"),w=e("../../../../shared/constants/multichain/networks"),_=e("../../../../shared/lib/multichain/networks"),C=e("../../../selectors/multichain"),E=e("./components/bridge-asset-picker-button");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(I=function(e){return e?s:t})(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},M.apply(null,arguments)}const A=e=>e.replace(/[^\d.]+/gu,"").split(".",2).join(".");s.BridgeInputGroup=({header:e,token:t,onAssetChange:s,onAmountChange:n,networkProps:I,isTokenListLoading:P,customTokenListGenerator:x,amountFieldProps:O,amountInFiat:N,onMaxButtonClick:R,isMultiselectEnabled:D,onBlockExplorerClick:B,buttonProps:$})=>{var j;const U=(0,d.useI18nContext)(),{isLoading:L}=(0,o.useSelector)(y.getBridgeQuotes),{isInsufficientBalance:F,isEstimatedReturnLow:W}=(0,o.useSelector)(y.getValidationErrors),H=(0,o.useSelector)(p.getCurrentCurrency),K=(0,o.useSelector)(b.getIntlLocale),q=(0,o.useSelector)(C.getMultichainCurrentChainId),V=(null==I||null===(j=I.network)||void 0===j?void 0:j.chainId)??q,Y=(0,g.default)(t),[,G]=(0,T.useCopyToClipboard)(v.MINUTE),z=(0,r.useRef)(null),Q=(null==O?void 0:O.readOnly)||(null==O?void 0:O.disabled);(0,r.useEffect)((()=>{var e;!Q&&z.current&&(z.current.value=(null==O||null===(e=O.value)||void 0===e?void 0:e.toString())??"",z.current.focus())}),[null==O?void 0:O.value,Q,t]);const J=(0,S.useIsMultichainSwap)();return r.default.createElement(h.Column,{paddingInline:6,gap:1},r.default.createElement(h.Row,{gap:4},r.default.createElement(c.TextField,M({inputProps:{disableStateStyles:!0,textAlign:f.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==O?void 0:O.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:Q&&null!=O&&O.value?1:undefined},display:f.Display.Flex,inputRef:z,type:c.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{var t;e&&("."===e.key&&null!==(t=O.value)&&void 0!==t&&t.toString().includes(".")?e.preventDefault():/^[\d.]{1}$/u.test(e.key)||e.preventDefault())},onPaste:e=>{e.preventDefault();const t=A(e.clipboardData.getData("text"));null==n||n(t??"")},onChange:e=>{e.preventDefault(),e.stopPropagation();const t=A(e.target.value);null==n||n(t??"")}},O)),r.default.createElement(u.AssetPicker,{header:e,visibleTabs:[l.TabName.TOKENS],asset:t??undefined,onAssetChange:s,networkProps:I,customTokenListGenerator:x,isTokenListLoading:P,isMultiselectEnabled:D},((e,s)=>Q&&!t?r.default.createElement(c.Button,{"data-testid":$.testId,onClick:e,size:c.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:f.FontWeight.Normal,style:{whiteSpace:"nowrap"}},U(J?"swapSwapTo":"bridgeTo")):r.default.createElement(E.BridgeAssetPickerButton,{onClick:e,networkImageSrc:s,asset:t??undefined,networkProps:I,"data-testid":$.testId})))),r.default.createElement(h.Row,{justifyContent:f.JustifyContent.spaceBetween},r.default.createElement(h.Row,null,r.default.createElement(c.Text,{variant:f.TextVariant.bodyMd,fontWeight:f.FontWeight.Normal,color:Q&&W?f.TextColor.warningDefault:f.TextColor.textAlternativeSoft,textAlign:f.TextAlign.End,ellipsis:!0},Q&&L&&"0"===O.value?U("bridgeCalculatingAmount"):undefined,N&&(0,m.formatCurrencyAmount)(N,H,2))),r.default.createElement(c.Text,{display:f.Display.Flex,gap:1,variant:f.TextVariant.bodyMd,color:!Q&&F(Y)?f.TextColor.errorDefault:f.TextColor.textAlternativeSoft,onClick:()=>{Q&&t&&V?(()=>{if(t&&V){const n=(0,i.formatChainIdToCaip)(V);let r="";if(n===w.MultichainNetworks.SOLANA){const e=w.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[n];e&&(r=(0,_.formatBlockExplorerAddressUrl)(e,t.address))}else{var e,s;const n=null==I||null===(e=I.network)||void 0===e||null===(e=e.blockExplorerUrls)||void 0===e?void 0:e[(null==I||null===(s=I.network)||void 0===s?void 0:s.defaultBlockExplorerUrlIndex)??0];n&&(r=(0,a.getAccountLink)(t.address,V,{blockExplorerUrl:n},undefined))}r&&(G(r),null==B||B(t))}})():t&&V&&G(t.address)},as:Q?"a":"p",style:{cursor:Q?"pointer":"default",textDecoration:Q?"underline":"none"}},Q&&t&&V&&((0,i.isNativeAddress)(t.address)?undefined:(0,k.shortenString)(t.address,{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1})),!Q&&Y?(0,m.formatTokenAmount)(K,Y.toString(),null==t?void 0:t.symbol):undefined,R&&t&&!(0,i.isNativeAddress)(t.address)&&Y&&r.default.createElement(c.ButtonLink,{variant:f.TextVariant.bodyMd,onClick:()=>R(null==Y?void 0:Y.toFixed())},U("max")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[7007,{"../../../../shared/constants/metametrics":5749,"../../../components/component-library":6349,"../../../ducks/bridge/actions":6798,"../../../ducks/bridge/selectors":6800,"../../../helpers/constants/design-system":6822,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6888,"../../../hooks/useI18nContext":6936,"../layout":7002,"@metamask/bridge-controller":1384,react:5281,"react-redux":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.BridgeTransactionSettingsModal=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=h(t);if(s&&s.has(e))return s.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,s&&s.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../components/component-library"),a=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system"),u=e("../../../ducks/bridge/selectors"),l=e("../../../ducks/bridge/actions"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),p=e("../../../../shared/constants/metametrics"),m=e("../layout");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(h=function(e){return e?s:t})(e)}const f=[o.BRIDGE_DEFAULT_SLIPPAGE,3];s.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const s=(0,a.useI18nContext)(),o=(0,d.useCrossChainSwapsEventTracker)(),h=(0,r.useDispatch)(),g=(0,r.useSelector)(u.getSlippage),[y,k]=(0,n.useState)(g),[T,v]=(0,n.useState)(g&&!f.includes(g)?g.toString():undefined),[b,S]=(0,n.useState)(!0),w=(()=>{if(!T)return null;const e=Number(T.replace(",","."));return e<.5?{severity:c.SEVERITIES.WARNING,text:s("swapSlippageLowDescription",[e]),title:s("swapSlippageLowTitle")}:null})();return n.default.createElement(i.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},n.default.createElement(i.ModalOverlay,null),n.default.createElement(i.ModalContent,null,n.default.createElement(i.ModalHeader,{onClose:e},s("transactionSettings")),n.default.createElement(m.Column,{gap:3,padding:4},n.default.createElement(m.Row,{gap:1,justifyContent:c.JustifyContent.flexStart},n.default.createElement(i.Text,null,s("swapsMaxSlippage")),n.default.createElement(m.Tooltip,{position:i.PopoverPosition.Top,iconName:i.IconName.Info,style:{zIndex:1051}},s("swapSlippageTooltip"))),n.default.createElement(m.Row,{gap:2,justifyContent:c.JustifyContent.flexStart},f.map((e=>n.default.createElement(i.Button,{key:e,size:i.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),k(e),v(undefined)},variant:i.ButtonVariant.Secondary,borderColor:y===e&&b?c.BorderColor.primaryDefault:c.BorderColor.borderDefault,borderWidth:y===e&&b?2:1,backgroundColor:y===e&&b?c.BackgroundColor.primaryMuted:c.BackgroundColor.backgroundDefault},n.default.createElement(i.Text,{color:y===e&&b?c.TextColor.primaryDefault:c.TextColor.textDefault},e,"%")))),b&&n.default.createElement(i.Button,{size:i.ButtonSize.Sm,variant:i.ButtonVariant.Secondary,borderColor:T===undefined?c.BorderColor.borderDefault:c.BorderColor.primaryDefault,borderWidth:T===undefined?1:2,backgroundColor:T===undefined?c.BackgroundColor.backgroundDefault:c.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),S(!1)}},n.default.createElement(i.Text,{color:T===undefined?c.TextColor.textDefault:c.TextColor.primaryDefault},T===undefined?s("customSlippage"):`${T}%`)),!b&&n.default.createElement(i.TextField,{borderColor:c.BorderColor.primaryDefault,borderWidth:2,borderRadius:c.BorderRadius.pill,type:i.TextFieldType.Text,value:T,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(k(undefined),v(t))},autoFocus:!0,onBlur:()=>{S(!0)},onFocus:()=>{S(!1)},endAccessory:n.default.createElement(i.Text,{variant:c.TextVariant.bodyMd},"%")})),w&&n.default.createElement(i.Box,{marginTop:5},n.default.createElement(i.BannerAlert,{severity:w.severity,title:w.title,titleProps:{"data-testid":"swaps-banner-title"}},n.default.createElement(i.Text,null,w.text)))),n.default.createElement(i.ModalFooter,null,n.default.createElement(i.ButtonPrimary,{width:c.BlockSize.Full,size:i.ButtonPrimarySize.Md,variant:c.TextVariant.bodyMd,disabled:T!==undefined&&Number(T.replace(",","."))===g||y!==undefined&&y===g,onClick:()=>{const t=y??Number(null==T?void 0:T.replace(",","."));t&&(o({event:p.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:t.toString()}}),h((0,l.setSlippage)(t)),e())}},s("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[7008,{"../../../../components/component-library":6349,"../../../../components/component-library/select-button/select-button.types":6386,"../../../../helpers/constants/design-system":6822,"../../../../helpers/utils/nfts":6860,"../../../../hooks/useI18nContext":6936,react:5281},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,s){Object.defineProperty(s,"__esModule",{value:!0}),s.BridgeAssetPickerButton=void 0;var n,r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../../components/component-library/select-button/select-button.types"),i=e("../../../../components/component-library"),a=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/utils/nfts");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(null,arguments)}s.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:s,...n})=>{var d;const p=(0,c.useI18nContext)();return r.default.createElement(i.SelectButton,l({borderRadius:a.BorderRadius.pill,backgroundColor:a.BackgroundColor.backgroundDefault,borderColor:a.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:o.SelectButtonSize.Lg,alignItems:a.AlignItems.center,descriptionProps:{variant:a.TextVariant.bodyMd,overflowWrap:a.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:i.IconName.Arrow2Down,style:{display:a.Display.None}},label:r.default.createElement(i.Text,{variant:a.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??p("bridgeTo")),startAccessory:e?r.default.createElement(i.BadgeWrapper,{marginRight:2,badge:e?r.default.createElement(i.AvatarNetwork,{name:(null==t||null===(d=t.network)||void 0===d?void 0:d.name)??"",src:s,size:i.AvatarNetworkSize.Xs}):undefined},e?r.default.createElement(i.AvatarToken,{src:(0,u.getNftImage)(e.image)||undefined,backgroundColor:a.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},n))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}]],[],{});